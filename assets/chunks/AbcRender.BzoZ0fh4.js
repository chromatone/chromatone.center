const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/index.3WXKsslq.js","assets/chunks/theme.DKUtGHOP.js","assets/chunks/framework.Bbwy4zmA.js"])))=>i.map(i=>d[i]);
import{_ as h,o as v,a0 as g,S as b,q as k,f as d,s as y,e as B,t as x,z as C,u as p}from"./framework.Bbwy4zmA.js";import{_ as E}from"./SaveSvg.BK7kgDBz.js";import{n as f,c as S}from"./theme.DKUtGHOP.js";import{s as A}from"./state.DgWpK0oi.js";const w={class:"flex"},I=["id"],N={__name:"AbcRender",props:{abc:{type:String,default:"ABCD"},staffwidth:{type:Number,default:300},responsive:{type:Boolean,default:!1},save:{type:Boolean,default:!1}},setup(n){const i=n,r=(Math.random()+1).toString(36).substring(7);v(()=>{g(()=>import("./index.3WXKsslq.js").then(s=>s.i),__vite__mapDeps([0,1,2])).then(s=>{b(()=>{if(s.renderAbc(r,i.abc,{responsive:i.responsive?"resize":null,scale:3,add_classes:!0,paddingbottom:10,paddingtop:0,staffwidth:300,clickListener:_}),!A.colorize)return;document.querySelectorAll("[data-name]").forEach(a=>{if(!(a instanceof HTMLElement))return;const e={pitch:0,acc:0,octave:4},{name:t}=a.dataset;if(t.length>3||/^\d+$/.test(t)||t=="bar")return;for(let o=0;o<t.length;o++)switch(f.findIndex(c=>c==t[o]?.toUpperCase()),t[o]){case"^":e.acc++;break;case"_":e.acc--;break;case",":e.octave--;break;default:const c=f.findIndex(m=>m==t[o]?.toUpperCase());if(c<0)break;e.pitch=c,a.dataset.pitch=String(c);break}const u=(e.pitch+e.acc+12)%12;a.style.fill=S(u,e.octave)})})})});function _(s,l,a,e,t){console.log(e?.clickedName,e)}return(s,l)=>{const a=E;return d(),k("div",w,[y("div",{class:"abc-render",id:p(r)},C(n.abc),9,I),n.save?(d(),B(a,{key:0,svg:p(r)},null,8,["svg"])):x("",!0)])}}},V=h(N,[["__scopeId","data-v-fc8e022e"]]);export{V as _};
