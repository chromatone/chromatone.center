import{_ as g,E as v,a4 as b,D as k,o as f,c as x,a as B,t as E,g as _,e as C,b as A}from"./framework.1uYGFCry.js";import{_ as S}from"./SaveSvg.IiHHgxnx.js";import{n as w}from"./colors.DQ3Nq55L.js";import{n as m}from"./theory.dOWEiwk1.js";import{s as D}from"./state.6DYlcKP4.js";const I={class:"flex mx-auto"},N=["id"],y={__name:"AbcRender",props:{abc:{type:String,default:"ABCD"},staffwidth:{type:Number,default:300},responsive:{type:Boolean,default:!1},save:{type:Boolean,default:!1}},setup(r){const d=r,i=(Math.random()+1).toString(36).substring(7);v(()=>{b(()=>import("./index.0IGMNd-W.js").then(o=>o.i),__vite__mapDeps([0,1])).then(o=>{k(()=>{if(o.renderAbc(i,d.abc,{responsive:d.responsive?"resize":null,scale:3,add_classes:!0,paddingbottom:10,paddingtop:0,staffwidth:300,clickListener:u}),!D.colorize)return;document.querySelectorAll("[data-name]").forEach(a=>{if(!(a instanceof HTMLElement))return;const e={pitch:0,acc:0,octave:4},{name:t}=a.dataset;if(t.length>3||/^\d+$/.test(t)||t=="bar")return;for(let s=0;s<t.length;s++)switch(m.findIndex(c=>{var n;return c==((n=t[s])==null?void 0:n.toUpperCase())}),t[s]){case"^":e.acc++;break;case"_":e.acc--;break;case",":e.octave--;break;default:const c=m.findIndex(n=>{var p;return n==((p=t[s])==null?void 0:p.toUpperCase())});if(c<0)break;e.pitch=c,a.dataset.pitch=String(c);break}const h=(e.pitch+e.acc+12)%12;a.style.fill=w(h,e.octave)})})})});function u(o,l,a,e,t){console.log(e==null?void 0:e.clickedName,e)}return(o,l)=>{const a=S;return f(),x("div",I,[B("div",{class:"abc-render",id:_(i)},E(r.abc),9,N),r.save?(f(),C(a,{key:0,svg:_(i)},null,8,["svg"])):A("",!0)])}}},R=g(y,[["__scopeId","data-v-c2770ace"]]);export{R as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/index.0IGMNd-W.js","assets/chunks/commonjsHelpers.4gQjN7DL.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}