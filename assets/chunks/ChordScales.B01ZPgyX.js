import{k as b,r as g,j as N,g as i,n as S,c as B,x as L,_ as j}from"./theme.CjOXjCIt.js";import{c as f,C as c,D as n,G as h,H as d,M as w,K as a,F as m,ar as V,L as _,a0 as z}from"./framework.D0WAkjk4.js";const A={class:"flex gap-2"},D={class:"z-10 sticky top-0 font-bold px-2 flex items-center"},E=m("div",{class:"flex-1"},null,-1),F={class:"text-sm"},M={__name:"ChordScales",emits:["chord"],setup(G,{emit:x}){const y=x,v=f(()=>b.all().map(e=>{const s=[0,...e.chroma.split("").map((t,r)=>t==1?r:!1).filter(Boolean)];let l={};return s.forEach(t=>l[t]=k(g(e.chroma.split(""),t).join(""))),{...e,degrees:s,degreeChords:l}}));function C(e="101010010100",s="100010010000"){let l=e.split(""),t=s.split("");if(t.reduce((o,p)=>Number(p)+Number(o))<3)return!1;for(let o=0;o<12;o++)if(t[o]==1&&l[o]!=1)return!1;return!0}function k(e="101010010100"){return N.all().filter(s=>C(e,s.chroma))}const u=f(()=>v.value.find(e=>e.chroma==i.chroma));return(e,s)=>{var t;const l=j;return c(),n("div",A,[(c(!0),n(h,null,d((t=u.value)==null?void 0:t.degrees,r=>(c(),n("div",{class:"flex flex-col border-2 gap-2 relative max-h-120 overflow-y-scroll overflow-x-hidden overscroll-none max-w-70 rounded",style:w([{"scroll-snap-type":"y proximity",flex:"1 1 200px"},{borderColor:a(S)((r+a(i).tonic)%12,2)}]),key:r},[m("div",D,[V(_(a(B)[(r+a(i).tonic)%12]),1),E,m("div",F,_(a(L)[r]),1)]),(c(!0),n(h,null,d(u.value.degreeChords[r],o=>(c(),n("div",{class:"p-0 text-sm flex flex-col justify-center",style:{"scroll-snap-align":"center"},key:o},[z(l,{onClick:p=>y("chord",{chroma:o.chroma,degree:r}),playAll:!0,letters:!1,chroma:o.chroma,pitch:(r+a(i).tonic)%12},null,8,["onClick","chroma","pitch"])]))),128))],4))),128))])}}};export{M as _};
