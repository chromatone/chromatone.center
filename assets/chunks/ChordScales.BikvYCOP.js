import{ai as g,r as N,A,g as c,c as D,n as h,i as E,d as L}from"./theme.b5hFm_h0.js";import{v as j,c as d,x as n,y as i,F as p,B as x,H as _,E as o,A as m,ac as w,G as u}from"./framework.DIQG-TE4.js";const z={class:"flex gap-1"},F={class:"z-10 sticky top-0 font-bold px-2 flex items-center"},V=m("div",{class:"flex-1"},null,-1),$={class:"text-sm"},G=["onClick"],q={__name:"ChordScales",emits:["chord"],setup(H,{emit:v}){const{isDark:C}=j(),y=v,k=d(()=>g().map(t=>{const s=[0,...t.chroma.split("").map((e,a)=>e==1?a:!1).filter(Boolean)];let r={};return s.forEach(e=>r[e]=B(N(t.chroma.split(""),e).join(""))),{...t,degrees:s,degreeChords:r}}));function b(t="101010010100",s="100010010000"){let r=t.split(""),e=s.split("");if(e.reduce((l,S)=>Number(S)+Number(l))<3)return!1;for(let l=0;l<12;l++)if(e[l]==1&&r[l]!=1)return!1;return!0}function B(t="101010010100"){return A().filter(s=>b(t,s.chroma))}const f=d(()=>k.value.find(t=>t.chroma==c.chroma));return(t,s)=>{var r;return n(),i("div",z,[(n(!0),i(p,null,x((r=f.value)==null?void 0:r.degrees,e=>(n(),i("div",{class:"flex flex-col border-2 gap-1 relative max-h-120 overflow-y-scroll overflow-x-hidden overscroll-none rounded",style:_([{flex:"1 1 200px"},{borderColor:o(D)((e+o(c).tonic)%12,2)}]),key:e},[m("div",F,[w(u(o(h)[(e+o(c).tonic)%12]),1),V,m("div",$,u(o(E)[e]),1)]),(n(!0),i(p,null,x(f.value.degreeChords[e],a=>(n(),i("button",{class:"p-1 text-sm flex flex-col justify-center",style:_([{"scroll-snap-align":"center"},{backgroundColor:o(L)(a.chroma,(e+o(c).tonic)%12,.2,o(C)?4:14).lch}]),onClick:l=>y("chord",{chroma:a.chroma,degree:e}),key:a},u(o(h)[(e+o(c).tonic)%12])+u(a.aliases[0]),13,G))),128))],4))),128))])}}};export{q as _};
