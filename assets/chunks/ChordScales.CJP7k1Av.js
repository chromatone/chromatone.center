import{_ as b}from"./ChromaKeys.zpLcS90r.js";import{aa as L,r as g,M as N,g as i,n as S,e as w,z as B}from"./theme.BSii8aFq.js";import{c as p,E as c,F as n,V as f,W as d,L as V,C as a,G as m,$ as z,I as _,O as E}from"./framework.Ci2j13v1.js";const j={class:"flex gap-2"},A={class:"z-10 sticky top-0 font-bold px-2 flex items-center text-white"},F=m("div",{class:"flex-1"},null,-1),$={class:"text-sm"},O={__name:"ChordScales",emits:["chord"],setup(D,{emit:x}){const v=x,y=p(()=>L.map(e=>{const s=[0,...e.chroma.split("").map((t,o)=>t==1?o:!1).filter(Boolean)];let l={};return s.forEach(t=>l[t]=k(g(e.chroma.split(""),t).join(""))),{...e,degrees:s,degreeChords:l}}));function C(e="101010010100",s="100010010000"){let l=e.split(""),t=s.split("");if(t.reduce((r,u)=>Number(u)+Number(r))<3)return!1;for(let r=0;r<12;r++)if(t[r]==1&&l[r]!=1)return!1;return!0}function k(e="101010010100"){return N.filter(s=>C(e,s.chroma))}const h=p(()=>y.value.find(e=>e.chroma==i.chroma));return(e,s)=>{var t;const l=b;return c(),n("div",j,[(c(!0),n(f,null,d((t=h.value)==null?void 0:t.degrees,o=>(c(),n("div",{class:"flex flex-col border-2 gap-2 relative max-h-120 overflow-y-scroll overflow-x-hidden overscroll-none max-w-80 rounded",style:V([{"scroll-snap-type":"y proximity",flex:"1 1 200px"},{borderColor:a(S)((o+a(i).tonic)%12,2)}]),key:o},[m("div",A,[z(_(a(w)[(o+a(i).tonic)%12]),1),F,m("div",$,_(a(B)[o]),1)]),(c(!0),n(f,null,d(h.value.degreeChords[o],r=>(c(),n("div",{class:"p-0 text-sm flex flex-col justify-center",style:{"scroll-snap-align":"center"},key:r},[E(l,{onClick:u=>v("chord",{chroma:r.chroma,degree:o}),playAll:!0,letters:!1,chroma:r.chroma,pitch:(o+a(i).tonic)%12},null,8,["onClick","chroma","pitch"])]))),128))],4))),128))])}}};export{O as _};
