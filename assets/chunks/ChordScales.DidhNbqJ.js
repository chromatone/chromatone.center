import{ac as B,r as N,A as j,g as n,c as D,n as d,i as L,d as w}from"./theme.B370inx_.js";import{e as z,c as h,f as c,g as i,F as p,j as x,p as _,l as o,h as m,au as A,m as u}from"./framework.BH4RfCYQ.js";const E={class:"flex gap-1"},F={class:"z-10 sticky top-0 font-bold px-2 flex items-center"},V={class:"text-sm"},$=["onClick"],G={__name:"ChordScales",emits:["chord"],setup(M,{emit:v}){const{isDark:C}=z(),k=v,y=h(()=>B().map(t=>{const r=[0,...t.chroma.split("").map((e,l)=>e==1?l:!1).filter(Boolean)];let s={};return r.forEach(e=>s[e]=g(N(t.chroma.split(""),e).join(""))),{...t,degrees:r,degreeChords:s}}));function b(t="101010010100",r="100010010000"){let s=t.split(""),e=r.split("");if(e.reduce((a,S)=>Number(S)+Number(a))<3)return!1;for(let a=0;a<12;a++)if(e[a]==1&&s[a]!=1)return!1;return!0}function g(t="101010010100"){return j().filter(r=>b(t,r.chroma))}const f=h(()=>y.value.find(t=>t.chroma==n.chroma));return(t,r)=>{var s;return c(),i("div",E,[(c(!0),i(p,null,x((s=f.value)==null?void 0:s.degrees,e=>(c(),i("div",{class:"flex flex-col border-2 gap-1 relative max-h-120 overflow-y-scroll overflow-x-hidden overscroll-none rounded",style:_([{flex:"1 1 200px"},{borderColor:o(D)((e+o(n).tonic)%12,2)}]),key:e},[m("div",F,[A(u(o(d)[(e+o(n).tonic)%12]),1),r[0]||(r[0]=m("div",{class:"flex-1"},null,-1)),m("div",V,u(o(L)[e]),1)]),(c(!0),i(p,null,x(f.value.degreeChords[e],l=>(c(),i("button",{class:"p-1 text-sm flex flex-col justify-center",style:_([{"scroll-snap-align":"center"},{backgroundColor:o(w)(l.chroma,(e+o(n).tonic)%12,.2,o(C)?4:14).lch}]),onClick:a=>k("chord",{chroma:l.chroma,degree:e}),key:l},u(o(d)[(e+o(n).tonic)%12])+u(l.aliases[0]),13,$))),128))],4))),128))])}}};export{G as _};
