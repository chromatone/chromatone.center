import{o as b,r as g,l as N,g as i,n as S,e as B,z as w,D as z}from"./theme.DaHGH2Mp.js";import{c as h,e as c,f as n,F as p,h as d,m as L,k as a,g as m,a2 as V,l as _,a0 as j}from"./framework.De1wmbud.js";const A={class:"flex gap-2"},D={class:"z-10 sticky top-0 font-bold px-2 flex items-center"},E=m("div",{class:"flex-1"},null,-1),F={class:"text-sm"},G={__name:"ChordScales",emits:["chord"],setup(T,{emit:x}){const y=x,v=h(()=>b.all().map(e=>{const l=[0,...e.chroma.split("").map((t,o)=>t==1?o:!1).filter(Boolean)];let s={};return l.forEach(t=>s[t]=C(g(e.chroma.split(""),t).join(""))),{...e,degrees:l,degreeChords:s}}));function k(e="101010010100",l="100010010000"){let s=e.split(""),t=l.split("");if(t.reduce((r,f)=>Number(f)+Number(r))<3)return!1;for(let r=0;r<12;r++)if(t[r]==1&&s[r]!=1)return!1;return!0}function C(e="101010010100"){return N.all().filter(l=>k(e,l.chroma))}const u=h(()=>v.value.find(e=>e.chroma==i.chroma));return(e,l)=>{var t;const s=z;return c(),n("div",A,[(c(!0),n(p,null,d((t=u.value)==null?void 0:t.degrees,o=>(c(),n("div",{class:"flex flex-col border-2 gap-2 relative max-h-120 overflow-y-scroll overflow-x-hidden overscroll-none max-w-70 rounded",style:L([{"scroll-snap-type":"y proximity",flex:"1 1 200px"},{borderColor:a(S)((o+a(i).tonic)%12,2)}]),key:o},[m("div",D,[V(_(a(B)[(o+a(i).tonic)%12]),1),E,m("div",F,_(a(w)[o]),1)]),(c(!0),n(p,null,d(u.value.degreeChords[o],r=>(c(),n("div",{class:"p-0 text-sm flex flex-col justify-center",style:{"scroll-snap-align":"center"},key:r},[j(s,{onClick:f=>y("chord",{chroma:r.chroma,degree:o}),playAll:!0,letters:!1,chroma:r.chroma,pitch:(o+a(i).tonic)%12},null,8,["onClick","chroma","pitch"])]))),128))],4))),128))])}}};export{G as _};
