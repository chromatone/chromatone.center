import{d as z,r as f,a as x,b as k,g as N,D as S,n as v,E as B}from"./theme.DKUtGHOP.js";import{_ as W,ac as $,a4 as D,ad as M,D as I,M as a,q as o,f as r,t as w,s as i,z as d,u as p,F as u,Y as h,y as j,v as A}from"./framework.Bbwy4zmA.js";const E={key:0,class:"flex gap-1 p-2 text-lg"},F={class:"font-bold"},V=["onClick"],q=["viewBox"],L={id:"fretboard"},P=["x2"],T=["x1","y1","y2"],Y=["cy","cx"],G={id:"strings"},H=["transform"],J=["y2"],K=["transform"],O=["opacity","r","fill"],Q=["opacity"],R={__name:"ChordTab",props:$({title:{type:Boolean,default:!0},chroma:{type:String,default:"100000000000"},pitch:{type:Number,default:0},chordNotes:{type:Array,default:[]}},{instrument:{default:"guitar"},instrumentModifiers:{}}),emits:["update:instrument"],setup(c){const{isDark:C}=D(),s=c,m=M(c,"instrument"),y={guitar:[7,0,5,10,2,7],ukulele:[10,3,7,0]},b=[3,5,7,10,12,15,17,19,21],t=I({strings:a(()=>y[m.value]),height:a(()=>(t.strings.length-1)*t.noteSize),width:a(()=>t.fretNum*t.fretWidth),isInChord:a(()=>S(s.chordNotes)),chroma:a(()=>f(s.chroma.split(""),-s.pitch)),scale:a(()=>f(N.chroma.split(""),-s.pitch)),title:a(()=>x(s.chroma)?.empty?k(s.chroma)?.empty?"":k(s.chroma):x(s.chroma).aliases[0]),noteSize:40,fretWidth:50,fretNum:7,color:a(()=>z(f(s.chroma.split(""),-s.pitch).join(""),s.pitch,.3,C.value?4:12))});return(U,_)=>(r(),o("div",{class:"flex flex-col justify-center rounded-3xl py-4",style:A({backgroundColor:t.color.lch})},[c.title?(r(),o("div",E,[i("div",F,d(p(v)[c.pitch])+d(t.title),1),_[0]||(_[0]=i("div",{class:"flex-1"},null,-1)),(r(),o(u,null,h(y,(e,l)=>i("div",{class:j(["p-0 capitalize active-op-100 transition",{[l==m.value?"op-100":"op-40"]:!0}]),onClick:g=>m.value=l},d(l),11,V)),64))])):w("",!0),(r(),o("svg",{class:"max-h-3xl w-full",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`-50 -50 ${t.height+100} ${t.width+60}`,xmlns:"http://www.w3.org/2000/svg","font-family":"Commissioner, sans-serif","font-size":"20px","text-anchor":"middle","dominant-baseline":"middle"},[i("g",L,[i("line",{stroke:"currentColor","stroke-width":"10",x1:"0",x2:t.height},null,8,P),(r(!0),o(u,null,h(t.fretNum,e=>(r(),o("g",{class:"fret",key:e},[i("line",{x1:t.height,y1:e*t.fretWidth,y2:e*t.fretWidth,stroke:"currentColor","stroke-width":"2",opacity:"0.5"},null,8,T),b.find(l=>l==e)?(r(),o("circle",{key:0,class:"inlay",cy:(e-.5)*t.fretWidth,cx:t.height/2,r:"5",opacity:"0.8",fill:"currentColor"},null,8,Y)):w("",!0)]))),128))]),i("g",G,[(r(!0),o(u,null,h(t.strings,(e,l)=>(r(),o("g",{class:"string",key:e,transform:`translate(${l*t.noteSize} 0)`},[i("line",{y2:t.width,"stroke-width":"4",stroke:"currentColor",opacity:"0.5"},null,8,J),(r(!0),o(u,null,h(t.fretNum+1,(g,n)=>(r(),o("g",{class:"note",key:g,transform:`translate(0 ${(n-.5)*t.fretWidth})`},[i("circle",{opacity:t.chroma[(n+e)%12]==1?1:0,r:t.noteSize/2-4,fill:p(B)(e+n,2)},null,8,O),i("text",{y:"2",opacity:t.chroma[(n+e)%12]==1?1:0,fill:"white","font-size":"18","font-weight":"bold"},d(p(v)[(n+e)%12]),9,Q)],8,K))),128))],8,H))),128))])],8,q))],4))}},tt=W(R,[["__scopeId","data-v-4c6822f9"]]);export{tt as _};
