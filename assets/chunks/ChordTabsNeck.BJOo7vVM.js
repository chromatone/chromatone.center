import{ac as S,g as v,f as z,k as c,ae as f,w as b,af as I}from"./theme._w2Ciq3g.js";import{q as W,af as B,b as $,c as h,v as s,x as i,z as r,F as _,A as m,E as x,H as D,D as l}from"./framework.DbgYySub.js";const E={class:"flex flex-col"},A=["viewBox"],q={id:"fretboard"},F=["y2"],G=["y1","x1","x2"],H=["x"],V=["cx","cy"],L={id:"strings"},P=["transform"],T=["x2"],j=["transform","onClick"],J=["opacity","stroke","r","fill"],K=["fill","opacity","r"],M={opacity:"0",fill:"white","font-size":"14","font-weight":"bold"},O={__name:"ChordTabsNeck",props:{instrument:{type:String,default:"ukulele"},chordNotes:{type:Array,default:()=>[]}},emits:["note"],setup(k,{emit:Q}){const{isDark:g}=B(),p=k,w={guitar:["E2","A2","D3","G3","B3","E4"],ukulele:["G4","C4","E4","A4"]},C=[3,5,7,10,12,15,17,19,21],t=$({strings:h(()=>w[p.instrument]),height:h(()=>(t.strings.length-1)*t.noteSize),width:h(()=>t.fretNum*t.fretWidth),isInChord:h(()=>S.isNoteIncludedIn(p.chordNotes)),noteSize:36,fretWidth:50,fretNum:12});function N(a,d){const e=c.transpose(a,f.fromSemitones(d));return b(I(c.freq(e))).toHex()}function n(a,d){return c.transpose(a,f.fromSemitones(d))}return(a,d)=>(s(),i("div",E,[(s(),i("svg",{class:"max-h-3xl w-full",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`-50 -30 ${t.width+100} ${t.height+60}`,xmlns:"http://www.w3.org/2000/svg","font-family":"Commissioner, sans-serif","font-size":"20px","text-anchor":"middle","dominant-baseline":"middle"},[r("g",q,[r("line",{stroke:"currentColor","stroke-width":"10",y1:"0",y2:t.height},null,8,F),(s(!0),i(_,null,m(t.fretNum,(e,y)=>(s(),i("g",{class:"fret",key:e},[r("line",{y1:t.height,x1:e*t.fretWidth,x2:e*t.fretWidth,stroke:"currentColor","stroke-width":"2",opacity:"0.5"},null,8,G),r("text",{x:e*t.fretWidth-6,y:-15,"font-size":"0.7em",fill:"currentColor",opacity:"0.5"},x(e),9,H),C.find(u=>u==e)?(s(),i("circle",{key:0,class:"inlay",cx:(e-.5)*t.fretWidth,cy:t.height/2,r:"5",opacity:"0.8",fill:"currentColor"},null,8,V)):D("",!0)]))),128))]),r("g",L,[(s(!0),i(_,null,m(t.strings,(e,y)=>(s(),i("g",{class:"string",key:e,transform:`translate(0,${t.height-y*t.noteSize})`},[r("line",{x2:t.width,"stroke-width":"4",stroke:"currentColor",opacity:"0.5"},null,8,T),(s(!0),i(_,null,m(t.fretNum+1,(u,o)=>(s(),i("g",{class:"note",key:u,transform:`translate(${(o-.5)*t.fretWidth},0)`,onClick:R=>a.$emit("note",n(e,o))},[r("circle",{opacity:l(v).isIn(n(e,o))?1:0,stroke:t.isInChord(n(e,o))?"currentColor":"none","stroke-width":"3",r:t.isInChord(n(e,o))?t.noteSize/1.7-4:t.noteSize/2-8,fill:N(e,o)},null,8,J),r("circle",{fill:l(g)?"white":"black",opacity:l(z).activeNotes[l(c).midi(l(c).transpose(e,l(f).fromSemitones(o)))]?1:0,r:t.isInChord(n(e,o))?t.noteSize/1.7-4:t.noteSize/2-14},null,8,K),r("text",M,x(n(e,o)),1)],8,j))),128))],8,P))),128))])],8,A))]))}},Y=W(O,[["__scopeId","data-v-552916a4"]]);export{Y as _};
