import{p as S}from"./index.qXrjdxB9.js";import"./index.mPTRJrWq.js";import{i as h}from"./index.EoWBVOSt.js";import{n as c}from"./index.pBEhVm4e.js";import{f as v}from"./calculations.uITx2GSi.js";import{w as z}from"./index.kn6emmbE.js";import{g as b}from"./colors.uFY4QJSc.js";import{c as I}from"./midi.RNICv3HM.js";import{_ as W,u as B,k as $,j as f,o as s,c as r,a as i,F as u,r as _,t as k,b as D,g as l}from"./framework.zmD4b-eB.js";const E={class:"flex flex-col"},A=["viewBox"],q={id:"fretboard"},F=["y2"],G=["y1","x1","x2"],V=["x"],j=["cx","cy"],H={id:"strings"},L=["transform"],P=["x2"],T=["transform","onClick"],J=["opacity","stroke","r","fill"],K=["fill","opacity","r"],M={opacity:"0",fill:"white","font-size":"14","font-weight":"bold"},O={__name:"ChordTabsNeck",props:{instrument:{type:String,default:"ukulele"},chordNotes:{type:Array,default:()=>[]}},emits:["note"],setup(x,{emit:Q}){const{isDark:g}=B(),p=x,w={guitar:["E2","A2","D3","G3","B3","E4"],ukulele:["G4","C4","E4","A4"]},C=[3,5,7,10,12,15,17,19,21],t=$({strings:f(()=>w[p.instrument]),height:f(()=>(t.strings.length-1)*t.noteSize),width:f(()=>t.fretNum*t.fretWidth),isInChord:f(()=>S.isNoteIncludedIn(p.chordNotes)),noteSize:36,fretWidth:50,fretNum:12});function N(a,d){const e=c.transpose(a,h.fromSemitones(d));return z(v(c.freq(e))).toHex()}function n(a,d){return c.transpose(a,h.fromSemitones(d))}return(a,d)=>(s(),r("div",E,[(s(),r("svg",{class:"max-h-3xl w-full",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`-50 -30 ${t.width+100} ${t.height+60}`,xmlns:"http://www.w3.org/2000/svg","font-family":"Commissioner, sans-serif","font-size":"20px","text-anchor":"middle","dominant-baseline":"middle"},[i("g",q,[i("line",{stroke:"currentColor","stroke-width":"10",y1:"0",y2:t.height},null,8,F),(s(!0),r(u,null,_(t.fretNum,(e,y)=>(s(),r("g",{class:"fret",key:e},[i("line",{y1:t.height,x1:e*t.fretWidth,x2:e*t.fretWidth,stroke:"currentColor","stroke-width":"2",opacity:"0.5"},null,8,G),i("text",{x:e*t.fretWidth-6,y:-15,"font-size":"0.7em",fill:"currentColor",opacity:"0.5"},k(e),9,V),C.find(m=>m==e)?(s(),r("circle",{key:0,class:"inlay",cx:(e-.5)*t.fretWidth,cy:t.height/2,r:"5",opacity:"0.8",fill:"currentColor"},null,8,j)):D("",!0)]))),128))]),i("g",H,[(s(!0),r(u,null,_(t.strings,(e,y)=>(s(),r("g",{class:"string",key:e,transform:`translate(0,${t.height-y*t.noteSize})`},[i("line",{x2:t.width,"stroke-width":"4",stroke:"currentColor",opacity:"0.5"},null,8,P),(s(!0),r(u,null,_(t.fretNum+1,(m,o)=>(s(),r("g",{class:"note",key:m,transform:`translate(${(o-.5)*t.fretWidth},0)`,onClick:R=>a.$emit("note",n(e,o))},[i("circle",{opacity:l(b).isIn(n(e,o))?1:0,stroke:t.isInChord(n(e,o))?"currentColor":"none","stroke-width":"3",r:t.isInChord(n(e,o))?t.noteSize/1.7-4:t.noteSize/2-8,fill:N(e,o)},null,8,J),i("circle",{fill:l(g)?"white":"black",opacity:l(I).activeNotes[l(c).midi(l(c).transpose(e,l(h).fromSemitones(o)))]?1:0,r:t.isInChord(n(e,o))?t.noteSize/1.7-4:t.noteSize/2-14},null,8,K),i("text",M,k(n(e,o)),1)],8,T))),128))],8,L))),128))])],8,A))]))}},it=W(O,[["__scopeId","data-v-71ca3924"]]);export{it as _};
