import{_ as z,i as N,j as h,o as n,c as i,a as u,h as e,F as w,r as k,d as b,t as d,z as T,l as B}from"./framework.a6de132c.js";import{r as D,g as v,p as S}from"./calculations.2bac3e9a.js";import{g as C,c as F,n as f,e as $,f as y}from"./colors.b824bb78.js";import{w as m}from"./index.654bd828.js";import{a as q,b as H,n as g}from"./theory.61e5aadb.js";import{b as P}from"./synth.a4e8f7cb.js";const V={class:"select-none",version:"1.1",baseProfile:"full",viewBox:"-10 -10 20 20",xmlns:"http://www.w3.org/2000/svg",style:{"touch-action":"none"},"font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle"},j=["fill"],A=["x1","y1","stroke"],E=["transform","onMousedown"],I=["r","fill"],L=["fill"],O=["fill"],G=["fill"],J=["fill"],K={__name:"ChromaCircle",props:{pitch:{type:Number,default:null},chroma:{type:String,default:"1001000100101"},type:{type:String,default:""},tonic:{type:Number,default:0}},setup(t){const c=t,r=N(!1),l=h(()=>c.pitch===0||c.pitch?c.pitch:C.tonic),x=h(()=>D(c.chroma.split(""),-l.value)),M=h(()=>q.get(c.chroma));h(()=>H.get(c.chroma).name);function _(p){P(S(p,2)),C.tonic=p}return(p,a)=>(n(),i("svg",V,[u("circle",{cx:"0",cy:"0",r:"8",opacity:"0.5",fill:e(F)(t.chroma,l.value).hsl},null,8,j),(n(!0),i(w,null,k(x.value,(s,o)=>(n(),i("g",{key:o},[s=="1"?(n(),i("line",{key:0,x1:e(v)(o,12,6.5,0).x,y1:e(v)(o,12,6.5,0).y,x2:"0",y2:"0","stroke-linecap":"square","stroke-width":"3.92",stroke:s=="1"?e(m)(e(f)(o,3)).toHex():"none"},null,8,A)):b("",!0)]))),128)),(n(!0),i(w,null,k(x.value,(s,o)=>(n(),i("g",{class:"cursor-pointer",key:o,transform:`translate(${e(v)(o,12,8,0).x}, ${e(v)(o,12,8,0).y})`,onMousedown:Q=>_(o)},[u("circle",{x:"0",y:"0",r:s=="1"?2:1,fill:e(m)(s=="1"?e(f)(o):e(g)[o].length!=2?"hsl(0,0%,85%)":"hsl(0,0%,60%)").toHex()},null,8,I),s=="1"?(n(),i("text",{key:0,y:"0.3","font-size":"2px","font-weight":"bold",fill:e(m)(e(f)(o)).isDark()?"white":"black"},d(e(g)[o]),9,L)):b("",!0)],40,E))),128)),u("g",{class:T(["center cursor-pointer",{pressed:r.value}]),onMousedown:a[0]||(a[0]=s=>{e($)(t.chroma,l.value),r.value=!0}),onTouchstart:a[1]||(a[1]=B(s=>{e($)(t.chroma,l.value),r.value=!0},["prevent","stop"])),onTouchend:a[2]||(a[2]=s=>{e(y)(t.chroma,l.value),r.value=!1}),onTouchcancel:a[3]||(a[3]=s=>{e(y)(t.chroma,l.value),r.value=!1}),onMouseup:a[4]||(a[4]=s=>{e(y)(t.chroma,l.value),r.value=!1}),onMouseleave:a[5]||(a[5]=s=>{e(y)(t.chroma,l.value),r.value=!1})},[u("circle",{cx:"0",cy:"0",r:"5",fill:t.pitch===!1?"none":e(f)(l.value,3)},null,8,O),u("text",{y:"0.3","font-size":"2px","font-weight":"bold",fill:e(m)(e(f)(l.value)).isDark()?"white":"black"},d(t.pitch===!1?"":typeof t.pitch=="string"?t.pitch:e(g)[l.value])+d(M.value.aliases[0]),9,G),u("text",{y:"3","font-size":"1.8px","font-weight":"normal",fill:e(m)(e(f)(l.value)).isDark()?"white":"black"},d(t.type),9,J)],34)]))}},ee=z(K,[["__scopeId","data-v-5dbf20dd"]]);export{ee as _};
