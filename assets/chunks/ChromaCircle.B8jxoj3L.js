import{D,r as N,c as m,E as r,F as i,G as u,C as e,V as w,W as k,T as C,I as d,P as z,Q as B}from"./framework.BilnkUFq.js";import{g as b,r as S,l as q,o as F,q as P,h as v,w as h,n as f,e as g,t as $,v as y,y as V,p as E}from"./theme.idtb9tEs.js";const H={class:"select-none",version:"1.1",baseProfile:"full",viewBox:"-10 -10 20 20",xmlns:"http://www.w3.org/2000/svg",style:{"touch-action":"none"},"font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle"},I=["fill"],A=["x1","y1","stroke"],G=["transform","onMousedown"],L=["r","fill"],O=["fill"],Q=["fill"],W=["fill"],j=["fill"],J={__name:"ChromaCircle",props:{pitch:{type:Number,default:null},chroma:{type:String,default:"1001000100101"},type:{type:String,default:""},tonic:{type:Number,default:0}},setup(t){const n=N(!1),c=t,o=m(()=>c.pitch===0||c.pitch?c.pitch:b.tonic),x=m(()=>S(c.chroma.split(""),-o.value)),M=m(()=>q.get(c.chroma));m(()=>F.get(c.chroma).name);function T(p){V(E(p,2)),b.tonic=p}return(p,s)=>(r(),i("svg",H,[u("circle",{cx:"0",cy:"0",r:"8",opacity:"0.5",fill:e(P)(t.chroma,o.value).hsl},null,8,I),(r(!0),i(w,null,k(x.value,(a,l)=>(r(),i("g",{key:l},[a=="1"?(r(),i("line",{key:0,x1:e(v)(l,12,6.5,0).x,y1:e(v)(l,12,6.5,0).y,x2:"0",y2:"0","stroke-linecap":"square","stroke-width":"3.92",stroke:a=="1"?e(h)(e(f)(l,3)).toHex():"none"},null,8,A)):C("",!0)]))),128)),(r(!0),i(w,null,k(x.value,(a,l)=>(r(),i("g",{class:"cursor-pointer",key:l,transform:`translate(${e(v)(l,12,8,0).x}, ${e(v)(l,12,8,0).y})`,onMousedown:K=>T(l)},[u("circle",{x:"0",y:"0",r:a=="1"?2:1,fill:e(h)(a=="1"?e(f)(l):e(g)[l].length!=2?"hsl(0,0%,85%)":"hsl(0,0%,60%)").toHex()},null,8,L),a=="1"?(r(),i("text",{key:0,y:"0.3","font-size":"2px","font-weight":"bold",fill:e(h)(e(f)(l)).isDark()?"white":"black"},d(e(g)[l]),9,O)):C("",!0)],40,G))),128)),u("g",{class:z(["center cursor-pointer",{pressed:n.value}]),onMousedown:s[0]||(s[0]=a=>{e($)(t.chroma,o.value),n.value=!0}),onTouchstart:s[1]||(s[1]=B(a=>{e($)(t.chroma,o.value),n.value=!0},["prevent","stop"])),onTouchend:s[2]||(s[2]=a=>{e(y)(t.chroma,o.value),n.value=!1}),onTouchcancel:s[3]||(s[3]=a=>{e(y)(t.chroma,o.value),n.value=!1}),onMouseup:s[4]||(s[4]=a=>{e(y)(t.chroma,o.value),n.value=!1}),onMouseleave:s[5]||(s[5]=a=>{e(y)(t.chroma,o.value),n.value=!1})},[u("circle",{cx:"0",cy:"0",r:"5",fill:t.pitch===!1?"none":e(f)(o.value,3)},null,8,Q),u("text",{y:"0.3","font-size":"2px","font-weight":"bold",fill:e(h)(e(f)(o.value)).isDark()?"white":"black"},d(t.pitch===!1?"":typeof t.pitch=="string"?t.pitch:e(g)[o.value])+d(M.value.aliases[0]),9,W),u("text",{y:"3","font-size":"1.8px","font-weight":"normal",fill:e(h)(e(f)(o.value)).isDark()?"white":"black"},d(t.type),9,j)],34)]))}},X=D(J,[["__scopeId","data-v-5dbf20dd"]]);export{X as _};
