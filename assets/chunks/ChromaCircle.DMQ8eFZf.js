import{z,a as B,e as h,B as r,C as i,E as c,u as e,F as w,G as k,L as C,J as d,D,U as S}from"./framework.B_b_ZswS.js";import{g as b,r as T,a as E,b as F,d as H,m as v,w as m,c as f,n as g,p as $,s as y,e as L}from"./theme.VCerd9rr.js";const P={class:"select-none",version:"1.1",baseProfile:"full",viewBox:"-10 -10 20 20",xmlns:"http://www.w3.org/2000/svg",style:{"touch-action":"none"},"font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle"},V=["fill"],q=["x1","y1","stroke"],A=["transform","onMousedown"],G=["r","fill"],I=["fill"],J=["fill"],O=["fill"],U=["fill"],j={__name:"ChromaCircle",props:{pitch:{type:Number,default:null},chroma:{type:String,default:"1001000100101"},type:{type:String,default:""},tonic:{type:Number,default:0}},setup(t){const n=B(!1),u=t,o=h(()=>u.pitch===0||u.pitch?u.pitch:b.tonic),x=h(()=>T(u.chroma.split(""),-o.value)),M=h(()=>E(u.chroma));h(()=>F(u.chroma).name);function N(p){L(69+p,.5,200),b.tonic=p}return(p,a)=>(r(),i("svg",P,[c("circle",{cx:"0",cy:"0",r:"8",opacity:"0.5",fill:e(H)(t.chroma,o.value).hsl},null,8,V),(r(!0),i(w,null,k(x.value,(s,l)=>(r(),i("g",{key:l},[s=="1"?(r(),i("line",{key:0,x1:e(v)(l,12,6.5,0).x,y1:e(v)(l,12,6.5,0).y,x2:"0",y2:"0","stroke-linecap":"square","stroke-width":"3.92",stroke:s=="1"?e(m)(e(f)(l,3)).toHex():"none"},null,8,q)):C("",!0)]))),128)),(r(!0),i(w,null,k(x.value,(s,l)=>(r(),i("g",{class:"cursor-pointer",key:l,transform:`translate(${e(v)(l,12,8,0).x}, ${e(v)(l,12,8,0).y})`,onMousedown:K=>N(l)},[c("circle",{x:"0",y:"0",r:s=="1"?2:1,fill:e(m)(s=="1"?e(f)(l):e(g)[l].length!=2?"hsl(0,0%,85%)":"hsl(0,0%,60%)").toHex()},null,8,G),s=="1"?(r(),i("text",{key:0,y:"0.3","font-size":"2px","font-weight":"bold",fill:e(m)(e(f)(l)).isDark()?"white":"black"},d(e(g)[l]),9,I)):C("",!0)],40,A))),128)),c("g",{class:D(["center cursor-pointer",{pressed:n.value}]),onMousedown:a[0]||(a[0]=s=>{e($)(t.chroma,o.value),n.value=!0}),onTouchstart:a[1]||(a[1]=S(s=>{e($)(t.chroma,o.value),n.value=!0},["prevent","stop"])),onTouchend:a[2]||(a[2]=s=>{e(y)(t.chroma,o.value),n.value=!1}),onTouchcancel:a[3]||(a[3]=s=>{e(y)(t.chroma,o.value),n.value=!1}),onMouseup:a[4]||(a[4]=s=>{e(y)(t.chroma,o.value),n.value=!1}),onMouseleave:a[5]||(a[5]=s=>{e(y)(t.chroma,o.value),n.value=!1})},[c("circle",{cx:"0",cy:"0",r:"5",fill:t.pitch===!1?"none":e(f)(o.value,3)},null,8,J),c("text",{y:"0.3","font-size":"2px","font-weight":"bold",fill:e(m)(e(f)(o.value)).isDark()?"white":"black"},d(t.pitch===!1?"":typeof t.pitch=="string"?t.pitch:e(g)[o.value])+d(M.value.aliases[0]),9,O),c("text",{y:"3","font-size":"1.8px","font-weight":"normal",fill:e(m)(e(f)(o.value)).isDark()?"white":"black"},d(t.type),9,U)],34)]))}},W=z(j,[["__scopeId","data-v-22fd4cd5"]]);export{W as _};
