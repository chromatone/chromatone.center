import{g as y,n as b}from"./colors.de92a8a1.js";import{n as k,i as x}from"./theory.61e5aadb.js";import{b as d,A as C,o as s,c as l,F as p,d as h,B as $,u as i,C as N,e as S,t as _}from"./framework.c1cedef0.js";const w={class:"flex flex-col-reverse gap-1 bg-dark-200 bg-opacity-30 dark-bg-light-900 dark-bg-opacity-40 p-1 rounded-lg"},B=["onClick"],D="101101011010",L={__name:"ChromaCode",props:{chroma:{type:String,default:"101101011010"},pitch:{type:Number,default:null},cols:{type:Number,default:4}},emits:["update:chroma"],setup(o,{emit:E}){const c=o,n=d(()=>c.pitch!=null?c.pitch:y.tonic),g=d(()=>c.chroma.match(new RegExp(`.{1,${c.cols}}`,"g")).map(e=>e.split("").map(Number))),f=(e,r)=>e.slice(0,r)+(e[r]==="1"?"0":"1")+e.slice(r+1);return(e,r)=>{const v=C("tooltip");return s(),l("div",w,[(s(!0),l(p,null,h(g.value,(u,a)=>(s(),l("div",{class:"flex gap-1",key:u},[(s(!0),l(p,null,h(u,(m,t)=>$((s(),l("div",{class:"w-6 h-6 flex flex-col items-center justify-center rounded text-xs font-bold select-none cursor-pointer",onClick:F=>e.$emit("update:chroma",f(o.chroma,(a*o.cols+t)%12)),key:t,style:N({backgroundColor:m?i(b)(n.value+a*o.cols+t):D.split("")[(n.value+a*o.cols+t)%12]=="1"?"hsla(0,0%,100%,0.5)":"hsla(0,0%,10%,0.5)",opacity:`${m==1?1:.4}`})},[S(_(i(x)[(a*4+t)%12]),1)],12,B)),[[v,`${i(k)[(n.value+a*4+t)%12]}`]])),128))]))),128))])}}};export{L as _};
