import{g as y,n as x}from"./colors.7c5ce8ba.js";import{n as b,i as k}from"./theory.7ed89221.js";import{i as p,m as C,o as l,c as s,F as d,r as h,n as $,h as i,v as N,I as S,t as _}from"./framework.7e580a04.js";const D={class:"flex flex-col-reverse gap-1 bg-dark-200 bg-opacity-30 dark-bg-light-900 dark-bg-opacity-40 p-2 rounded-lg"},w=["onClick"],B="101101011010",L={__name:"ChromaCode",props:{chroma:{type:String,default:"101101011010"},pitch:{type:Number,default:null},cols:{type:Number,default:4}},emits:["update:chroma"],setup(o,{emit:E}){const r=o,n=p(()=>r.pitch!=null?r.pitch:y.tonic),g=p(()=>r.chroma.match(new RegExp(`.{1,${r.cols}}`,"g")).map(e=>e.split("").map(Number))),f=(e,c)=>e.slice(0,c)+(e[c]==="1"?"0":"1")+e.slice(c+1);return(e,c)=>{const v=C("tooltip");return l(),s("div",D,[(l(!0),s(d,null,h(g.value,(m,a)=>(l(),s("div",{class:"flex gap-1",key:m},[(l(!0),s(d,null,h(m,(u,t)=>$((l(),s("div",{class:"flex flex-col items-center justify-center rounded text-md p-1 font-bold select-none cursor-pointer",onClick:F=>e.$emit("update:chroma",f(o.chroma,(a*o.cols+t)%12)),key:t,style:N([{flex:"1 1 50px"},{backgroundColor:u?i(x)(n.value+a*o.cols+t):B.split("")[(n.value+a*o.cols+t)%12]=="1"?"hsla(0,0%,100%,0.5)":"hsla(0,0%,10%,0.5)",opacity:`${u==1?1:.4}`}])},[S(_(i(k)[(a*4+t)%12]),1)],12,w)),[[v,`${i(b)[(n.value+a*4+t)%12]}`]])),128))]))),128))])}}};export{L as _};
