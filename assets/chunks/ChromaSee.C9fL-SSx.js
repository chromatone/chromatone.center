import{_ as v}from"./ControlStart.CddpBd4_.js";import{aX as b,F as _,G as w,m as h,c as C,n as p}from"./theme.DKUtGHOP.js";import{r as k,q as a,f as l,e as B,t as D,u as e,j as S,aw as G,s as t,v as x,z as y,F as $,Y as z}from"./framework.Bbwy4zmA.js";const F={class:"fullscreen-container",id:"screen"},N={id:"blur",x:"-1",y:"-1",width:"3",height:"3"},T=["stdDeviation"],V={id:"blur-more",x:"-1",y:"-1",width:"3",height:"3"},A=["stdDeviation"],j=["fill"],q=["opacity"],E=["transform"],L=["r","fill"],P=["fill","opacity"],J={__name:"ChromaSee",setup(X){const m=k(),{init:g,tuner:s}=b(),c=_(0,0,1),d=_(2,.5,3);w(r=>{const{delta:[n,f]}=r;c.value+=n/100,d.value-=f/100},{domTarget:m});function u(r){return r>s.chromaAvg?s.note.silent?0:r:0}return(r,n)=>{const f=v;return l(),a("div",F,[e(s).initiated?D("",!0):(l(),B(f,{key:0,class:"absolute",onClick:n[0]||(n[0]=i=>e(g)())},{default:S(()=>n[1]||(n[1]=[G("Start")])),_:1})),(l(),a("svg",{class:"min-h-80svh max-h-100svh w-full w-full cursor-pointer touch-none",id:"screen",ref_key:"stage",ref:m,version:"1.1",baseProfile:"full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("filter",N,[t("feGaussianBlur",{i:"",n:"SourceGraphic",stdDeviation:e(c)/2},null,8,T)]),t("filter",V,[t("feGaussianBlur",{in:"SourceGraphic",stdDeviation:e(c)*4},null,8,A)])]),t("g",null,[t("circle",{class:"note",style:x([{transition:"all 500ms ease-in-out","transform-box":"fill-box","transform-origin":"center center"},{transform:`scale(${.5+20*e(s).rms})`}]),cx:50,cy:50,r:10,fill:e(s).note.silent?"#555":e(s)?.note.color,filter:"url(#blur-more)"},null,12,j),t("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"3px","text-anchor":"middle","dominant-baseline":"middle",x:50,y:50,opacity:e(s).note.silent?0:1},y(e(s).note.name),9,q),(l(!0),a($,null,z(e(s).aChroma,(i,o)=>(l(),a("g",{class:"around",key:o,transform:`translate(${e(h)(o).x},${e(h)(o).y})`,style:{cursor:"pointer"}},[t("circle",{class:"note",style:x([{transition:"all 400ms ease-in-out","transform-box":"fill-box","transform-origin":"center center"},{transform:`scale(${.5+10*u(i)})`}]),r:e(d),fill:e(C)(o,3,u(i)),filter:"url(#blur)"},null,12,L),t("text",{style:{"user-select":"none",transition:"all 500ms ease"},fill:e(p)[o].length==2?"hsla(0,0%,0%,0.8)":"hsla(0,0%,100%,0.9)","font-family":"Commissioner, sans-serif","font-size":"3px","text-anchor":"middle","dominant-baseline":"middle",opacity:u(i)},y(e(p)[o]),9,P)],8,E))),128))])],512))])}}};export{J as default};
