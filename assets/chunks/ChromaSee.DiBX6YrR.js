import{_ as b}from"./ControlStart.Do0ahJtV.js";import{aD as w,J as h,K as C,t as p,c as B,n as x}from"./theme.BJ9F72QS.js";import{r as k,x as r,y as i,E as e,M as D,N as S,ac as G,I as $,A as t,H as y,G as g,F as N,B as z}from"./framework.CYx1s6BW.js";const A={class:"fullscreen-container",id:"screen"},T={id:"blur",x:"-1",y:"-1",width:"3",height:"3"},V=["stdDeviation"],E={id:"blur-more",x:"-1",y:"-1",width:"3",height:"3"},F=["stdDeviation"],H=["fill"],I=["opacity"],J=["transform"],K=["r","fill"],L=["fill","opacity"],O={__name:"ChromaSee",setup(M){const m=k(),{init:v,tuner:s}=w(),c=h(0,0,1),d=h(2,.5,3);C(o=>{const{delta:[l,f]}=o;c.value+=l/100,d.value-=f/100},{domTarget:m});function u(o){return o>s.chromaAvg?s.note.silent?0:o:0}return(o,l)=>{var _;const f=b;return r(),i("div",A,[e(s).initiated?$("",!0):(r(),D(f,{key:0,class:"absolute",onClick:l[0]||(l[0]=a=>e(v)())},{default:S(()=>[G("Start")]),_:1})),(r(),i("svg",{class:"min-h-80svh max-h-100svh w-full w-full cursor-pointer touch-none",id:"screen",ref_key:"stage",ref:m,version:"1.1",baseProfile:"full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("filter",T,[t("feGaussianBlur",{i:"",n:"SourceGraphic",stdDeviation:e(c)/2},null,8,V)]),t("filter",E,[t("feGaussianBlur",{in:"SourceGraphic",stdDeviation:e(c)*4},null,8,F)])]),t("g",null,[t("circle",{class:"note",style:y([{transition:"all 500ms ease-in-out","transform-box":"fill-box","transform-origin":"center center"},{transform:`scale(${.5+20*e(s).rms})`}]),cx:50,cy:50,r:10,fill:e(s).note.silent?"#555":(_=e(s))==null?void 0:_.note.color,filter:"url(#blur-more)"},null,12,H),t("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"3px","text-anchor":"middle","dominant-baseline":"middle",x:50,y:50,opacity:e(s).note.silent?0:1},g(e(s).note.name),9,I),(r(!0),i(N,null,z(e(s).aChroma,(a,n)=>(r(),i("g",{class:"around",key:n,transform:`translate(${e(p)(n).x},${e(p)(n).y})`,style:{cursor:"pointer"}},[t("circle",{class:"note",style:y([{transition:"all 400ms ease-in-out","transform-box":"fill-box","transform-origin":"center center"},{transform:`scale(${.5+10*u(a)})`}]),r:e(d),fill:e(B)(n,3,u(a)),filter:"url(#blur)"},null,12,K),t("text",{style:{"user-select":"none",transition:"all 500ms ease"},fill:e(x)[n].length==2?"hsla(0,0%,0%,0.8)":"hsla(0,0%,100%,0.9)","font-family":"Commissioner, sans-serif","font-size":"3px","text-anchor":"middle","dominant-baseline":"middle",opacity:u(a)},g(e(x)[n]),9,L)],8,J))),128))])],512))])}}};export{O as default};
