import{_ as E}from"./ColorSvgInfo.Cf-hKIeN.js";import{d,r as F,a as h,k as G,v as i,x as c,E as L,z as r,F as y,A as v,u as l,y as S,Q as R,J as $,aa as N,D as p}from"./framework.BMHKg3V0.js";import{J as k,u as g,w as x,T as _}from"./theme.C1cSeBFq.js";const J={id:"gray",x1:"0",x2:"0",y1:"0",y2:"1"},M=["stop-color","offset"],V={id:"green-red",x1:"0",x2:"1",y1:"0",y2:"0"},q=["stop-color","offset"],I={id:"blue-yellow",x1:"0",x2:"0",y1:"0",y2:"1"},P=["stop-color","offset"],Q=["x","y","rx","width","height","onMousedown","fill","stroke"],U={class:"cursor-pointer",id:"current"},j=["fill"],K={class:"cursor-pointer",id:"b-range"},X=["transform"],Y={fill:"currentColor","font-size":"3px",x:"-10",y:"-4","font-weight":"bold"},Z={class:"cursor-pointer",id:"l-range"},ee=["transform"],te={fill:"currentColor","font-size":"3px",x:"110",y:"-3","font-weight":"bold"},re={class:"cursor-pointer",id:"a-range"},oe=["transform"],ne={fill:"currentColor","font-size":"3px",x:"7",y:"-9.5","font-weight":"bold"},le=["width"],se={class:"uppercase"},ae=["width"],ie={class:"uppercase"},pe={__name:"ColorLab",setup(ce){const n=k(g("lab-range",100),100,300),w=d(()=>-n.value/2),b=d(()=>n.value/2),e=F({current:g("color-current","#fffff"),max:{l:100,res:36},l:k(g("color-l",50),0,100),a:k(g("color-a",20),w,b),b:k(g("color-b",20),w,b),lab:d(()=>({l:e.l,a:e.a,b:e.b,alpha:1})),hex:d(()=>x(e.lab).toHex()),width:100,height:100,res:k(g("lab-res",10),10,36),steps:{a:d(()=>C(e.res)),b:d(()=>C(e.res))},dark:d(()=>x(e.lab).isDark())});function m(t,o,u){return x({l:t,a:o*n.value,b:-u*n.value,alpha:1}).toHex()}function C(t){return[...Array(t)].map((o,u)=>(u-t/2)/t)}const D=h();_({onDrag(t){t.event.preventDefault(),e.b-=t.delta[1]/4,e.a+=t.delta[0]/4},onWheel(t){t.event.preventDefault(),e.b+=t.delta[1]/4,e.a-=t.delta[0]/4}},{domTarget:D,eventOptions:{passive:!1}});const T=h();_({onDrag(t){t.event.preventDefault(),e.res+=t.delta[0]},onWheel(t){t.event.preventDefault(),e.res-=t.delta[0]}},{domTarget:T,eventOptions:{passive:!1}});const z=h();_({onDrag(t){t.event.preventDefault(),n.value+=t.delta[0]},onWheel(t){t.event.preventDefault(),n.value-=t.delta[0]}},{domTarget:z,eventOptions:{passive:!1}});const B=h();_({onDrag(t){t.event.preventDefault(),e.l-=t.delta[1]/8},onWheel(t){t.event.preventDefault(),e.l+=t.delta[1]/8}},{domTarget:B,eventOptions:{passive:!1}});const O=h();_({onDrag(t){t.event.preventDefault(),e.a+=t.delta[0]/4},onWheel(t){t.event.preventDefault(),e.a-=t.delta[0]/4}},{domTarget:O,eventOptions:{passive:!1}});const A=h();_({onDrag(t){t.event.preventDefault(),e.b-=t.delta[1]/4},onWheel(t){t.event.preventDefault(),e.b+=t.delta[1]/4}},{domTarget:A,eventOptions:{passive:!1}});function W(t,o,u){e.a=o*n.value,e.b=-u*n.value,e.current=e.hex}return G(()=>{e.current=e.hex}),(t,o)=>{const u=E;return i(),c("div",{class:"fullscreen-container p-4 transition-all duration-400 ease-in-out",id:"screen",style:L({backgroundColor:e.hex})},[(i(),c("svg",{class:"min-h-80svh max-h-100svh w-full select-none",version:"1.1",baseProfile:"full",viewBox:"-20 -20 140 130",xmlns:"http://www.w3.org/2000/svg","stroke-width":"2px","font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle",style:L([{"touch-action":"none","user-select":"none"},{color:e.dark?"white":"black"}])},[r("defs",null,[r("linearGradient",J,[(i(),c(y,null,v(10,(s,a)=>r("stop",{key:s,"stop-color":l(x)({l:100-10*a,a:e.a,b:e.b,alpha:1}).toHex(),offset:a*10+"%"},null,8,M)),64))]),r("linearGradient",V,[(i(),c(y,null,v(10,(s,a)=>r("stop",{key:s,"stop-color":l(x)({l:e.l,a:a*l(n)/10-l(n)/2,b:e.b,alpha:1}).toHex(),offset:a*10+"%"},null,8,q)),64))]),r("linearGradient",I,[(i(),c(y,null,v(10,(s,a)=>r("stop",{key:s,"stop-color":l(x)({l:e.l,a:e.a,b:(10-a)*l(n)/10-l(n)/2,alpha:1}).toHex(),offset:a*10+"%"},null,8,P)),64))])]),r("g",{id:"square",ref_key:"controlCenter",ref:D},[(i(!0),c(y,null,v(e.steps.a,(s,a)=>(i(),c("g",{class:"row",key:s+a},[(i(!0),c(y,null,v(e.steps.b,(f,H)=>(i(),c("rect",{class:S(["cursor-pointer",{current:e.current==m(e.l,s,f)}]),key:f+H,x:a*e.width/e.res,y:H*e.height/e.res,rx:e.current==m(e.l,s,f)?10:0,width:e.width/e.res,height:e.height/e.res,onMousedown:ue=>W(e.l,s,f),fill:m(e.l,s,f),stroke:m(e.l,s,f),"stroke-width":"0.1px"},null,42,Q))),128))]))),128))],512),R(N,{name:"fade"},{default:$(()=>[r("g",U,[r("rect",{x:30,y:30,width:40,height:40,fill:e.hex},null,8,j),R(u,{color:e.lab,y:36},null,8,["color"])])]),_:1}),r("g",K,[r("rect",{id:"b",x:"-15",y:"0",width:"10",height:"100",fill:"url(#blue-yellow)",ref_key:"controlB",ref:A},null,512),r("g",{class:"pointer-events-none",transform:`translate(0,${100*(-e.b+l(n)/2)/l(n)})`},[o[0]||(o[0]=r("line",{x1:"-15",x2:"-5",stroke:"currentColor","stroke-linecap":"round"},null,-1)),o[1]||(o[1]=r("line",{x1:"-15",x2:"100",stroke:"currentColor","stroke-linecap":"round","stroke-width":"0.1px"},null,-1)),r("text",Y,"B "+p(e.b.toFixed(1)),1)],8,X)]),r("g",Z,[r("rect",{id:"l",x:"105",y:"0",width:"10",height:"100",fill:"url(#gray)",ref_key:"controlLight",ref:B},null,512),r("g",{class:"pointer-events-none",transform:`translate(0,${100-e.l})`},[o[2]||(o[2]=r("line",{x1:"105",x2:"115",stroke:"currentColor","stroke-linecap":"round"},null,-1)),r("text",te,"L "+p(e.l.toFixed(1)),1)],8,ee)]),r("g",re,[r("rect",{id:"a",x:"0",y:"-15",width:"100",height:"10",fill:"url(#green-red)",ref_key:"controlA",ref:O},null,512),r("g",{class:"pointer-events-none",transform:`translate(${100*(e.a+l(n)/2)/l(n)},0)`},[o[3]||(o[3]=r("line",{y1:"-15",y2:"-5",stroke:"currentColor","stroke-linecap":"round"},null,-1)),o[4]||(o[4]=r("line",{y1:"-15",y2:"100",stroke:"currentColor","stroke-linecap":"round","stroke-width":"0.1px"},null,-1)),r("text",ne,"A "+p(e.a.toFixed(1)),1)],8,oe)]),r("g",{class:"cursor-pointer",id:"res",transform:"translate(20, 105)","font-size":"2",ref_key:"controlRes",ref:T},[o[5]||(o[5]=r("rect",{x:"-20",y:"-2.5",width:"40",height:"4",fill:"#ccc",stroke:"currentColor","stroke-width":"0.2"},null,-1)),r("rect",{x:"-20",y:"-2.5",width:40*(e.res/36),height:"4",fill:"#aaa",stroke:"currentColor","stroke-width":"0.2"},null,8,le),r("text",se,"RESOLUTION "+p(e.res)+"x"+p(e.res),1)],512),r("g",{class:"cursor-pointer",id:"range",transform:"translate(80, 105)","font-size":"2",ref_key:"controlRange",ref:z},[o[6]||(o[6]=r("rect",{x:"-20",y:"-2.5",width:"40",height:"4",fill:"#ccc",stroke:"currentColor","stroke-width":"0.2"},null,-1)),r("rect",{x:"-20",y:"-2.5",width:40*(l(n)/300),height:"4",fill:"#aaa",stroke:"currentColor","stroke-width":"0.2"},null,8,ae),r("text",ie,"AB RANGE "+p(l(n)),1)],512)],4))],4)}}};export{pe as _};
