import{_ as G}from"./ColorSvgInfo.d8a1f329.js";import{j as d,k as N,z as R,q,o as l,c as i,x as z,a as e,F as m,r as w,g as s,s as _,v as M,f as B,n as O,J as T,t as f}from"./framework.f277db28.js";import{w as x}from"./index.654bd828.js";import{u as p}from"./index.8dc0b613.js";import{u as y}from"./index.911cb71e.js";const V={id:"gray",x1:"0",x2:"0",y1:"0",y2:"1"},j=["stop-color","offset"],I={id:"green-red",x1:"0",x2:"1",y1:"0",y2:"0"},J=["stop-color","offset"],P={id:"blue-yellow",x1:"0",x2:"0",y1:"0",y2:"1"},U=["stop-color","offset"],K={id:"square"},Q=["x","y","rx","width","height","onMousedown","fill","stroke"],W={class:"cursor-pointer",id:"current"},X=["fill"],Y={class:"cursor-pointer",id:"b-range"},Z={id:"b",x:"-15",y:"0",width:"10",height:"100",fill:"url(#blue-yellow)"},tt=["transform"],et=e("line",{x1:"-15",x2:"-5",stroke:"currentColor","stroke-linecap":"round"},null,-1),ot=e("line",{x1:"-15",x2:"100",stroke:"currentColor","stroke-linecap":"round","stroke-width":"0.1px"},null,-1),rt={fill:"currentColor","font-size":"3px",x:"-10",y:"-4","font-weight":"bold"},st={class:"cursor-pointer",id:"l-range"},nt={id:"l",x:"105",y:"0",width:"10",height:"100",fill:"url(#gray)"},lt=["transform"],it=e("line",{x1:"105",x2:"115",stroke:"currentColor","stroke-linecap":"round"},null,-1),at={fill:"currentColor","font-size":"3px",x:"110",y:"-3","font-weight":"bold"},ct={class:"cursor-pointer",id:"a-range"},dt={id:"a",x:"0",y:"-15",width:"100",height:"10",fill:"url(#green-red)"},ut=["transform"],ht=e("line",{y1:"-15",y2:"-5",stroke:"currentColor","stroke-linecap":"round"},null,-1),_t=e("line",{y1:"-15",y2:"100",stroke:"currentColor","stroke-linecap":"round","stroke-width":"0.1px"},null,-1),ft={fill:"currentColor","font-size":"3px",x:"7",y:"-9.5","font-weight":"bold"},xt=["transform"],pt=e("rect",{x:"-20",y:"-2.5",width:"40",height:"4",fill:"#ccc",stroke:"currentColor","stroke-width":"0.2"},null,-1),gt=["width"],mt={class:"uppercase"},wt=["transform"],yt=e("rect",{x:"-20",y:"-2.5",width:"40",height:"4",fill:"#ccc",stroke:"currentColor","stroke-width":"0.2"},null,-1),kt=["width"],bt={class:"uppercase"},At={__name:"ColorLab",setup(vt){const r=y(p("lab-range",100),100,300),b=d(()=>-r.value/2),v=d(()=>r.value/2),t=N({current:p("color-current","#fffff"),max:{l:100,res:36},l:y(p("color-l",50),0,100),a:y(p("color-a",20),b,v),b:y(p("color-b",20),b,v),lab:d(()=>({l:t.l,a:t.a,b:t.b,alpha:1})),hex:d(()=>x(t.lab).toHex()),width:100,height:100,res:y(p("lab-res",10),10,36),steps:{a:d(()=>C(t.res)),b:d(()=>C(t.res))},dark:d(()=>x(t.lab).isDark())});function k(o,g,c){return x({l:o,a:g*r.value,b:-c*r.value,alpha:1}).toHex()}function C(o){return[...Array(o)].map((g,c)=>(c-o/2)/o)}function H(o){t.b-=o.delta[1]/2,t.a+=o.delta[0]/2}function L(o){t.res+=o.delta[0]}function A(o){r.value+=o.delta[0]}function F(o){t.l-=o.delta[1]/8}function S(o){t.a+=o.delta[0]/2}function $(o){t.b-=o.delta[1]/2}function E(o,g,c){t.a=g*r.value,t.b=-c*r.value,t.current=t.hex}return R(()=>{t.current=t.hex}),(o,g)=>{const c=G,u=q("drag");return l(),i("div",{class:"fullscreen-container mb-8 p-4 rounded-xl transition-all duration-400 ease-in-out",id:"screen",style:z({backgroundColor:t.hex})},[(l(),i("svg",{class:"max-h-3xl w-full select-none",version:"1.1",baseProfile:"full",viewBox:"-20 -20 140 130",xmlns:"http://www.w3.org/2000/svg","stroke-width":"2px","font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle",style:z([{"touch-action":"none","user-select":"none"},{color:t.dark?"white":"black"}])},[e("defs",null,[e("linearGradient",V,[(l(),i(m,null,w(10,(n,a)=>e("stop",{key:n,"stop-color":s(x)({l:100-10*a,a:t.a,b:t.b,alpha:1}).toHex(),offset:a*10+"%"},null,8,j)),64))]),e("linearGradient",I,[(l(),i(m,null,w(10,(n,a)=>e("stop",{key:n,"stop-color":s(x)({l:t.l,a:a*s(r)/10-s(r)/2,b:t.b,alpha:1}).toHex(),offset:a*10+"%"},null,8,J)),64))]),e("linearGradient",P,[(l(),i(m,null,w(10,(n,a)=>e("stop",{key:n,"stop-color":s(x)({l:t.l,a:t.a,b:(10-a)*s(r)/10-s(r)/2,alpha:1}).toHex(),offset:a*10+"%"},null,8,U)),64))])]),_((l(),i("g",K,[(l(!0),i(m,null,w(t.steps.a,(n,a)=>(l(),i("g",{class:"row",key:n+a},[(l(!0),i(m,null,w(t.steps.b,(h,D)=>(l(),i("rect",{class:M(["cursor-pointer",{current:t.current==k(t.l,n,h)}]),key:h+D,x:a*t.width/t.res,y:D*t.height/t.res,rx:t.current==k(t.l,n,h)?10:0,width:t.width/t.res,height:t.height/t.res,onMousedown:Ct=>E(t.l,n,h),fill:k(t.l,n,h),stroke:k(t.l,n,h),"stroke-width":"0.1px"},null,42,Q))),128))]))),128)),B(T,{name:"fade"},{default:O(()=>[e("g",W,[e("rect",{x:30,y:30,width:40,height:40,fill:t.hex},null,8,X),B(c,{color:t.lab,y:36},null,8,["color"])])]),_:1})])),[[u,H]]),e("g",Y,[_(e("rect",Z,null,512),[[u,$]]),e("g",{class:"pointer-events-none",transform:`translate(0,${100*(-t.b+s(r)/2)/s(r)})`},[et,ot,e("text",rt,"B "+f(t.b.toFixed(1)),1)],8,tt)]),e("g",st,[_(e("rect",nt,null,512),[[u,F]]),e("g",{class:"pointer-events-none",transform:`translate(0,${100-t.l})`},[it,e("text",at,"L "+f(t.l.toFixed(1)),1)],8,lt)]),e("g",ct,[_(e("rect",dt,null,512),[[u,S]]),e("g",{class:"pointer-events-none",transform:`translate(${100*(t.a+s(r)/2)/s(r)},0)`},[ht,_t,e("text",ft,"A "+f(t.a.toFixed(1)),1)],8,ut)]),_((l(),i("g",{class:"cursor-pointer",id:"res",transform:"translate(20, 105)","font-size":"2"},[pt,e("rect",{x:"-20",y:"-2.5",width:40*(t.res/36),height:"4",fill:"#aaa",stroke:"currentColor","stroke-width":"0.2"},null,8,gt),e("text",mt,"RESOLUTION "+f(t.res)+"x"+f(t.res),1)],8,xt)),[[u,L]]),_((l(),i("g",{class:"cursor-pointer",id:"range",transform:"translate(80, 105)","font-size":"2"},[yt,e("rect",{x:"-20",y:"-2.5",width:40*(s(r)/300),height:"4",fill:"#aaa",stroke:"currentColor","stroke-width":"0.2"},null,8,kt),e("text",bt,"AB RANGE "+f(s(r)),1)],8,wt)),[[u,A]])],4))],4)}}};export{At as _};
