import{_ as z,u as F,b as N,d as U,c as p,f as o,g as r,h as n,k as v,B as V,l,F as c,j as m,m as d,ag as _}from"./framework.BH4RfCYQ.js";import{N as b,b7 as w,e as I,w as M,aB as T,b8 as $,b9 as j,ba as q}from"./theme.B370inx_.js";const D={class:"flex flex-col"},E={class:"flex flex-wrap items-center m-auto"},O={class:"flex items-center px-4"},A=["value"],G={class:"flex items-center px-4"},H={class:"flex items-center px-4"},L={class:"flex flex-wrap"},P=["viewBox"],J=["x"],K=["x1","x2"],Q=["y1","y2","x2"],R=["x"],W=["cx","cy"],X=["cx","cy"],Y=["cx","cy"],Z=["y1","y2","x2"],ee=["y"],te=["x","y"],se=["onClick"],ne=["cx","fill"],le=["x"],oe=["onClick"],re=["cy","cx","fill"],ie=["x","y"],ae={__name:"FretboardTool",props:{instruments:{type:Object,default:()=>{}}},setup(h){const k=h,t=F("instrument-calc",{l:430,frets:27,title:"Ukulele",tuning:["C4","G4","E4","A4"]}),C=N([]);function y(a,s,e){I(a),C[e]=a}U(()=>t.value.title,a=>{const s=k.instruments[a];t.value.l=s.l,t.value.frets=s.frets,t.value.tuning=s.tuning});const B=p(()=>[3,5,7,9,12,15,17,19,21].filter(a=>a<t.value.frets)),S=p(()=>[12,24].filter(a=>a<t.value.frets)),u=p(()=>{let a=[];for(let s=1;s<t.value.frets;s++)a.push(1-Math.pow(.9438743,s));return a});function g(a,s){return M(T($(j(a,q(s))))).toHex()}return(a,s)=>(o(),r("div",D,[n("div",E,[n("div",O,[s[3]||(s[3]=n("div",{class:"text-xl"},"Instrument",-1)),v(n("select",{class:"bg-transparent text-xl w-10rem m-2 p-2","onUpdate:modelValue":s[0]||(s[0]=e=>l(t).title=e)},[(o(!0),r(c,null,m(h.instruments,(e,i)=>(o(),r("option",{key:i,value:i},d(i),9,A))),128))],512),[[V,l(t).title]])]),n("div",G,[s[4]||(s[4]=n("div",{class:"text-xl"},"Scale length",-1)),v(n("input",{class:"bg-transparent text-2xl w-5rem m-2 p-2","onUpdate:modelValue":s[1]||(s[1]=e=>l(t).l=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[_,l(t).l]]),s[5]||(s[5]=n("div",{class:"text-xl"},"mm",-1))]),n("div",H,[s[6]||(s[6]=n("div",{class:"text-xl"},"Frets",-1)),v(n("input",{class:"bg-transparent text-2xl w-4rem m-2 p-2","onUpdate:modelValue":s[2]||(s[2]=e=>l(t).frets=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[_,l(t).frets]])])]),n("div",L,[(o(),r("svg",{class:"flex-1 max-h-3xl w-full strings",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`0 -60 ${l(t).tuning.length*40+100} 1100`,xmlns:"http://www.w3.org/2000/svg"},[n("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"16px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:(l(t).tuning.length*40+65)/2,y:-40},d(l(t).title),9,J),(o(!0),r(c,null,m(l(t).tuning,(e,i)=>(o(),r("line",{class:"string",key:e,stroke:"currentColor","stroke-width":"1","stroke-linecap":"round",y1:0,x1:40*i+50,y2:1e3,x2:40*i+50},null,8,K))),128)),(o(),r(c,null,m([0,1e3],e=>n("line",{class:"end",key:e,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",y1:e,x1:10,y2:e,x2:l(t).tuning.length*40+55},null,8,Q)),64)),n("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:l(t).tuning.length*40+20,y:990},d(l(t).l)+" mm",9,R),(o(!0),r(c,null,m(B.value,e=>(o(),r("circle",{class:"inlay",key:e,fill:"currentColor",cx:(l(t).tuning.length*40+60)/2,cy:u.value[e-1]*1e3-(u.value[e-1]*1e3-u.value[e-2]*1e3)/2,r:4},null,8,W))),128)),(o(!0),r(c,null,m(S.value,e=>(o(),r("g",{key:e},[n("circle",{class:"inlay",fill:"currentColor",cx:(l(t).tuning.length*40+60)/2-5,cy:u.value[e-1]*1e3-(u.value[e-1]*1e3-u.value[e-2]*1e3)/2,r:4},null,8,X),n("circle",{class:"inlay",fill:"currentColor",cx:(l(t).tuning.length*40+60)/2+5,cy:u.value[e-1]*1e3-(u.value[e-1]*1e3-u.value[e-2]*1e3)/2,r:4},null,8,Y)]))),128)),(o(!0),r(c,null,m(u.value,(e,i)=>(o(),r("g",{class:"fret",key:e},[n("line",{stroke:"gray","stroke-width":"1","stroke-linecap":"round",y1:e*1e3,x1:20,y2:e*1e3,x2:l(t).tuning.length*40+40},null,8,Z),n("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"middle","dominant-baseline":"middle",x:24,y:e*1e3-8},d(i+1),9,ee),n("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:l(t).tuning.length*40+30,y:e*1e3-8},d((e*l(t).l).toFixed(2))+" mm",9,te)]))),128)),(o(!0),r(c,null,m(l(t).tuning,(e,i)=>(o(),r("g",{class:"note",key:e},[n("g",{onClick:x=>y(e,0,i)},[n("circle",{cy:-12,cx:i*40+50,r:12,fill:g(e,0)},null,8,ne),n("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:i*40+50,y:-11},d(e),9,le)],8,se),(o(!0),r(c,null,m(u.value,(x,f)=>(o(),r("g",{class:"note",key:x,onClick:ue=>y(l(b).transpose(e,l(w).fromSemitones(f+1)),f,i)},[n("circle",{cy:x*1e3-12,cx:i*40+50,r:12,fill:g(e,f+1)},null,8,re),n("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:i*40+50,y:x*1e3-11},d(l(b).transpose(e,l(w).fromSemitones(f+1))),9,ie)],8,oe))),128))]))),128))],8,P))])]))}},de=z(ae,[["__scopeId","data-v-81bfb780"]]);export{de as default};
