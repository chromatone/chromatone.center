import{q as F,u as I,b as O,d as U,c as v,v as o,x as i,z as s,B as y,O as V,D as n,F as u,A as d,E as m,af as k,J as q,K as D}from"./framework.C3BURm3f.js";import{l as h,J as g,m as E,e as M,w as N,aN as T}from"./theme.CWHaFdN0.js";const p=x=>(q("data-v-938b98c7"),x=x(),D(),x),$={class:"flex flex-col"},A={class:"flex flex-wrap items-center m-auto"},J={class:"flex items-center px-4"},j=p(()=>s("div",{class:"text-xl"},"Instrument",-1)),G=["value"],H={class:"flex items-center px-4"},K=p(()=>s("div",{class:"text-xl"},"Scale length",-1)),L=p(()=>s("div",{class:"text-xl"},"mm",-1)),P={class:"flex items-center px-4"},Q=p(()=>s("div",{class:"text-xl"},"Frets",-1)),R={class:"flex flex-wrap"},W=["viewBox"],X=["x"],Y=["x1","x2"],Z=["y1","y2","x2"],ee=["x"],te=["cx","cy"],se=["cx","cy"],ne=["cx","cy"],le=["y1","y2","x2"],oe=["y"],ie=["x","y"],re=["onClick"],ae=["cx","fill"],ce=["x"],ue=["onClick"],de=["cy","cx","fill"],me=["x","y"],xe={__name:"FretboardTool",props:{instruments:{type:Object,default:()=>{}}},setup(x){const C=x,t=I("instrument-calc",{l:430,frets:27,title:"Ukulele",tuning:["C4","G4","E4","A4"]}),S=O([]);function w(r,l,e){E(r),M(r),S[e]=r}U(()=>t.value.title,r=>{const l=C.instruments[r];t.value.l=l.l,t.value.frets=l.frets,t.value.tuning=l.tuning});const z=v(()=>[3,5,7,9,12,15,17,19,21].filter(r=>r<t.value.frets)),B=v(()=>[12,24].filter(r=>r<t.value.frets)),c=v(()=>{let r=[];for(let l=1;l<t.value.frets;l++)r.push(1-Math.pow(.9438743,l));return r});function b(r,l){return N(T(h.freq(h.transpose(r,g.fromSemitones(l))))).toHex()}return(r,l)=>(o(),i("div",$,[s("div",A,[s("div",J,[j,y(s("select",{class:"bg-transparent text-xl w-10rem m-2 p-2","onUpdate:modelValue":l[0]||(l[0]=e=>n(t).title=e)},[(o(!0),i(u,null,d(x.instruments,(e,a)=>(o(),i("option",{key:a,value:a},m(a),9,G))),128))],512),[[V,n(t).title]])]),s("div",H,[K,y(s("input",{class:"bg-transparent text-2xl w-5rem m-2 p-2","onUpdate:modelValue":l[1]||(l[1]=e=>n(t).l=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[k,n(t).l]]),L]),s("div",P,[Q,y(s("input",{class:"bg-transparent text-2xl w-4rem m-2 p-2","onUpdate:modelValue":l[2]||(l[2]=e=>n(t).frets=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[k,n(t).frets]])])]),s("div",R,[(o(),i("svg",{class:"flex-1 max-h-3xl w-full strings",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`0 -60 ${n(t).tuning.length*40+100} 1100`,xmlns:"http://www.w3.org/2000/svg"},[s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"16px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:(n(t).tuning.length*40+65)/2,y:-40},m(n(t).title),9,X),(o(!0),i(u,null,d(n(t).tuning,(e,a)=>(o(),i("line",{class:"string",key:e,stroke:"currentColor","stroke-width":"1","stroke-linecap":"round",y1:0,x1:40*a+50,y2:1e3,x2:40*a+50},null,8,Y))),128)),(o(),i(u,null,d([0,1e3],e=>s("line",{class:"end",key:e,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",y1:e,x1:10,y2:e,x2:n(t).tuning.length*40+55},null,8,Z)),64)),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:n(t).tuning.length*40+20,y:990},m(n(t).l)+" mm",9,ee),(o(!0),i(u,null,d(z.value,e=>(o(),i("circle",{class:"inlay",key:e,fill:"currentColor",cx:(n(t).tuning.length*40+60)/2,cy:c.value[e-1]*1e3-(c.value[e-1]*1e3-c.value[e-2]*1e3)/2,r:4},null,8,te))),128)),(o(!0),i(u,null,d(B.value,e=>(o(),i("g",{key:e},[s("circle",{class:"inlay",fill:"currentColor",cx:(n(t).tuning.length*40+60)/2-5,cy:c.value[e-1]*1e3-(c.value[e-1]*1e3-c.value[e-2]*1e3)/2,r:4},null,8,se),s("circle",{class:"inlay",fill:"currentColor",cx:(n(t).tuning.length*40+60)/2+5,cy:c.value[e-1]*1e3-(c.value[e-1]*1e3-c.value[e-2]*1e3)/2,r:4},null,8,ne)]))),128)),(o(!0),i(u,null,d(c.value,(e,a)=>(o(),i("g",{class:"fret",key:e},[s("line",{stroke:"gray","stroke-width":"1","stroke-linecap":"round",y1:e*1e3,x1:20,y2:e*1e3,x2:n(t).tuning.length*40+40},null,8,le),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"middle","dominant-baseline":"middle",x:24,y:e*1e3-8},m(a+1),9,oe),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:n(t).tuning.length*40+30,y:e*1e3-8},m((e*n(t).l).toFixed(2))+" mm",9,ie)]))),128)),(o(!0),i(u,null,d(n(t).tuning,(e,a)=>(o(),i("g",{class:"note",key:e},[s("g",{onClick:f=>w(e,0,a)},[s("circle",{cy:-12,cx:a*40+50,r:12,fill:b(e,0)},null,8,ae),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:a*40+50,y:-11},m(e),9,ce)],8,re),(o(!0),i(u,null,d(c.value,(f,_)=>(o(),i("g",{class:"note",key:f,onClick:fe=>w(n(h).transpose(e,n(g).fromSemitones(_+1)),_,a)},[s("circle",{cy:f*1e3-12,cx:a*40+50,r:12,fill:b(e,_+1)},null,8,de),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:a*40+50,y:f*1e3-11},m(n(h).transpose(e,n(g).fromSemitones(_+1))),9,me)],8,ue))),128))]))),128))],8,W))])]))}},pe=F(xe,[["__scopeId","data-v-938b98c7"]]);export{pe as default};
