import{z as B,r as S,w as M,e as p,B as o,C as r,E as s,H as v,Q as N,u as l,F as c,G as d,J as m,a8 as g}from"./framework.B_b_ZswS.js";import{u as U,ac as w,ad as C,e as V,c as $,M as E}from"./theme.oPgoCdSG.js";const I={class:"flex flex-col"},T={class:"flex flex-wrap items-center m-auto"},D={class:"flex items-center px-4"},G=["value"],O={class:"flex items-center px-4"},j={class:"flex items-center px-4"},q={class:"flex flex-wrap"},A=["viewBox"],H=["x"],J=["x1","x2"],L=["y1","y2","x2"],P=["x"],Q=["cx","cy"],K=["cx","cy"],R=["cx","cy"],W=["y1","y2","x2"],X=["y"],Y=["x","y"],Z=["onClick"],ee=["cx","fill"],te=["x"],ne=["onClick"],se=["cy","cx","fill"],le=["x","y"],oe={__name:"FretboardTool",props:{instruments:{type:Object,default:()=>{}}},setup(y){const k=y,t=U("instrument-calc",{l:430,frets:27,title:"Ukulele",tuning:["C4","G4","E4","A4"]}),b=S([]);function h(a,n,e){V(a),b[e]=a}M(()=>t.value.title,a=>{const n=k.instruments[a];t.value.l=n.l,t.value.frets=n.frets,t.value.tuning=n.tuning});const z=p(()=>[3,5,7,9,12,15,17,19,21].filter(a=>a<t.value.frets)),F=p(()=>[12,24].filter(a=>a<t.value.frets)),u=p(()=>{let a=[];for(let n=1;n<t.value.frets;n++)a.push(1-Math.pow(.9438743,n));return a});function _(a,n){return $(E(a).transpose(n).toMidi()-9,-2)}return(a,n)=>(o(),r("div",I,[s("div",T,[s("div",D,[n[3]||(n[3]=s("div",{class:"text-xl"},"Instrument",-1)),v(s("select",{class:"bg-transparent text-xl w-10rem m-2 p-2","onUpdate:modelValue":n[0]||(n[0]=e=>l(t).title=e)},[(o(!0),r(c,null,d(y.instruments,(e,i)=>(o(),r("option",{key:i,value:i},m(i),9,G))),128))],512),[[N,l(t).title]])]),s("div",O,[n[4]||(n[4]=s("div",{class:"text-xl"},"Scale length",-1)),v(s("input",{class:"bg-transparent text-2xl w-5rem m-2 p-2","onUpdate:modelValue":n[1]||(n[1]=e=>l(t).l=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[g,l(t).l]]),n[5]||(n[5]=s("div",{class:"text-xl"},"mm",-1))]),s("div",j,[n[6]||(n[6]=s("div",{class:"text-xl"},"Frets",-1)),v(s("input",{class:"bg-transparent text-2xl w-4rem m-2 p-2","onUpdate:modelValue":n[2]||(n[2]=e=>l(t).frets=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[g,l(t).frets]])])]),s("div",q,[(o(),r("svg",{class:"flex-1 max-h-3xl w-full strings",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`0 -60 ${l(t).tuning.length*40+100} 1100`,xmlns:"http://www.w3.org/2000/svg"},[s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"16px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:(l(t).tuning.length*40+65)/2,y:-40},m(l(t).title),9,H),(o(!0),r(c,null,d(l(t).tuning,(e,i)=>(o(),r("line",{class:"string",key:e,stroke:"currentColor","stroke-width":"1","stroke-linecap":"round",y1:0,x1:40*i+50,y2:1e3,x2:40*i+50},null,8,J))),128)),(o(),r(c,null,d([0,1e3],e=>s("line",{class:"end",key:e,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",y1:e,x1:10,y2:e,x2:l(t).tuning.length*40+55},null,8,L)),64)),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:l(t).tuning.length*40+20,y:990},m(l(t).l)+" mm",9,P),(o(!0),r(c,null,d(z.value,e=>(o(),r("circle",{class:"inlay",key:e,fill:"currentColor",cx:(l(t).tuning.length*40+60)/2,cy:u.value[e-1]*1e3-(u.value[e-1]*1e3-u.value[e-2]*1e3)/2,r:4},null,8,Q))),128)),(o(!0),r(c,null,d(F.value,e=>(o(),r("g",{key:e},[s("circle",{class:"inlay",fill:"currentColor",cx:(l(t).tuning.length*40+60)/2-5,cy:u.value[e-1]*1e3-(u.value[e-1]*1e3-u.value[e-2]*1e3)/2,r:4},null,8,K),s("circle",{class:"inlay",fill:"currentColor",cx:(l(t).tuning.length*40+60)/2+5,cy:u.value[e-1]*1e3-(u.value[e-1]*1e3-u.value[e-2]*1e3)/2,r:4},null,8,R)]))),128)),(o(!0),r(c,null,d(u.value,(e,i)=>(o(),r("g",{class:"fret",key:e},[s("line",{stroke:"gray","stroke-width":"1","stroke-linecap":"round",y1:e*1e3,x1:20,y2:e*1e3,x2:l(t).tuning.length*40+40},null,8,W),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"middle","dominant-baseline":"middle",x:24,y:e*1e3-8},m(i+1),9,X),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:l(t).tuning.length*40+30,y:e*1e3-8},m((e*l(t).l).toFixed(2))+" mm",9,Y)]))),128)),(o(!0),r(c,null,d(l(t).tuning,(e,i)=>(o(),r("g",{class:"note",key:e},[s("g",{onClick:x=>h(e,0,i)},[s("circle",{cy:-12,cx:i*40+50,r:12,fill:_(e,0)},null,8,ee),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:i*40+50,y:-11},m(e),9,te)],8,Z),(o(!0),r(c,null,d(u.value,(x,f)=>(o(),r("g",{class:"note",key:x,onClick:re=>h(l(w).transpose(e,l(C).fromSemitones(f+1)),f,i)},[s("circle",{cy:x*1e3-12,cx:i*40+50,r:12,fill:_(e,f+1)},null,8,se),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:i*40+50,y:x*1e3-11},m(l(w).transpose(e,l(C).fromSemitones(f+1))),9,le)],8,ne))),128))]))),128))],8,A))])]))}},ue=B(oe,[["__scopeId","data-v-2e844589"]]);export{ue as default};
