import{q as F,u as I,b as N,d as O,c as p,x as o,y as i,A as s,C as v,O as U,E as n,F as u,B as d,G as m,af as w,K as V,L as $}from"./framework.BY0U24KH.js";import{N as b,b5 as C,m as q,e as E,w as M,a$ as T,b6 as A,b7 as D,b8 as G}from"./theme.C7XPe3zW.js";const _=x=>(V("data-v-938b98c7"),x=x(),$(),x),L={class:"flex flex-col"},j={class:"flex flex-wrap items-center m-auto"},H={class:"flex items-center px-4"},K=_(()=>s("div",{class:"text-xl"},"Instrument",-1)),P=["value"],J={class:"flex items-center px-4"},Q=_(()=>s("div",{class:"text-xl"},"Scale length",-1)),R=_(()=>s("div",{class:"text-xl"},"mm",-1)),W={class:"flex items-center px-4"},X=_(()=>s("div",{class:"text-xl"},"Frets",-1)),Y={class:"flex flex-wrap"},Z=["viewBox"],ee=["x"],te=["x1","x2"],se=["y1","y2","x2"],ne=["x"],le=["cx","cy"],oe=["cx","cy"],ie=["cx","cy"],re=["y1","y2","x2"],ae=["y"],ce=["x","y"],ue=["onClick"],de=["cx","fill"],me=["x"],xe=["onClick"],fe=["cy","cx","fill"],he=["x","y"],_e={__name:"FretboardTool",props:{instruments:{type:Object,default:()=>{}}},setup(x){const k=x,t=I("instrument-calc",{l:430,frets:27,title:"Ukulele",tuning:["C4","G4","E4","A4"]}),S=N([]);function y(r,l,e){q(r),E(r),S[e]=r}O(()=>t.value.title,r=>{const l=k.instruments[r];t.value.l=l.l,t.value.frets=l.frets,t.value.tuning=l.tuning});const z=p(()=>[3,5,7,9,12,15,17,19,21].filter(r=>r<t.value.frets)),B=p(()=>[12,24].filter(r=>r<t.value.frets)),c=p(()=>{let r=[];for(let l=1;l<t.value.frets;l++)r.push(1-Math.pow(.9438743,l));return r});function g(r,l){return M(T(A(D(r,G(l))))).toHex()}return(r,l)=>(o(),i("div",L,[s("div",j,[s("div",H,[K,v(s("select",{class:"bg-transparent text-xl w-10rem m-2 p-2","onUpdate:modelValue":l[0]||(l[0]=e=>n(t).title=e)},[(o(!0),i(u,null,d(x.instruments,(e,a)=>(o(),i("option",{key:a,value:a},m(a),9,P))),128))],512),[[U,n(t).title]])]),s("div",J,[Q,v(s("input",{class:"bg-transparent text-2xl w-5rem m-2 p-2","onUpdate:modelValue":l[1]||(l[1]=e=>n(t).l=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[w,n(t).l]]),R]),s("div",W,[X,v(s("input",{class:"bg-transparent text-2xl w-4rem m-2 p-2","onUpdate:modelValue":l[2]||(l[2]=e=>n(t).frets=e),type:"number",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[w,n(t).frets]])])]),s("div",Y,[(o(),i("svg",{class:"flex-1 max-h-3xl w-full strings",id:"fretboard",version:"1.1",baseProfile:"full",viewBox:`0 -60 ${n(t).tuning.length*40+100} 1100`,xmlns:"http://www.w3.org/2000/svg"},[s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"16px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:(n(t).tuning.length*40+65)/2,y:-40},m(n(t).title),9,ee),(o(!0),i(u,null,d(n(t).tuning,(e,a)=>(o(),i("line",{class:"string",key:e,stroke:"currentColor","stroke-width":"1","stroke-linecap":"round",y1:0,x1:40*a+50,y2:1e3,x2:40*a+50},null,8,te))),128)),(o(),i(u,null,d([0,1e3],e=>s("line",{class:"end",key:e,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",y1:e,x1:10,y2:e,x2:n(t).tuning.length*40+55},null,8,se)),64)),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:n(t).tuning.length*40+20,y:990},m(n(t).l)+" mm",9,ne),(o(!0),i(u,null,d(z.value,e=>(o(),i("circle",{class:"inlay",key:e,fill:"currentColor",cx:(n(t).tuning.length*40+60)/2,cy:c.value[e-1]*1e3-(c.value[e-1]*1e3-c.value[e-2]*1e3)/2,r:4},null,8,le))),128)),(o(!0),i(u,null,d(B.value,e=>(o(),i("g",{key:e},[s("circle",{class:"inlay",fill:"currentColor",cx:(n(t).tuning.length*40+60)/2-5,cy:c.value[e-1]*1e3-(c.value[e-1]*1e3-c.value[e-2]*1e3)/2,r:4},null,8,oe),s("circle",{class:"inlay",fill:"currentColor",cx:(n(t).tuning.length*40+60)/2+5,cy:c.value[e-1]*1e3-(c.value[e-1]*1e3-c.value[e-2]*1e3)/2,r:4},null,8,ie)]))),128)),(o(!0),i(u,null,d(c.value,(e,a)=>(o(),i("g",{class:"fret",key:e},[s("line",{stroke:"gray","stroke-width":"1","stroke-linecap":"round",y1:e*1e3,x1:20,y2:e*1e3,x2:n(t).tuning.length*40+40},null,8,re),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"middle","dominant-baseline":"middle",x:24,y:e*1e3-8},m(a+1),9,ae),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"normal","text-anchor":"left","dominant-baseline":"middle",x:n(t).tuning.length*40+30,y:e*1e3-8},m((e*n(t).l).toFixed(2))+" mm",9,ce)]))),128)),(o(!0),i(u,null,d(n(t).tuning,(e,a)=>(o(),i("g",{class:"note",key:e},[s("g",{onClick:f=>y(e,0,a)},[s("circle",{cy:-12,cx:a*40+50,r:12,fill:g(e,0)},null,8,de),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:a*40+50,y:-11},m(e),9,me)],8,ue),(o(!0),i(u,null,d(c.value,(f,h)=>(o(),i("g",{class:"note",key:f,onClick:pe=>y(n(b).transpose(e,n(C).fromSemitones(h+1)),h,a)},[s("circle",{cy:f*1e3-12,cx:a*40+50,r:12,fill:g(e,h+1)},null,8,fe),s("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"10px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:a*40+50,y:f*1e3-11},m(n(b).transpose(e,n(C).fromSemitones(h+1))),9,he)],8,xe))),128))]))),128))],8,Z))])]))}},ge=F(_e,[["__scopeId","data-v-938b98c7"]]);export{ge as default};
