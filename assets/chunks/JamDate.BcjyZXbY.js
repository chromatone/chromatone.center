import{b0 as B,r as d,u as y,c as a,az as _,f as D,g as k,h as t,m as i,l as m,p as M}from"./framework.CRnXhBxo.js";import{H as P,I as $}from"./theme.Bq_9bLhe.js";const S={class:"flex flex-col w-full"},j={class:"w-full",viewBox:"0 0 1000 100","font-size":"22"},N={class:"start"},E={class:"pointer-events-none","font-weight":"bold",x:"10",y:"25",fill:"currentColor"},F=["width"],I={class:"pointer-events-none","text-anchor":"start",x:"10",y:"90",fill:"currentColor"},J={class:"finish"},V={class:"pointer-events-none","text-anchor":"end","font-weight":"bold",x:"990",y:"25",fill:"currentColor"},q=["width","x"],A={class:"pointer-events-none","text-anchor":"end",x:"990",y:"90",fill:"currentColor"},G={class:"now pointer-events-none"},K=["width"],L=["text-anchor","x"],U={__name:"JamDate",setup(O){const c=B(),u=d(y("jam-start",Date.now()-1e3*60*60)),h=P(y("jam-finish",Date.now()+1e3*60*60),c,Date.now()+1e3*60*60*365),l=a(()=>c.value-u.value),f=a(()=>h.value-c.value),r=a(()=>l.value/(l.value+f.value)),C=a(()=>p(l.value)),b=a(()=>p(f.value)),x=d("HH:mm"),H=_(u,x),T=_(h,x),z=_(c,"HH:mm:ss"),w=d(),g=d();$(({delta:n,shiftKey:e})=>{const o=n[0]-n[1],s=e?1e5:1e4;h.value+=o*s},{domTarget:g}),$(({delta:n,shiftKey:e})=>{const o=n[0]-n[1],s=e?1e5:1e4;u.value+=o*s},{domTarget:w});function p(n){const e=Math.floor(n/1e3),o=Math.floor(e/60),s=Math.floor(o/60),v=Math.floor(s/24);return v>0?`${v}d ${s-v*24}hr`:s>0?`${s}hr ${o-s*60}min`:o>0?`${o}min ${e-o*60}s`:`${e}s`}return(n,e)=>(D(),k("div",S,[(D(),k("svg",j,[e[3]||(e[3]=t("g",null,[t("rect",{stroke:"currentColor",x:"0",y:"0",fill:"transparent",width:"1000",height:"100"})],-1)),t("g",N,[t("rect",{class:"cursor-move",ref_key:"startPad",ref:w,onDblclick:e[0]||(e[0]=o=>u.value=Date.now()),width:"150",height:"100",fill:"#6663"},null,544),t("text",E,i(m(H)),1),t("rect",{width:1e3*r.value,x:0,height:"30",y:"70",fill:"#9996"},null,8,F),t("text",I,i(C.value)+" elapsed",1)]),t("g",J,[t("rect",{class:"cursor-move",ref_key:"finishPad",ref:g,onDblclick:e[1]||(e[1]=o=>h.value=Date.now()+1e3*60*20),x:"850",width:150,height:"100",fill:"#9993"},null,544),t("text",V,i(m(T)),1),t("rect",{width:1e3*(1-r.value),x:1e3-1e3*(1-r.value),height:"30",y:"70",fill:"#9996"},null,8,q),t("text",A,i(b.value)+" left",1)]),t("g",G,[t("rect",{width:r.value*1e3,height:"100",fill:"#2224"},null,8,K),t("g",{style:M({transform:`translate(${r.value*1e3}px)`})},[e[2]||(e[2]=t("line",{y2:100,stroke:"currentColor","stroke-width":"4"},null,-1)),t("text",{"text-anchor":f.value<l.value?"end":"start","font-weight":"bold",x:f.value<l.value?-10:10,y:"55","font-size":"24",fill:"currentColor"},i(m(z)),9,L)],4)])]))]))}};export{U as _};
