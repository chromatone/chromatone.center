import{_ as C}from"./JamDate.DvuYzUku.js";import{w as $,M as x,aj as v,g as t,n as S,i as j,S as B,_ as D,a$ as z}from"./theme.C7l8iKW5.js";import{e as J,f as c,g as r,F as b,j as w,p as h,l as e,h as s,m as i,n as M,r as y,al as T,x as F,U as a,A as N,k as V,v as A,am as E,a2 as L}from"./framework.Ce66O8ev.js";import{_ as O}from"./ChromaCode.CwzdWe-e.js";const U={class:"flex flex gap-1"},W=["onClick"],q={class:"text-md opacity-80"},G={__name:"JamChroma",setup(g){return J(),(_,n)=>(c(),r("div",U,[(c(!0),r(b,null,w(e(t).chroma,(l,o)=>(c(),r("div",{class:"flex-1 text-black rounded cursor-pointer relative flex items-center flex-col gap-2 justify-between overflow-hidden",key:o,style:h({color:e($)(e(x)(o,l,"#fff","#000")).isDark()?"white":"black",backgroundColor:e(x)(o,l,"#fffa","#000a"),opacity:e(v).activeChromaMidi[(o+e(t).tonic)%12]?1:l==1?.9:.3}),onClick:d=>e(t).tonic=(o+e(t).tonic)%12},[s("div",{class:"pt-2 font-bold text-center text-xl",style:h({fontWeight:l==1?"bold":"normal"})},i(e(S)[(o+e(t).tonic)%12]),5),s("div",{class:M(["p-2 mx-auto opacity-0 rounded-full transition",{"opacity-80":e(v).activeChromaMidi[(o+e(t).tonic)%12]}]),style:{backgroundColor:"currentColor"}},null,2),s("div",q,i(e(j)[o]),1),s("div",{class:"p-6px w-full opacity-80",style:h({backgroundColor:e(x)(o,0,"#fff8","#0008")})},null,4)],12,W))),128))]))}},H={class:"flex gap-4 items-center"},I={class:"p-0 text-2xl font-bold flex items-center gap-4"},K={class:"w-60 text-lg tabular-nums font-mono"},P=["onClick"],Q={class:"p-0 text-xl"},R={__name:"JamScale",setup(g){const _=y();T(_,()=>{n.value=!1});const n=y(!1);return(l,o)=>{var p,u,f,k;const d=O;return c(),r("div",H,[s("div",{class:"w-full flex gap-4 cursor-pointer bg-dark-900 bg-opacity-40 p-2 rounded-xl items-center",onClick:o[0]||(o[0]=m=>n.value=!n.value)},[s("div",I,i((u=(p=e(t))==null?void 0:p.note)==null?void 0:u.name)+" "+i((k=(f=e(t))==null?void 0:f.set)==null?void 0:k.name),1),o[1]||(o[1]=s("div",{class:"flex-1"},null,-1)),o[2]||(o[2]=s("div",{class:"text-lg i-la-angle-down"},null,-1))]),s("div",K,i(e(v).guessChords[0]),1),F(l.$slots,"default"),a(E,{name:"fade"},{default:N(()=>[V(s("div",{class:"flex flex-col max-h-40vh overflow-scroll absolute bg-light-100 dark-bg-dark-100 rounded-xl overscroll-contain scroll-smooth snap-y snap-proximity z-100",ref_key:"menu",ref:_},[(c(!0),r(b,null,w(e(B).all(),m=>(c(),r("div",{class:"text-md flex-auto flex items-center gap-2 cursor-pointer hover-bg-light-400 hover-bg-opacity-10 p-2",key:m,onClick:ee=>{e(t).chroma=m.chroma,n.value=!1}},[s("div",Q,i(m.name),1),o[3]||(o[3]=s("div",{class:"flex-1"},null,-1)),a(d,{chroma:m.chroma,cols:12},null,8,["chroma"])],8,P))),128))],512),[[A,n.value]])]),_:1})])}}},X={class:"bg-light-900 dark-bg-dark-800",id:"screen"},Y={class:"flex p-4 gap-4 items-center flex-wrap w-full"},Z={class:"flex p-4 gap-4 items-center w-full"},le={__name:"JamTable",setup(g){return(_,n)=>{const l=L("gpu-shader"),o=D,d=R,p=G,u=z,f=C;return c(),r("div",X,[s("div",{class:"flex gap-6 p-4 justify-between relative items-stretch flex-col min-h-full",style:h({backgroundColor:`hsla(${30*e(t).tonic}, 80%, 50%, 0.1)`})},[s("div",Y,[a(l,{class:"w-60 h-60"}),a(o,{class:"flex-1 max-h-60 transform -scale-y-100 -scale-x-100",chroma:e(t).chroma,pitch:e(t).tonic},null,8,["chroma","pitch"])]),a(d),a(p,{class:"flex-auto"}),s("div",Z,[a(o,{class:"flex-1 max-h-60",chroma:e(t).chroma,pitch:e(t).tonic},null,8,["chroma","pitch"]),a(u,{class:"w-60 op-70",letters:!1,chroma:!0})]),a(f)],4)])}}};export{le as default};
