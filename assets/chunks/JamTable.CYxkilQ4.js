import{_ as y}from"./JamDate.O6GBfTHu.js";import{g as t,aY as x,N as p,w,n as C,i as $,bn as S,aZ as j,S as D,_ as z,bo as B}from"./theme.DKUtGHOP.js";import{a4 as J,q as r,f as i,F as g,Y as k,v as u,u as e,s,z as m,y as N,r as v,k as T,l,j as F,Z as V,$ as Y,a8 as Z,i as q}from"./framework.Bbwy4zmA.js";import{_ as E}from"./ChromaCode.CTCb8-dG.js";const L={class:"flex flex gap-1"},M=["onClick"],O={class:"text-md opacity-80"},W={__name:"JamChroma",setup(f){const{isDark:_}=J();return(c,d)=>(i(),r("div",L,[(i(!0),r(g,null,k(e(t).chroma,(o,a)=>(i(),r("div",{class:"flex-1 text-black rounded cursor-pointer relative flex items-center flex-col gap-2 justify-between overflow-hidden",key:a,style:u({color:e(w)(e(p)(a,o,"#fff","#000")).isDark()?"white":"black",backgroundColor:e(p)(a,o,"#fffa","#000a"),opacity:e(x)[(a+e(t).tonic)%12]?1:o==1?.9:.3}),onClick:n=>e(t).tonic=(a+e(t).tonic)%12},[s("div",{class:"pt-2 font-bold text-center text-xl",style:u({fontWeight:o==1?"bold":"normal"})},m(e(C)[(a+e(t).tonic)%12]),5),s("div",{class:N(["p-2 mx-auto opacity-0 rounded-full transition",{"opacity-80":e(x)[(a+e(t).tonic)%12]}]),style:{backgroundColor:"currentColor"}},null,2),s("div",O,m(e($)[a]),1),s("div",{class:"p-6px w-full opacity-80",style:u({backgroundColor:e(p)(a,0,"#fff8","#0008")})},null,4)],12,M))),128))]))}},A={class:"flex gap-4 items-center"},G={class:"p-0 text-2xl font-bold flex items-center gap-4"},H={class:"w-60 text-lg tabular-nums font-mono"},I=["onClick"],K={class:"p-0 text-xl"},P={__name:"JamScale",setup(f){const _=v();S(_,()=>{c.value=!1});const c=v(!1);return(d,o)=>{const a=E;return i(),r("div",A,[s("div",{class:"w-full flex gap-4 cursor-pointer bg-dark-900 bg-opacity-40 p-2 rounded-xl items-center",onClick:o[0]||(o[0]=n=>c.value=!c.value)},[s("div",G,m(e(t)?.note?.name)+" "+m(e(t)?.set?.name),1),o[1]||(o[1]=s("div",{class:"flex-1"},null,-1)),o[2]||(o[2]=s("div",{class:"text-lg i-la-angle-down"},null,-1))]),s("div",H,m(e(j)[0]),1),T(d.$slots,"default"),l(Z,{name:"fade"},{default:F(()=>[V(s("div",{class:"flex flex-col max-h-40vh overflow-scroll absolute bg-light-100 dark-bg-dark-100 rounded-xl overscroll-contain scroll-smooth snap-y snap-proximity z-100",ref_key:"menu",ref:_},[(i(!0),r(g,null,k(e(D).all(),n=>(i(),r("div",{class:"text-md flex-auto flex items-center gap-2 cursor-pointer hover-bg-light-400 hover-bg-opacity-10 p-2",key:n,onClick:h=>{e(t).chroma=n.chroma,c.value=!1}},[s("div",K,m(n.name),1),o[3]||(o[3]=s("div",{class:"flex-1"},null,-1)),l(a,{chroma:n.chroma,cols:12},null,8,["chroma"])],8,I))),128))],512),[[Y,c.value]])]),_:1})])}}},Q={class:"bg-light-900 dark-bg-dark-800",id:"screen"},R={class:"flex p-4 gap-4 items-center flex-wrap w-full"},U={class:"flex p-4 gap-4 items-center w-full"},te={__name:"JamTable",setup(f){return(_,c)=>{const d=q("gpu-shader"),o=z,a=P,n=W,h=B,b=y;return i(),r("div",Q,[s("div",{class:"flex gap-6 p-4 justify-between relative items-stretch flex-col min-h-full",style:u({backgroundColor:`hsla(${30*e(t).tonic}, 80%, 50%, 0.1)`})},[s("div",R,[l(d,{class:"w-60 h-60"}),l(o,{class:"flex-1 max-h-60 transform -scale-y-100 -scale-x-100",chroma:e(t).chroma,pitch:e(t).tonic},null,8,["chroma","pitch"])]),l(a),l(n,{class:"flex-auto"}),s("div",U,[l(o,{class:"flex-1 max-h-60",chroma:e(t).chroma,pitch:e(t).tonic},null,8,["chroma","pitch"]),l(h,{class:"w-60 op-70",letters:!1,chroma:!0})]),l(b)],4)])}}};export{te as default};
