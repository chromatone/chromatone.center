import{_ as C}from"./JamDate.C2kfg4_F.js";import{g as t,aQ as k,J as x,w as $,n as S,i as j,aR as D,S as z,_ as B,aY as J}from"./theme.7_GhOmt2.js";import{a8 as T,q as c,f as r,F as b,Q as w,v as h,u as e,s as o,z as i,y as F,r as y,ah as N,k as Q,l,j as R,R as V,S as q,ae as E,i as L}from"./framework.D01lOa8K.js";import{_ as M}from"./ChromaCode.s7Uoj5CX.js";const O={class:"flex flex gap-1"},W=["onClick"],Y={class:"text-md opacity-80"},A={__name:"JamChroma",setup(v){const{isDark:d}=T();return(n,u)=>(r(),c("div",O,[(r(!0),c(b,null,w(e(t).chroma,(s,a)=>(r(),c("div",{class:"flex-1 text-black rounded cursor-pointer relative flex items-center flex-col gap-2 justify-between overflow-hidden",key:a,style:h({color:e($)(e(x)(a,s,"#fff","#000")).isDark()?"white":"black",backgroundColor:e(x)(a,s,"#fffa","#000a"),opacity:e(k)[(a+e(t).tonic)%12]?1:s==1?.9:.3}),onClick:m=>e(t).tonic=(a+e(t).tonic)%12},[o("div",{class:"pt-2 font-bold text-center text-xl",style:h({fontWeight:s==1?"bold":"normal"})},i(e(S)[(a+e(t).tonic)%12]),5),o("div",{class:F(["p-2 mx-auto opacity-0 rounded-full transition",{"opacity-80":e(k)[(a+e(t).tonic)%12]}]),style:{backgroundColor:"currentColor"}},null,2),o("div",Y,i(e(j)[a]),1),o("div",{class:"p-6px w-full opacity-80",style:h({backgroundColor:e(x)(a,0,"#fff8","#0008")})},null,4)],12,W))),128))]))}},G={class:"flex gap-4 items-center"},H={class:"p-0 text-2xl font-bold flex items-center gap-4"},I={class:"w-60 text-lg tabular-nums font-mono"},K=["onClick"],P={class:"p-0 text-xl"},U={__name:"JamScale",setup(v){const d=y();N(d,()=>{n.value=!1});const n=y(!1);return(u,s)=>{var m,p,f,g;const a=M;return r(),c("div",G,[o("div",{class:"w-full flex gap-4 cursor-pointer bg-dark-900 bg-opacity-40 p-2 rounded-xl items-center",onClick:s[0]||(s[0]=_=>n.value=!n.value)},[o("div",H,i((p=(m=e(t))==null?void 0:m.note)==null?void 0:p.name)+" "+i((g=(f=e(t))==null?void 0:f.set)==null?void 0:g.name),1),s[1]||(s[1]=o("div",{class:"flex-1"},null,-1)),s[2]||(s[2]=o("div",{class:"text-lg i-la-angle-down"},null,-1))]),o("div",I,i(e(D)[0]),1),Q(u.$slots,"default"),l(E,{name:"fade"},{default:R(()=>[V(o("div",{class:"flex flex-col max-h-40vh overflow-scroll absolute bg-light-100 dark-bg-dark-100 rounded-xl overscroll-contain scroll-smooth snap-y snap-proximity z-100",ref_key:"menu",ref:d},[(r(!0),c(b,null,w(e(z).all(),_=>(r(),c("div",{class:"text-md flex-auto flex items-center gap-2 cursor-pointer hover-bg-light-400 hover-bg-opacity-10 p-2",key:_,onClick:se=>{e(t).chroma=_.chroma,n.value=!1}},[o("div",P,i(_.name),1),s[3]||(s[3]=o("div",{class:"flex-1"},null,-1)),l(a,{chroma:_.chroma,cols:12},null,8,["chroma"])],8,K))),128))],512),[[q,n.value]])]),_:1})])}}},X={class:"bg-light-900 dark-bg-dark-800",id:"screen"},Z={class:"flex p-4 gap-4 items-center flex-wrap w-full"},ee={class:"flex p-4 gap-4 items-center w-full"},ne={__name:"JamTable",setup(v){return(d,n)=>{const u=L("gpu-shader"),s=B,a=U,m=A,p=J,f=C;return r(),c("div",X,[o("div",{class:"flex gap-6 p-4 justify-between relative items-stretch flex-col min-h-full",style:h({backgroundColor:`hsla(${30*e(t).tonic}, 80%, 50%, 0.1)`})},[o("div",Z,[l(u,{class:"w-60 h-60"}),l(s,{class:"flex-1 max-h-60 transform -scale-y-100 -scale-x-100",chroma:e(t).chroma,pitch:e(t).tonic},null,8,["chroma","pitch"])]),l(a),l(m,{class:"flex-auto"}),o("div",ee,[l(s,{class:"flex-1 max-h-60",chroma:e(t).chroma,pitch:e(t).tonic},null,8,["chroma","pitch"]),l(p,{class:"w-60 op-70",letters:!1,chroma:!0})]),l(f)],4)])}}};export{ne as default};
