import{r as Zt,b as gt,c as Vt,aX as eu,d as Ht,x as kr,y as jr,A as re,E as Hr,G as tu,I as nu,F as Ue,B as wt,H as iu}from"./framework.BjEhsXnI.js";import{A as uu,g as we,K as fe,e as au,ag as Jt,C as Yt,k as ou}from"./theme.PFdcTZPy.js";function Ge(){return Ge=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ge.apply(null,arguments)}var Nn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function su(r,e){if(Xe(r,e))return r[e];throw typeof r[e]=="function"&&cu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function fu(r,e,t){if(Xe(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function Xe(r,e){return!lu(r)&&!Array.isArray(r)?!1:ze(hu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function cu(r,e){return r==null||typeof r[e]!="function"||ze(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ze(vu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function lu(r){return typeof r=="object"&&r&&r.constructor===Object}var hu={length:!0,name:!0},vu={toString:!0,valueOf:!0,toLocaleString:!0};class Du{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return su(this.wrappedObject,e)}set(e,t){return fu(this.wrappedObject,e,t),this}has(e){return Xe(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return pu(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){Xe(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function pu(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function wr(r){return typeof r=="number"}function zr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function du(r){return typeof r=="bigint"}function Tn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function zn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function On(r){return r&&r.constructor.prototype.isUnit===!0||!1}function ue(r){return typeof r=="string"}var Er=Array.isArray;function Nr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Ke(r){return Array.isArray(r)||Nr(r)}function In(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Pn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function mu(r){return r&&r.constructor.prototype.isRange===!0||!1}function Nt(r){return r&&r.constructor.prototype.isIndex===!0||!1}function gu(r){return typeof r=="boolean"}function wu(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function yu(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Au(r){return typeof r=="function"}function Fu(r){return r instanceof Date}function Eu(r){return r instanceof RegExp}function Tt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Tn(r)&&!zn(r))}function Cu(r){return r?r instanceof Map||r instanceof Du||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function _u(r){return r===null}function Mu(r){return r===void 0}function Bu(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Su(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function xu(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nu(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tu(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function zu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ou(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Iu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pu(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function $u(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function qu(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ru(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Lu(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Uu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zu(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vu(r){return r&&r.constructor.prototype.isChain===!0||!1}function ve(r){var e=typeof r;return e==="object"?r===null?"null":zr(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Cr(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return Cr(t)});if(r instanceof Date)return new Date(r.valueOf());if(zr(r))return r;if(Tt(r))return Hu(r,Cr);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Hu(r,e){var t={};for(var i in r)ze(r,i)&&(t[i]=e(r[i]));return t}function Ju(r,e){for(var t in e)ze(e,t)&&(r[t]=e[t]);return r}function De(r,e){var t,i,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,n=r.length;i<n;i++)if(!De(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!De(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function ze(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Yu(r,e){for(var t={},i=0;i<e.length;i++){var n=e[i],a=r[n];a!==void 0&&(t[n]=a)}return t}var Gu=["Matrix","Array"],Xu=["number","BigNumber","Fraction"],Ae=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Nn)};Ge(Ae,Nn,{MATRIX_OPTIONS:Gu,NUMBER_OPTIONS:Xu});function Gt(){return!0}function Xr(){return!1}function Ce(){}const Xt="Argument is not a typed-function.";function $n(){function r(C){return typeof C=="object"&&C!==null&&C.constructor===Object}const e=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],t={name:"any",test:Gt,isAny:!0};let i,n,a=0,f={createCount:0};function l(C){const S=i.get(C);if(S)return S;let N='Unknown type "'+C+'"';const P=C.toLowerCase();let L;for(L of n)if(L.toLowerCase()===P){N+='. Did you mean "'+L+'" ?';break}throw new TypeError(N)}function v(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=S?l(S).index:n.length,P=[];for(let $=0;$<C.length;++$){if(!C[$]||typeof C[$].name!="string"||typeof C[$].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Y=C[$].name;if(i.has(Y))throw new TypeError('Duplicate type name "'+Y+'"');P.push(Y),i.set(Y,{name:Y,test:C[$].test,isAny:C[$].isAny,index:N+$,conversionsTo:[]})}const L=n.slice(N);n=n.slice(0,N).concat(P).concat(L);for(let $=N+P.length;$<n.length;++$)i.get(n[$]).index=$}function D(){i=new Map,n=[],a=0,v([t],!1)}D(),v(e);function o(){let C;for(C of n)i.get(C).conversionsTo=[];a=0}function u(C){const S=n.filter(N=>{const P=i.get(N);return!P.isAny&&P.test(C)});return S.length?S:["any"]}function s(C){return C&&typeof C=="function"&&"_typedFunctionData"in C}function c(C,S,N){if(!s(C))throw new TypeError(Xt);const P=N&&N.exact,L=Array.isArray(S)?S.join(","):S,$=F(L),Y=g($);if(!P||Y in C.signatures){const pr=C._typedFunctionData.signatureMap.get(Y);if(pr)return pr}const Z=$.length;let G;if(P){G=[];let pr;for(pr in C.signatures)G.push(C._typedFunctionData.signatureMap.get(pr))}else G=C._typedFunctionData.signatures;for(let pr=0;pr<Z;++pr){const gr=$[pr],_r=[];let Zr;for(Zr of G){const Rr=M(Zr.params,pr);if(!(!Rr||gr.restParam&&!Rr.restParam)){if(!Rr.hasAny){const Qr=w(Rr);if(gr.types.some(Wr=>!Qr.has(Wr.name)))continue}_r.push(Zr)}}if(G=_r,G.length===0)break}let U;for(U of G)if(U.params.length<=Z)return U;throw new TypeError("Signature not found (signature: "+(C.name||"unnamed")+"("+g($,", ")+"))")}function d(C,S,N){return c(C,S,N).implementation}function h(C,S){const N=l(S);if(N.test(C))return C;const P=N.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+S+" defined.");for(let L=0;L<P.length;L++)if(l(P[L].from).test(C))return P[L].convert(C);throw new Error("Cannot convert "+C+" to "+S)}function g(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return C.map(N=>N.name).join(S)}function m(C){const S=C.indexOf("...")===0,P=(S?C.length>3?C.slice(3):"any":C).split("|").map(Z=>l(Z.trim()));let L=!1,$=S?"...":"";return{types:P.map(function(Z){return L=Z.isAny||L,$+=Z.name+"|",{name:Z.name,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:null,conversionIndex:-1}}),name:$.slice(0,-1),hasAny:L,hasConversion:!1,restParam:S}}function A(C){const S=C.types.map(Y=>Y.name),N=J(S);let P=C.hasAny,L=C.name;const $=N.map(function(Y){const Z=l(Y.from);return P=Z.isAny||P,L+="|"+Y.from,{name:Y.from,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:Y,conversionIndex:Y.index}});return{types:C.types.concat($),name:L,hasAny:P,hasConversion:$.length>0,restParam:C.restParam}}function w(C){return C.typeSet||(C.typeSet=new Set,C.types.forEach(S=>C.typeSet.add(S.name))),C.typeSet}function F(C){const S=[];if(typeof C!="string")throw new TypeError("Signatures must be strings");const N=C.trim();if(N==="")return S;const P=N.split(",");for(let L=0;L<P.length;++L){const $=m(P[L].trim());if($.restParam&&L!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[L]+'": only allowed for the last parameter');if($.types.length===0)return null;S.push($)}return S}function y(C){const S=ur(C);return S?S.restParam:!1}function p(C){if(!C||C.types.length===0)return Gt;if(C.types.length===1)return l(C.types[0].name).test;if(C.types.length===2){const S=l(C.types[0].name).test,N=l(C.types[1].name).test;return function(L){return S(L)||N(L)}}else{const S=C.types.map(function(N){return l(N.name).test});return function(P){for(let L=0;L<S.length;L++)if(S[L](P))return!0;return!1}}}function _(C){let S,N,P;if(y(C)){S=sr(C).map(p);const L=S.length,$=p(ur(C)),Y=function(Z){for(let G=L;G<Z.length;G++)if(!$(Z[G]))return!1;return!0};return function(G){for(let U=0;U<S.length;U++)if(!S[U](G[U]))return!1;return Y(G)&&G.length>=L+1}}else return C.length===0?function($){return $.length===0}:C.length===1?(N=p(C[0]),function($){return N($[0])&&$.length===1}):C.length===2?(N=p(C[0]),P=p(C[1]),function($){return N($[0])&&P($[1])&&$.length===2}):(S=C.map(p),function($){for(let Y=0;Y<S.length;Y++)if(!S[Y]($[Y]))return!1;return $.length===S.length})}function M(C,S){return S<C.length?C[S]:y(C)?ur(C):null}function E(C,S){const N=M(C,S);return N?w(N):new Set}function B(C){return C.conversion===null||C.conversion===void 0}function b(C,S){const N=new Set;return C.forEach(P=>{const L=E(P.params,S);let $;for($ of L)N.add($)}),N.has("any")?["any"]:Array.from(N)}function z(C,S,N){let P,L;const $=C||"unnamed";let Y=N,Z;for(Z=0;Z<S.length;Z++){const gr=[];if(Y.forEach(_r=>{const Zr=M(_r.params,Z),Rr=p(Zr);(Z<_r.params.length||y(_r.params))&&Rr(S[Z])&&gr.push(_r)}),gr.length===0){if(L=b(Y,Z),L.length>0){const _r=u(S[Z]);return P=new TypeError("Unexpected type of argument in function "+$+" (expected: "+L.join(" or ")+", actual: "+_r.join(" | ")+", index: "+Z+")"),P.data={category:"wrongType",fn:$,index:Z,actual:_r,expected:L},P}}else Y=gr}const G=Y.map(function(gr){return y(gr.params)?1/0:gr.params.length});if(S.length<Math.min.apply(null,G))return L=b(Y,Z),P=new TypeError("Too few arguments in function "+$+" (expected: "+L.join(" or ")+", index: "+S.length+")"),P.data={category:"tooFewArgs",fn:$,index:S.length,expected:L},P;const U=Math.max.apply(null,G);if(S.length>U)return P=new TypeError("Too many arguments in function "+$+" (expected: "+U+", actual: "+S.length+")"),P.data={category:"tooManyArgs",fn:$,index:S.length,expectedLength:U},P;const pr=[];for(let gr=0;gr<S.length;++gr)pr.push(u(S[gr]).join("|"));return P=new TypeError('Arguments of type "'+pr.join(", ")+'" do not match any of the defined signatures of function '+$+"."),P.data={category:"mismatch",actual:pr},P}function R(C){let S=n.length+1;for(let N=0;N<C.types.length;N++)B(C.types[N])&&(S=Math.min(S,C.types[N].typeIndex));return S}function I(C){let S=a+1;for(let N=0;N<C.types.length;N++)B(C.types[N])||(S=Math.min(S,C.types[N].conversionIndex));return S}function O(C,S){if(C.hasAny){if(!S.hasAny)return 1}else if(S.hasAny)return-1;if(C.restParam){if(!S.restParam)return 1}else if(S.restParam)return-1;if(C.hasConversion){if(!S.hasConversion)return 1}else if(S.hasConversion)return-1;const N=R(C)-R(S);if(N<0)return-1;if(N>0)return 1;const P=I(C)-I(S);return P<0?-1:P>0?1:0}function x(C,S){const N=C.params,P=S.params,L=ur(N),$=ur(P),Y=y(N),Z=y(P);if(Y&&L.hasAny){if(!Z||!$.hasAny)return 1}else if(Z&&$.hasAny)return-1;let G=0,U=0,pr;for(pr of N)pr.hasAny&&++G,pr.hasConversion&&++U;let gr=0,_r=0;for(pr of P)pr.hasAny&&++gr,pr.hasConversion&&++_r;if(G!==gr)return G-gr;if(Y&&L.hasConversion){if(!Z||!$.hasConversion)return 1}else if(Z&&$.hasConversion)return-1;if(U!==_r)return U-_r;if(Y){if(!Z)return 1}else if(Z)return-1;const Zr=(N.length-P.length)*(Y?-1:1);if(Zr!==0)return Zr;const Rr=[];let Qr=0;for(let Ee=0;Ee<N.length;++Ee){const Re=O(N[Ee],P[Ee]);Rr.push(Re),Qr+=Re}if(Qr!==0)return Qr;let Wr;for(Wr of Rr)if(Wr!==0)return Wr;return 0}function J(C){if(C.length===0)return[];const S=C.map(l);C.length>1&&S.sort((L,$)=>L.index-$.index);let N=S[0].conversionsTo;if(C.length===1)return N;N=N.concat([]);const P=new Set(C);for(let L=1;L<S.length;++L){let $;for($ of S[L].conversionsTo)P.has($.from)||(N.push($),P.add($.from))}return N}function V(C,S){let N=S;if(C.some(L=>L.hasConversion)){const L=y(C),$=C.map(T);N=function(){const Z=[],G=L?arguments.length-1:arguments.length;for(let U=0;U<G;U++)Z[U]=$[U](arguments[U]);return L&&(Z[G]=arguments[G].map($[G])),S.apply(this,Z)}}let P=N;if(y(C)){const L=C.length-1;P=function(){return N.apply(this,j(arguments,0,L).concat([j(arguments,L)]))}}return P}function T(C){let S,N,P,L;const $=[],Y=[];switch(C.types.forEach(function(Z){Z.conversion&&($.push(l(Z.conversion.from).test),Y.push(Z.conversion.convert))}),Y.length){case 0:return function(G){return G};case 1:return S=$[0],P=Y[0],function(G){return S(G)?P(G):G};case 2:return S=$[0],N=$[1],P=Y[0],L=Y[1],function(G){return S(G)?P(G):N(G)?L(G):G};default:return function(G){for(let U=0;U<Y.length;U++)if($[U](G))return Y[U](G);return G}}}function H(C){function S(N,P,L){if(P<N.length){const $=N[P];let Y=[];if($.restParam){const Z=$.types.filter(B);Z.length<$.types.length&&Y.push({types:Z,name:"..."+Z.map(G=>G.name).join("|"),hasAny:Z.some(G=>G.isAny),hasConversion:!1,restParam:!0}),Y.push($)}else Y=$.types.map(function(Z){return{types:[Z],name:Z.name,hasAny:Z.isAny,hasConversion:Z.conversion,restParam:!1}});return dr(Y,function(Z){return S(N,P+1,L.concat([Z]))})}else return[L]}return S(C,0,[])}function X(C,S){const N=Math.max(C.length,S.length);for(let Z=0;Z<N;Z++){const G=E(C,Z),U=E(S,Z);let pr=!1,gr;for(gr of U)if(G.has(gr)){pr=!0;break}if(!pr)return!1}const P=C.length,L=S.length,$=y(C),Y=y(S);return $?Y?P===L:L>=P:Y?P>=L:P===L}function ir(C){return C.map(S=>Ir(S)?Mr(S.referToSelf.callback):Ur(S)?cr(S.referTo.references,S.referTo.callback):S)}function er(C,S,N){const P=[];let L;for(L of C){let $=N[L];if(typeof $!="number")throw new TypeError('No definition for referenced signature "'+L+'"');if($=S[$],typeof $!="function")return!1;P.push($)}return P}function W(C,S,N){const P=ir(C),L=new Array(P.length).fill(!1);let $=!0;for(;$;){$=!1;let Y=!0;for(let Z=0;Z<P.length;++Z){if(L[Z])continue;const G=P[Z];if(Ir(G))P[Z]=G.referToSelf.callback(N),P[Z].referToSelf=G.referToSelf,L[Z]=!0,Y=!1;else if(Ur(G)){const U=er(G.referTo.references,P,S);U?(P[Z]=G.referTo.callback.apply(this,U),P[Z].referTo=G.referTo,L[Z]=!0,Y=!1):$=!0}}if(Y&&$)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function hr(C){const S=/\bthis(\(|\.signatures\b)/;Object.keys(C).forEach(N=>{const P=C[N];if(S.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function or(C,S){if(f.createCount++,Object.keys(S).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&hr(S);const N=[],P=[],L={},$=[];let Y;for(Y in S){if(!Object.prototype.hasOwnProperty.call(S,Y))continue;const vr=F(Y);if(!vr)continue;N.forEach(function(Te){if(X(Te,vr))throw new TypeError('Conflicting signatures "'+g(Te)+'" and "'+g(vr)+'".')}),N.push(vr);const Vr=P.length;P.push(S[Y]);const ji=vr.map(A);let Le;for(Le of H(ji)){const Te=g(Le);$.push({params:Le,name:Te,fn:Vr}),Le.every(ru=>!ru.hasConversion)&&(L[Te]=Vr)}}$.sort(x);const Z=W(P,L,Ne);let G;for(G in L)Object.prototype.hasOwnProperty.call(L,G)&&(L[G]=Z[L[G]]);const U=[],pr=new Map;for(G of $)pr.has(G.name)||(G.fn=Z[G.fn],U.push(G),pr.set(G.name,G));const gr=U[0]&&U[0].params.length<=2&&!y(U[0].params),_r=U[1]&&U[1].params.length<=2&&!y(U[1].params),Zr=U[2]&&U[2].params.length<=2&&!y(U[2].params),Rr=U[3]&&U[3].params.length<=2&&!y(U[3].params),Qr=U[4]&&U[4].params.length<=2&&!y(U[4].params),Wr=U[5]&&U[5].params.length<=2&&!y(U[5].params),Ee=gr&&_r&&Zr&&Rr&&Qr&&Wr;for(let vr=0;vr<U.length;++vr)U[vr].test=_(U[vr].params);const Re=gr?p(U[0].params[0]):Xr,_i=_r?p(U[1].params[0]):Xr,Mi=Zr?p(U[2].params[0]):Xr,Bi=Rr?p(U[3].params[0]):Xr,Si=Qr?p(U[4].params[0]):Xr,bi=Wr?p(U[5].params[0]):Xr,xi=gr?p(U[0].params[1]):Xr,Ni=_r?p(U[1].params[1]):Xr,Ti=Zr?p(U[2].params[1]):Xr,zi=Rr?p(U[3].params[1]):Xr,Oi=Qr?p(U[4].params[1]):Xr,Ii=Wr?p(U[5].params[1]):Xr;for(let vr=0;vr<U.length;++vr)U[vr].implementation=V(U[vr].params,U[vr].fn);const Pi=gr?U[0].implementation:Ce,$i=_r?U[1].implementation:Ce,qi=Zr?U[2].implementation:Ce,Ri=Rr?U[3].implementation:Ce,Li=Qr?U[4].implementation:Ce,Ui=Wr?U[5].implementation:Ce,Zi=gr?U[0].params.length:-1,Vi=_r?U[1].params.length:-1,Hi=Zr?U[2].params.length:-1,Ji=Rr?U[3].params.length:-1,Yi=Qr?U[4].params.length:-1,Gi=Wr?U[5].params.length:-1,Xi=Ee?6:0,Ki=U.length,Qi=U.map(vr=>vr.test),Wi=U.map(vr=>vr.implementation),ki=function(){for(let Vr=Xi;Vr<Ki;Vr++)if(Qi[Vr](arguments))return Wi[Vr].apply(this,arguments);return f.onMismatch(C,arguments,U)};function Ne(vr,Vr){return arguments.length===Zi&&Re(vr)&&xi(Vr)?Pi.apply(this,arguments):arguments.length===Vi&&_i(vr)&&Ni(Vr)?$i.apply(this,arguments):arguments.length===Hi&&Mi(vr)&&Ti(Vr)?qi.apply(this,arguments):arguments.length===Ji&&Bi(vr)&&zi(Vr)?Ri.apply(this,arguments):arguments.length===Yi&&Si(vr)&&Oi(Vr)?Li.apply(this,arguments):arguments.length===Gi&&bi(vr)&&Ii(Vr)?Ui.apply(this,arguments):ki.apply(this,arguments)}try{Object.defineProperty(Ne,"name",{value:C})}catch{}return Ne.signatures=L,Ne._typedFunctionData={signatures:U,signatureMap:pr},Ne}function nr(C,S,N){throw z(C,S,N)}function sr(C){return j(C,0,C.length-1)}function ur(C){return C[C.length-1]}function j(C,S,N){return Array.prototype.slice.call(C,S,N)}function Ar(C,S){for(let N=0;N<C.length;N++)if(S(C[N]))return C[N]}function dr(C,S){return Array.prototype.concat.apply([],C.map(S))}function ar(){const C=sr(arguments).map(N=>g(F(N))),S=ur(arguments);if(typeof S!="function")throw new TypeError("Callback function expected as last argument");return cr(C,S)}function cr(C,S){return{referTo:{references:C,callback:S}}}function Mr(C){if(typeof C!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:C}}}function Ur(C){return C&&typeof C.referTo=="object"&&Array.isArray(C.referTo.references)&&typeof C.referTo.callback=="function"}function Ir(C){return C&&typeof C.referToSelf=="object"&&typeof C.referToSelf.callback=="function"}function fr(C,S){if(!C)return S;if(S&&S!==C){const N=new Error("Function names do not match (expected: "+C+", actual: "+S+")");throw N.data={actual:S,expected:C},N}return C}function Pr(C){let S;for(const N in C)Object.prototype.hasOwnProperty.call(C,N)&&(s(C[N])||typeof C[N].signature=="string")&&(S=fr(S,C[N].name));return S}function Kr(C,S){let N;for(N in S)if(Object.prototype.hasOwnProperty.call(S,N)){if(N in C&&S[N]!==C[N]){const P=new Error('Signature "'+N+'" is defined twice');throw P.data={signature:N,sourceFunction:S[N],destFunction:C[N]},P}C[N]=S[N]}}const mt=f;f=function(C){const S=typeof C=="string",N=S?1:0;let P=S?C:"";const L={};for(let $=N;$<arguments.length;++$){const Y=arguments[$];let Z={},G;if(typeof Y=="function"?(G=Y.name,typeof Y.signature=="string"?Z[Y.signature]=Y:s(Y)&&(Z=Y.signatures)):r(Y)&&(Z=Y,S||(G=Pr(Y))),Object.keys(Z).length===0){const U=new TypeError("Argument to 'typed' at index "+$+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw U.data={index:$,argument:Y},U}S||(P=fr(P,G)),Kr(L,Z)}return or(P||"",L)},f.create=$n,f.createCount=mt.createCount,f.onMismatch=nr,f.throwMismatchError=nr,f.createError=z,f.clear=D,f.clearConversions=o,f.addTypes=v,f._findType=l,f.referTo=ar,f.referToSelf=Mr,f.convert=h,f.findSignature=c,f.find=d,f.isTypedFunction=s,f.warnAgainstDeprecatedThis=!0,f.addType=function(C,S){let N="any";S!==!1&&i.has("Object")&&(N="Object"),f.addTypes([C],N)};function xe(C){if(!C||typeof C.from!="string"||typeof C.to!="string"||typeof C.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(C.to===C.from)throw new SyntaxError('Illegal to define conversion from "'+C.from+'" to itself.')}return f.addConversion=function(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};xe(C);const N=l(C.to),P=N.conversionsTo.find(L=>L.from===C.from);if(P)if(S&&S.override)f.removeConversion({from:P.from,to:C.to,convert:P.convert});else throw new Error('There is already a conversion from "'+C.from+'" to "'+N.name+'"');N.conversionsTo.push({from:C.from,convert:C.convert,index:a++})},f.addConversions=function(C,S){C.forEach(N=>f.addConversion(N,S))},f.removeConversion=function(C){xe(C);const S=l(C.to),N=Ar(S.conversionsTo,L=>L.from===C.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+C.from+" to "+C.to);if(N.convert!==C.convert)throw new Error("Conversion to remove does not match existing conversion");const P=S.conversionsTo.indexOf(N);S.conversionsTo.splice(P,1)},f.resolve=function(C,S){if(!s(C))throw new TypeError(Xt);const N=C._typedFunctionData.signatures;for(let P=0;P<N.length;++P)if(N[P].test(S))return N[P];return null},f}const Qe=$n();function Q(r,e,t,i){function n(a){var f=Yu(a,e.map(Wu));return Ku(r,e,a),t(f)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Ku(r,e,t){var i=e.filter(a=>!Qu(a)).every(a=>t[a]!==void 0);if(!i){var n=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Qu(r){return r&&r[0]==="?"}function Wu(r){return r&&r[0]==="?"?r.slice(1):r}function Sr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function yt(r,e,t){var i={2:"0b",8:"0o",16:"0x"},n=i[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Sr(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Sr(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var f="";return r<0&&(r=-r,f="-"),"".concat(f).concat(n).concat(r.toString(e)).concat(a)}function Ft(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:i,wordSize:n}=qn(e);switch(t){case"fixed":return ju(r,i);case"exponential":return Rn(r,i);case"engineering":return ku(r,i);case"bin":return yt(r,2,n);case"oct":return yt(r,8,n);case"hex":return yt(r,16,n);case"auto":return ra(r,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qn(r){var e="auto",t,i;if(r!==void 0)if(wr(r))t=r;else if(zr(r))t=r.toNumber();else if(Tt(r))r.precision!==void 0&&(t=Kt(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(i=Kt(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:i}}function ut(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],i=e[2],n=parseFloat(e[4]||"0"),a=i.indexOf(".");n+=a!==-1?a-1:i.length-1;var f=i.replace(".","").replace(/^0*/,function(l){return n-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return f.length===0&&(f.push(0),n++),{sign:t,coefficients:f,exponent:n}}function ku(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=ut(r),i=at(t,e),n=i.exponent,a=i.coefficients,f=n%3===0?n:n<0?n-3-n%3:n-n%3;if(wr(e))for(;e>a.length||n-f+1>a.length;)a.push(0);else for(var l=Math.abs(n-f)-(a.length-1),v=0;v<l;v++)a.push(0);for(var D=Math.abs(n-f),o=1;D>0;)o++,D--;var u=a.slice(o).join(""),s=wr(e)&&u.length||u.match(/[1-9]/)?"."+u:"",c=a.slice(0,o).join("")+s+"e"+(n>=0?"+":"")+f.toString();return i.sign+c}function ju(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=ut(r),i=typeof e=="number"?at(t,t.exponent+1+e):t,n=i.coefficients,a=i.exponent+1,f=a+(e||0);return n.length<f&&(n=n.concat(Be(f-n.length))),a<0&&(n=Be(-a+1).concat(n),a=1),a<n.length&&n.splice(a,0,a===0?"0.":"."),i.sign+n.join("")}function Rn(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=ut(r),i=e?at(t,e):t,n=i.coefficients,a=i.exponent;n.length<e&&(n=n.concat(Be(e-n.length)));var f=n.shift();return i.sign+f+(n.length>0?"."+n.join(""):"")+"e"+(a>=0?"+":"")+a}function ra(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var i=Qt(t==null?void 0:t.lowerExp,-3),n=Qt(t==null?void 0:t.upperExp,5),a=ut(r),f=e?at(a,e):a;if(f.exponent<i||f.exponent>=n)return Rn(r,e);var l=f.coefficients,v=f.exponent;l.length<e&&(l=l.concat(Be(e-l.length))),l=l.concat(Be(v-l.length+1+(l.length<e?e-l.length:0))),l=Be(-v).concat(l);var D=v>0?v:0;return D<l.length-1&&l.splice(D+1,0,"."),f.sign+l.join("")}function at(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),t.exponent++,a++),a--,i[a]++}}return t}function Be(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function ea(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function ye(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),i)}function Kt(r,e){if(wr(r))return r;if(zr(r))return r.toNumber();e()}function Qt(r,e){return wr(r)?r:zr(r)?r.toNumber():e}var Ln=function(){return Ln=Qe.create,Qe},ta=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],na=Q("typed",ta,function(e){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:a}=e,f=Ln();return f.clear(),f.addTypes([{name:"number",test:wr},{name:"Complex",test:Tn},{name:"BigNumber",test:zr},{name:"bigint",test:du},{name:"Fraction",test:zn},{name:"Unit",test:On},{name:"identifier",test:l=>ue&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:ue},{name:"Chain",test:Vu},{name:"Array",test:Er},{name:"Matrix",test:Nr},{name:"DenseMatrix",test:In},{name:"SparseMatrix",test:Pn},{name:"Range",test:mu},{name:"Index",test:Nt},{name:"boolean",test:gu},{name:"ResultSet",test:wu},{name:"Help",test:yu},{name:"function",test:Au},{name:"Date",test:Fu},{name:"RegExp",test:Eu},{name:"null",test:_u},{name:"undefined",test:Mu},{name:"AccessorNode",test:Bu},{name:"ArrayNode",test:Su},{name:"AssignmentNode",test:bu},{name:"BlockNode",test:xu},{name:"ConditionalNode",test:Nu},{name:"ConstantNode",test:Tu},{name:"FunctionNode",test:Ou},{name:"FunctionAssignmentNode",test:zu},{name:"IndexNode",test:Iu},{name:"Node",test:Pu},{name:"ObjectNode",test:$u},{name:"OperatorNode",test:qu},{name:"ParenthesisNode",test:Ru},{name:"RangeNode",test:Lu},{name:"RelationalNode",test:Uu},{name:"SymbolNode",test:Zu},{name:"Map",test:Cu},{name:"Object",test:Tt}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(v){if(t||Ze(v),ea(v)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+v+"). Use function bignumber(x) to convert to BigNumber.");return new t(v)}},{from:"number",to:"Complex",convert:function(v){return i||Ve(v),new i(v,0)}},{from:"BigNumber",to:"Complex",convert:function(v){return i||Ve(v),new i(v.toNumber(),0)}},{from:"bigint",to:"number",convert:function(v){if(v>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+v+")");return Number(v)}},{from:"bigint",to:"BigNumber",convert:function(v){return t||Ze(v),new t(v.toString())}},{from:"bigint",to:"Fraction",convert:function(v){return a||He(v),new a(v.toString())}},{from:"Fraction",to:"BigNumber",convert:function(v){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(v){return i||Ve(v),new i(v.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(v){a||He(v);var D=new a(v);if(D.valueOf()!==v)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+v+"). Use function fraction(x) to convert to Fraction.");return D}},{from:"string",to:"number",convert:function(v){var D=Number(v);if(isNaN(D))throw new Error('Cannot convert "'+v+'" to a number');return D}},{from:"string",to:"BigNumber",convert:function(v){t||Ze(v);try{return new t(v)}catch{throw new Error('Cannot convert "'+v+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(v){try{return BigInt(v)}catch{throw new Error('Cannot convert "'+v+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(v){a||He(v);try{return new a(v)}catch{throw new Error('Cannot convert "'+v+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(v){i||Ve(v);try{return new i(v)}catch{throw new Error('Cannot convert "'+v+'" to Complex')}}},{from:"boolean",to:"number",convert:function(v){return+v}},{from:"boolean",to:"BigNumber",convert:function(v){return t||Ze(v),new t(+v)}},{from:"boolean",to:"bigint",convert:function(v){return BigInt(+v)}},{from:"boolean",to:"Fraction",convert:function(v){return a||He(v),new a(+v)}},{from:"boolean",to:"string",convert:function(v){return String(v)}},{from:"Array",to:"Matrix",convert:function(v){return n||ia(),new n(v)}},{from:"Matrix",to:"Array",convert:function(v){return v.valueOf()}}]),f.onMismatch=(l,v,D)=>{var o=f.createError(l,v,D);if(["wrongType","mismatch"].includes(o.data.category)&&v.length===1&&Ke(v[0])&&D.some(s=>!s.params.includes(","))){var u=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw u.data=o.data,u}throw o},f.onMismatch=(l,v,D)=>{var o=f.createError(l,v,D);if(["wrongType","mismatch"].includes(o.data.category)&&v.length===1&&Ke(v[0])&&D.some(s=>!s.params.includes(","))){var u=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw u.data=o.data,u}throw o},f});function Ze(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Ve(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function ia(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function He(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var _e=9e15,de=1e9,Et="0123456789abcdef",We="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ke="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ct={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-_e,maxE:_e,crypto:!1},Un,se,tr=!0,ot="[DecimalError] ",pe=ot+"Invalid argument: ",Zn=ot+"Precision limit exceeded",Vn=ot+"crypto unavailable",Hn="[object Decimal]",qr=Math.floor,Br=Math.pow,ua=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,aa=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,oa=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Jn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ne=1e7,rr=7,sa=9007199254740991,fa=We.length-1,_t=ke.length-1,q={toStringTag:Hn};q.absoluteValue=q.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),k(r)};q.ceil=function(){return k(new this.constructor(this),this.e+1,2)};q.clampedTo=q.clamp=function(r,e){var t,i=this,n=i.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(pe+e);return t=i.cmp(r),t<0?r:i.cmp(e)>0?e:new n(i)};q.comparedTo=q.cmp=function(r){var e,t,i,n,a=this,f=a.d,l=(r=new a.constructor(r)).d,v=a.s,D=r.s;if(!f||!l)return!v||!D?NaN:v!==D?v:f===l?0:!f^v<0?1:-1;if(!f[0]||!l[0])return f[0]?v:l[0]?-D:0;if(v!==D)return v;if(a.e!==r.e)return a.e>r.e^v<0?1:-1;for(i=f.length,n=l.length,e=0,t=i<n?i:n;e<t;++e)if(f[e]!==l[e])return f[e]>l[e]^v<0?1:-1;return i===n?0:i>n^v<0?1:-1};q.cosine=q.cos=function(){var r,e,t=this,i=t.constructor;return t.d?t.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+rr,i.rounding=1,t=ca(i,Qn(i,t)),i.precision=r,i.rounding=e,k(se==2||se==3?t.neg():t,r,e,!0)):new i(1):new i(NaN)};q.cubeRoot=q.cbrt=function(){var r,e,t,i,n,a,f,l,v,D,o=this,u=o.constructor;if(!o.isFinite()||o.isZero())return new u(o);for(tr=!1,a=o.s*Br(o.s*o,1/3),!a||Math.abs(a)==1/0?(t=Or(o.d),r=o.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=Br(t,1/3),r=qr((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),i=new u(t),i.s=o.s):i=new u(a.toString()),f=(r=u.precision)+3;;)if(l=i,v=l.times(l).times(l),D=v.plus(o),i=mr(D.plus(o).times(l),D.plus(v),f+2,1),Or(l.d).slice(0,f)===(t=Or(i.d)).slice(0,f))if(t=t.slice(f-3,f+1),t=="9999"||!n&&t=="4999"){if(!n&&(k(l,r+1,0),l.times(l).times(l).eq(o))){i=l;break}f+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(k(i,r+1,1),e=!i.times(i).times(i).eq(o));break}return tr=!0,k(i,r,u.rounding,e)};q.decimalPlaces=q.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-qr(this.e/rr))*rr,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};q.dividedBy=q.div=function(r){return mr(this,new this.constructor(r))};q.dividedToIntegerBy=q.divToInt=function(r){var e=this,t=e.constructor;return k(mr(e,new t(r),0,1,1),t.precision,t.rounding)};q.equals=q.eq=function(r){return this.cmp(r)===0};q.floor=function(){return k(new this.constructor(this),this.e+1,3)};q.greaterThan=q.gt=function(r){return this.cmp(r)>0};q.greaterThanOrEqualTo=q.gte=function(r){var e=this.cmp(r);return e==1||e===0};q.hyperbolicCosine=q.cosh=function(){var r,e,t,i,n,a=this,f=a.constructor,l=new f(1);if(!a.isFinite())return new f(a.s?1/0:NaN);if(a.isZero())return l;t=f.precision,i=f.rounding,f.precision=t+Math.max(a.e,a.sd())+4,f.rounding=1,n=a.d.length,n<32?(r=Math.ceil(n/3),e=(1/ft(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Se(f,1,a.times(e),new f(1),!0);for(var v,D=r,o=new f(8);D--;)v=a.times(a),a=l.minus(v.times(o.minus(v.times(o))));return k(a,f.precision=t,f.rounding=i,!0)};q.hyperbolicSine=q.sinh=function(){var r,e,t,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(n.e,n.sd())+4,a.rounding=1,i=n.d.length,i<3)n=Se(a,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/ft(5,r)),n=Se(a,2,n,n,!0);for(var f,l=new a(5),v=new a(16),D=new a(20);r--;)f=n.times(n),n=n.times(l.plus(f.times(v.times(f).plus(D))))}return a.precision=e,a.rounding=t,k(n,e,t,!0)};q.hyperbolicTangent=q.tanh=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,mr(t.sinh(),t.cosh(),i.precision=r,i.rounding=e)):new i(t.s)};q.inverseCosine=q.acos=function(){var r,e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,a=t.rounding;return i!==-1?i===0?e.isNeg()?te(t,n,a):new t(0):new t(NaN):e.isZero()?te(t,n+4,a).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=te(t,n+4,a).times(.5),t.precision=n,t.rounding=a,r.minus(e))};q.inverseHyperbolicCosine=q.acosh=function(){var r,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,tr=!1,t=t.times(t).minus(1).sqrt().plus(t),tr=!0,i.precision=r,i.rounding=e,t.ln()):new i(t)};q.inverseHyperbolicSine=q.asinh=function(){var r,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,tr=!1,t=t.times(t).plus(1).sqrt().plus(t),tr=!0,i.precision=r,i.rounding=e,t.ln())};q.inverseHyperbolicTangent=q.atanh=function(){var r,e,t,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=a.precision,e=a.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?k(new a(n),r,e,!0):(a.precision=t=i-n.e,n=mr(n.plus(1),new a(1).minus(n),t+r,1),a.precision=r+4,a.rounding=1,n=n.ln(),a.precision=r,a.rounding=e,n.times(.5))):new a(NaN)};q.inverseSine=q.asin=function(){var r,e,t,i,n=this,a=n.constructor;return n.isZero()?new a(n):(e=n.abs().cmp(1),t=a.precision,i=a.rounding,e!==-1?e===0?(r=te(a,t+4,i).times(.5),r.s=n.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=i,n.times(2)))};q.inverseTangent=q.atan=function(){var r,e,t,i,n,a,f,l,v,D=this,o=D.constructor,u=o.precision,s=o.rounding;if(D.isFinite()){if(D.isZero())return new o(D);if(D.abs().eq(1)&&u+4<=_t)return f=te(o,u+4,s).times(.25),f.s=D.s,f}else{if(!D.s)return new o(NaN);if(u+4<=_t)return f=te(o,u+4,s).times(.5),f.s=D.s,f}for(o.precision=l=u+10,o.rounding=1,t=Math.min(28,l/rr+2|0),r=t;r;--r)D=D.div(D.times(D).plus(1).sqrt().plus(1));for(tr=!1,e=Math.ceil(l/rr),i=1,v=D.times(D),f=new o(D),n=D;r!==-1;)if(n=n.times(v),a=f.minus(n.div(i+=2)),n=n.times(v),f=a.plus(n.div(i+=2)),f.d[e]!==void 0)for(r=e;f.d[r]===a.d[r]&&r--;);return t&&(f=f.times(2<<t-1)),tr=!0,k(f,o.precision=u,o.rounding=s,!0)};q.isFinite=function(){return!!this.d};q.isInteger=q.isInt=function(){return!!this.d&&qr(this.e/rr)>this.d.length-2};q.isNaN=function(){return!this.s};q.isNegative=q.isNeg=function(){return this.s<0};q.isPositive=q.isPos=function(){return this.s>0};q.isZero=function(){return!!this.d&&this.d[0]===0};q.lessThan=q.lt=function(r){return this.cmp(r)<0};q.lessThanOrEqualTo=q.lte=function(r){return this.cmp(r)<1};q.logarithm=q.log=function(r){var e,t,i,n,a,f,l,v,D=this,o=D.constructor,u=o.precision,s=o.rounding,c=5;if(r==null)r=new o(10),e=!0;else{if(r=new o(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new o(NaN);e=r.eq(10)}if(t=D.d,D.s<0||!t||!t[0]||D.eq(1))return new o(t&&!t[0]?-1/0:D.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(n=t[0];n%10===0;)n/=10;a=n!==1}if(tr=!1,l=u+c,f=he(D,l),i=e?je(o,l+10):he(r,l),v=mr(f,i,l,1),Oe(v.d,n=u,s))do if(l+=10,f=he(D,l),i=e?je(o,l+10):he(r,l),v=mr(f,i,l,1),!a){+Or(v.d).slice(n+1,n+15)+1==1e14&&(v=k(v,u+1,0));break}while(Oe(v.d,n+=10,s));return tr=!0,k(v,u,s)};q.minus=q.sub=function(r){var e,t,i,n,a,f,l,v,D,o,u,s,c=this,d=c.constructor;if(r=new d(r),!c.d||!r.d)return!c.s||!r.s?r=new d(NaN):c.d?r.s=-r.s:r=new d(r.d||c.s!==r.s?c:NaN),r;if(c.s!=r.s)return r.s=-r.s,c.plus(r);if(D=c.d,s=r.d,l=d.precision,v=d.rounding,!D[0]||!s[0]){if(s[0])r.s=-r.s;else if(D[0])r=new d(c);else return new d(v===3?-0:0);return tr?k(r,l,v):r}if(t=qr(r.e/rr),o=qr(c.e/rr),D=D.slice(),a=o-t,a){for(u=a<0,u?(e=D,a=-a,f=s.length):(e=s,t=o,f=D.length),i=Math.max(Math.ceil(l/rr),f)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=D.length,f=s.length,u=i<f,u&&(f=i),i=0;i<f;i++)if(D[i]!=s[i]){u=D[i]<s[i];break}a=0}for(u&&(e=D,D=s,s=e,r.s=-r.s),f=D.length,i=s.length-f;i>0;--i)D[f++]=0;for(i=s.length;i>a;){if(D[--i]<s[i]){for(n=i;n&&D[--n]===0;)D[n]=ne-1;--D[n],D[i]+=ne}D[i]-=s[i]}for(;D[--f]===0;)D.pop();for(;D[0]===0;D.shift())--t;return D[0]?(r.d=D,r.e=st(D,t),tr?k(r,l,v):r):new d(v===3?-0:0)};q.modulo=q.mod=function(r){var e,t=this,i=t.constructor;return r=new i(r),!t.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||t.d&&!t.d[0]?k(new i(t),i.precision,i.rounding):(tr=!1,i.modulo==9?(e=mr(t,r.abs(),0,3,1),e.s*=r.s):e=mr(t,r,0,i.modulo,1),e=e.times(r),tr=!0,t.minus(e))};q.naturalExponential=q.exp=function(){return Mt(this)};q.naturalLogarithm=q.ln=function(){return he(this)};q.negated=q.neg=function(){var r=new this.constructor(this);return r.s=-r.s,k(r)};q.plus=q.add=function(r){var e,t,i,n,a,f,l,v,D,o,u=this,s=u.constructor;if(r=new s(r),!u.d||!r.d)return!u.s||!r.s?r=new s(NaN):u.d||(r=new s(r.d||u.s===r.s?u:NaN)),r;if(u.s!=r.s)return r.s=-r.s,u.minus(r);if(D=u.d,o=r.d,l=s.precision,v=s.rounding,!D[0]||!o[0])return o[0]||(r=new s(u)),tr?k(r,l,v):r;if(a=qr(u.e/rr),i=qr(r.e/rr),D=D.slice(),n=a-i,n){for(n<0?(t=D,n=-n,f=o.length):(t=o,i=a,f=D.length),a=Math.ceil(l/rr),f=a>f?a+1:f+1,n>f&&(n=f,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(f=D.length,n=o.length,f-n<0&&(n=f,t=o,o=D,D=t),e=0;n;)e=(D[--n]=D[n]+o[n]+e)/ne|0,D[n]%=ne;for(e&&(D.unshift(e),++i),f=D.length;D[--f]==0;)D.pop();return r.d=D,r.e=st(D,i),tr?k(r,l,v):r};q.precision=q.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(pe+r);return t.d?(e=Yn(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};q.round=function(){var r=this,e=r.constructor;return k(new e(r),r.e+1,e.rounding)};q.sine=q.sin=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+rr,i.rounding=1,t=ha(i,Qn(i,t)),i.precision=r,i.rounding=e,k(se>2?t.neg():t,r,e,!0)):new i(NaN)};q.squareRoot=q.sqrt=function(){var r,e,t,i,n,a,f=this,l=f.d,v=f.e,D=f.s,o=f.constructor;if(D!==1||!l||!l[0])return new o(!D||D<0&&(!l||l[0])?NaN:l?f:1/0);for(tr=!1,D=Math.sqrt(+f),D==0||D==1/0?(e=Or(l),(e.length+v)%2==0&&(e+="0"),D=Math.sqrt(e),v=qr((v+1)/2)-(v<0||v%2),D==1/0?e="5e"+v:(e=D.toExponential(),e=e.slice(0,e.indexOf("e")+1)+v),i=new o(e)):i=new o(D.toString()),t=(v=o.precision)+3;;)if(a=i,i=a.plus(mr(f,a,t+2,1)).times(.5),Or(a.d).slice(0,t)===(e=Or(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(k(a,v+1,0),a.times(a).eq(f))){i=a;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(k(i,v+1,1),r=!i.times(i).eq(f));break}return tr=!0,k(i,v,o.rounding,r)};q.tangent=q.tan=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,t=t.sin(),t.s=1,t=mr(t,new i(1).minus(t.times(t)).sqrt(),r+10,0),i.precision=r,i.rounding=e,k(se==2||se==4?t.neg():t,r,e,!0)):new i(NaN)};q.times=q.mul=function(r){var e,t,i,n,a,f,l,v,D,o=this,u=o.constructor,s=o.d,c=(r=new u(r)).d;if(r.s*=o.s,!s||!s[0]||!c||!c[0])return new u(!r.s||s&&!s[0]&&!c||c&&!c[0]&&!s?NaN:!s||!c?r.s/0:r.s*0);for(t=qr(o.e/rr)+qr(r.e/rr),v=s.length,D=c.length,v<D&&(a=s,s=c,c=a,f=v,v=D,D=f),a=[],f=v+D,i=f;i--;)a.push(0);for(i=D;--i>=0;){for(e=0,n=v+i;n>i;)l=a[n]+c[i]*s[n-i-1]+e,a[n--]=l%ne|0,e=l/ne|0;a[n]=(a[n]+e)%ne|0}for(;!a[--f];)a.pop();return e?++t:a.shift(),r.d=a,r.e=st(a,t),tr?k(r,u.precision,u.rounding):r};q.toBinary=function(r,e){return zt(this,2,r,e)};q.toDecimalPlaces=q.toDP=function(r,e){var t=this,i=t.constructor;return t=new i(t),r===void 0?t:(Jr(r,0,de),e===void 0?e=i.rounding:Jr(e,0,8),k(t,r+t.e+1,e))};q.toExponential=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=ae(i,!0):(Jr(r,0,de),e===void 0?e=n.rounding:Jr(e,0,8),i=k(new n(i),r+1,e),t=ae(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+t:t};q.toFixed=function(r,e){var t,i,n=this,a=n.constructor;return r===void 0?t=ae(n):(Jr(r,0,de),e===void 0?e=a.rounding:Jr(e,0,8),i=k(new a(n),r+n.e+1,e),t=ae(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};q.toFraction=function(r){var e,t,i,n,a,f,l,v,D,o,u,s,c=this,d=c.d,h=c.constructor;if(!d)return new h(c);if(D=t=new h(1),i=v=new h(0),e=new h(i),a=e.e=Yn(d)-c.e-1,f=a%rr,e.d[0]=Br(10,f<0?rr+f:f),r==null)r=a>0?e:D;else{if(l=new h(r),!l.isInt()||l.lt(D))throw Error(pe+l);r=l.gt(e)?a>0?e:D:l}for(tr=!1,l=new h(Or(d)),o=h.precision,h.precision=a=d.length*rr*2;u=mr(l,e,0,1,1),n=t.plus(u.times(i)),n.cmp(r)!=1;)t=i,i=n,n=D,D=v.plus(u.times(n)),v=n,n=e,e=l.minus(u.times(n)),l=n;return n=mr(r.minus(t),i,0,1,1),v=v.plus(n.times(D)),t=t.plus(n.times(i)),v.s=D.s=c.s,s=mr(D,i,a,1).minus(c).abs().cmp(mr(v,t,a,1).minus(c).abs())<1?[D,i]:[v,t],h.precision=o,tr=!0,s};q.toHexadecimal=q.toHex=function(r,e){return zt(this,16,r,e)};q.toNearest=function(r,e){var t=this,i=t.constructor;if(t=new i(t),r==null){if(!t.d)return t;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Jr(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(tr=!1,t=mr(t,r,0,e,1).times(r),tr=!0,k(t)):(r.s=t.s,t=r),t};q.toNumber=function(){return+this};q.toOctal=function(r,e){return zt(this,8,r,e)};q.toPower=q.pow=function(r){var e,t,i,n,a,f,l=this,v=l.constructor,D=+(r=new v(r));if(!l.d||!r.d||!l.d[0]||!r.d[0])return new v(Br(+l,D));if(l=new v(l),l.eq(1))return l;if(i=v.precision,a=v.rounding,r.eq(1))return k(l,i,a);if(e=qr(r.e/rr),e>=r.d.length-1&&(t=D<0?-D:D)<=sa)return n=Gn(v,l,t,i),r.s<0?new v(1).div(n):k(n,i,a);if(f=l.s,f<0){if(e<r.d.length-1)return new v(NaN);if(r.d[e]&1||(f=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=f,l}return t=Br(+l,D),e=t==0||!isFinite(t)?qr(D*(Math.log("0."+Or(l.d))/Math.LN10+l.e+1)):new v(t+"").e,e>v.maxE+1||e<v.minE-1?new v(e>0?f/0:0):(tr=!1,v.rounding=l.s=1,t=Math.min(12,(e+"").length),n=Mt(r.times(he(l,i+t)),i),n.d&&(n=k(n,i+5,1),Oe(n.d,i,a)&&(e=i+10,n=k(Mt(r.times(he(l,e+t)),e),e+5,1),+Or(n.d).slice(i+1,i+15)+1==1e14&&(n=k(n,i+1,0)))),n.s=f,tr=!0,v.rounding=a,k(n,i,a))};q.toPrecision=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=ae(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Jr(r,1,de),e===void 0?e=n.rounding:Jr(e,0,8),i=k(new n(i),r,e),t=ae(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+t:t};q.toSignificantDigits=q.toSD=function(r,e){var t=this,i=t.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Jr(r,1,de),e===void 0?e=i.rounding:Jr(e,0,8)),k(new i(t),r,e)};q.toString=function(){var r=this,e=r.constructor,t=ae(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};q.truncated=q.trunc=function(){return k(new this.constructor(this),this.e+1,1)};q.valueOf=q.toJSON=function(){var r=this,e=r.constructor,t=ae(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Or(r){var e,t,i,n=r.length-1,a="",f=r[0];if(n>0){for(a+=f,e=1;e<n;e++)i=r[e]+"",t=rr-i.length,t&&(a+=ce(t)),a+=i;f=r[e],i=f+"",t=rr-i.length,t&&(a+=ce(t))}else if(f===0)return"0";for(;f%10===0;)f/=10;return a+f}function Jr(r,e,t){if(r!==~~r||r<e||r>t)throw Error(pe+r)}function Oe(r,e,t,i){var n,a,f,l;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=rr,n=0):(n=Math.ceil((e+1)/rr),e%=rr),a=Br(10,rr-e),l=r[n]%a|0,i==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),f=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):f=(t<4&&l+1==a||t>3&&l+1==a/2)&&(r[n+1]/a/100|0)==Br(10,e-2)-1||(l==a/2||l==0)&&(r[n+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),f=(i||t<4)&&l==9999||!i&&t>3&&l==4999):f=((i||t<4)&&l+1==a||!i&&t>3&&l+1==a/2)&&(r[n+1]/a/1e3|0)==Br(10,e-3)-1,f}function Je(r,e,t){for(var i,n=[0],a,f=0,l=r.length;f<l;){for(a=n.length;a--;)n[a]*=e;for(n[0]+=Et.indexOf(r.charAt(f++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function ca(r,e){var t,i,n;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),n=(1/ft(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=Se(r,1,e.times(n),new r(1));for(var a=t;a--;){var f=e.times(e);e=f.times(f).minus(f).times(8).plus(1)}return r.precision-=t,e}var mr=function(){function r(i,n,a){var f,l=0,v=i.length;for(i=i.slice();v--;)f=i[v]*n+l,i[v]=f%a|0,l=f/a|0;return l&&i.unshift(l),i}function e(i,n,a,f){var l,v;if(a!=f)v=a>f?1:-1;else for(l=v=0;l<a;l++)if(i[l]!=n[l]){v=i[l]>n[l]?1:-1;break}return v}function t(i,n,a,f){for(var l=0;a--;)i[a]-=l,l=i[a]<n[a]?1:0,i[a]=l*f+i[a]-n[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,a,f,l,v){var D,o,u,s,c,d,h,g,m,A,w,F,y,p,_,M,E,B,b,z,R=i.constructor,I=i.s==n.s?1:-1,O=i.d,x=n.d;if(!O||!O[0]||!x||!x[0])return new R(!i.s||!n.s||(O?x&&O[0]==x[0]:!x)?NaN:O&&O[0]==0||!x?I*0:I/0);for(v?(c=1,o=i.e-n.e):(v=ne,c=rr,o=qr(i.e/c)-qr(n.e/c)),b=x.length,E=O.length,m=new R(I),A=m.d=[],u=0;x[u]==(O[u]||0);u++);if(x[u]>(O[u]||0)&&o--,a==null?(p=a=R.precision,f=R.rounding):l?p=a+(i.e-n.e)+1:p=a,p<0)A.push(1),d=!0;else{if(p=p/c+2|0,u=0,b==1){for(s=0,x=x[0],p++;(u<E||s)&&p--;u++)_=s*v+(O[u]||0),A[u]=_/x|0,s=_%x|0;d=s||u<E}else{for(s=v/(x[0]+1)|0,s>1&&(x=r(x,s,v),O=r(O,s,v),b=x.length,E=O.length),M=b,w=O.slice(0,b),F=w.length;F<b;)w[F++]=0;z=x.slice(),z.unshift(0),B=x[0],x[1]>=v/2&&++B;do s=0,D=e(x,w,b,F),D<0?(y=w[0],b!=F&&(y=y*v+(w[1]||0)),s=y/B|0,s>1?(s>=v&&(s=v-1),h=r(x,s,v),g=h.length,F=w.length,D=e(h,w,g,F),D==1&&(s--,t(h,b<g?z:x,g,v))):(s==0&&(D=s=1),h=x.slice()),g=h.length,g<F&&h.unshift(0),t(w,h,F,v),D==-1&&(F=w.length,D=e(x,w,b,F),D<1&&(s++,t(w,b<F?z:x,F,v))),F=w.length):D===0&&(s++,w=[0]),A[u++]=s,D&&w[0]?w[F++]=O[M]||0:(w=[O[M]],F=1);while((M++<E||w[0]!==void 0)&&p--);d=w[0]!==void 0}A[0]||A.shift()}if(c==1)m.e=o,Un=d;else{for(u=1,s=A[0];s>=10;s/=10)u++;m.e=u+o*c-1,k(m,l?a+m.e+1:a,f,d)}return m}}();function k(r,e,t,i){var n,a,f,l,v,D,o,u,s,c=r.constructor;r:if(e!=null){if(u=r.d,!u)return r;for(n=1,l=u[0];l>=10;l/=10)n++;if(a=e-n,a<0)a+=rr,f=e,o=u[s=0],v=o/Br(10,n-f-1)%10|0;else if(s=Math.ceil((a+1)/rr),l=u.length,s>=l)if(i){for(;l++<=s;)u.push(0);o=v=0,n=1,a%=rr,f=a-rr+1}else break r;else{for(o=l=u[s],n=1;l>=10;l/=10)n++;a%=rr,f=a-rr+n,v=f<0?0:o/Br(10,n-f-1)%10|0}if(i=i||e<0||u[s+1]!==void 0||(f<0?o:o%Br(10,n-f-1)),D=t<4?(v||i)&&(t==0||t==(r.s<0?3:2)):v>5||v==5&&(t==4||i||t==6&&(a>0?f>0?o/Br(10,n-f):0:u[s-1])%10&1||t==(r.s<0?8:7)),e<1||!u[0])return u.length=0,D?(e-=r.e+1,u[0]=Br(10,(rr-e%rr)%rr),r.e=-e||0):u[0]=r.e=0,r;if(a==0?(u.length=s,l=1,s--):(u.length=s+1,l=Br(10,rr-a),u[s]=f>0?(o/Br(10,n-f)%Br(10,f)|0)*l:0),D)for(;;)if(s==0){for(a=1,f=u[0];f>=10;f/=10)a++;for(f=u[0]+=l,l=1;f>=10;f/=10)l++;a!=l&&(r.e++,u[0]==ne&&(u[0]=1));break}else{if(u[s]+=l,u[s]!=ne)break;u[s--]=0,l=1}for(a=u.length;u[--a]===0;)u.pop()}return tr&&(r.e>c.maxE?(r.d=null,r.e=NaN):r.e<c.minE&&(r.e=0,r.d=[0])),r}function ae(r,e,t){if(!r.isFinite())return Kn(r);var i,n=r.e,a=Or(r.d),f=a.length;return e?(t&&(i=t-f)>0?a=a.charAt(0)+"."+a.slice(1)+ce(i):f>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):n<0?(a="0."+ce(-n-1)+a,t&&(i=t-f)>0&&(a+=ce(i))):n>=f?(a+=ce(n+1-f),t&&(i=t-n-1)>0&&(a=a+"."+ce(i))):((i=n+1)<f&&(a=a.slice(0,i)+"."+a.slice(i)),t&&(i=t-f)>0&&(n+1===f&&(a+="."),a+=ce(i))),a}function st(r,e){var t=r[0];for(e*=rr;t>=10;t/=10)e++;return e}function je(r,e,t){if(e>fa)throw tr=!0,t&&(r.precision=t),Error(Zn);return k(new r(We),e,1,!0)}function te(r,e,t){if(e>_t)throw Error(Zn);return k(new r(ke),e,t,!0)}function Yn(r){var e=r.length-1,t=e*rr+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function ce(r){for(var e="";r--;)e+="0";return e}function Gn(r,e,t,i){var n,a=new r(1),f=Math.ceil(i/rr+4);for(tr=!1;;){if(t%2&&(a=a.times(e),kt(a.d,f)&&(n=!0)),t=qr(t/2),t===0){t=a.d.length-1,n&&a.d[t]===0&&++a.d[t];break}e=e.times(e),kt(e.d,f)}return tr=!0,a}function Wt(r){return r.d[r.d.length-1]&1}function Xn(r,e,t){for(var i,n=new r(e[0]),a=0;++a<e.length;)if(i=new r(e[a]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function Mt(r,e){var t,i,n,a,f,l,v,D=0,o=0,u=0,s=r.constructor,c=s.rounding,d=s.precision;if(!r.d||!r.d[0]||r.e>17)return new s(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(tr=!1,v=d):v=e,l=new s(.03125);r.e>-2;)r=r.times(l),u+=5;for(i=Math.log(Br(2,u))/Math.LN10*2+5|0,v+=i,t=a=f=new s(1),s.precision=v;;){if(a=k(a.times(r),v,1),t=t.times(++o),l=f.plus(mr(a,t,v,1)),Or(l.d).slice(0,v)===Or(f.d).slice(0,v)){for(n=u;n--;)f=k(f.times(f),v,1);if(e==null)if(D<3&&Oe(f.d,v-i,c,D))s.precision=v+=10,t=a=l=new s(1),o=0,D++;else return k(f,s.precision=d,c,tr=!0);else return s.precision=d,f}f=l}}function he(r,e){var t,i,n,a,f,l,v,D,o,u,s,c=1,d=10,h=r,g=h.d,m=h.constructor,A=m.rounding,w=m.precision;if(h.s<0||!g||!g[0]||!h.e&&g[0]==1&&g.length==1)return new m(g&&!g[0]?-1/0:h.s!=1?NaN:g?0:h);if(e==null?(tr=!1,o=w):o=e,m.precision=o+=d,t=Or(g),i=t.charAt(0),Math.abs(a=h.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)h=h.times(r),t=Or(h.d),i=t.charAt(0),c++;a=h.e,i>1?(h=new m("0."+t),a++):h=new m(i+"."+t.slice(1))}else return D=je(m,o+2,w).times(a+""),h=he(new m(i+"."+t.slice(1)),o-d).plus(D),m.precision=w,e==null?k(h,w,A,tr=!0):h;for(u=h,v=f=h=mr(h.minus(1),h.plus(1),o,1),s=k(h.times(h),o,1),n=3;;){if(f=k(f.times(s),o,1),D=v.plus(mr(f,new m(n),o,1)),Or(D.d).slice(0,o)===Or(v.d).slice(0,o))if(v=v.times(2),a!==0&&(v=v.plus(je(m,o+2,w).times(a+""))),v=mr(v,new m(c),o,1),e==null)if(Oe(v.d,o-d,A,l))m.precision=o+=d,D=f=h=mr(u.minus(1),u.plus(1),o,1),s=k(h.times(h),o,1),n=l=1;else return k(v,m.precision=w,A,tr=!0);else return m.precision=w,v;v=D,n+=2}}function Kn(r){return String(r.s*r.s/0)}function Bt(r,e){var t,i,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,r.e=t=t-i-1,r.d=[],i=(t+1)%rr,t<0&&(i+=rr),i<n){for(i&&r.d.push(+e.slice(0,i)),n-=rr;i<n;)r.d.push(+e.slice(i,i+=rr));e=e.slice(i),i=rr-e.length}else i-=n;for(;i--;)e+="0";r.d.push(+e),tr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function la(r,e){var t,i,n,a,f,l,v,D,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Jn.test(e))return Bt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(aa.test(e))t=16,e=e.toLowerCase();else if(ua.test(e))t=2;else if(oa.test(e))t=8;else throw Error(pe+e);for(a=e.search(/p/i),a>0?(v=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),f=a>=0,i=r.constructor,f&&(e=e.replace(".",""),l=e.length,a=l-a,n=Gn(i,new i(t),a,a*2)),D=Je(e,t,ne),o=D.length-1,a=o;D[a]===0;--a)D.pop();return a<0?new i(r.s*0):(r.e=st(D,o),r.d=D,tr=!1,f&&(r=mr(r,n,l*4)),v&&(r=r.times(Math.abs(v)<54?Br(2,v):be.pow(2,v))),tr=!0,r)}function ha(r,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Se(r,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/ft(5,t)),e=Se(r,2,e,e);for(var n,a=new r(5),f=new r(16),l=new r(20);t--;)n=e.times(e),e=e.times(a.plus(n.times(f.times(n).minus(l))));return e}function Se(r,e,t,i,n){var a,f,l,v,D=r.precision,o=Math.ceil(D/rr);for(tr=!1,v=t.times(t),l=new r(i);;){if(f=mr(l.times(v),new r(e++*e++),D,1),l=n?i.plus(f):i.minus(f),i=mr(f.times(v),new r(e++*e++),D,1),f=l.plus(i),f.d[o]!==void 0){for(a=o;f.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=i,i=f,f=a}return tr=!0,f.d.length=o+1,f}function ft(r,e){for(var t=r;--e;)t*=r;return t}function Qn(r,e){var t,i=e.s<0,n=te(r,r.precision,1),a=n.times(.5);if(e=e.abs(),e.lte(a))return se=i?4:1,e;if(t=e.divToInt(n),t.isZero())se=i?3:2;else{if(e=e.minus(t.times(n)),e.lte(a))return se=Wt(t)?i?2:3:i?4:1,e;se=Wt(t)?i?1:4:i?3:2}return e.minus(n).abs()}function zt(r,e,t,i){var n,a,f,l,v,D,o,u,s,c=r.constructor,d=t!==void 0;if(d?(Jr(t,1,de),i===void 0?i=c.rounding:Jr(i,0,8)):(t=c.precision,i=c.rounding),!r.isFinite())o=Kn(r);else{for(o=ae(r),f=o.indexOf("."),d?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,f>=0&&(o=o.replace(".",""),s=new c(1),s.e=o.length-f,s.d=Je(ae(s),10,n),s.e=s.d.length),u=Je(o,10,n),a=v=u.length;u[--v]==0;)u.pop();if(!u[0])o=d?"0p+0":"0";else{if(f<0?a--:(r=new c(r),r.d=u,r.e=a,r=mr(r,s,t,i,0,n),u=r.d,a=r.e,D=Un),f=u[t],l=n/2,D=D||u[t+1]!==void 0,D=i<4?(f!==void 0||D)&&(i===0||i===(r.s<0?3:2)):f>l||f===l&&(i===4||D||i===6&&u[t-1]&1||i===(r.s<0?8:7)),u.length=t,D)for(;++u[--t]>n-1;)u[t]=0,t||(++a,u.unshift(1));for(v=u.length;!u[v-1];--v);for(f=0,o="";f<v;f++)o+=Et.charAt(u[f]);if(d){if(v>1)if(e==16||e==8){for(f=e==16?4:3,--v;v%f;v++)o+="0";for(u=Je(o,n,e),v=u.length;!u[v-1];--v);for(f=1,o="1.";f<v;f++)o+=Et.charAt(u[f])}else o=o.charAt(0)+"."+o.slice(1);o=o+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(++a>v)for(a-=v;a--;)o+="0";else a<v&&(o=o.slice(0,a)+"."+o.slice(a))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return r.s<0?"-"+o:o}function kt(r,e){if(r.length>e)return r.length=e,!0}function va(r){return new this(r).abs()}function Da(r){return new this(r).acos()}function pa(r){return new this(r).acosh()}function da(r,e){return new this(r).plus(e)}function ma(r){return new this(r).asin()}function ga(r){return new this(r).asinh()}function wa(r){return new this(r).atan()}function ya(r){return new this(r).atanh()}function Aa(r,e){r=new this(r),e=new this(e);var t,i=this.precision,n=this.rounding,a=i+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=te(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?te(this,i,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=te(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(mr(r,e,a,1)),e=te(this,a,1),this.precision=i,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(mr(r,e,a,1)),t}function Fa(r){return new this(r).cbrt()}function Ea(r){return k(r=new this(r),r.e+1,2)}function Ca(r,e,t){return new this(r).clamp(e,t)}function _a(r){if(!r||typeof r!="object")throw Error(ot+"Object expected");var e,t,i,n=r.defaults===!0,a=["precision",1,de,"rounding",0,8,"toExpNeg",-_e,0,"toExpPos",0,_e,"maxE",0,_e,"minE",-_e,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],n&&(this[t]=Ct[t]),(i=r[t])!==void 0)if(qr(i)===i&&i>=a[e+1]&&i<=a[e+2])this[t]=i;else throw Error(pe+t+": "+i);if(t="crypto",n&&(this[t]=Ct[t]),(i=r[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Vn);else this[t]=!1;else throw Error(pe+t+": "+i);return this}function Ma(r){return new this(r).cos()}function Ba(r){return new this(r).cosh()}function Wn(r){var e,t,i;function n(a){var f,l,v,D=this;if(!(D instanceof n))return new n(a);if(D.constructor=n,jt(a)){D.s=a.s,tr?!a.d||a.e>n.maxE?(D.e=NaN,D.d=null):a.e<n.minE?(D.e=0,D.d=[0]):(D.e=a.e,D.d=a.d.slice()):(D.e=a.e,D.d=a.d?a.d.slice():a.d);return}if(v=typeof a,v==="number"){if(a===0){D.s=1/a<0?-1:1,D.e=0,D.d=[0];return}if(a<0?(a=-a,D.s=-1):D.s=1,a===~~a&&a<1e7){for(f=0,l=a;l>=10;l/=10)f++;tr?f>n.maxE?(D.e=NaN,D.d=null):f<n.minE?(D.e=0,D.d=[0]):(D.e=f,D.d=[a]):(D.e=f,D.d=[a]);return}else if(a*0!==0){a||(D.s=NaN),D.e=NaN,D.d=null;return}return Bt(D,a.toString())}else if(v!=="string")throw Error(pe+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),D.s=-1):(l===43&&(a=a.slice(1)),D.s=1),Jn.test(a)?Bt(D,a):la(D,a)}if(n.prototype=q,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=_a,n.clone=Wn,n.isDecimal=jt,n.abs=va,n.acos=Da,n.acosh=pa,n.add=da,n.asin=ma,n.asinh=ga,n.atan=wa,n.atanh=ya,n.atan2=Aa,n.cbrt=Fa,n.ceil=Ea,n.clamp=Ca,n.cos=Ma,n.cosh=Ba,n.div=Sa,n.exp=ba,n.floor=xa,n.hypot=Na,n.ln=Ta,n.log=za,n.log10=Ia,n.log2=Oa,n.max=Pa,n.min=$a,n.mod=qa,n.mul=Ra,n.pow=La,n.random=Ua,n.round=Za,n.sign=Va,n.sin=Ha,n.sinh=Ja,n.sqrt=Ya,n.sub=Ga,n.sum=Xa,n.tan=Ka,n.tanh=Qa,n.trunc=Wa,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(t=i[e++])||(r[t]=this[t]);return n.config(r),n}function Sa(r,e){return new this(r).div(e)}function ba(r){return new this(r).exp()}function xa(r){return k(r=new this(r),r.e+1,3)}function Na(){var r,e,t=new this(0);for(tr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return tr=!0,new this(1/0);t=e}return tr=!0,t.sqrt()}function jt(r){return r instanceof be||r&&r.toStringTag===Hn||!1}function Ta(r){return new this(r).ln()}function za(r,e){return new this(r).log(e)}function Oa(r){return new this(r).log(2)}function Ia(r){return new this(r).log(10)}function Pa(){return Xn(this,arguments,"lt")}function $a(){return Xn(this,arguments,"gt")}function qa(r,e){return new this(r).mod(e)}function Ra(r,e){return new this(r).mul(e)}function La(r,e){return new this(r).pow(e)}function Ua(r){var e,t,i,n,a=0,f=new this(1),l=[];if(r===void 0?r=this.precision:Jr(r,1,de),i=Math.ceil(r/rr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)n=e[a],n>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)n=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(n%1e7),a+=4);a=i/4}else throw Error(Vn);else for(;a<i;)l[a++]=Math.random()*1e7|0;for(i=l[--a],r%=rr,i&&r&&(n=Br(10,rr-r),l[a]=(i/n|0)*n);l[a]===0;a--)l.pop();if(a<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=rr)l.shift();for(i=1,n=l[0];n>=10;n/=10)i++;i<rr&&(t-=rr-i)}return f.e=t,f.d=l,f}function Za(r){return k(r=new this(r),r.e+1,this.rounding)}function Va(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Ha(r){return new this(r).sin()}function Ja(r){return new this(r).sinh()}function Ya(r){return new this(r).sqrt()}function Ga(r,e){return new this(r).sub(e)}function Xa(){var r=0,e=arguments,t=new this(e[r]);for(tr=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return tr=!0,k(t,this.precision,this.rounding)}function Ka(r){return new this(r).tan()}function Qa(r){return new this(r).tanh()}function Wa(r){return k(r=new this(r),r.e+1,1)}q[Symbol.for("nodejs.util.inspect.custom")]=q.toString;q[Symbol.toStringTag]="Decimal";var be=q.constructor=Wn(Ct);We=new be(We);ke=new be(ke);var ka="BigNumber",ja=["?on","config"],ro=Q(ka,ja,r=>{var{on:e,config:t}=r,i=be.clone({precision:t.precision,modulo:be.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,a){n.precision!==a.precision&&i.config({precision:n.precision})}),i},{isClass:!0}),kn={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(t){var i=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},n=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var s=Math.PI/4;if(-s>u||u>s)return Math.cos(u)-1;var c=u*u;return c*(c*(c*(c*(c*(c*(c*(c/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(u,s){var c=Math.abs(u),d=Math.abs(s);return c<3e3&&d<3e3?Math.sqrt(c*c+d*d):(c<d?(c=d,d=u/s):d=s/u,c*Math.sqrt(1+d*d))},l=function(){throw SyntaxError("Invalid Param")};function v(u,s){var c=Math.abs(u),d=Math.abs(s);return u===0?Math.log(d):s===0?Math.log(c):c<3e3&&d<3e3?Math.log(u*u+s*s)*.5:(u=u/2,s=s/2,.5*Math.log(u*u+s*s)+Math.LN2)}var D=function(u,s){var c={re:0,im:0};if(u==null)c.re=c.im=0;else if(s!==void 0)c.re=u,c.im=s;else switch(typeof u){case"object":if("im"in u&&"re"in u)c.re=u.re,c.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return o.INFINITY;c.re=u.abs*Math.cos(u.arg),c.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return o.INFINITY;c.re=u.r*Math.cos(u.phi),c.im=u.r*Math.sin(u.phi)}else u.length===2?(c.re=u[0],c.im=u[1]):l();break;case"string":c.im=c.re=0;var d=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,g=0;d===null&&l();for(var m=0;m<d.length;m++){var A=d[m];A===" "||A==="	"||A===`
`||(A==="+"?h++:A==="-"?g++:A==="i"||A==="I"?(h+g===0&&l(),d[m+1]!==" "&&!isNaN(d[m+1])?(c.im+=parseFloat((g%2?"-":"")+d[m+1]),m++):c.im+=parseFloat((g%2?"-":"")+"1"),h=g=0):((h+g===0||isNaN(A))&&l(),d[m+1]==="i"||d[m+1]==="I"?(c.im+=parseFloat((g%2?"-":"")+A),m++):c.re+=parseFloat((g%2?"-":"")+A),h=g=0))}h+g>0&&l();break;case"number":c.im=0,c.re=u;break;default:l()}return isNaN(c.re)||isNaN(c.im),c};function o(u,s){if(!(this instanceof o))return new o(u,s);var c=D(u,s);this.re=c.re,this.im=c.im}o.prototype={re:0,im:0,sign:function(){var u=this.abs();return new o(this.re/u,this.im/u)},add:function(u,s){var c=new o(u,s);return this.isInfinite()&&c.isInfinite()?o.NAN:this.isInfinite()||c.isInfinite()?o.INFINITY:new o(this.re+c.re,this.im+c.im)},sub:function(u,s){var c=new o(u,s);return this.isInfinite()&&c.isInfinite()?o.NAN:this.isInfinite()||c.isInfinite()?o.INFINITY:new o(this.re-c.re,this.im-c.im)},mul:function(u,s){var c=new o(u,s);return this.isInfinite()&&c.isZero()||this.isZero()&&c.isInfinite()?o.NAN:this.isInfinite()||c.isInfinite()?o.INFINITY:c.im===0&&this.im===0?new o(this.re*c.re,0):new o(this.re*c.re-this.im*c.im,this.re*c.im+this.im*c.re)},div:function(u,s){var c=new o(u,s);if(this.isZero()&&c.isZero()||this.isInfinite()&&c.isInfinite())return o.NAN;if(this.isInfinite()||c.isZero())return o.INFINITY;if(this.isZero()||c.isInfinite())return o.ZERO;u=this.re,s=this.im;var d=c.re,h=c.im,g,m;return h===0?new o(u/d,s/d):Math.abs(d)<Math.abs(h)?(m=d/h,g=d*m+h,new o((u*m+s)/g,(s*m-u)/g)):(m=h/d,g=h*m+d,new o((u+s*m)/g,(s-u*m)/g))},pow:function(u,s){var c=new o(u,s);if(u=this.re,s=this.im,c.isZero())return o.ONE;if(c.im===0){if(s===0&&u>0)return new o(Math.pow(u,c.re),0);if(u===0)switch((c.re%4+4)%4){case 0:return new o(Math.pow(s,c.re),0);case 1:return new o(0,Math.pow(s,c.re));case 2:return new o(-Math.pow(s,c.re),0);case 3:return new o(0,-Math.pow(s,c.re))}}if(u===0&&s===0&&c.re>0&&c.im>=0)return o.ZERO;var d=Math.atan2(s,u),h=v(u,s);return u=Math.exp(c.re*h-c.im*d),s=c.im*h+c.re*d,new o(u*Math.cos(s),u*Math.sin(s))},sqrt:function(){var u=this.re,s=this.im,c=this.abs(),d,h;if(u>=0){if(s===0)return new o(Math.sqrt(u),0);d=.5*Math.sqrt(2*(c+u))}else d=Math.abs(s)/Math.sqrt(2*(c-u));return u<=0?h=.5*Math.sqrt(2*(c-u)):h=Math.abs(s)/Math.sqrt(2*(c+u)),new o(d,s<0?-h:h)},exp:function(){var u=Math.exp(this.re);return this.im,new o(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,s=this.im;return new o(Math.expm1(u)*Math.cos(s)+a(s),Math.exp(u)*Math.sin(s))},log:function(){var u=this.re,s=this.im;return new o(v(u,s),Math.atan2(s,u))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,s=this.im;return new o(Math.sin(u)*i(s),Math.cos(u)*n(s))},cos:function(){var u=this.re,s=this.im;return new o(Math.cos(u)*i(s),-Math.sin(u)*n(s))},tan:function(){var u=2*this.re,s=2*this.im,c=Math.cos(u)+i(s);return new o(Math.sin(u)/c,n(s)/c)},cot:function(){var u=2*this.re,s=2*this.im,c=Math.cos(u)-i(s);return new o(-Math.sin(u)/c,n(s)/c)},sec:function(){var u=this.re,s=this.im,c=.5*i(2*s)+.5*Math.cos(2*u);return new o(Math.cos(u)*i(s)/c,Math.sin(u)*n(s)/c)},csc:function(){var u=this.re,s=this.im,c=.5*i(2*s)-.5*Math.cos(2*u);return new o(Math.sin(u)*i(s)/c,-Math.cos(u)*n(s)/c)},asin:function(){var u=this.re,s=this.im,c=new o(s*s-u*u+1,-2*u*s).sqrt(),d=new o(c.re-s,c.im+u).log();return new o(d.im,-d.re)},acos:function(){var u=this.re,s=this.im,c=new o(s*s-u*u+1,-2*u*s).sqrt(),d=new o(c.re-s,c.im+u).log();return new o(Math.PI/2-d.im,d.re)},atan:function(){var u=this.re,s=this.im;if(u===0){if(s===1)return new o(0,1/0);if(s===-1)return new o(0,-1/0)}var c=u*u+(1-s)*(1-s),d=new o((1-s*s-u*u)/c,-2*u/c).log();return new o(-.5*d.im,.5*d.re)},acot:function(){var u=this.re,s=this.im;if(s===0)return new o(Math.atan2(1,u),0);var c=u*u+s*s;return c!==0?new o(u/c,-s/c).atan():new o(u!==0?u/0:0,s!==0?-s/0:0).atan()},asec:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(0,1/0);var c=u*u+s*s;return c!==0?new o(u/c,-s/c).acos():new o(u!==0?u/0:0,s!==0?-s/0:0).acos()},acsc:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(Math.PI/2,1/0);var c=u*u+s*s;return c!==0?new o(u/c,-s/c).asin():new o(u!==0?u/0:0,s!==0?-s/0:0).asin()},sinh:function(){var u=this.re,s=this.im;return new o(n(u)*Math.cos(s),i(u)*Math.sin(s))},cosh:function(){var u=this.re,s=this.im;return new o(i(u)*Math.cos(s),n(u)*Math.sin(s))},tanh:function(){var u=2*this.re,s=2*this.im,c=i(u)+Math.cos(s);return new o(n(u)/c,Math.sin(s)/c)},coth:function(){var u=2*this.re,s=2*this.im,c=i(u)-Math.cos(s);return new o(n(u)/c,-Math.sin(s)/c)},csch:function(){var u=this.re,s=this.im,c=Math.cos(2*s)-i(2*u);return new o(-2*n(u)*Math.cos(s)/c,2*i(u)*Math.sin(s)/c)},sech:function(){var u=this.re,s=this.im,c=Math.cos(2*s)+i(2*u);return new o(2*i(u)*Math.cos(s)/c,-2*n(u)*Math.sin(s)/c)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var s=this.asin();return this.re=-this.im,this.im=u,u=s.re,s.re=-s.im,s.im=u,s},acosh:function(){var u=this.acos();if(u.im<=0){var s=u.re;u.re=-u.im,u.im=s}else{var s=u.im;u.im=-u.re,u.re=s}return u},atanh:function(){var u=this.re,s=this.im,c=u>1&&s===0,d=1-u,h=1+u,g=d*d+s*s,m=g!==0?new o((h*d-s*s)/g,(s*d+h*s)/g):new o(u!==-1?u/0:0,s!==0?s/0:0),A=m.re;return m.re=v(m.re,m.im)/2,m.im=Math.atan2(m.im,A)/2,c&&(m.im=-m.im),m},acoth:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(0,Math.PI/2);var c=u*u+s*s;return c!==0?new o(u/c,-s/c).atanh():new o(u!==0?u/0:0,s!==0?-s/0:0).atanh()},acsch:function(){var u=this.re,s=this.im;if(s===0)return new o(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var c=u*u+s*s;return c!==0?new o(u/c,-s/c).asinh():new o(u!==0?u/0:0,s!==0?-s/0:0).asinh()},asech:function(){var u=this.re,s=this.im;if(this.isZero())return o.INFINITY;var c=u*u+s*s;return c!==0?new o(u/c,-s/c).acosh():new o(u!==0?u/0:0,s!==0?-s/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var u=this.re,s=this.im,c=u*u+s*s;return new o(u/c,-s/c)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new o(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new o(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new o(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,s){var c=new o(u,s);return Math.abs(c.re-this.re)<=o.EPSILON&&Math.abs(c.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var u=this.re,s=this.im,c="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<o.EPSILON&&(u=0),Math.abs(s)<o.EPSILON&&(s=0),s===0?c+u:(u!==0?(c+=u,c+=" ",s<0?(s=-s,c+="-"):c+="+",c+=" "):s<0&&(s=-s,c+="-"),s!==1&&(c+=s),c+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o})()})(kn);var eo=kn.exports;const Tr=uu(eo);var to="Complex",no=[],io=Q(to,no,()=>(Object.defineProperty(Tr,"name",{value:"Complex"}),Tr.prototype.constructor=Tr,Tr.prototype.type="Complex",Tr.prototype.isComplex=!0,Tr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Tr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Tr.prototype.format=function(r){var e="",t=this.im,i=this.re,n=Ft(this.re,r),a=Ft(this.im,r),f=wr(r)?r:r?r.precision:null;if(f!==null){var l=Math.pow(10,-f);Math.abs(i/t)<l&&(i=0),Math.abs(t/i)<l&&(t=0)}return t===0?e=n:i===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=n+" - i":e=n+" - "+a.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+a+"i",e},Tr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Tr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(wr(t)){if(On(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),wr(i))return new Tr({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Tr.prototype.valueOf=Tr.prototype.toString,Tr.fromJSON=function(r){return new Tr(r)},Tr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Tr),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var uo=2e3,K={s:1,n:0,d:1};function oe(r,e){if(isNaN(r=parseInt(r,10)))throw Ye();return r*e}function yr(r,e){if(e===0)throw Ot();var t=Object.create($r.prototype);t.s=r<0?-1:1,r=r<0?-r:r;var i=Me(r,e);return t.n=r/i,t.d=e/i,t}function rn(r){for(var e={},t=r,i=2,n=4;n<=t;){for(;t%i===0;)t/=i,e[i]=(e[i]||0)+1;n+=1+2*i++}return t!==r?t>1&&(e[t]=(e[t]||0)+1):e[r]=(e[r]||0)+1,e}var Yr=function(r,e){var t=0,i=1,n=1,a=0,f=0,l=0,v=1,D=1,o=0,u=1,s=1,c=1,d=1e7,h;if(r!=null)if(e!==void 0){if(t=r,i=e,n=t*i,t%1!==0||i%1!==0)throw fo()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)t=r.n,i=r.d,"s"in r&&(t*=r.s);else if(0 in r)t=r[0],1 in r&&(i=r[1]);else throw Ye();n=t*i;break}case"number":{if(r<0&&(n=r,r=-r),r%1===0)t=r;else if(r>0){for(r>=1&&(D=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=D);u<=d&&c<=d;)if(h=(o+s)/(u+c),r===h){u+c<=d?(t=o+s,i=u+c):c>u?(t=s,i=c):(t=o,i=u);break}else r>h?(o+=s,u+=c):(s+=o,c+=u),u>d?(t=s,i=c):(t=o,i=u);t*=D}else(isNaN(r)||isNaN(e))&&(i=t=NaN);break}case"string":{if(u=r.match(/\d+|./g),u===null)throw Ye();if(u[o]==="-"?(n=-1,o++):u[o]==="+"&&o++,u.length===o+1?f=oe(u[o++],n):u[o+1]==="."||u[o]==="."?(u[o]!=="."&&(a=oe(u[o++],n)),o++,(o+1===u.length||u[o+1]==="("&&u[o+3]===")"||u[o+1]==="'"&&u[o+3]==="'")&&(f=oe(u[o],n),v=Math.pow(10,u[o].length),o++),(u[o]==="("&&u[o+2]===")"||u[o]==="'"&&u[o+2]==="'")&&(l=oe(u[o+1],n),D=Math.pow(10,u[o+1].length)-1,o+=3)):u[o+1]==="/"||u[o+1]===":"?(f=oe(u[o],n),v=oe(u[o+2],1),o+=3):u[o+3]==="/"&&u[o+1]===" "&&(a=oe(u[o],n),f=oe(u[o+2],n),v=oe(u[o+4],1),o+=5),u.length<=o){i=v*D,n=t=l+i*a+D*f;break}}default:throw Ye()}if(i===0)throw Ot();K.s=n<0?-1:1,K.n=Math.abs(t),K.d=Math.abs(i)};function ao(r,e,t){for(var i=1;e>0;r=r*r%t,e>>=1)e&1&&(i=i*r%t);return i}function oo(r,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var t=10%e,i=1;t!==1;i++)if(t=t*10%e,i>uo)return 0;return i}function so(r,e,t){for(var i=1,n=ao(10,t,e),a=0;a<300;a++){if(i===n)return a;i=i*10%e,n=n*10%e}return 0}function Me(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function $r(r,e){if(Yr(r,e),this instanceof $r)r=Me(K.d,K.n),this.s=K.s,this.n=K.n/r,this.d=K.d/r;else return yr(K.s*K.n,K.d)}var Ot=function(){return new Error("Division by Zero")},Ye=function(){return new Error("Invalid argument")},fo=function(){return new Error("Parameters must be integer")};$r.prototype={s:1,n:0,d:1,abs:function(){return yr(this.n,this.d)},neg:function(){return yr(-this.s*this.n,this.d)},add:function(r,e){return Yr(r,e),yr(this.s*this.n*K.d+K.s*this.d*K.n,this.d*K.d)},sub:function(r,e){return Yr(r,e),yr(this.s*this.n*K.d-K.s*this.d*K.n,this.d*K.d)},mul:function(r,e){return Yr(r,e),yr(this.s*K.s*this.n*K.n,this.d*K.d)},div:function(r,e){return Yr(r,e),yr(this.s*K.s*this.n*K.d,this.d*K.n)},clone:function(){return yr(this.s*this.n,this.d)},mod:function(r,e){if(isNaN(this.n)||isNaN(this.d))return new $r(NaN);if(r===void 0)return yr(this.s*this.n%this.d,1);if(Yr(r,e),K.n===0&&this.d===0)throw Ot();return yr(this.s*(K.d*this.n)%(K.n*this.d),K.d*this.d)},gcd:function(r,e){return Yr(r,e),yr(Me(K.n,this.n)*Me(K.d,this.d),K.d*this.d)},lcm:function(r,e){return Yr(r,e),K.n===0&&this.n===0?yr(0,1):yr(K.n*this.n,Me(K.n,this.n)*Me(K.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new $r(NaN):yr(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new $r(NaN):yr(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new $r(NaN):yr(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,e){return Yr(r,e),yr(this.s*Math.round(this.n*K.d/(this.d*K.n))*K.n,K.d)},inverse:function(){return yr(this.s*this.d,this.n)},pow:function(r,e){if(Yr(r,e),K.d===1)return K.s<0?yr(Math.pow(this.s*this.d,K.n),Math.pow(this.n,K.n)):yr(Math.pow(this.s*this.n,K.n),Math.pow(this.d,K.n));if(this.s<0)return null;var t=rn(this.n),i=rn(this.d),n=1,a=1;for(var f in t)if(f!=="1"){if(f==="0"){n=0;break}if(t[f]*=K.n,t[f]%K.d===0)t[f]/=K.d;else return null;n*=Math.pow(f,t[f])}for(var f in i)if(f!=="1"){if(i[f]*=K.n,i[f]%K.d===0)i[f]/=K.d;else return null;a*=Math.pow(f,i[f])}return K.s<0?yr(a,n):yr(n,a)},equals:function(r,e){return Yr(r,e),this.s*this.n*K.d===K.s*K.n*this.d},compare:function(r,e){Yr(r,e);var t=this.s*this.n*K.d-K.s*K.n*this.d;return(0<t)-(t<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var e=this.abs(),t=e.toContinued(),i=1;i<t.length;i++){for(var n=yr(t[i-1],1),a=i-2;a>=0;a--)n=n.inverse().add(t[a]);if(Math.abs(n.sub(e).valueOf())<r)return n.mul(this.s)}return this},divisible:function(r,e){return Yr(r,e),!(!(K.n*this.d)||this.n*K.d%(K.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var e,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(r&&(e=Math.floor(i/n))>0&&(t+=e,t+=" ",i%=n),t+=i,t+="/",t+=n),t},toLatex:function(r){var e,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(r&&(e=Math.floor(i/n))>0&&(t+=e,i%=n),t+="\\frac{",t+=i,t+="}{",t+=n,t+="}"),t},toContinued:function(){var r,e=this.n,t=this.d,i=[];if(isNaN(e)||isNaN(t))return i;do i.push(Math.floor(e/t)),r=e%t,e=t,t=r;while(e!==1);return i},toString:function(r){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";r=r||15;var i=oo(e,t),n=so(e,t,i),a=this.s<0?"-":"";if(a+=e/t|0,e%=t,e*=10,e&&(a+="."),i){for(var f=n;f--;)a+=e/t|0,e%=t,e*=10;a+="(";for(var f=i;f--;)a+=e/t|0,e%=t,e*=10;a+=")"}else for(var f=r;e&&f--;)a+=e/t|0,e%=t,e*=10;return a}};var co="Fraction",lo=[],ho=Q(co,lo,()=>(Object.defineProperty($r,"name",{value:"Fraction"}),$r.prototype.constructor=$r,$r.prototype.type="Fraction",$r.prototype.isFraction=!0,$r.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},$r.fromJSON=function(r){return new $r(r)},$r),{isClass:!0}),vo="Matrix",Do=[],po=Q(vo,Do,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function At(r,e,t){var i=r.constructor,n=new i(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Sr(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function mo(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=qn(e);switch(t){case"fixed":return wo(r,i);case"exponential":return en(r,i);case"engineering":return go(r,i);case"bin":return At(r,2,n);case"oct":return At(r,8,n);case"hex":return At(r,16,n);case"auto":{var a=tn(e==null?void 0:e.lowerExp,-3),f=tn(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var l,v=r.toSignificantDigits(i),D=v.e;return D>=a&&D<f?l=v.toFixed():l=en(r,i),l.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],u=arguments[4];return o!=="."?o+u:u})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function go(r,e){var t=r.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-i)),a=n.toPrecision(e);if(a.includes("e")){var f=r.constructor;a=new f(a).toFixed()}return a+"e"+(t>=0?"+":"")+i.toString()}function en(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function wo(r,e){return r.toFixed(e)}function tn(r,e){return wr(r)?r:zr(r)?r.toNumber():e}function xr(r,e){var t=yo(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function yo(r,e){if(typeof r=="number")return Ft(r,e);if(zr(r))return mo(r,e);if(Ao(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return jn(r,e);if(ue(r))return nn(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(i=>nn(i)+": "+xr(r[i],e));return"{"+t.join(", ")+"}"}return String(r)}function nn(r){for(var e=String(r),t="",i=0;i<e.length;){var n=e.charAt(i);t+=n in un?un[n]:n,i++}return'"'+t+'"'}var un={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function jn(r,e){if(Array.isArray(r)){for(var t="[",i=r.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=jn(r[n],e);return t+="]",t}else return xr(r,e)}function Ao(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function lr(r,e,t){if(!(this instanceof lr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}lr.prototype=new RangeError;lr.prototype.constructor=RangeError;lr.prototype.name="DimensionError";lr.prototype.isDimensionError=!0;function Fe(r,e,t){if(!(this instanceof Fe))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Fe.prototype=new RangeError;Fe.prototype.constructor=RangeError;Fe.prototype.name="IndexError";Fe.prototype.isIndexError=!0;function Lr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function ri(r,e,t){var i,n=r.length;if(n!==e[t])throw new lr(n,e[t]);if(t<e.length-1){var a=t+1;for(i=0;i<n;i++){var f=r[i];if(!Array.isArray(f))throw new lr(e.length-1,e.length,"<");ri(r[i],e,a)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new lr(e.length+1,e.length,">")}function an(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new lr(r.length,0)}else ri(r,e,0)}function Fr(r,e){if(r!==void 0){if(!wr(r)||!Sr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Fe(r,e)}}function on(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!wr(n)||!Sr(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xr(e)+")")}),(wr(r)||zr(r))&&(r=[r]);var i=t!==void 0?t:0;return St(r,e,0,i),r}function St(r,e,t,i){var n,a,f=r.length,l=e[t],v=Math.min(f,l);if(r.length=l,t<e.length-1){var D=t+1;for(n=0;n<v;n++)a=r[n],Array.isArray(a)||(a=[a],r[n]=a),St(a,e,D,i);for(n=v;n<l;n++)a=[],r[n]=a,St(a,e,D,i)}else{for(n=0;n<v;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=v;n<l;n++)r[n]=i}}function ei(r,e){var t=Eo(r),i=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new lr(0,i,"!=");e=It(e,i);var n=ti(e);if(i!==n)throw new lr(n,i,"!=");try{return Fo(t,e)}catch(a){throw a instanceof lr?new lr(n,i,"!="):a}}function It(r,e){var t=ti(r),i=r.slice(),n=-1,a=r.indexOf(n),f=r.indexOf(n,a+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var l=a>=0,v=e%t===0;if(l)if(v)i[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return i}function ti(r){return r.reduce((e,t)=>e*t,1)}function Fo(r,e){for(var t=r,i,n=e.length-1;n>0;n--){var a=e[n];i=[];for(var f=t.length/a,l=0;l<f;l++)i.push(t.slice(l*a,(l+1)*a));t=i}return t}function ni(r,e,t,i){var n=i||Lr(r);if(t)for(var a=0;a<t;a++)r=[r],n.unshift(1);for(r=ii(r,e,0);n.length<e;)n.push(1);return r}function ii(r,e,t){var i,n;if(Array.isArray(r)){var a=t+1;for(i=0,n=r.length;i<n;i++)r[i]=ii(r[i],e,a)}else for(var f=t;f<e;f++)r=[r];return r}function Eo(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Pt(r,e){for(var t,i=0,n=0;n<r.length;n++){var a=r[n],f=Array.isArray(a);if(n===0&&f&&(i=a.length),f&&a.length!==i)return;var l=f?Pt(a,e):e(a);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function ui(r,e,t,i){if(i<t){if(r.length!==e.length)throw new lr(r.length,e.length);for(var n=[],a=0;a<r.length;a++)n[a]=ui(r[a],e[a],t,i+1);return n}else return r.concat(e)}function ai(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,i){return ui(t,i,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function oi(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=e.map(s=>s.length),n=Math.max(...i),a=new Array(n).fill(null),f=0;f<e.length;f++)for(var l=e[f],v=i[f],D=0;D<v;D++){var o=n-v+D;l[D]>a[o]&&(a[o]=l[D])}for(var u=0;u<e.length;u++)si(e[u],a);return a}function si(r,e){for(var t=e.length,i=r.length,n=0;n<i;n++){var a=t-i+n;if(r[n]<e[a]&&r[n]>1||r[n]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(i," with size ").concat(r[n]," to size ").concat(e[a]))}}function bt(r,e){var t=Lr(r);if(De(t,e))return r;si(t,e);var i=oi(t,e),n=i.length,a=[...Array(n-t.length).fill(1),...t],f=_o(r);t.length<n&&(f=ei(f,a),t=Lr(f));for(var l=0;l<n;l++)t[l]<i[l]&&(f=Co(f,i[l],l),t=Lr(f));return f}function Co(r,e,t){return ai(...Array(e).fill(r),t)}function fi(r,e){if(!Array.isArray(r))throw new Error("Array expected");var t=Lr(r);if(e.length!==t.length)throw new lr(e.length,t.length);for(var i=0;i<e.length;i++)Fr(e[i],t[i]);return e.reduce((n,a)=>n[a],r)}function _o(r){return Ge([],r)}function rt(r,e,t){if(Qe.isTypedFunction(r)){var i=(e.isMatrix?e.size():Lr(e)).map(()=>0),n=e.isMatrix?e.get(i):fi(e,i),a=Object.keys(r.signatures).length===1,f=Mo(r,n,i,e),l=a?Object.values(r.signatures)[0]:r;return f>=1&&f<=3?function(){for(var v=arguments.length,D=new Array(v),o=0;o<v;o++)D[o]=arguments[o];return sn(l,D.slice(0,f),t,r.name)}:function(){for(var v=arguments.length,D=new Array(v),o=0;o<v;o++)D[o]=arguments[o];return sn(l,D,t,r.name)}}return r}function Mo(r,e,t,i){for(var n=[e,t,i],a=3;a>0;a--){var f=n.slice(0,a);if(Qe.resolve(r,f)!==null)return a}}function sn(r,e,t,i){try{return r(...e)}catch(n){Bo(n,e,t,i)}}function Bo(r,e,t,i){var n;if(r instanceof TypeError&&((n=r.data)===null||n===void 0?void 0:n.category)==="wrongType"){var a=[];throw a.push("value: ".concat(ve(e[0]))),e.length>=2&&a.push("index: ".concat(ve(e[1]))),e.length>=3&&a.push("array: ".concat(ve(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(i,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(r.message))}var So="DenseMatrix",bo=["Matrix"],xo=Q(So,bo,r=>{var{Matrix:e}=r;function t(o,u){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!ue(u))throw new Error("Invalid datatype: "+u);if(Nr(o))o.type==="DenseMatrix"?(this._data=Cr(o._data),this._size=Cr(o._size),this._datatype=u||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=u||o._datatype);else if(o&&Er(o.data)&&Er(o.size))this._data=o.data,this._size=o.size,an(this._data,this._size),this._datatype=u||o.datatype;else if(Er(o))this._data=D(o),this._size=Lr(this._data),an(this._data,this._size),this._datatype=u;else{if(o)throw new TypeError("Unsupported type of data ("+ve(o)+")");this._data=[],this._size=[0],this._datatype=u}}t.prototype=new e,t.prototype.createDenseMatrix=function(o,u){return new t(o,u)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Pt(this._data,ve)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(o,u){return new t(o,u)},t.prototype.subset=function(o,u,s){switch(arguments.length){case 1:return i(this,o);case 2:case 3:return a(this,o,u,s);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(o){return fi(this._data,o)},t.prototype.set=function(o,u,s){if(!Er(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new lr(o.length,this._size.length,"<");var c,d,h,g=o.map(function(A){return A+1});v(this,g,s);var m=this._data;for(c=0,d=o.length-1;c<d;c++)h=o[c],Fr(h,m.length),m=m[h];return h=o[o.length-1],Fr(h,m.length),m[h]=u,this};function i(o,u){if(!Nt(u))throw new TypeError("Invalid index");var s=u.isScalar();if(s)return o.get(u.min());var c=u.size();if(c.length!==o._size.length)throw new lr(c.length,o._size.length);for(var d=u.min(),h=u.max(),g=0,m=o._size.length;g<m;g++)Fr(d[g],o._size[g]),Fr(h[g],o._size[g]);return new t(n(o._data,u,c.length,0),o._datatype)}function n(o,u,s,c){var d=c===s-1,h=u.dimension(c);return d?h.map(function(g){return Fr(g,o.length),o[g]}).valueOf():h.map(function(g){Fr(g,o.length);var m=o[g];return n(m,u,s,c+1)}).valueOf()}function a(o,u,s,c){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var d=u.size(),h=u.isScalar(),g;if(Nr(s)?(g=s.size(),s=s.valueOf()):g=Lr(s),h){if(g.length!==0)throw new TypeError("Scalar expected");o.set(u.min(),s,c)}else{if(!De(g,d))try{g.length===0?s=bt([s],d):s=bt(s,d),g=Lr(s)}catch{}if(d.length<o._size.length)throw new lr(d.length,o._size.length,"<");if(g.length<d.length){for(var m=0,A=0;d[m]===1&&g[m]===1;)m++;for(;d[m]===1;)A++,m++;s=ni(s,d.length,A,g)}if(!De(d,g))throw new lr(d,g,">");var w=u.max().map(function(p){return p+1});v(o,w,c);var F=d.length,y=0;f(o._data,u,s,F,y)}return o}function f(o,u,s,c,d){var h=d===c-1,g=u.dimension(d);h?g.forEach(function(m,A){Fr(m),o[m]=s[A[0]]}):g.forEach(function(m,A){Fr(m),f(o[m],u,s[A[0]],c,d+1)})}t.prototype.resize=function(o,u,s){if(!Ke(o))throw new TypeError("Array or Matrix expected");var c=o.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),d=s?this.clone():this;return l(d,c,u)};function l(o,u,s){if(u.length===0){for(var c=o._data;Er(c);)c=c[0];return c}return o._size=u.slice(0),o._data=on(o._data,o._size,s),o}t.prototype.reshape=function(o,u){var s=u?this.clone():this;s._data=ei(s._data,o);var c=s._size.reduce((d,h)=>d*h);return s._size=It(o,c),s};function v(o,u,s){for(var c=o._size.slice(0),d=!1;c.length<u.length;)c.push(0),d=!0;for(var h=0,g=u.length;h<g;h++)u[h]>c[h]&&(c[h]=u[h],d=!0);d&&l(o,c,s)}t.prototype.clone=function(){var o=new t({data:Cr(this._data),size:Cr(this._size),datatype:this._datatype});return o},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(o){var u=this,s=u.size();if(s.length===1){for(var c=0;c<s[0];c++)o(u._data,c,[c]);return}var d=Array(s.length).fill(0),h=Array(s.length-1),g=h.length-1;h[0]=u._data[0];for(var m=0;m<g;m++)h[m+1]=h[m][0];for(d[g]=-1;;){var A=void 0;for(A=g;A>=0;A--){if(d[A]++,d[A]===s[A]){d[A]=0;continue}h[A]=A===0?u._data[d[A]]:h[A-1][d[A]];for(var w=A;w<g;w++)h[w+1]=h[w][0];for(var F=0;F<s[h.length];F++)d[h.length]=F,o(h[g],F,d.slice(0));break}if(A===-1)break}},t.prototype.map=function(o){var u=this,s=new t(u),c=rt(o,u._data,"map");return s._forEach(function(d,h,g){d[h]=c(d[h],g,u)}),s},t.prototype.forEach=function(o){var u=this,s=rt(o,u._data,"map");u._forEach(function(c,d,h){s(c[d],h,u)})},t.prototype[Symbol.iterator]=function*(){var o=function*(s,c){if(Er(s))for(var d=0;d<s.length;d++)yield*o(s[d],c.concat(d));else yield{value:s,index:c}};yield*o(this._data,[])},t.prototype.rows=function(){var o=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var s=this._data;for(var c of s)o.push(new t([c],this._datatype));return o},t.prototype.columns=function(){var o=this,u=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var c=this._data,d=function(m){var A=c.map(w=>[w[m]]);u.push(new t(A,o._datatype))},h=0;h<s[1];h++)d(h);return u},t.prototype.toArray=function(){return Cr(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(o){return xr(this._data,o)},t.prototype.toString=function(){return xr(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(o){if(o){if(zr(o)&&(o=o.toNumber()),!wr(o)||!Sr(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var u=o>0?o:0,s=o<0?-o:0,c=this._size[0],d=this._size[1],h=Math.min(c-s,d-u),g=[],m=0;m<h;m++)g[m]=this._data[m+s][m+u];return new t({data:g,size:[h],datatype:this._datatype})},t.diagonal=function(o,u,s,c){if(!Er(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(_){if(zr(_)&&(_=_.toNumber()),!wr(_)||!Sr(_)||_<1)throw new Error("Size values must be positive integers");return _}),s){if(zr(s)&&(s=s.toNumber()),!wr(s)||!Sr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var d=s>0?s:0,h=s<0?-s:0,g=o[0],m=o[1],A=Math.min(g-h,m-d),w;if(Er(u)){if(u.length!==A)throw new Error("Invalid value array length");w=function(M){return u[M]}}else if(Nr(u)){var F=u.size();if(F.length!==1||F[0]!==A)throw new Error("Invalid matrix length");w=function(M){return u.get([M])}}else w=function(){return u};c||(c=zr(w(0))?w(0).mul(0):0);var y=[];if(o.length>0){y=on(y,o,c);for(var p=0;p<A;p++)y[p+h][p+d]=w(p)}return new t({data:y,size:[g,m]})},t.fromJSON=function(o){return new t(o)},t.prototype.swapRows=function(o,u){if(!wr(o)||!Sr(o)||!wr(u)||!Sr(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fr(o,this._size[0]),Fr(u,this._size[0]),t._swapRows(o,u,this._data),this},t._swapRows=function(o,u,s){var c=s[o];s[o]=s[u],s[u]=c};function D(o){return Nr(o)?D(o.valueOf()):Er(o)?o.map(D):o}return t},{isClass:!0});function me(r,e,t){return r&&typeof r.map=="function"?r.map(function(i){return me(i,e)}):e(r)}var fn="isInteger",No=["typed"],To=Q(fn,No,r=>{var{typed:e}=r;return e(fn,{number:Sr,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":e.referToSelf(t=>i=>me(i,t))})}),ci="number",$t="number, number";function li(r){return Math.abs(r)}li.signature=ci;function hi(r,e){return r+e}hi.signature=$t;function vi(r,e){return r-e}vi.signature=$t;function Di(r,e){return r*e}Di.signature=$t;function pi(r){return-r}pi.signature=ci;function ct(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),i))}function zo(r,e,t,i){return ye(r.re,e.re,t,i)&&ye(r.im,e.im,t,i)}var lt=Q("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}}),et="equalScalar",Oo=["typed","config"],Io=Q(et,Oo,r=>{var{typed:e,config:t}=r,i=lt({typed:e});return e(et,{"boolean, boolean":function(a,f){return a===f},"number, number":function(a,f){return ye(a,f,t.relTol,t.absTol)},"BigNumber, BigNumber":function(a,f){return a.eq(f)||ct(a,f,t.relTol,t.absTol)},"bigint, bigint":function(a,f){return a===f},"Fraction, Fraction":function(a,f){return a.equals(f)},"Complex, Complex":function(a,f){return zo(a,f,t.relTol,t.absTol)}},i)});Q(et,["typed","config"],r=>{var{typed:e,config:t}=r;return e(et,{"number, number":function(n,a){return ye(n,a,t.relTol,t.absTol)}})});var Po="SparseMatrix",$o=["typed","equalScalar","Matrix"],qo=Q(Po,$o,r=>{var{typed:e,equalScalar:t,Matrix:i}=r;function n(h,g){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!ue(g))throw new Error("Invalid datatype: "+g);if(Nr(h))a(this,h,g);else if(h&&Er(h.index)&&Er(h.ptr)&&Er(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=g||h.datatype;else if(Er(h))f(this,h,g);else{if(h)throw new TypeError("Unsupported type of data ("+ve(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(h,g,m){g.type==="SparseMatrix"?(h._values=g._values?Cr(g._values):void 0,h._index=Cr(g._index),h._ptr=Cr(g._ptr),h._size=Cr(g._size),h._datatype=m||g._datatype):f(h,g.valueOf(),m||g._datatype)}function f(h,g,m){h._values=[],h._index=[],h._ptr=[],h._datatype=m;var A=g.length,w=0,F=t,y=0;if(ue(m)&&(F=e.find(t,[m,m])||t,y=e.convert(0,m)),A>0){var p=0;do{h._ptr.push(h._index.length);for(var _=0;_<A;_++){var M=g[_];if(Er(M)){if(p===0&&w<M.length&&(w=M.length),p<M.length){var E=M[p];F(E,y)||(h._values.push(E),h._index.push(_))}}else p===0&&w<1&&(w=1),F(M,y)||(h._values.push(M),h._index.push(_))}p++}while(p<w)}h._ptr.push(h._index.length),h._size=[A,w]}n.prototype=new i,n.prototype.createSparseMatrix=function(h,g){return new n(h,g)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Pt(this._values,ve)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(h,g){return new n(h,g)},n.prototype.density=function(){var h=this._size[0],g=this._size[1];return h!==0&&g!==0?this._index.length/(h*g):0},n.prototype.subset=function(h,g,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,h);case 2:case 3:return v(this,h,g,m);default:throw new SyntaxError("Wrong number of arguments")}};function l(h,g){if(!Nt(g))throw new TypeError("Invalid index");var m=g.isScalar();if(m)return h.get(g.min());var A=g.size();if(A.length!==h._size.length)throw new lr(A.length,h._size.length);var w,F,y,p,_=g.min(),M=g.max();for(w=0,F=h._size.length;w<F;w++)Fr(_[w],h._size[w]),Fr(M[w],h._size[w]);var E=h._values,B=h._index,b=h._ptr,z=g.dimension(0),R=g.dimension(1),I=[],O=[];z.forEach(function(T,H){O[T]=H[0],I[T]=!0});var x=E?[]:void 0,J=[],V=[];return R.forEach(function(T){for(V.push(J.length),y=b[T],p=b[T+1];y<p;y++)w=B[y],I[w]===!0&&(J.push(O[w]),x&&x.push(E[y]))}),V.push(J.length),new n({values:x,index:J,ptr:V,size:A,datatype:h._datatype})}function v(h,g,m,A){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var w=g.size(),F=g.isScalar(),y;if(Nr(m)?(y=m.size(),m=m.toArray()):y=Lr(m),F){if(y.length!==0)throw new TypeError("Scalar expected");h.set(g.min(),m,A)}else{if(w.length!==1&&w.length!==2)throw new lr(w.length,h._size.length,"<");if(y.length<w.length){for(var p=0,_=0;w[p]===1&&y[p]===1;)p++;for(;w[p]===1;)_++,p++;m=ni(m,w.length,_,y)}if(!De(w,y))throw new lr(w,y,">");if(w.length===1){var M=g.dimension(0);M.forEach(function(b,z){Fr(b),h.set([b,0],m[z[0]],A)})}else{var E=g.dimension(0),B=g.dimension(1);E.forEach(function(b,z){Fr(b),B.forEach(function(R,I){Fr(R),h.set([b,R],m[z[0]][I[0]],A)})})}}return h}n.prototype.get=function(h){if(!Er(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new lr(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=h[0],m=h[1];Fr(g,this._size[0]),Fr(m,this._size[1]);var A=D(g,this._ptr[m],this._ptr[m+1],this._index);return A<this._ptr[m+1]&&this._index[A]===g?this._values[A]:0},n.prototype.set=function(h,g,m){if(!Er(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new lr(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=h[0],w=h[1],F=this._size[0],y=this._size[1],p=t,_=0;ue(this._datatype)&&(p=e.find(t,[this._datatype,this._datatype])||t,_=e.convert(0,this._datatype)),(A>F-1||w>y-1)&&(s(this,Math.max(A+1,F),Math.max(w+1,y),m),F=this._size[0],y=this._size[1]),Fr(A,F),Fr(w,y);var M=D(A,this._ptr[w],this._ptr[w+1],this._index);return M<this._ptr[w+1]&&this._index[M]===A?p(g,_)?o(M,w,this._values,this._index,this._ptr):this._values[M]=g:p(g,_)||u(M,A,w,g,this._values,this._index,this._ptr),this};function D(h,g,m,A){if(m-g===0)return m;for(var w=g;w<m;w++)if(A[w]===h)return w;return g}function o(h,g,m,A,w){m.splice(h,1),A.splice(h,1);for(var F=g+1;F<w.length;F++)w[F]--}function u(h,g,m,A,w,F,y){w.splice(h,0,A),F.splice(h,0,g);for(var p=m+1;p<y.length;p++)y[p]++}n.prototype.resize=function(h,g,m){if(!Ke(h))throw new TypeError("Array or Matrix expected");var A=h.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(F){if(!wr(F)||!Sr(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xr(A)+")")});var w=m?this.clone():this;return s(w,A[0],A[1],g)};function s(h,g,m,A){var w=A||0,F=t,y=0;ue(h._datatype)&&(F=e.find(t,[h._datatype,h._datatype])||t,y=e.convert(0,h._datatype),w=e.convert(w,h._datatype));var p=!F(w,y),_=h._size[0],M=h._size[1],E,B,b;if(m>M){for(B=M;B<m;B++)if(h._ptr[B]=h._values.length,p)for(E=0;E<_;E++)h._values.push(w),h._index.push(E);h._ptr[m]=h._values.length}else m<M&&(h._ptr.splice(m+1,M-m),h._values.splice(h._ptr[m],h._values.length),h._index.splice(h._ptr[m],h._index.length));if(M=m,g>_){if(p){var z=0;for(B=0;B<M;B++){h._ptr[B]=h._ptr[B]+z,b=h._ptr[B+1]+z;var R=0;for(E=_;E<g;E++,R++)h._values.splice(b+R,0,w),h._index.splice(b+R,0,E),z++}h._ptr[M]=h._values.length}}else if(g<_){var I=0;for(B=0;B<M;B++){h._ptr[B]=h._ptr[B]-I;var O=h._ptr[B],x=h._ptr[B+1]-I;for(b=O;b<x;b++)E=h._index[b],E>g-1&&(h._values.splice(b,1),h._index.splice(b,1),I++)}h._ptr[B]=h._values.length}return h._size[0]=g,h._size[1]=m,h}n.prototype.reshape=function(h,g){if(!Er(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(T){if(!wr(T)||!Sr(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xr(h)+")")});var m=this._size[0]*this._size[1];h=It(h,m);var A=h[0]*h[1];if(m!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=g?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var F=[],y=0;y<w._ptr.length;y++)for(var p=0;p<w._ptr[y+1]-w._ptr[y];p++)F.push(y);for(var _=w._values.slice(),M=w._index.slice(),E=0;E<w._index.length;E++){var B=M[E],b=F[E],z=B*w._size[1]+b;F[E]=z%h[1],M[E]=Math.floor(z/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var R=0;R<w._ptr.length;R++)w._ptr[R]=0;for(var I=0;I<_.length;I++){var O=M[I],x=F[I],J=_[I],V=D(O,w._ptr[x],w._ptr[x+1],w._index);u(V,O,x,J,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var h=new n({values:this._values?Cr(this._values):void 0,index:Cr(this._index),ptr:Cr(this._ptr),size:Cr(this._size),datatype:this._datatype});return h},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(h,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,A=this._size[0],w=this._size[1],F=rt(h,m,"map"),y=function(_,M,E){return F(_,[M,E],m)};return c(this,0,A-1,0,w-1,y,g)};function c(h,g,m,A,w,F,y){var p=[],_=[],M=[],E=t,B=0;ue(h._datatype)&&(E=e.find(t,[h._datatype,h._datatype])||t,B=e.convert(0,h._datatype));for(var b=function(er,W,hr){var or=F(er,W,hr);E(or,B)||(p.push(or),_.push(W))},z=A;z<=w;z++){M.push(p.length);var R=h._ptr[z],I=h._ptr[z+1];if(y)for(var O=R;O<I;O++){var x=h._index[O];x>=g&&x<=m&&b(h._values[O],x-g,z-A)}else{for(var J={},V=R;V<I;V++){var T=h._index[V];J[T]=h._values[V]}for(var H=g;H<=m;H++){var X=H in J?J[H]:0;b(X,H-g,z-A)}}}return M.push(p.length),new n({values:p,index:_,ptr:M,size:[m-g+1,w-A+1]})}n.prototype.forEach=function(h,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,A=this._size[0],w=this._size[1],F=rt(h,m,"forEach"),y=0;y<w;y++){var p=this._ptr[y],_=this._ptr[y+1];if(g)for(var M=p;M<_;M++){var E=this._index[M];F(this._values[M],[E,y],m)}else{for(var B={},b=p;b<_;b++){var z=this._index[b];B[z]=this._values[b]}for(var R=0;R<A;R++){var I=R in B?B[R]:0;F(I,[R,y],m)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],g=0;g<h;g++)for(var m=this._ptr[g],A=this._ptr[g+1],w=m;w<A;w++){var F=this._index[w];yield{value:this._values[w],index:[F,g]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(h,g,m,A,w){var F=A[0],y=A[1],p=[],_,M;for(_=0;_<F;_++)for(p[_]=[],M=0;M<y;M++)p[_][M]=0;for(M=0;M<y;M++)for(var E=m[M],B=m[M+1],b=E;b<B;b++)_=g[b],p[_][M]=h?w?Cr(h[b]):h[b]:1;return p}return n.prototype.format=function(h){for(var g=this._size[0],m=this._size[1],A=this.density(),w="Sparse Matrix ["+xr(g,h)+" x "+xr(m,h)+"] density: "+xr(A,h)+`
`,F=0;F<m;F++)for(var y=this._ptr[F],p=this._ptr[F+1],_=y;_<p;_++){var M=this._index[_];w+=`
    (`+xr(M,h)+", "+xr(F,h)+") ==> "+(this._values?xr(this._values[_],h):"X")}return w},n.prototype.toString=function(){return xr(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(h){if(h){if(zr(h)&&(h=h.toNumber()),!wr(h)||!Sr(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,m=h<0?-h:0,A=this._size[0],w=this._size[1],F=Math.min(A-m,w-g),y=[],p=[],_=[];_[0]=0;for(var M=g;M<w&&y.length<F;M++)for(var E=this._ptr[M],B=this._ptr[M+1],b=E;b<B;b++){var z=this._index[b];if(z===M-g+m){y.push(this._values[b]),p[y.length-1]=z-m;break}}return _.push(y.length),new n({values:y,index:p,ptr:_,size:[F,1]})},n.fromJSON=function(h){return new n(h)},n.diagonal=function(h,g,m,A,w){if(!Er(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(T){if(zr(T)&&(T=T.toNumber()),!wr(T)||!Sr(T)||T<1)throw new Error("Size values must be positive integers");return T}),m){if(zr(m)&&(m=m.toNumber()),!wr(m)||!Sr(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var F=t,y=0;ue(w)&&(F=e.find(t,[w,w])||t,y=e.convert(0,w));var p=m>0?m:0,_=m<0?-m:0,M=h[0],E=h[1],B=Math.min(M-_,E-p),b;if(Er(g)){if(g.length!==B)throw new Error("Invalid value array length");b=function(H){return g[H]}}else if(Nr(g)){var z=g.size();if(z.length!==1||z[0]!==B)throw new Error("Invalid matrix length");b=function(H){return g.get([H])}}else b=function(){return g};for(var R=[],I=[],O=[],x=0;x<E;x++){O.push(R.length);var J=x-p;if(J>=0&&J<B){var V=b(J);F(V,y)||(I.push(J+_),R.push(V))}}return O.push(R.length),new n({values:R,index:I,ptr:O,size:[M,E]})},n.prototype.swapRows=function(h,g){if(!wr(h)||!Sr(h)||!wr(g)||!Sr(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fr(h,this._size[0]),Fr(g,this._size[0]),n._swapRows(h,g,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(h,g,m,A,w){for(var F=A[h],y=A[h+1],p=F;p<y;p++)w(m[p],g[p])},n._swapRows=function(h,g,m,A,w,F){for(var y=0;y<m;y++){var p=F[y],_=F[y+1],M=D(h,p,_,w),E=D(g,p,_,w);if(M<_&&E<_&&w[M]===h&&w[E]===g){if(A){var B=A[M];A[M]=A[E],A[E]=B}continue}if(M<_&&w[M]===h&&(E>=_||w[E]!==g)){var b=A?A[M]:void 0;w.splice(E,0,g),A&&A.splice(E,0,b),w.splice(E<=M?M+1:M,1),A&&A.splice(E<=M?M+1:M,1);continue}if(E<_&&w[E]===g&&(M>=_||w[M]!==h)){var z=A?A[E]:void 0;w.splice(M,0,h),A&&A.splice(M,0,z),w.splice(M<=E?E+1:E,1),A&&A.splice(M<=E?E+1:E,1)}}},n},{isClass:!0}),Ro="number",Lo=["typed"];function Uo(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],n=e[3];return{input:r,radix:t,integerPart:i,fractionalPart:n}}else return null}function Zo(r){for(var e=parseInt(r.integerPart,r.radix),t=0,i=0;i<r.fractionalPart.length;i++){var n=parseInt(r.fractionalPart[i],r.radix);t+=n/Math.pow(r.radix,i+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var Vo=Q(Ro,Lo,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var a=Uo(n);if(a)return Zo(a);var f=0,l=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(f=Number(l[2]),n=l[1]);var v=Number(n);if(isNaN(v))throw new SyntaxError('String "'+n+'" is not a valid number');if(l){if(v>2**f-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));v>=2**(f-1)&&(v=v-2**f)}return v},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),null:function(n){return 0},"Unit, string | Unit":function(n,a){return n.toNumber(a)},"Array | Matrix":e.referToSelf(i=>n=>me(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),Ho="bignumber",Jo=["typed","BigNumber"],Yo=Q(Ho,Jo,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var a=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var f=a[2],l=t(a[1]),v=new t(2).pow(Number(f));if(l.gt(v.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var D=new t(2).pow(Number(f)-1);return l.gte(D)?l.sub(v):l}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":e.referToSelf(i=>n=>me(n,i))})}),Go="fraction",Xo=["typed","Fraction"],Ko=Q(Go,Xo,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,a){return new t(n,a)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),Object:function(n){return new t(n)},"Array | Matrix":e.referToSelf(i=>n=>me(n,i))})}),cn="matrix",Qo=["typed","Matrix","DenseMatrix","SparseMatrix"],Wo=Q(cn,Qo,r=>{var{typed:e,Matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(cn,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,v){return a([],l,v)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(f,l,v){if(l==="dense"||l==="default"||l===void 0)return new i(f,v);if(l==="sparse")return new n(f,v);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),ln="unaryMinus",ko=["typed"],jo=Q(ln,ko,r=>{var{typed:e}=r;return e(ln,{number:pi,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>i=>{var n=i.clone();return n.value=e.find(t,n.valueType())(i.value),n}),"Array | Matrix":e.referToSelf(t=>i=>me(i,t))})}),hn="abs",rs=["typed"],es=Q(hn,rs,r=>{var{typed:e}=r;return e(hn,{number:li,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>i=>me(i,t))})}),vn="addScalar",ts=["typed"],ns=Q(vn,ts,r=>{var{typed:e}=r;return e(vn,{"number, number":hi,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(t,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),Dn="subtractScalar",is=["typed"],us=Q(Dn,is,r=>{var{typed:e}=r;return e(Dn,{"number, number":vi,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(t,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),as="matAlgo11xS0s",os=["typed","equalScalar"],ss=Q(as,os,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,f,l){var v=n._values,D=n._index,o=n._ptr,u=n._size,s=n._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=u[0],d=u[1],h,g=t,m=0,A=f;typeof s=="string"&&(h=s,g=e.find(t,[h,h]),m=e.convert(0,h),a=e.convert(a,h),A=e.find(f,[h,h]));for(var w=[],F=[],y=[],p=0;p<d;p++){y[p]=F.length;for(var _=o[p],M=o[p+1],E=_;E<M;E++){var B=D[E],b=l?A(a,v[E]):A(v[E],a);g(b,m)||(F.push(B),w.push(b))}}return y[d]=F.length,n.createSparseMatrix({values:w,index:F,ptr:y,size:[c,d],datatype:h})}}),fs="matAlgo12xSfs",cs=["typed","DenseMatrix"],ht=Q(fs,cs,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,a,f,l){var v=n._values,D=n._index,o=n._ptr,u=n._size,s=n._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=u[0],d=u[1],h,g=f;typeof s=="string"&&(h=s,a=e.convert(a,h),g=e.find(f,[h,h]));for(var m=[],A=[],w=[],F=0;F<d;F++){for(var y=F+1,p=o[F],_=o[F+1],M=p;M<_;M++){var E=D[M];A[E]=v[M],w[E]=y}for(var B=0;B<c;B++)F===0&&(m[B]=[]),w[B]===y?m[B][F]=l?g(a,A[B]):g(A[B],a):m[B][F]=l?g(a,0):g(0,a)}return new t({data:m,size:[c,d],datatype:h})}}),ls="matAlgo14xDs",hs=["typed"],di=Q(ls,hs,r=>{var{typed:e}=r;return function(n,a,f,l){var v=n._data,D=n._size,o=n._datatype,u,s=f;typeof o=="string"&&(u=o,a=e.convert(a,u),s=e.find(f,[u,u]));var c=D.length>0?t(s,0,D,D[0],v,a,l):[];return n.createDenseMatrix({data:c,size:Cr(D),datatype:u})};function t(i,n,a,f,l,v,D){var o=[];if(n===a.length-1)for(var u=0;u<f;u++)o[u]=D?i(v,l[u]):i(l[u],v);else for(var s=0;s<f;s++)o[s]=t(i,n+1,a,a[n+1],l[s],v,D);return o}}),vs="matAlgo03xDSf",Ds=["typed"],vt=Q(vs,Ds,r=>{var{typed:e}=r;return function(i,n,a,f){var l=i._data,v=i._size,D=i._datatype||i.getDataType(),o=n._values,u=n._index,s=n._ptr,c=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(v.length!==c.length)throw new lr(v.length,c.length);if(v[0]!==c[0]||v[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+c+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=v[0],g=v[1],m,A=0,w=a;typeof D=="string"&&D===d&&D!=="mixed"&&(m=D,A=e.convert(0,m),w=e.find(a,[m,m]));for(var F=[],y=0;y<h;y++)F[y]=[];for(var p=[],_=[],M=0;M<g;M++){for(var E=M+1,B=s[M],b=s[M+1],z=B;z<b;z++){var R=u[z];p[R]=f?w(o[z],l[R][M]):w(l[R][M],o[z]),_[R]=E}for(var I=0;I<h;I++)_[I]===E?F[I][M]=p[I]:F[I][M]=f?w(A,l[I][M]):w(l[I][M],A)}return i.createDenseMatrix({data:F,size:[h,g],datatype:D===i._datatype&&d===n._datatype?m:void 0})}}),ps="matAlgo05xSfSf",ds=["typed","equalScalar"],ms=Q(ps,ds,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,f){var l=n._values,v=n._index,D=n._ptr,o=n._size,u=n._datatype||n._data===void 0?n._datatype:n.getDataType(),s=a._values,c=a._index,d=a._ptr,h=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(o.length!==h.length)throw new lr(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],A=o[1],w,F=t,y=0,p=f;typeof u=="string"&&u===g&&u!=="mixed"&&(w=u,F=e.find(t,[w,w]),y=e.convert(0,w),p=e.find(f,[w,w]));var _=l&&s?[]:void 0,M=[],E=[],B=_?[]:void 0,b=_?[]:void 0,z=[],R=[],I,O,x,J;for(O=0;O<A;O++){E[O]=M.length;var V=O+1;for(x=D[O],J=D[O+1];x<J;x++)I=v[x],M.push(I),z[I]=V,B&&(B[I]=l[x]);for(x=d[O],J=d[O+1];x<J;x++)I=c[x],z[I]!==V&&M.push(I),R[I]=V,b&&(b[I]=s[x]);if(_)for(x=E[O];x<M.length;){I=M[x];var T=z[I],H=R[I];if(T===V||H===V){var X=T===V?B[I]:y,ir=H===V?b[I]:y,er=p(X,ir);F(er,y)?M.splice(x,1):(_.push(er),x++)}}}return E[A]=M.length,n.createSparseMatrix({values:_,index:M,ptr:E,size:[m,A],datatype:u===n._datatype&&g===a._datatype?w:void 0})}}),gs="matAlgo13xDD",ws=["typed"],ys=Q(gs,ws,r=>{var{typed:e}=r;return function(n,a,f){var l=n._data,v=n._size,D=n._datatype,o=a._data,u=a._size,s=a._datatype,c=[];if(v.length!==u.length)throw new lr(v.length,u.length);for(var d=0;d<v.length;d++){if(v[d]!==u[d])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+u+")");c[d]=v[d]}var h,g=f;typeof D=="string"&&D===s&&(h=D,g=e.find(f,[h,h]));var m=c.length>0?t(g,0,c,c[0],l,o):[];return n.createDenseMatrix({data:m,size:c,datatype:h})};function t(i,n,a,f,l,v){var D=[];if(n===a.length-1)for(var o=0;o<f;o++)D[o]=i(l[o],v[o]);else for(var u=0;u<f;u++)D[u]=t(i,n+1,a,a[n+1],l[u],v[u]);return D}});function br(r,e){if(De(r.size(),e.size()))return[r,e];var t=oi(r.size(),e.size());return[r,e].map(i=>As(i,t))}function As(r,e){return De(r.size(),e)?r:r.create(bt(r.valueOf(),e),r.datatype())}var Fs="matrixAlgorithmSuite",Es=["typed","matrix"],Ie=Q(Fs,Es,r=>{var{typed:e,matrix:t}=r,i=ys({typed:e}),n=di({typed:e});return function(f){var l=f.elop,v=f.SD||f.DS,D;l?(D={"DenseMatrix, DenseMatrix":(c,d)=>i(...br(c,d),l),"Array, Array":(c,d)=>i(...br(t(c),t(d)),l).valueOf(),"Array, DenseMatrix":(c,d)=>i(...br(t(c),d),l),"DenseMatrix, Array":(c,d)=>i(...br(c,t(d)),l)},f.SS&&(D["SparseMatrix, SparseMatrix"]=(c,d)=>f.SS(...br(c,d),l,!1)),f.DS&&(D["DenseMatrix, SparseMatrix"]=(c,d)=>f.DS(...br(c,d),l,!1),D["Array, SparseMatrix"]=(c,d)=>f.DS(...br(t(c),d),l,!1)),v&&(D["SparseMatrix, DenseMatrix"]=(c,d)=>v(...br(d,c),l,!0),D["SparseMatrix, Array"]=(c,d)=>v(...br(t(d),c),l,!0))):(D={"DenseMatrix, DenseMatrix":e.referToSelf(c=>(d,h)=>i(...br(d,h),c)),"Array, Array":e.referToSelf(c=>(d,h)=>i(...br(t(d),t(h)),c).valueOf()),"Array, DenseMatrix":e.referToSelf(c=>(d,h)=>i(...br(t(d),h),c)),"DenseMatrix, Array":e.referToSelf(c=>(d,h)=>i(...br(d,t(h)),c))},f.SS&&(D["SparseMatrix, SparseMatrix"]=e.referToSelf(c=>(d,h)=>f.SS(...br(d,h),c,!1))),f.DS&&(D["DenseMatrix, SparseMatrix"]=e.referToSelf(c=>(d,h)=>f.DS(...br(d,h),c,!1)),D["Array, SparseMatrix"]=e.referToSelf(c=>(d,h)=>f.DS(...br(t(d),h),c,!1))),v&&(D["SparseMatrix, DenseMatrix"]=e.referToSelf(c=>(d,h)=>v(...br(h,d),c,!0)),D["SparseMatrix, Array"]=e.referToSelf(c=>(d,h)=>v(...br(t(h),d),c,!0))));var o=f.scalar||"any",u=f.Ds||f.Ss;u&&(l?(D["DenseMatrix,"+o]=(c,d)=>n(c,d,l,!1),D[o+", DenseMatrix"]=(c,d)=>n(d,c,l,!0),D["Array,"+o]=(c,d)=>n(t(c),d,l,!1).valueOf(),D[o+", Array"]=(c,d)=>n(t(d),c,l,!0).valueOf()):(D["DenseMatrix,"+o]=e.referToSelf(c=>(d,h)=>n(d,h,c,!1)),D[o+", DenseMatrix"]=e.referToSelf(c=>(d,h)=>n(h,d,c,!0)),D["Array,"+o]=e.referToSelf(c=>(d,h)=>n(t(d),h,c,!1).valueOf()),D[o+", Array"]=e.referToSelf(c=>(d,h)=>n(t(h),d,c,!0).valueOf())));var s=f.sS!==void 0?f.sS:f.Ss;return l?(f.Ss&&(D["SparseMatrix,"+o]=(c,d)=>f.Ss(c,d,l,!1)),s&&(D[o+", SparseMatrix"]=(c,d)=>s(d,c,l,!0))):(f.Ss&&(D["SparseMatrix,"+o]=e.referToSelf(c=>(d,h)=>f.Ss(d,h,c,!1))),s&&(D[o+", SparseMatrix"]=e.referToSelf(c=>(d,h)=>s(h,d,c,!0)))),l&&l.signatures&&Ju(D,l.signatures),D}}),Cs="matAlgo01xDSid",_s=["typed"],mi=Q(Cs,_s,r=>{var{typed:e}=r;return function(i,n,a,f){var l=i._data,v=i._size,D=i._datatype||i.getDataType(),o=n._values,u=n._index,s=n._ptr,c=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(v.length!==c.length)throw new lr(v.length,c.length);if(v[0]!==c[0]||v[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+c+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=v[0],g=v[1],m=typeof D=="string"&&D!=="mixed"&&D===d?D:void 0,A=m?e.find(a,[m,m]):a,w,F,y=[];for(w=0;w<h;w++)y[w]=[];var p=[],_=[];for(F=0;F<g;F++){for(var M=F+1,E=s[F],B=s[F+1],b=E;b<B;b++)w=u[b],p[w]=f?A(o[b],l[w][F]):A(l[w][F],o[b]),_[w]=M;for(w=0;w<h;w++)_[w]===M?y[w][F]=p[w]:y[w][F]=l[w][F]}return i.createDenseMatrix({data:y,size:[h,g],datatype:D===i._datatype&&d===n._datatype?m:void 0})}}),Ms="matAlgo04xSidSid",Bs=["typed","equalScalar"],Ss=Q(Ms,Bs,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,f){var l=n._values,v=n._index,D=n._ptr,o=n._size,u=n._datatype||n._data===void 0?n._datatype:n.getDataType(),s=a._values,c=a._index,d=a._ptr,h=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(o.length!==h.length)throw new lr(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],A=o[1],w,F=t,y=0,p=f;typeof u=="string"&&u===g&&u!=="mixed"&&(w=u,F=e.find(t,[w,w]),y=e.convert(0,w),p=e.find(f,[w,w]));var _=l&&s?[]:void 0,M=[],E=[],B=l&&s?[]:void 0,b=l&&s?[]:void 0,z=[],R=[],I,O,x,J,V;for(O=0;O<A;O++){E[O]=M.length;var T=O+1;for(J=D[O],V=D[O+1],x=J;x<V;x++)I=v[x],M.push(I),z[I]=T,B&&(B[I]=l[x]);for(J=d[O],V=d[O+1],x=J;x<V;x++)if(I=c[x],z[I]===T){if(B){var H=p(B[I],s[x]);F(H,y)?z[I]=null:B[I]=H}}else M.push(I),R[I]=T,b&&(b[I]=s[x]);if(B&&b)for(x=E[O];x<M.length;)I=M[x],z[I]===T?(_[x]=B[I],x++):R[I]===T?(_[x]=b[I],x++):M.splice(x,1)}return E[A]=M.length,n.createSparseMatrix({values:_,index:M,ptr:E,size:[m,A],datatype:u===n._datatype&&g===a._datatype?w:void 0})}}),bs="matAlgo10xSids",xs=["typed","DenseMatrix"],gi=Q(bs,xs,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,a,f,l){var v=n._values,D=n._index,o=n._ptr,u=n._size,s=n._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=u[0],d=u[1],h,g=f;typeof s=="string"&&(h=s,a=e.convert(a,h),g=e.find(f,[h,h]));for(var m=[],A=[],w=[],F=0;F<d;F++){for(var y=F+1,p=o[F],_=o[F+1],M=p;M<_;M++){var E=D[M];A[E]=v[M],w[E]=y}for(var B=0;B<c;B++)F===0&&(m[B]=[]),w[B]===y?m[B][F]=l?g(a,A[B]):g(A[B],a):m[B][F]=a}return new t({data:m,size:[c,d],datatype:h})}}),Ns="multiplyScalar",Ts=["typed"],zs=Q(Ns,Ts,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Di,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),pn="multiply",Os=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Is=Q(pn,Os,r=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:a,dot:f}=r,l=ss({typed:e,equalScalar:a}),v=di({typed:e});function D(y,p){switch(y.length){case 1:switch(p.length){case 1:if(y[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(y[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+p[0]+")");break;case 2:if(y[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function o(y,p,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return f(y,p)}function u(y,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return s(y,p)}function s(y,p){var _=y._data,M=y._size,E=y._datatype||y.getDataType(),B=p._data,b=p._size,z=p._datatype||p.getDataType(),R=M[0],I=b[1],O,x=i,J=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&(O=E,x=e.find(i,[O,O]),J=e.find(n,[O,O]));for(var V=[],T=0;T<I;T++){for(var H=J(_[0],B[0][T]),X=1;X<R;X++)H=x(H,J(_[X],B[X][T]));V[T]=H}return y.createDenseMatrix({data:V,size:[I],datatype:E===y._datatype&&z===p._datatype?O:void 0})}var c=e("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":A}),d=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":F});function h(y,p){var _=y._data,M=y._size,E=y._datatype||y.getDataType(),B=p._data,b=p._datatype||p.getDataType(),z=M[0],R=M[1],I,O=i,x=n;E&&b&&E===b&&typeof E=="string"&&E!=="mixed"&&(I=E,O=e.find(i,[I,I]),x=e.find(n,[I,I]));for(var J=[],V=0;V<z;V++){for(var T=_[V],H=x(T[0],B[0]),X=1;X<R;X++)H=O(H,x(T[X],B[X]));J[V]=H}return y.createDenseMatrix({data:J,size:[z],datatype:E===y._datatype&&b===p._datatype?I:void 0})}function g(y,p){var _=y._data,M=y._size,E=y._datatype||y.getDataType(),B=p._data,b=p._size,z=p._datatype||p.getDataType(),R=M[0],I=M[1],O=b[1],x,J=i,V=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(x=E,J=e.find(i,[x,x]),V=e.find(n,[x,x]));for(var T=[],H=0;H<R;H++){var X=_[H];T[H]=[];for(var ir=0;ir<O;ir++){for(var er=V(X[0],B[0][ir]),W=1;W<I;W++)er=J(er,V(X[W],B[W][ir]));T[H][ir]=er}}return y.createDenseMatrix({data:T,size:[R,O],datatype:E===y._datatype&&z===p._datatype?x:void 0})}function m(y,p){var _=y._data,M=y._size,E=y._datatype||y.getDataType(),B=p._values,b=p._index,z=p._ptr,R=p._size,I=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=M[0],x=R[1],J,V=i,T=n,H=a,X=0;E&&I&&E===I&&typeof E=="string"&&E!=="mixed"&&(J=E,V=e.find(i,[J,J]),T=e.find(n,[J,J]),H=e.find(a,[J,J]),X=e.convert(0,J));for(var ir=[],er=[],W=[],hr=p.createSparseMatrix({values:ir,index:er,ptr:W,size:[O,x],datatype:E===y._datatype&&I===p._datatype?J:void 0}),or=0;or<x;or++){W[or]=er.length;var nr=z[or],sr=z[or+1];if(sr>nr)for(var ur=0,j=0;j<O;j++){for(var Ar=j+1,dr=void 0,ar=nr;ar<sr;ar++){var cr=b[ar];ur!==Ar?(dr=T(_[j][cr],B[ar]),ur=Ar):dr=V(dr,T(_[j][cr],B[ar]))}ur===Ar&&!H(dr,X)&&(er.push(j),ir.push(dr))}}return W[x]=er.length,hr}function A(y,p){var _=y._values,M=y._index,E=y._ptr,B=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=p._data,z=p._datatype||p.getDataType(),R=y._size[0],I=p._size[0],O=[],x=[],J=[],V,T=i,H=n,X=a,ir=0;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&(V=B,T=e.find(i,[V,V]),H=e.find(n,[V,V]),X=e.find(a,[V,V]),ir=e.convert(0,V));var er=[],W=[];J[0]=0;for(var hr=0;hr<I;hr++){var or=b[hr];if(!X(or,ir))for(var nr=E[hr],sr=E[hr+1],ur=nr;ur<sr;ur++){var j=M[ur];W[j]?er[j]=T(er[j],H(or,_[ur])):(W[j]=!0,x.push(j),er[j]=H(or,_[ur]))}}for(var Ar=x.length,dr=0;dr<Ar;dr++){var ar=x[dr];O[dr]=er[ar]}return J[1]=x.length,y.createSparseMatrix({values:O,index:x,ptr:J,size:[R,1],datatype:B===y._datatype&&z===p._datatype?V:void 0})}function w(y,p){var _=y._values,M=y._index,E=y._ptr,B=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=p._data,z=p._datatype||p.getDataType(),R=y._size[0],I=p._size[0],O=p._size[1],x,J=i,V=n,T=a,H=0;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&(x=B,J=e.find(i,[x,x]),V=e.find(n,[x,x]),T=e.find(a,[x,x]),H=e.convert(0,x));for(var X=[],ir=[],er=[],W=y.createSparseMatrix({values:X,index:ir,ptr:er,size:[R,O],datatype:B===y._datatype&&z===p._datatype?x:void 0}),hr=[],or=[],nr=0;nr<O;nr++){er[nr]=ir.length;for(var sr=nr+1,ur=0;ur<I;ur++){var j=b[ur][nr];if(!T(j,H))for(var Ar=E[ur],dr=E[ur+1],ar=Ar;ar<dr;ar++){var cr=M[ar];or[cr]!==sr?(or[cr]=sr,ir.push(cr),hr[cr]=V(j,_[ar])):hr[cr]=J(hr[cr],V(j,_[ar]))}}for(var Mr=er[nr],Ur=ir.length,Ir=Mr;Ir<Ur;Ir++){var fr=ir[Ir];X[Ir]=hr[fr]}}return er[O]=ir.length,W}function F(y,p){var _=y._values,M=y._index,E=y._ptr,B=y._datatype||y._data===void 0?y._datatype:y.getDataType(),b=p._values,z=p._index,R=p._ptr,I=p._datatype||p._data===void 0?p._datatype:p.getDataType(),O=y._size[0],x=p._size[1],J=_&&b,V,T=i,H=n;B&&I&&B===I&&typeof B=="string"&&B!=="mixed"&&(V=B,T=e.find(i,[V,V]),H=e.find(n,[V,V]));for(var X=J?[]:void 0,ir=[],er=[],W=y.createSparseMatrix({values:X,index:ir,ptr:er,size:[O,x],datatype:B===y._datatype&&I===p._datatype?V:void 0}),hr=J?[]:void 0,or=[],nr,sr,ur,j,Ar,dr,ar,cr,Mr=0;Mr<x;Mr++){er[Mr]=ir.length;var Ur=Mr+1;for(Ar=R[Mr],dr=R[Mr+1],j=Ar;j<dr;j++)if(cr=z[j],J)for(sr=E[cr],ur=E[cr+1],nr=sr;nr<ur;nr++)ar=M[nr],or[ar]!==Ur?(or[ar]=Ur,ir.push(ar),hr[ar]=H(b[j],_[nr])):hr[ar]=T(hr[ar],H(b[j],_[nr]));else for(sr=E[cr],ur=E[cr+1],nr=sr;nr<ur;nr++)ar=M[nr],or[ar]!==Ur&&(or[ar]=Ur,ir.push(ar));if(J)for(var Ir=er[Mr],fr=ir.length,Pr=Ir;Pr<fr;Pr++){var Kr=ir[Pr];X[Pr]=hr[Kr]}}return er[x]=ir.length,W}return e(pn,n,{"Array, Array":e.referTo("Matrix, Matrix",y=>(p,_)=>{D(Lr(p),Lr(_));var M=y(t(p),t(_));return Nr(M)?M.valueOf():M}),"Matrix, Matrix":function(p,_){var M=p.size(),E=_.size();return D(M,E),M.length===1?E.length===1?o(p,_,M[0]):u(p,_):E.length===1?c(p,_):d(p,_)},"Matrix, Array":e.referTo("Matrix,Matrix",y=>(p,_)=>y(p,t(_))),"Array, Matrix":e.referToSelf(y=>(p,_)=>y(t(p,_.storage()),_)),"SparseMatrix, any":function(p,_){return l(p,_,n,!1)},"DenseMatrix, any":function(p,_){return v(p,_,n,!1)},"any, SparseMatrix":function(p,_){return l(_,p,n,!0)},"any, DenseMatrix":function(p,_){return v(_,p,n,!0)},"Array, any":function(p,_){return v(t(p),_,n,!1).valueOf()},"any, Array":function(p,_){return v(t(_),p,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(y=>(p,_,M)=>{for(var E=y(p,_),B=0;B<M.length;B++)E=y(E,M[B]);return E})})}),dn="subtract",Ps=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],$s=Q(dn,Ps,r=>{var{typed:e,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:a,DenseMatrix:f,concat:l}=r,v=mi({typed:e}),D=vt({typed:e}),o=ms({typed:e,equalScalar:i}),u=gi({typed:e,DenseMatrix:f}),s=ht({typed:e,DenseMatrix:f}),c=Ie({typed:e,matrix:t,concat:l});return e(dn,{"any, any":n},c({elop:n,SS:o,DS:v,SD:D,Ss:s,sS:u}))}),qs="matAlgo07xSSf",Rs=["typed","DenseMatrix"],qt=Q(qs,Rs,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,f,l){var v=a._size,D=a._datatype||a._data===void 0?a._datatype:a.getDataType(),o=f._size,u=f._datatype||f._data===void 0?f._datatype:f.getDataType();if(v.length!==o.length)throw new lr(v.length,o.length);if(v[0]!==o[0]||v[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+o+")");var s=v[0],c=v[1],d,h=0,g=l;typeof D=="string"&&D===u&&D!=="mixed"&&(d=D,h=e.convert(0,d),g=e.find(l,[d,d]));var m,A,w=[];for(m=0;m<s;m++)w[m]=[];var F=[],y=[],p=[],_=[];for(A=0;A<c;A++){var M=A+1;for(i(a,A,p,F,M),i(f,A,_,y,M),m=0;m<s;m++){var E=p[m]===M?F[m]:h,B=_[m]===M?y[m]:h;w[m][A]=g(E,B)}}return new t({data:w,size:[s,c],datatype:D===a._datatype&&u===f._datatype?d:void 0})};function i(n,a,f,l,v){for(var D=n._values,o=n._index,u=n._ptr,s=u[a],c=u[a+1];s<c;s++){var d=o[s];f[d]=v,l[d]=D[s]}}}),mn="conj",Ls=["typed"],Us=Q(mn,Ls,r=>{var{typed:e}=r;return e(mn,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>me(i,t))})}),gn="concat",Zs=["typed","matrix","isInteger"],Vs=Q(gn,Zs,r=>{var{typed:e,matrix:t,isInteger:i}=r;return e(gn,{"...Array | Matrix | number | BigNumber":function(a){var f,l=a.length,v=-1,D,o=!1,u=[];for(f=0;f<l;f++){var s=a[f];if(Nr(s)&&(o=!0),wr(s)||zr(s)){if(f!==l-1)throw new Error("Dimension must be specified as last argument");if(D=v,v=s.valueOf(),!i(v))throw new TypeError("Integer number expected for dimension");if(v<0||f>0&&v>D)throw new Fe(v,D+1)}else{var c=Cr(s).valueOf(),d=Lr(c);if(u[f]=c,D=v,v=d.length-1,f>0&&v!==D)throw new lr(D+1,v+1)}}if(u.length===0)throw new SyntaxError("At least one matrix expected");for(var h=u.shift();u.length;)h=ai(h,u.shift(),v);return o?t(h):h},"...string":function(a){return a.join("")}})});function Hs(){throw new Error('No "bignumber" implementation available')}function Js(){throw new Error('No "fraction" implementation available')}function Ys(){throw new Error('No "matrix" implementation available')}var wn="size",Gs=["typed","config","?matrix"],Xs=Q(wn,Gs,r=>{var{typed:e,config:t,matrix:i}=r;return e(wn,{Matrix:function(a){return a.create(a.size(),"number")},Array:Lr,string:function(a){return t.matrix==="Array"?[a.length]:i([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:i?i([],"dense","number"):Ys()}})}),yn="transpose",Ks=["typed","matrix"],Qs=Q(yn,Ks,r=>{var{typed:e,matrix:t}=r;return e(yn,{Array:f=>i(t(f)).valueOf(),Matrix:i,any:Cr});function i(f){var l=f.size(),v;switch(l.length){case 1:v=f.clone();break;case 2:{var D=l[0],o=l[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+xr(l)+")");switch(f.storage()){case"dense":v=n(f,D,o);break;case"sparse":v=a(f,D,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+xr(l)+")")}return v}function n(f,l,v){for(var D=f._data,o=[],u,s=0;s<v;s++){u=o[s]=[];for(var c=0;c<l;c++)u[c]=Cr(D[c][s])}return f.createDenseMatrix({data:o,size:[v,l],datatype:f._datatype})}function a(f,l,v){for(var D=f._values,o=f._index,u=f._ptr,s=D?[]:void 0,c=[],d=[],h=[],g=0;g<l;g++)h[g]=0;var m,A,w;for(m=0,A=o.length;m<A;m++)h[o[m]]++;for(var F=0,y=0;y<l;y++)d.push(F),F+=h[y],h[y]=d[y];for(d.push(F),w=0;w<v;w++)for(var p=u[w],_=u[w+1],M=p;M<_;M++){var E=h[o[M]]++;c[E]=w,D&&(s[E]=Cr(D[M]))}return f.createSparseMatrix({values:s,index:c,ptr:d,size:[v,l],datatype:f._datatype})}}),Ws="numeric",ks=["number","?bignumber","?fraction"],js=Q(Ws,ks,r=>{var{number:e,bignumber:t,fraction:i}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:f=>e(f),BigNumber:t?f=>t(f):Hs,bigint:f=>BigInt(f),Fraction:i?f=>i(f):Js};return function(l){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",D=arguments.length>2?arguments[2]:void 0;if(D!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=ve(l);if(!(o in n))throw new TypeError("Cannot convert "+l+' of type "'+o+'"; valid input types are '+Object.keys(n).join(", "));if(!(v in a))throw new TypeError("Cannot convert "+l+' to type "'+v+'"; valid output types are '+Object.keys(a).join(", "));return v===o?l:a[v](l)}}),An="divideScalar",rf=["typed","numeric"],ef=Q(An,rf,r=>{var{typed:e,numeric:t}=r;return e(An,{"number, number":function(n,a){return n/a},"Complex, Complex":function(n,a){return n.div(a)},"BigNumber, BigNumber":function(n,a){return n.div(a)},"bigint, bigint":function(n,a){return n/a},"Fraction, Fraction":function(n,a){return n.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})});function Rt(r){var{DenseMatrix:e}=r;return function(i,n,a){var f=i.size();if(f.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+xr(f)+")");var l=f[0],v=f[1];if(l!==v)throw new RangeError("Matrix must be square (size: "+xr(f)+")");var D=[];if(Nr(n)){var o=n.size(),u=n._data;if(o.length===1){if(o[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var s=0;s<l;s++)D[s]=[u[s]];return new e({data:D,size:[l,1],datatype:n._datatype})}if(o.length===2){if(o[0]!==l||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(In(n)){if(a){D=[];for(var c=0;c<l;c++)D[c]=[u[c][0]];return new e({data:D,size:[l,1],datatype:n._datatype})}return n}if(Pn(n)){for(var d=0;d<l;d++)D[d]=[0];for(var h=n._values,g=n._index,m=n._ptr,A=m[1],w=m[0];w<A;w++){var F=g[w];D[F][0]=h[w]}return new e({data:D,size:[l,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Er(n)){var y=Lr(n);if(y.length===1){if(y[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<l;p++)D[p]=[n[p]];return new e({data:D,size:[l,1]})}if(y.length===2){if(y[0]!==l||y[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<l;_++)D[_]=[n[_][0]];return new e({data:D,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Fn="lsolve",tf=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],nf=Q(Fn,tf,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:f,DenseMatrix:l}=r,v=Rt({DenseMatrix:l});return e(Fn,{"SparseMatrix, Array | Matrix":function(s,c){return o(s,c)},"DenseMatrix, Array | Matrix":function(s,c){return D(s,c)},"Array, Array | Matrix":function(s,c){var d=t(s),h=D(d,c);return h.valueOf()}});function D(u,s){s=v(u,s,!0);for(var c=s._data,d=u._size[0],h=u._size[1],g=[],m=u._data,A=0;A<h;A++){var w=c[A][0]||0,F=void 0;if(f(w,0))F=0;else{var y=m[A][A];if(f(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,y);for(var p=A+1;p<d;p++)c[p]=[a(c[p][0]||0,n(F,m[p][A]))]}g[A]=[F]}return new l({data:g,size:[d,1]})}function o(u,s){s=v(u,s,!0);for(var c=s._data,d=u._size[0],h=u._size[1],g=u._values,m=u._index,A=u._ptr,w=[],F=0;F<h;F++){var y=c[F][0]||0;if(f(y,0))w[F]=[0];else{for(var p=0,_=[],M=[],E=A[F],B=A[F+1],b=E;b<B;b++){var z=m[b];z===F?p=g[b]:z>F&&(_.push(g[b]),M.push(z))}if(f(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=i(y,p),I=0,O=M.length;I<O;I++){var x=M[I];c[x]=[a(c[x][0]||0,n(R,_[I]))]}w[F]=[R]}}return new l({data:w,size:[d,1]})}}),En="usolve",uf=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],af=Q(En,uf,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:f,DenseMatrix:l}=r,v=Rt({DenseMatrix:l});return e(En,{"SparseMatrix, Array | Matrix":function(s,c){return o(s,c)},"DenseMatrix, Array | Matrix":function(s,c){return D(s,c)},"Array, Array | Matrix":function(s,c){var d=t(s),h=D(d,c);return h.valueOf()}});function D(u,s){s=v(u,s,!0);for(var c=s._data,d=u._size[0],h=u._size[1],g=[],m=u._data,A=h-1;A>=0;A--){var w=c[A][0]||0,F=void 0;if(f(w,0))F=0;else{var y=m[A][A];if(f(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,y);for(var p=A-1;p>=0;p--)c[p]=[a(c[p][0]||0,n(F,m[p][A]))]}g[A]=[F]}return new l({data:g,size:[d,1]})}function o(u,s){s=v(u,s,!0);for(var c=s._data,d=u._size[0],h=u._size[1],g=u._values,m=u._index,A=u._ptr,w=[],F=h-1;F>=0;F--){var y=c[F][0]||0;if(f(y,0))w[F]=[0];else{for(var p=0,_=[],M=[],E=A[F],B=A[F+1],b=B-1;b>=E;b--){var z=m[b];z===F?p=g[b]:z<F&&(_.push(g[b]),M.push(z))}if(f(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=i(y,p),I=0,O=M.length;I<O;I++){var x=M[I];c[x]=[a(c[x][0],n(R,_[I]))]}w[F]=[R]}}return new l({data:w,size:[d,1]})}}),tt="smaller",of=["typed","config","matrix","DenseMatrix","concat"],sf=Q(tt,of,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:a}=r,f=vt({typed:e}),l=qt({typed:e,DenseMatrix:n}),v=ht({typed:e,DenseMatrix:n}),D=Ie({typed:e,matrix:i,concat:a}),o=lt({typed:e});return e(tt,ff({typed:e,config:t}),{"boolean, boolean":(u,s)=>u<s,"BigNumber, BigNumber":function(s,c){return s.lt(c)&&!ct(s,c,t.relTol,t.absTol)},"bigint, bigint":(u,s)=>u<s,"Fraction, Fraction":(u,s)=>u.compare(s)===-1,"Complex, Complex":function(s,c){throw new TypeError("No ordering relation is defined for complex numbers")}},o,D({SS:l,DS:f,Ss:v}))}),ff=Q(tt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(tt,{"number, number":function(n,a){return n<a&&!ye(n,a,t.relTol,t.absTol)}})}),nt="larger",cf=["typed","config","matrix","DenseMatrix","concat"],lf=Q(nt,cf,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:a}=r,f=vt({typed:e}),l=qt({typed:e,DenseMatrix:n}),v=ht({typed:e,DenseMatrix:n}),D=Ie({typed:e,matrix:i,concat:a}),o=lt({typed:e});return e(nt,hf({typed:e,config:t}),{"boolean, boolean":(u,s)=>u>s,"BigNumber, BigNumber":function(s,c){return s.gt(c)&&!ct(s,c,t.relTol,t.absTol)},"bigint, bigint":(u,s)=>u>s,"Fraction, Fraction":(u,s)=>u.compare(s)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,D({SS:l,DS:f,Ss:v}))}),hf=Q(nt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(nt,{"number, number":function(n,a){return n>a&&!ye(n,a,t.relTol,t.absTol)}})}),it="largerEq",vf=["typed","config","matrix","DenseMatrix","concat"],Df=Q(it,vf,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:a}=r,f=vt({typed:e}),l=qt({typed:e,DenseMatrix:n}),v=ht({typed:e,DenseMatrix:n}),D=Ie({typed:e,matrix:i,concat:a}),o=lt({typed:e});return e(it,pf({typed:e,config:t}),{"boolean, boolean":(u,s)=>u>=s,"BigNumber, BigNumber":function(s,c){return s.gte(c)||ct(s,c,t.relTol,t.absTol)},"bigint, bigint":function(s,c){return s>=c},"Fraction, Fraction":(u,s)=>u.compare(s)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,D({SS:l,DS:f,Ss:v}))}),pf=Q(it,["typed","config"],r=>{var{typed:e,config:t}=r;return e(it,{"number, number":function(n,a){return n>=a||ye(n,a,t.relTol,t.absTol)}})}),df="FibonacciHeap",mf=["smaller","larger"],gf=Q(df,mf,r=>{var{smaller:e,larger:t}=r,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(o,u){var s={key:o,value:u,degree:0};if(this._minimum){var c=this._minimum;s.left=c,s.right=c.right,c.right=s,s.right.left=s,e(o,c.key)&&(this._minimum=s)}else s.left=s,s.right=s,this._minimum=s;return this._size++,s},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var u=this._minimum,s=o.degree,c=o.child;s>0;){var d=c.right;c.left.right=c.right,c.right.left=c.left,c.left=u,c.right=u.right,u.right=c,c.right.left=c,c.parent=null,c=d,s--}return o.left.right=o.right,o.right.left=o.left,o===o.right?u=null:(u=o.right,u=D(u,this._size)),this._size--,this._minimum=u,o},n.prototype.remove=function(o){this._minimum=a(this._minimum,o,-1),this.extractMinimum()};function a(o,u,s){u.key=s;var c=u.parent;return c&&e(u.key,c.key)&&(f(o,u,c),l(o,c)),e(u.key,o.key)&&(o=u),o}function f(o,u,s){u.left.right=u.right,u.right.left=u.left,s.degree--,s.child===u&&(s.child=u.right),s.degree===0&&(s.child=null),u.left=o,u.right=o.right,o.right=u,u.right.left=u,u.parent=null,u.mark=!1}function l(o,u){var s=u.parent;s&&(u.mark?(f(o,u,s),l(s)):u.mark=!0)}var v=function(u,s){u.left.right=u.right,u.right.left=u.left,u.parent=s,s.child?(u.left=s.child,u.right=s.child.right,s.child.right=u,u.right.left=u):(s.child=u,u.right=u,u.left=u),s.degree++,u.mark=!1};function D(o,u){var s=Math.floor(Math.log(u)*i)+1,c=new Array(s),d=0,h=o;if(h)for(d++,h=h.right;h!==o;)d++,h=h.right;for(var g;d>0;){for(var m=h.degree,A=h.right;g=c[m],!!g;){if(t(h.key,g.key)){var w=g;g=h,h=w}v(g,h),c[m]=null,m++}c[m]=h,h=A,d--}o=null;for(var F=0;F<s;F++)g=c[F],g&&(o?(g.left.right=g.right,g.right.left=g.left,g.left=o,g.right=o.right,o.right=g,g.right.left=g,e(g.key,o.key)&&(o=g)):o=g);return o}return n},{isClass:!0}),wf="Spa",yf=["addScalar","equalScalar","FibonacciHeap"],Af=Q(wf,yf,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(a,f){if(this._values[a])this._values[a].value=f;else{var l=this._heap.insert(a,f);this._values[a]=l}},n.prototype.get=function(a){var f=this._values[a];return f?f.value:0},n.prototype.accumulate=function(a,f){var l=this._values[a];l?l.value=e(l.value,f):(l=this._heap.insert(a,f),this._values[a]=l)},n.prototype.forEach=function(a,f,l){var v=this._heap,D=this._values,o=[],u=v.extractMinimum();for(u&&o.push(u);u&&u.key<=f;)u.key>=a&&(t(u.value,0)||l(u.key,u.value,this)),u=v.extractMinimum(),u&&o.push(u);for(var s=0;s<o.length;s++){var c=o[s];u=v.insert(c.key,c.value),D[u.key]=u}},n.prototype.swap=function(a,f){var l=this._values[a],v=this._values[f];if(!l&&v)l=this._heap.insert(a,v.value),this._heap.remove(v),this._values[a]=l,this._values[f]=void 0;else if(l&&!v)v=this._heap.insert(f,l.value),this._heap.remove(l),this._values[f]=v,this._values[a]=void 0;else if(l&&v){var D=l.value;l.value=v.value,v.value=D}},n},{isClass:!0}),Cn="add",Ff=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Ef=Q(Cn,Ff,r=>{var{typed:e,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:a,SparseMatrix:f,concat:l}=r,v=mi({typed:e}),D=Ss({typed:e,equalScalar:n}),o=gi({typed:e,DenseMatrix:a}),u=Ie({typed:e,matrix:t,concat:l});return e(Cn,{"any, any":i,"any, any, ...any":e.referToSelf(s=>(c,d,h)=>{for(var g=s(c,d),m=0;m<h.length;m++)g=s(g,h[m]);return g})},u({elop:i,DS:v,SS:D,Ss:o}))}),_n="dot",Cf=["typed","addScalar","multiplyScalar","conj","size"],_f=Q(_n,Cf,r=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:n,size:a}=r;return e(_n,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":v});function f(o,u){var s=D(o),c=D(u),d,h;if(s.length===1)d=s[0];else if(s.length===2&&s[1]===1)d=s[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");if(c.length===1)h=c[0];else if(c.length===2&&c[1]===1)h=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(d!==h)throw new RangeError("Vectors must have equal length ("+d+" != "+h+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function l(o,u){var s=f(o,u),c=Nr(o)?o._data:o,d=Nr(o)?o._datatype||o.getDataType():void 0,h=Nr(u)?u._data:u,g=Nr(u)?u._datatype||u.getDataType():void 0,m=D(o).length===2,A=D(u).length===2,w=t,F=i;if(d&&g&&d===g&&typeof d=="string"&&d!=="mixed"){var y=d;w=e.find(t,[y,y]),F=e.find(i,[y,y])}if(!m&&!A){for(var p=F(n(c[0]),h[0]),_=1;_<s;_++)p=w(p,F(n(c[_]),h[_]));return p}if(!m&&A){for(var M=F(n(c[0]),h[0][0]),E=1;E<s;E++)M=w(M,F(n(c[E]),h[E][0]));return M}if(m&&!A){for(var B=F(n(c[0][0]),h[0]),b=1;b<s;b++)B=w(B,F(n(c[b][0]),h[b]));return B}if(m&&A){for(var z=F(n(c[0][0]),h[0][0]),R=1;R<s;R++)z=w(z,F(n(c[R][0]),h[R][0]));return z}}function v(o,u){f(o,u);for(var s=o._index,c=o._values,d=u._index,h=u._values,g=0,m=t,A=i,w=0,F=0;w<s.length&&F<d.length;){var y=s[w],p=d[F];if(y<p){w++;continue}if(y>p){F++;continue}y===p&&(g=m(g,A(c[w],h[F])),w++,F++)}return g}function D(o){return Nr(o)?o.size():a(o)}}),Mn="lup",Mf=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Bf=Q(Mn,Mf,r=>{var{typed:e,matrix:t,abs:i,addScalar:n,divideScalar:a,multiplyScalar:f,subtractScalar:l,larger:v,equalScalar:D,unaryMinus:o,DenseMatrix:u,SparseMatrix:s,Spa:c}=r;return e(Mn,{DenseMatrix:function(m){return d(m)},SparseMatrix:function(m){return h(m)},Array:function(m){var A=t(m),w=d(A);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function d(g){var m=g._size[0],A=g._size[1],w=Math.min(m,A),F=Cr(g._data),y=[],p=[m,w],_=[],M=[w,A],E,B,b,z=[];for(E=0;E<m;E++)z[E]=E;for(B=0;B<A;B++){if(B>0)for(E=0;E<m;E++){var R=Math.min(E,B),I=0;for(b=0;b<R;b++)I=n(I,f(F[E][b],F[b][B]));F[E][B]=l(F[E][B],I)}var O=B,x=0,J=0;for(E=B;E<m;E++){var V=F[E][B],T=i(V);v(T,x)&&(O=E,x=T,J=V)}if(B!==O&&(z[B]=[z[O],z[O]=z[B]][0],u._swapRows(B,O,F)),B<m)for(E=B+1;E<m;E++){var H=F[E][B];D(H,0)||(F[E][B]=a(F[E][B],J))}}for(B=0;B<A;B++)for(E=0;E<m;E++){if(B===0&&(E<A&&(_[E]=[]),y[E]=[]),E<B){E<A&&(_[E][B]=F[E][B]),B<m&&(y[E][B]=0);continue}if(E===B){E<A&&(_[E][B]=F[E][B]),B<m&&(y[E][B]=1);continue}E<A&&(_[E][B]=0),B<m&&(y[E][B]=F[E][B])}var X=new u({data:y,size:p}),ir=new u({data:_,size:M}),er=[];for(E=0,w=z.length;E<w;E++)er[z[E]]=E;return{L:X,U:ir,p:er,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(g){var m=g._size[0],A=g._size[1],w=Math.min(m,A),F=g._values,y=g._index,p=g._ptr,_=[],M=[],E=[],B=[m,w],b=[],z=[],R=[],I=[w,A],O,x,J,V=[],T=[];for(O=0;O<m;O++)V[O]=O,T[O]=O;var H=function(er,W){var hr=T[er],or=T[W];V[hr]=W,V[or]=er,T[er]=or,T[W]=hr},X=function(){var er=new c;x<m&&(E.push(_.length),_.push(1),M.push(x)),R.push(b.length);var W=p[x],hr=p[x+1];for(J=W;J<hr;J++)O=y[J],er.set(V[O],F[J]);x>0&&er.forEach(0,x-1,function(ur,j){s._forEachRow(ur,_,M,E,function(Ar,dr){Ar>ur&&er.accumulate(Ar,o(f(dr,j)))})});var or=x,nr=er.get(x),sr=i(nr);er.forEach(x+1,m-1,function(ur,j){var Ar=i(j);v(Ar,sr)&&(or=ur,sr=Ar,nr=j)}),x!==or&&(s._swapRows(x,or,B[1],_,M,E),s._swapRows(x,or,I[1],b,z,R),er.swap(x,or),H(x,or)),er.forEach(0,m-1,function(ur,j){ur<=x?(b.push(j),z.push(ur)):(j=a(j,nr),D(j,0)||(_.push(j),M.push(ur)))})};for(x=0;x<A;x++)X();return R.push(b.length),E.push(_.length),{L:new s({values:_,index:M,ptr:E,size:B}),U:new s({values:b,index:z,ptr:R,size:I}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function Sf(r,e,t,i){r._values;for(var n=r._index,a=r._ptr,f=r._size,l=r._datatype,v=f[0],D=f[1],o=null,u=[],s=[],c=0,d=0;d<D;d++){s[d]=c;for(var h=t?t[d]:d,g=a[h],m=a[h+1],A=g;A<m;A++){var w=n[A];u[c]=w,c++}}return s[D]=c,r.createSparseMatrix({values:o,index:u,ptr:s,size:[v,D],datatype:l})}function wi(r,e,t,i,n,a,f){var l=0;for(t[f]=r;l>=0;){var v=t[f+l],D=t[i+v];D===-1?(l--,a[e++]=v):(t[i+v]=t[n+D],++l,t[f+l]=D)}return e}function bf(r,e){if(!r)return null;var t=0,i,n=[],a=[],f=0,l=e,v=2*e;for(i=0;i<e;i++)a[f+i]=-1;for(i=e-1;i>=0;i--)r[i]!==-1&&(a[l+i]=a[f+r[i]],a[f+r[i]]=i);for(i=0;i<e;i++)r[i]===-1&&(t=wi(i,t,a,f,l,n,v));return n}function xf(r,e){if(!r)return null;var t=r._index,i=r._ptr,n=r._size,a=n[0],f=n[1],l=[],v=[],D=0,o=f,u,s;for(u=0;u<a;u++)v[o+u]=-1;for(var c=0;c<f;c++){l[c]=-1,v[D+c]=-1;for(var d=i[c],h=i[c+1],g=d;g<h;g++){var m=t[g];for(u=v[o+m];u!==-1&&u<c;u=s)s=v[D+u],v[D+u]=c,s===-1&&(l[u]=c);v[o+m]=c}}return l}function Nf(r,e,t){for(var i=r._values,n=r._index,a=r._ptr,f=r._size,l=f[1],v=0,D=0;D<l;D++){var o=a[D];for(a[D]=v;o<a[D+1];o++)e(n[o],D,i?i[o]:1,t)&&(n[v]=n[o],i&&(i[v]=i[o]),v++)}return a[l]=v,n.splice(v,n.length-v),i&&i.splice(v,i.length-v),v}function le(r){return-r-2}var Tf="csAmd",zf=["add","multiply","transpose"],Of=Q(Tf,zf,r=>{var{add:e,multiply:t,transpose:i}=r;return function(o,u){if(!u||o<=0||o>3)return null;var s=u._size,c=s[0],d=s[1],h=0,g=Math.max(16,10*Math.sqrt(d));g=Math.min(d-2,g);var m=n(o,u,c,d,g);Nf(m,v,null);for(var A=m._index,w=m._ptr,F=w[d],y=[],p=[],_=0,M=d+1,E=2*(d+1),B=3*(d+1),b=4*(d+1),z=5*(d+1),R=6*(d+1),I=7*(d+1),O=y,x=a(d,w,p,_,B,O,E,I,M,R,b,z),J=f(d,w,p,z,b,R,g,M,B,O,E),V=0,T,H,X,ir,er,W,hr,or,nr,sr,ur,j,Ar,dr,ar,cr;J<d;){for(X=-1;V<d&&(X=p[B+V])===-1;V++);p[E+X]!==-1&&(O[p[E+X]]=-1),p[B+V]=p[E+X];var Mr=p[b+X],Ur=p[M+X];J+=Ur;var Ir=0;p[M+X]=-Ur;var fr=w[X],Pr=Mr===0?fr:F,Kr=Pr;for(ir=1;ir<=Mr+1;ir++){for(ir>Mr?(W=X,hr=fr,or=p[_+X]-Mr):(W=A[fr++],hr=w[W],or=p[_+W]),er=1;er<=or;er++)T=A[hr++],!((nr=p[M+T])<=0)&&(Ir+=nr,p[M+T]=-nr,A[Kr++]=T,p[E+T]!==-1&&(O[p[E+T]]=O[T]),O[T]!==-1?p[E+O[T]]=p[E+T]:p[B+p[z+T]]=p[E+T]);W!==X&&(w[W]=le(X),p[R+W]=0)}for(Mr!==0&&(F=Kr),p[z+X]=Ir,w[X]=Pr,p[_+X]=Kr-Pr,p[b+X]=-2,x=l(x,h,p,R,d),sr=Pr;sr<Kr;sr++)if(T=A[sr],!((ur=p[b+T])<=0)){nr=-p[M+T];var mt=x-nr;for(fr=w[T],j=w[T]+ur-1;fr<=j;fr++)W=A[fr],p[R+W]>=x?p[R+W]-=nr:p[R+W]!==0&&(p[R+W]=p[z+W]+mt)}for(sr=Pr;sr<Kr;sr++){for(T=A[sr],j=w[T],Ar=j+p[b+T]-1,dr=j,ar=0,cr=0,fr=j;fr<=Ar;fr++)if(W=A[fr],p[R+W]!==0){var xe=p[R+W]-x;xe>0?(cr+=xe,A[dr++]=W,ar+=W):(w[W]=le(X),p[R+W]=0)}p[b+T]=dr-j+1;var C=dr,S=j+p[_+T];for(fr=Ar+1;fr<S;fr++){H=A[fr];var N=p[M+H];N<=0||(cr+=N,A[dr++]=H,ar+=H)}cr===0?(w[T]=le(X),nr=-p[M+T],Ir-=nr,Ur+=nr,J+=nr,p[M+T]=0,p[b+T]=-1):(p[z+T]=Math.min(p[z+T],cr),A[dr]=A[C],A[C]=A[j],A[j]=X,p[_+T]=dr-j+1,ar=(ar<0?-ar:ar)%d,p[E+T]=p[I+ar],p[I+ar]=T,O[T]=ar)}for(p[z+X]=Ir,h=Math.max(h,Ir),x=l(x+h,h,p,R,d),sr=Pr;sr<Kr;sr++)if(T=A[sr],!(p[M+T]>=0))for(ar=O[T],T=p[I+ar],p[I+ar]=-1;T!==-1&&p[E+T]!==-1;T=p[E+T],x++){for(or=p[_+T],ur=p[b+T],fr=w[T]+1;fr<=w[T]+or-1;fr++)p[R+A[fr]]=x;var P=T;for(H=p[E+T];H!==-1;){var L=p[_+H]===or&&p[b+H]===ur;for(fr=w[H]+1;L&&fr<=w[H]+or-1;fr++)p[R+A[fr]]!==x&&(L=0);L?(w[H]=le(T),p[M+T]+=p[M+H],p[M+H]=0,p[b+H]=-1,H=p[E+H],p[E+P]=H):(P=H,H=p[E+H])}}for(fr=Pr,sr=Pr;sr<Kr;sr++)T=A[sr],!((nr=-p[M+T])<=0)&&(p[M+T]=nr,cr=p[z+T]+Ir-nr,cr=Math.min(cr,d-J-nr),p[B+cr]!==-1&&(O[p[B+cr]]=T),p[E+T]=p[B+cr],O[T]=-1,p[B+cr]=T,V=Math.min(V,cr),p[z+T]=cr,A[fr++]=T);p[M+X]=Ur,(p[_+X]=fr-Pr)===0&&(w[X]=-1,p[R+X]=0),Mr!==0&&(F=fr)}for(T=0;T<d;T++)w[T]=le(w[T]);for(H=0;H<=d;H++)p[B+H]=-1;for(H=d;H>=0;H--)p[M+H]>0||(p[E+H]=p[B+w[H]],p[B+w[H]]=H);for(W=d;W>=0;W--)p[M+W]<=0||w[W]!==-1&&(p[E+W]=p[B+w[W]],p[B+w[W]]=W);for(X=0,T=0;T<=d;T++)w[T]===-1&&(X=wi(T,X,p,B,E,y,R));return y.splice(y.length-1,1),y};function n(D,o,u,s,c){var d=i(o);if(D===1&&s===u)return e(o,d);if(D===2){for(var h=d._index,g=d._ptr,m=0,A=0;A<u;A++){var w=g[A];if(g[A]=m,!(g[A+1]-w>c))for(var F=g[A+1];w<F;w++)h[m++]=h[w]}return g[u]=m,o=i(d),t(d,o)}return t(d,o)}function a(D,o,u,s,c,d,h,g,m,A,w,F){for(var y=0;y<D;y++)u[s+y]=o[y+1]-o[y];u[s+D]=0;for(var p=0;p<=D;p++)u[c+p]=-1,d[p]=-1,u[h+p]=-1,u[g+p]=-1,u[m+p]=1,u[A+p]=1,u[w+p]=0,u[F+p]=u[s+p];var _=l(0,0,u,A,D);return u[w+D]=-2,o[D]=-1,u[A+D]=0,_}function f(D,o,u,s,c,d,h,g,m,A,w){for(var F=0,y=0;y<D;y++){var p=u[s+y];if(p===0)u[c+y]=-2,F++,o[y]=-1,u[d+y]=0;else if(p>h)u[g+y]=0,u[c+y]=-1,F++,o[y]=le(D),u[g+D]++;else{var _=u[m+p];_!==-1&&(A[_]=y),u[w+y]=u[m+p],u[m+p]=y}}return F}function l(D,o,u,s,c){if(D<2||D+o<0){for(var d=0;d<c;d++)u[s+d]!==0&&(u[s+d]=1);D=2}return D}function v(D,o){return D!==o}});function If(r,e,t,i,n,a,f){var l,v,D=0,o;if(r<=e||t[i+e]<=t[n+r])return-1;t[n+r]=t[i+e];var u=t[a+r];if(t[a+r]=e,u===-1)D=1,o=r;else{for(D=2,o=u;o!==t[f+o];o=t[f+o]);for(l=u;l!==o;l=v)v=t[f+l],t[f+l]=o}return{jleaf:D,q:o}}var Pf="csCounts",$f=["transpose"],qf=Q(Pf,$f,r=>{var{transpose:e}=r;return function(t,i,n,a){if(!t||!i||!n)return null;var f=t._size,l=f[0],v=f[1],D,o,u,s,c,d,h,g=4*v+(a?v+l+1:0),m=[],A=0,w=v,F=2*v,y=3*v,p=4*v,_=5*v+1;for(u=0;u<g;u++)m[u]=-1;var M=[],E=e(t),B=E._index,b=E._ptr;for(u=0;u<v;u++)for(o=n[u],M[o]=m[y+o]===-1?1:0;o!==-1&&m[y+o]===-1;o=i[o])m[y+o]=u;if(a){for(u=0;u<v;u++)m[n[u]]=u;for(D=0;D<l;D++){for(u=v,d=b[D],h=b[D+1],c=d;c<h;c++)u=Math.min(u,m[B[c]]);m[_+D]=m[p+u],m[p+u]=D}}for(D=0;D<v;D++)m[A+D]=D;for(u=0;u<v;u++){for(o=n[u],i[o]!==-1&&M[i[o]]--,s=a?m[p+u]:o;s!==-1;s=a?m[_+s]:-1)for(c=b[s];c<b[s+1];c++){D=B[c];var z=If(D,o,m,y,w,F,A);z.jleaf>=1&&M[o]++,z.jleaf===2&&M[z.q]--}i[o]!==-1&&(m[A+o]=i[o])}for(o=0;o<v;o++)i[o]!==-1&&(M[i[o]]+=M[o]);return M}}),Rf="csSqr",Lf=["add","multiply","transpose"],Uf=Q(Rf,Lf,r=>{var{add:e,multiply:t,transpose:i}=r,n=Of({add:e,multiply:t,transpose:i}),a=qf({transpose:i});return function(v,D,o){var u=D._ptr,s=D._size,c=s[1],d,h={};if(h.q=n(v,D),v&&!h.q)return null;if(o){var g=v?Sf(D,null,h.q):D;h.parent=xf(g);var m=bf(h.parent,c);if(h.cp=a(g,h.parent,m,1),g&&h.parent&&h.cp&&f(g,h))for(h.unz=0,d=0;d<c;d++)h.unz+=h.cp[d]}else h.unz=4*u[c]+c,h.lnz=h.unz;return h};function f(l,v){var D=l._ptr,o=l._index,u=l._size,s=u[0],c=u[1];v.pinv=[],v.leftmost=[];var d=v.parent,h=v.pinv,g=v.leftmost,m=[],A=0,w=s,F=s+c,y=s+2*c,p,_,M,E,B;for(_=0;_<c;_++)m[w+_]=-1,m[F+_]=-1,m[y+_]=0;for(p=0;p<s;p++)g[p]=-1;for(_=c-1;_>=0;_--)for(E=D[_],B=D[_+1],M=E;M<B;M++)g[o[M]]=_;for(p=s-1;p>=0;p--)h[p]=-1,_=g[p],_!==-1&&(m[y+_]++===0&&(m[F+_]=p),m[A+p]=m[w+_],m[w+_]=p);for(v.lnz=0,v.m2=s,_=0;_<c;_++)if(p=m[w+_],v.lnz++,p<0&&(p=v.m2++),h[p]=_,!(--y[_]<=0)){v.lnz+=m[y+_];var b=d[_];b!==-1&&(m[y+b]===0&&(m[F+b]=m[F+_]),m[A+m[F+_]]=m[w+b],m[w+b]=m[A+p],m[y+b]+=m[y+_])}for(p=0;p<s;p++)h[p]<0&&(h[p]=_++);return!0}});function xt(r,e){return r[e]<0}function yi(r,e){r[e]=le(r[e])}function Bn(r){return r<0?le(r):r}function Zf(r,e,t,i,n){var a=e._index,f=e._ptr,l=e._size,v=l[1],D,o,u,s=0;for(i[0]=r;s>=0;){r=i[s];var c=n?n[r]:r;xt(f,r)||(yi(f,r),i[v+s]=c<0?0:Bn(f[c]));var d=1;for(o=i[v+s],u=c<0?0:Bn(f[c+1]);o<u;o++)if(D=a[o],!xt(f,D)){i[v+s]=o,i[++s]=D,d=0;break}d&&(s--,i[--t]=r)}return t}function Vf(r,e,t,i,n){var a=r._ptr,f=r._size,l=e._index,v=e._ptr,D=f[1],o,u,s,c=D;for(u=v[t],s=v[t+1],o=u;o<s;o++){var d=l[o];xt(a,d)||(c=Zf(d,r,c,i,n))}for(o=c;o<D;o++)yi(a,i[o]);return c}var Hf="csSpsolve",Jf=["divideScalar","multiply","subtract"],Yf=Q(Hf,Jf,r=>{var{divideScalar:e,multiply:t,subtract:i}=r;return function(a,f,l,v,D,o,u){var s=a._values,c=a._index,d=a._ptr,h=a._size,g=h[1],m=f._values,A=f._index,w=f._ptr,F,y,p,_,M=Vf(a,f,l,v,o);for(F=M;F<g;F++)D[v[F]]=0;for(y=w[l],p=w[l+1],F=y;F<p;F++)D[A[F]]=m[F];for(var E=M;E<g;E++){var B=v[E],b=o?o[B]:B;if(!(b<0))for(y=d[b],p=d[b+1],D[B]=e(D[B],s[u?y:p-1]),F=u?y+1:y,_=u?p:p-1;F<_;F++){var z=c[F];D[z]=i(D[z],t(s[F],D[B]))}}return M}}),Gf="csLu",Xf=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Kf=Q(Gf,Xf,r=>{var{abs:e,divideScalar:t,multiply:i,subtract:n,larger:a,largerEq:f,SparseMatrix:l}=r,v=Yf({divideScalar:t,multiply:i,subtract:n});return function(o,u,s){if(!o)return null;var c=o._size,d=c[1],h,g=100,m=100;u&&(h=u.q,g=u.lnz||g,m=u.unz||m);var A=[],w=[],F=[],y=new l({values:A,index:w,ptr:F,size:[d,d]}),p=[],_=[],M=[],E=new l({values:p,index:_,ptr:M,size:[d,d]}),B=[],b,z,R=[],I=[];for(b=0;b<d;b++)R[b]=0,B[b]=-1,F[b+1]=0;g=0,m=0;for(var O=0;O<d;O++){F[O]=g,M[O]=m;var x=h?h[O]:O,J=v(y,o,x,I,R,B,1),V=-1,T=-1;for(z=J;z<d;z++)if(b=I[z],B[b]<0){var H=e(R[b]);a(H,T)&&(T=H,V=b)}else _[m]=B[b],p[m++]=R[b];if(V===-1||T<=0)return null;B[x]<0&&f(e(R[x]),i(T,s))&&(V=x);var X=R[V];for(_[m]=O,p[m++]=X,B[V]=O,w[g]=V,A[g++]=1,z=J;z<d;z++)b=I[z],B[b]<0&&(w[g]=b,A[g++]=t(R[b],X)),R[b]=0}for(F[d]=g,M[d]=m,z=0;z<g;z++)w[z]=B[w[z]];return A.splice(g,A.length-g),w.splice(g,w.length-g),p.splice(m,p.length-m),_.splice(m,_.length-m),{L:y,U:E,pinv:B}}}),Sn="slu",Qf=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Wf=Q(Sn,Qf,r=>{var{typed:e,abs:t,add:i,multiply:n,transpose:a,divideScalar:f,subtract:l,larger:v,largerEq:D,SparseMatrix:o}=r,u=Uf({add:i,multiply:n,transpose:a}),s=Kf({abs:t,divideScalar:f,multiply:n,subtract:l,larger:v,largerEq:D,SparseMatrix:o});return e(Sn,{"SparseMatrix, number, number":function(d,h,g){if(!Sr(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var m=u(h,d,!1),A=s(d,m,g);return{L:A.L,U:A.U,p:A.pinv,q:m.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function bn(r,e){var t,i=e.length,n=[];if(r)for(t=0;t<i;t++)n[r[t]]=e[t];else for(t=0;t<i;t++)n[t]=e[t];return n}var xn="lusolve",kf=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],jf=Q(xn,kf,r=>{var{typed:e,matrix:t,lup:i,slu:n,usolve:a,lsolve:f,DenseMatrix:l}=r,v=Rt({DenseMatrix:l});return e(xn,{"Array, Array | Matrix":function(s,c){s=t(s);var d=i(s),h=o(d.L,d.U,d.p,null,c);return h.valueOf()},"DenseMatrix, Array | Matrix":function(s,c){var d=i(s);return o(d.L,d.U,d.p,null,c)},"SparseMatrix, Array | Matrix":function(s,c){var d=i(s);return o(d.L,d.U,d.p,null,c)},"SparseMatrix, Array | Matrix, number, number":function(s,c,d,h){var g=n(s,d,h);return o(g.L,g.U,g.p,g.q,c)},"Object, Array | Matrix":function(s,c){return o(s.L,s.U,s.p,s.q,c)}});function D(u){if(Nr(u))return u;if(Er(u))return t(u);throw new TypeError("Invalid Matrix LU decomposition")}function o(u,s,c,d,h){u=D(u),s=D(s),c&&(h=v(u,h,!0),h._data=bn(c,h._data));var g=f(u,h),m=a(s,g);return d&&(m._data=bn(d,m._data)),m}}),Ai=ro({config:Ae}),r0=io({}),Fi=ho({}),Lt=po({}),ie=xo({Matrix:Lt}),Dr=na({BigNumber:Ai,Complex:r0,DenseMatrix:ie,Fraction:Fi}),Ei=es({typed:Dr}),Pe=ns({typed:Dr}),e0=Us({typed:Dr}),ge=Io({config:Ae,typed:Dr}),t0=To({typed:Dr}),$e=zs({typed:Dr}),n0=Vo({typed:Dr}),Dt=qo({Matrix:Lt,equalScalar:ge,typed:Dr}),pt=us({typed:Dr}),i0=Yo({BigNumber:Ai,typed:Dr}),Ci=jo({typed:Dr}),u0=Ko({Fraction:Fi,typed:Dr}),Gr=Wo({DenseMatrix:ie,Matrix:Lt,SparseMatrix:Dt,typed:Dr}),a0=js({bignumber:i0,fraction:u0,number:n0}),o0=Xs({matrix:Gr,config:Ae,typed:Dr}),s0=Qs({matrix:Gr,typed:Dr}),qe=Vs({isInteger:t0,matrix:Gr,typed:Dr}),dt=ef({numeric:a0,typed:Dr}),f0=Df({DenseMatrix:ie,concat:qe,config:Ae,matrix:Gr,typed:Dr}),c0=nf({DenseMatrix:ie,divideScalar:dt,equalScalar:ge,matrix:Gr,multiplyScalar:$e,subtractScalar:pt,typed:Dr}),l0=sf({DenseMatrix:ie,concat:qe,config:Ae,matrix:Gr,typed:Dr}),h0=$s({DenseMatrix:ie,concat:qe,equalScalar:ge,matrix:Gr,subtractScalar:pt,typed:Dr,unaryMinus:Ci}),v0=af({DenseMatrix:ie,divideScalar:dt,equalScalar:ge,matrix:Gr,multiplyScalar:$e,subtractScalar:pt,typed:Dr}),ee=Ef({DenseMatrix:ie,SparseMatrix:Dt,addScalar:Pe,concat:qe,equalScalar:ge,matrix:Gr,typed:Dr}),D0=_f({addScalar:Pe,conj:e0,multiplyScalar:$e,size:o0,typed:Dr}),Ut=lf({DenseMatrix:ie,concat:qe,config:Ae,matrix:Gr,typed:Dr}),p0=Is({addScalar:Pe,dot:D0,equalScalar:ge,matrix:Gr,multiplyScalar:$e,typed:Dr}),d0=Wf({SparseMatrix:Dt,abs:Ei,add:ee,divideScalar:dt,larger:Ut,largerEq:f0,multiply:p0,subtract:h0,transpose:s0,typed:Dr}),m0=gf({larger:Ut,smaller:l0}),g0=Af({FibonacciHeap:m0,addScalar:Pe,equalScalar:ge}),w0=Bf({DenseMatrix:ie,Spa:g0,SparseMatrix:Dt,abs:Ei,addScalar:Pe,divideScalar:dt,equalScalar:ge,larger:Ut,matrix:Gr,multiplyScalar:$e,subtractScalar:pt,typed:Dr,unaryMinus:Ci}),y0=jf({DenseMatrix:ie,lsolve:c0,lup:w0,matrix:Gr,slu:d0,typed:Dr,usolve:v0});class A0{constructor(e=5,t=Array(e).fill(.5*Math.PI),i=Array(e).fill(0),n=-9.8){this.n=e,this.thetas=t,this.thetaDots=i,this.g=n}A(e){let t=[];for(let i=0;i<this.n;i++){let n=[];for(let a=0;a<this.n;a++)n.push((this.n-Math.max(i,a))*Math.cos(e[i]-e[a]));t.push(n)}return t}b(e,t){let i=[];for(let n=0;n<this.n;n++){let a=0;for(let f=0;f<this.n;f++)a-=(this.n-Math.max(n,f))*Math.sin(e[n]-e[f])*t[f]**2;a-=this.g*(this.n-n)*Math.sin(e[n]),i.push(a)}return i}f(e,t){let i=this.A(e),n=this.b(e,t);return[t,y0(i,n).map(a=>a[0])]}RK4(e,t,i){let n=this.f(t,i),a=this.f(ee(t,n[0].map(o=>.5*e*o)),ee(i,n[1].map(o=>.5*e*o))),f=this.f(ee(t,a[0].map(o=>.5*e*o)),ee(i,a[1].map(o=>.5*e*o))),l=this.f(ee(t,f[0].map(o=>1*e*o)),ee(i,f[1].map(o=>1*e*o))),v=ee(n[0],a[0].map(o=>2*o),f[0].map(o=>2*o),l[0]).map(o=>o*e/6),D=ee(n[1],a[1].map(o=>2*o),f[1].map(o=>2*o),l[1]).map(o=>o*e/6);return[ee(t,v),i=ee(i,D)]}tick(e){let t=this.RK4(e,this.thetas,this.thetaDots);this.thetas=t[0],this.thetaDots=t[1]}get coordinates(){let e=0,t=0,i=[];for(let n=0;n<this.thetas.length;n++){let a=this.thetas[n];e+=Math.sin(a),t+=Math.cos(a),i.push({x:e,y:t})}return i}}const F0={class:"absolute flex flex-wrap gap-1 w-full p-1"},E0={key:0,class:"i-la-play"},C0={key:1,class:"i-la-pause"},_0={class:"p-2 text-xs font-mono border-1 border-dark-100 dark-border-light-300"},M0=["width","height"],B0=["x1","x2","y2","stroke"],S0=["cx","cy"],b0=["x1","y1","x2","y2","stroke-width"],x0=["fill","cx","cy","r"],z0={__name:"MultiPendulums",setup(r){const e=Zt(),t=gt({w:1e3,h:1e3}),i=Vt(()=>we.pcs.length);eu(e,f=>{t.w=f[0].contentRect.width,t.h=f[0].contentRect.height});const n=gt([]);for(let f=0;f<2;f++)n[f]=a(-f);function a(f=0){const l=gt({}),v=Vt(()=>new A0(we.pcs.length,Array(we.pcs.length).fill(1).map((o,u)=>Math.PI+(f!=0?1:-2)*Math.PI*(1-Math.random()/(u+1))/4),Array(we.pcs.length).fill(1).map(()=>(f!=0?-4:2)*Math.random()+.5))),D=Zt([]);return Ht(()=>fe.ticks,(o,u)=>{o<u&&(o=u+1),v.value.tick((o-u)*.0015),D.value=v.value.coordinates}),Ht(D,(o,u)=>{o.forEach((s,c)=>{var d;if(s.x*((d=u==null?void 0:u[c])==null?void 0:d.x)<0){const h=we.full.notes[c];l[h]=!0,au(h)}})}),{coords:D,n:i,active:l}}return(f,l)=>(kr(),jr(Ue,null,[re("div",F0,[re("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:l[0]||(l[0]=v=>Hr(fe).stopped=!0)},l[3]||(l[3]=[re("div",{class:"i-la-stop"},null,-1)])),re("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:l[1]||(l[1]=v=>Hr(fe).playing=!Hr(fe).playing)},[Hr(fe).playing?(kr(),jr("div",C0)):(kr(),jr("div",E0))]),l[4]||(l[4]=re("div",{class:"flex-1"},null,-1)),re("div",_0,tu(Hr(fe).ticks),1)]),Hr(fe).started?nu("",!0):(kr(),jr("div",{key:0,class:"absolute bottom-0 top-0 left-0 right-0 flex items-center justify-center text-2xl z-100",onClick:l[2]||(l[2]=v=>Hr(fe).playing=!0)},"Press anywhere")),(kr(),jr("svg",{class:"select-none min-h-100svh min-w-full",id:"metronome",ref_key:"svg",ref:e,version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},[re("rect",{width:t.w,height:t.h,stroke:"white",fill:"#2222"},null,8,M0),re("line",{class:"transition",x1:t.w/2,x2:t.w/2,y1:0,y2:t.h,stroke:Hr(Jt).note.velocity>0?Hr(Yt)(Hr(Jt).note.pitch):"#999"},null,8,B0),re("circle",{cx:t.w/2,cy:t.h/10,r:8,fill:"currentColor"},null,8,S0),(kr(!0),jr(Ue,null,wt(n,(v,D)=>(kr(),jr("g",{key:v},[(kr(!0),jr(Ue,null,wt(v.coords,(o,u)=>(kr(),jr("g",{key:o},[re("line",{x1:u===0?t.w/2:t.w/2+v.coords[u-1].x*t.h/(i.value+1),y1:u===0?t.h/10:t.h/10-v.coords[u-1].y*t.h/(i.value+1),x2:t.w/2+o.x*t.h/(i.value+1),y2:t.h/10-o.y*t.h/(i.value+1),"stroke-width":(D*2+1)*2,stroke:"currentColor"},null,8,b0)]))),128)),(kr(!0),jr(Ue,null,wt(v.coords,(o,u)=>(kr(),jr("g",{key:o},[re("circle",{style:iu([{"transform-origin":"center","transform-box":"fill-box",transition:"transform 1s ease-in-out"},{transform:`scale(${v.active[Hr(we).full.notes[u]]?2:1})`}]),fill:Hr(Yt)(Hr(ou)[Hr(we).pcs[u]],4),cx:t.w/2+o.x*t.h/(i.value+1),cy:t.h/10-o.y*t.h/(i.value+1),r:(D+1)*10},null,12,x0)]))),128))]))),128))],512))],64))}};export{z0 as default};
