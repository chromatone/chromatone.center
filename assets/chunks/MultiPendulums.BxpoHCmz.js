import{g as dr,bb as ei,O as or,al as Zt,E as Vt,k as ri,e as ti}from"./theme.DLCqlVTm.js";import{F as ir}from"./fraction.D08t1C-v.js";import{r as Ht,D as dt,M as Jt,I as Yt,q as Qe,f as We,s as ke,t as ni,u as Ze,z as ui,F as Lr,Y as mt,v as ii}from"./framework.CxSiiyCs.js";function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Yr.apply(null,arguments)}var Nn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function ai(e,r){if(Gr(e,r))return e[r];throw typeof e[r]=="function"&&si(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function oi(e,r,t){if(Gr(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function Gr(e,r){return!fi(e)&&!Array.isArray(e)?!1:zr(ci,r)?!0:!(r in Object.prototype||r in Function.prototype)}function si(e,r){return e==null||typeof e[r]!="function"||zr(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:zr(li,r)?!0:!(r in Object.prototype||r in Function.prototype)}function fi(e){return typeof e=="object"&&e&&e.constructor===Object}var ci={length:!0,name:!0},li={toString:!0,valueOf:!0,toLocaleString:!0};class hi{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return ai(this.wrappedObject,r)}set(r,t){return oi(this.wrappedObject,r,t),this}has(r){return Gr(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return vi(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){Gr(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function vi(e,r){return{next:()=>{var t=e.next();return t.done?t:{value:r(t.value),done:!1}}}}function le(e){return typeof e=="number"}function Ne(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Di(e){return typeof e=="bigint"}function Tn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function zn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function On(e){return e&&e.constructor.prototype.isUnit===!0||!1}function nr(e){return typeof e=="string"}var Ee=Array.isArray;function Me(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Xr(e){return Array.isArray(e)||Me(e)}function In(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Pn(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function pi(e){return e&&e.constructor.prototype.isRange===!0||!1}function Nt(e){return e&&e.constructor.prototype.isIndex===!0||!1}function di(e){return typeof e=="boolean"}function mi(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function gi(e){return e&&e.constructor.prototype.isHelp===!0||!1}function wi(e){return typeof e=="function"}function Fi(e){return e instanceof Date}function yi(e){return e instanceof RegExp}function Tt(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Tn(e)&&!zn(e))}function Ai(e){return e?e instanceof Map||e instanceof hi||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Ei(e){return e===null}function Ci(e){return e===void 0}function _i(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Si(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bi(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Mi(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function bi(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function xi(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ni(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ti(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function zi(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oi(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ii(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pi(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function $i(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function qi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ri(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ui(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Li(e){return e&&e.constructor.prototype.isChain===!0||!1}function lr(e){var r=typeof e;return r==="object"?e===null?"null":Ne(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Ae(e){var r=typeof e;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return Ae(t)});if(e instanceof Date)return new Date(e.valueOf());if(Ne(e))return e;if(Tt(e))return Zi(e,Ae);if(r==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Zi(e,r){var t={};for(var n in e)zr(e,n)&&(t[n]=r(e[n]));return t}function Vi(e,r){for(var t in r)zr(r,t)&&(e[t]=r[t]);return e}function hr(e,r){var t,n,u;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(n=0,u=e.length;n<u;n++)if(!hr(e[n],r[n]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!hr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function zr(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Hi(e,r){for(var t={},n=0;n<r.length;n++){var u=r[n],i=e[u];i!==void 0&&(t[u]=i)}return t}var Ji=["Matrix","Array"],Yi=["number","BigNumber","bigint","Fraction"],wr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Nn)};Yr(wr,Nn,{MATRIX_OPTIONS:Ji,NUMBER_OPTIONS:Yi});function Gt(){return!0}function He(){return!1}function Cr(){}const Xt="Argument is not a typed-function.";function $n(){function e(S){return typeof S=="object"&&S!==null&&S.constructor===Object}const r=[{name:"number",test:function(S){return typeof S=="number"}},{name:"string",test:function(S){return typeof S=="string"}},{name:"boolean",test:function(S){return typeof S=="boolean"}},{name:"Function",test:function(S){return typeof S=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(S){return S instanceof Date}},{name:"RegExp",test:function(S){return S instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(S){return S===null}},{name:"undefined",test:function(S){return S===void 0}}],t={name:"any",test:Gt,isAny:!0};let n,u,i=0,a={createCount:0};function s(S){const b=n.get(S);if(b)return b;let T='Unknown type "'+S+'"';const $=S.toLowerCase();let L;for(L of u)if(L.toLowerCase()===$){T+='. Did you mean "'+L+'" ?';break}throw new TypeError(T)}function f(S){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const T=b?s(b).index:u.length,$=[];for(let R=0;R<S.length;++R){if(!S[R]||typeof S[R].name!="string"||typeof S[R].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const G=S[R].name;if(n.has(G))throw new TypeError('Duplicate type name "'+G+'"');$.push(G),n.set(G,{name:G,test:S[R].test,isAny:S[R].isAny,index:T+R,conversionsTo:[]})}const L=u.slice(T);u=u.slice(0,T).concat($).concat(L);for(let R=T+$.length;R<u.length;++R)n.get(u[R]).index=R}function l(){n=new Map,u=[],i=0,f([t],!1)}l(),f(r);function h(){let S;for(S of u)n.get(S).conversionsTo=[];i=0}function o(S){const b=u.filter(T=>{const $=n.get(T);return!$.isAny&&$.test(S)});return b.length?b:["any"]}function v(S){return S&&typeof S=="function"&&"_typedFunctionData"in S}function D(S,b,T){if(!v(S))throw new TypeError(Xt);const $=T&&T.exact,L=Array.isArray(b)?b.join(","):b,R=A(L),G=m(R);if(!$||G in S.signatures){const de=S._typedFunctionData.signatureMap.get(G);if(de)return de}const J=R.length;let X;if($){X=[];let de;for(de in S.signatures)X.push(S._typedFunctionData.signatureMap.get(de))}else X=S._typedFunctionData.signatures;for(let de=0;de<J;++de){const we=R[de],Ce=[];let Ue;for(Ue of X){const $e=E(Ue.params,de);if(!(!$e||we.restParam&&!$e.restParam)){if(!$e.hasAny){const Xe=g($e);if(we.types.some(Ke=>!Xe.has(Ke.name)))continue}Ce.push(Ue)}}if(X=Ce,X.length===0)break}let Z;for(Z of X)if(Z.params.length<=J)return Z;throw new TypeError("Signature not found (signature: "+(S.name||"unnamed")+"("+m(R,", ")+"))")}function d(S,b,T){return D(S,b,T).implementation}function c(S,b){const T=s(b);if(T.test(S))return S;const $=T.conversionsTo;if($.length===0)throw new Error("There are no conversions to "+b+" defined.");for(let L=0;L<$.length;L++)if(s($[L].from).test(S))return $[L].convert(S);throw new Error("Cannot convert "+S+" to "+b)}function m(S){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return S.map(T=>T.name).join(b)}function w(S){const b=S.indexOf("...")===0,$=(b?S.length>3?S.slice(3):"any":S).split("|").map(J=>s(J.trim()));let L=!1,R=b?"...":"";return{types:$.map(function(J){return L=J.isAny||L,R+=J.name+"|",{name:J.name,typeIndex:J.index,test:J.test,isAny:J.isAny,conversion:null,conversionIndex:-1}}),name:R.slice(0,-1),hasAny:L,hasConversion:!1,restParam:b}}function y(S){const b=S.types.map(G=>G.name),T=Y(b);let $=S.hasAny,L=S.name;const R=T.map(function(G){const J=s(G.from);return $=J.isAny||$,L+="|"+G.from,{name:G.from,typeIndex:J.index,test:J.test,isAny:J.isAny,conversion:G,conversionIndex:G.index}});return{types:S.types.concat(R),name:L,hasAny:$,hasConversion:R.length>0,restParam:S.restParam}}function g(S){return S.typeSet||(S.typeSet=new Set,S.types.forEach(b=>S.typeSet.add(b.name))),S.typeSet}function A(S){const b=[];if(typeof S!="string")throw new TypeError("Signatures must be strings");const T=S.trim();if(T==="")return b;const $=T.split(",");for(let L=0;L<$.length;++L){const R=w($[L].trim());if(R.restParam&&L!==$.length-1)throw new SyntaxError('Unexpected rest parameter "'+$[L]+'": only allowed for the last parameter');if(R.types.length===0)return null;b.push(R)}return b}function F(S){const b=ie(S);return b?b.restParam:!1}function p(S){if(!S||S.types.length===0)return Gt;if(S.types.length===1)return s(S.types[0].name).test;if(S.types.length===2){const b=s(S.types[0].name).test,T=s(S.types[1].name).test;return function(L){return b(L)||T(L)}}else{const b=S.types.map(function(T){return s(T.name).test});return function($){for(let L=0;L<b.length;L++)if(b[L]($))return!0;return!1}}}function _(S){let b,T,$;if(F(S)){b=se(S).map(p);const L=b.length,R=p(ie(S)),G=function(J){for(let X=L;X<J.length;X++)if(!R(J[X]))return!1;return!0};return function(X){for(let Z=0;Z<b.length;Z++)if(!b[Z](X[Z]))return!1;return G(X)&&X.length>=L+1}}else return S.length===0?function(R){return R.length===0}:S.length===1?(T=p(S[0]),function(R){return T(R[0])&&R.length===1}):S.length===2?(T=p(S[0]),$=p(S[1]),function(R){return T(R[0])&&$(R[1])&&R.length===2}):(b=S.map(p),function(R){for(let G=0;G<b.length;G++)if(!b[G](R[G]))return!1;return R.length===b.length})}function E(S,b){return b<S.length?S[b]:F(S)?ie(S):null}function C(S,b){const T=E(S,b);return T?g(T):new Set}function B(S){return S.conversion===null||S.conversion===void 0}function M(S,b){const T=new Set;return S.forEach($=>{const L=C($.params,b);let R;for(R of L)T.add(R)}),T.has("any")?["any"]:Array.from(T)}function N(S,b,T){let $,L;const R=S||"unnamed";let G=T,J;for(J=0;J<b.length;J++){const we=[];if(G.forEach(Ce=>{const Ue=E(Ce.params,J),$e=p(Ue);(J<Ce.params.length||F(Ce.params))&&$e(b[J])&&we.push(Ce)}),we.length===0){if(L=M(G,J),L.length>0){const Ce=o(b[J]);return $=new TypeError("Unexpected type of argument in function "+R+" (expected: "+L.join(" or ")+", actual: "+Ce.join(" | ")+", index: "+J+")"),$.data={category:"wrongType",fn:R,index:J,actual:Ce,expected:L},$}}else G=we}const X=G.map(function(we){return F(we.params)?1/0:we.params.length});if(b.length<Math.min.apply(null,X))return L=M(G,J),$=new TypeError("Too few arguments in function "+R+" (expected: "+L.join(" or ")+", index: "+b.length+")"),$.data={category:"tooFewArgs",fn:R,index:b.length,expected:L},$;const Z=Math.max.apply(null,X);if(b.length>Z)return $=new TypeError("Too many arguments in function "+R+" (expected: "+Z+", actual: "+b.length+")"),$.data={category:"tooManyArgs",fn:R,index:b.length,expectedLength:Z},$;const de=[];for(let we=0;we<b.length;++we)de.push(o(b[we]).join("|"));return $=new TypeError('Arguments of type "'+de.join(", ")+'" do not match any of the defined signatures of function '+R+"."),$.data={category:"mismatch",actual:de},$}function q(S){let b=u.length+1;for(let T=0;T<S.types.length;T++)B(S.types[T])&&(b=Math.min(b,S.types[T].typeIndex));return b}function O(S){let b=i+1;for(let T=0;T<S.types.length;T++)B(S.types[T])||(b=Math.min(b,S.types[T].conversionIndex));return b}function P(S,b){if(S.hasAny){if(!b.hasAny)return 1}else if(b.hasAny)return-1;if(S.restParam){if(!b.restParam)return 1}else if(b.restParam)return-1;if(S.hasConversion){if(!b.hasConversion)return 1}else if(b.hasConversion)return-1;const T=q(S)-q(b);if(T<0)return-1;if(T>0)return 1;const $=O(S)-O(b);return $<0?-1:$>0?1:0}function x(S,b){const T=S.params,$=b.params,L=ie(T),R=ie($),G=F(T),J=F($);if(G&&L.hasAny){if(!J||!R.hasAny)return 1}else if(J&&R.hasAny)return-1;let X=0,Z=0,de;for(de of T)de.hasAny&&++X,de.hasConversion&&++Z;let we=0,Ce=0;for(de of $)de.hasAny&&++we,de.hasConversion&&++Ce;if(X!==we)return X-we;if(G&&L.hasConversion){if(!J||!R.hasConversion)return 1}else if(J&&R.hasConversion)return-1;if(Z!==Ce)return Z-Ce;if(G){if(!J)return 1}else if(J)return-1;const Ue=(T.length-$.length)*(G?-1:1);if(Ue!==0)return Ue;const $e=[];let Xe=0;for(let Er=0;Er<T.length;++Er){const Rr=P(T[Er],$[Er]);$e.push(Rr),Xe+=Rr}if(Xe!==0)return Xe;let Ke;for(Ke of $e)if(Ke!==0)return Ke;return 0}function Y(S){if(S.length===0)return[];const b=S.map(s);S.length>1&&b.sort((L,R)=>L.index-R.index);let T=b[0].conversionsTo;if(S.length===1)return T;T=T.concat([]);const $=new Set(S);for(let L=1;L<b.length;++L){let R;for(R of b[L].conversionsTo)$.has(R.from)||(T.push(R),$.add(R.from))}return T}function V(S,b){let T=b;if(S.some(L=>L.hasConversion)){const L=F(S),R=S.map(z);T=function(){const J=[],X=L?arguments.length-1:arguments.length;for(let Z=0;Z<X;Z++)J[Z]=R[Z](arguments[Z]);return L&&(J[X]=arguments[X].map(R[X])),b.apply(this,J)}}let $=T;if(F(S)){const L=S.length-1;$=function(){return T.apply(this,j(arguments,0,L).concat([j(arguments,L)]))}}return $}function z(S){let b,T,$,L;const R=[],G=[];switch(S.types.forEach(function(J){J.conversion&&(R.push(s(J.conversion.from).test),G.push(J.conversion.convert))}),G.length){case 0:return function(X){return X};case 1:return b=R[0],$=G[0],function(X){return b(X)?$(X):X};case 2:return b=R[0],T=R[1],$=G[0],L=G[1],function(X){return b(X)?$(X):T(X)?L(X):X};default:return function(X){for(let Z=0;Z<G.length;Z++)if(R[Z](X))return G[Z](X);return X}}}function H(S){function b(T,$,L){if($<T.length){const R=T[$];let G=[];if(R.restParam){const J=R.types.filter(B);J.length<R.types.length&&G.push({types:J,name:"..."+J.map(X=>X.name).join("|"),hasAny:J.some(X=>X.isAny),hasConversion:!1,restParam:!0}),G.push(R)}else G=R.types.map(function(J){return{types:[J],name:J.name,hasAny:J.isAny,hasConversion:J.conversion,restParam:!1}});return me(G,function(J){return b(T,$+1,L.concat([J]))})}else return[L]}return b(S,0,[])}function K(S,b){const T=Math.max(S.length,b.length);for(let J=0;J<T;J++){const X=C(S,J),Z=C(b,J);let de=!1,we;for(we of Z)if(X.has(we)){de=!0;break}if(!de)return!1}const $=S.length,L=b.length,R=F(S),G=F(b);return R?G?$===L:L>=$:G?$>=L:$===L}function ue(S){return S.map(b=>ze(b)?_e(b.referToSelf.callback):Re(b)?ce(b.referTo.references,b.referTo.callback):b)}function re(S,b,T){const $=[];let L;for(L of S){let R=T[L];if(typeof R!="number")throw new TypeError('No definition for referenced signature "'+L+'"');if(R=b[R],typeof R!="function")return!1;$.push(R)}return $}function W(S,b,T){const $=ue(S),L=new Array($.length).fill(!1);let R=!0;for(;R;){R=!1;let G=!0;for(let J=0;J<$.length;++J){if(L[J])continue;const X=$[J];if(ze(X))$[J]=X.referToSelf.callback(T),$[J].referToSelf=X.referToSelf,L[J]=!0,G=!1;else if(Re(X)){const Z=re(X.referTo.references,$,b);Z?($[J]=X.referTo.callback.apply(this,Z),$[J].referTo=X.referTo,L[J]=!0,G=!1):R=!0}}if(G&&R)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return $}function ve(S){const b=/\bthis(\(|\.signatures\b)/;Object.keys(S).forEach(T=>{const $=S[T];if(b.test($.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function oe(S,b){if(a.createCount++,Object.keys(b).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&ve(b);const T=[],$=[],L={},R=[];let G;for(G in b){if(!Object.prototype.hasOwnProperty.call(b,G))continue;const De=A(G);if(!De)continue;T.forEach(function(Tr){if(K(Tr,De))throw new TypeError('Conflicting signatures "'+m(Tr)+'" and "'+m(De)+'".')}),T.push(De);const Le=$.length;$.push(b[G]);const ku=De.map(y);let Ur;for(Ur of H(ku)){const Tr=m(Ur);R.push({params:Ur,name:Tr,fn:Le}),Ur.every(ju=>!ju.hasConversion)&&(L[Tr]=Le)}}R.sort(x);const J=W($,L,Nr);let X;for(X in L)Object.prototype.hasOwnProperty.call(L,X)&&(L[X]=J[L[X]]);const Z=[],de=new Map;for(X of R)de.has(X.name)||(X.fn=J[X.fn],Z.push(X),de.set(X.name,X));const we=Z[0]&&Z[0].params.length<=2&&!F(Z[0].params),Ce=Z[1]&&Z[1].params.length<=2&&!F(Z[1].params),Ue=Z[2]&&Z[2].params.length<=2&&!F(Z[2].params),$e=Z[3]&&Z[3].params.length<=2&&!F(Z[3].params),Xe=Z[4]&&Z[4].params.length<=2&&!F(Z[4].params),Ke=Z[5]&&Z[5].params.length<=2&&!F(Z[5].params),Er=we&&Ce&&Ue&&$e&&Xe&&Ke;for(let De=0;De<Z.length;++De)Z[De].test=_(Z[De].params);const Rr=we?p(Z[0].params[0]):He,Cu=Ce?p(Z[1].params[0]):He,_u=Ue?p(Z[2].params[0]):He,Su=$e?p(Z[3].params[0]):He,Bu=Xe?p(Z[4].params[0]):He,Mu=Ke?p(Z[5].params[0]):He,bu=we?p(Z[0].params[1]):He,xu=Ce?p(Z[1].params[1]):He,Nu=Ue?p(Z[2].params[1]):He,Tu=$e?p(Z[3].params[1]):He,zu=Xe?p(Z[4].params[1]):He,Ou=Ke?p(Z[5].params[1]):He;for(let De=0;De<Z.length;++De)Z[De].implementation=V(Z[De].params,Z[De].fn);const Iu=we?Z[0].implementation:Cr,Pu=Ce?Z[1].implementation:Cr,$u=Ue?Z[2].implementation:Cr,qu=$e?Z[3].implementation:Cr,Ru=Xe?Z[4].implementation:Cr,Uu=Ke?Z[5].implementation:Cr,Lu=we?Z[0].params.length:-1,Zu=Ce?Z[1].params.length:-1,Vu=Ue?Z[2].params.length:-1,Hu=$e?Z[3].params.length:-1,Ju=Xe?Z[4].params.length:-1,Yu=Ke?Z[5].params.length:-1,Gu=Er?6:0,Xu=Z.length,Ku=Z.map(De=>De.test),Qu=Z.map(De=>De.implementation),Wu=function(){for(let Le=Gu;Le<Xu;Le++)if(Ku[Le](arguments))return Qu[Le].apply(this,arguments);return a.onMismatch(S,arguments,Z)};function Nr(De,Le){return arguments.length===Lu&&Rr(De)&&bu(Le)?Iu.apply(this,arguments):arguments.length===Zu&&Cu(De)&&xu(Le)?Pu.apply(this,arguments):arguments.length===Vu&&_u(De)&&Nu(Le)?$u.apply(this,arguments):arguments.length===Hu&&Su(De)&&Tu(Le)?qu.apply(this,arguments):arguments.length===Ju&&Bu(De)&&zu(Le)?Ru.apply(this,arguments):arguments.length===Yu&&Mu(De)&&Ou(Le)?Uu.apply(this,arguments):Wu.apply(this,arguments)}try{Object.defineProperty(Nr,"name",{value:S})}catch{}return Nr.signatures=L,Nr._typedFunctionData={signatures:Z,signatureMap:de},Nr}function ne(S,b,T){throw N(S,b,T)}function se(S){return j(S,0,S.length-1)}function ie(S){return S[S.length-1]}function j(S,b,T){return Array.prototype.slice.call(S,b,T)}function Fe(S,b){for(let T=0;T<S.length;T++)if(b(S[T]))return S[T]}function me(S,b){return Array.prototype.concat.apply([],S.map(b))}function ae(){const S=se(arguments).map(T=>m(A(T))),b=ie(arguments);if(typeof b!="function")throw new TypeError("Callback function expected as last argument");return ce(S,b)}function ce(S,b){return{referTo:{references:S,callback:b}}}function _e(S){if(typeof S!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:S}}}function Re(S){return S&&typeof S.referTo=="object"&&Array.isArray(S.referTo.references)&&typeof S.referTo.callback=="function"}function ze(S){return S&&typeof S.referToSelf=="object"&&typeof S.referToSelf.callback=="function"}function fe(S,b){if(!S)return b;if(b&&b!==S){const T=new Error("Function names do not match (expected: "+S+", actual: "+b+")");throw T.data={actual:b,expected:S},T}return S}function Oe(S){let b;for(const T in S)Object.prototype.hasOwnProperty.call(S,T)&&(v(S[T])||typeof S[T].signature=="string")&&(b=fe(b,S[T].name));return b}function Ge(S,b){let T;for(T in b)if(Object.prototype.hasOwnProperty.call(b,T)){if(T in S&&b[T]!==S[T]){const $=new Error('Signature "'+T+'" is defined twice');throw $.data={signature:T,sourceFunction:b[T],destFunction:S[T]},$}S[T]=b[T]}}const pt=a;a=function(S){const b=typeof S=="string",T=b?1:0;let $=b?S:"";const L={};for(let R=T;R<arguments.length;++R){const G=arguments[R];let J={},X;if(typeof G=="function"?(X=G.name,typeof G.signature=="string"?J[G.signature]=G:v(G)&&(J=G.signatures)):e(G)&&(J=G,b||(X=Oe(G))),Object.keys(J).length===0){const Z=new TypeError("Argument to 'typed' at index "+R+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Z.data={index:R,argument:G},Z}b||($=fe($,X)),Ge(L,J)}return oe($||"",L)},a.create=$n,a.createCount=pt.createCount,a.onMismatch=ne,a.throwMismatchError=ne,a.createError=N,a.clear=l,a.clearConversions=h,a.addTypes=f,a._findType=s,a.referTo=ae,a.referToSelf=_e,a.convert=c,a.findSignature=D,a.find=d,a.isTypedFunction=v,a.warnAgainstDeprecatedThis=!0,a.addType=function(S,b){let T="any";b!==!1&&n.has("Object")&&(T="Object"),a.addTypes([S],T)};function xr(S){if(!S||typeof S.from!="string"||typeof S.to!="string"||typeof S.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(S.to===S.from)throw new SyntaxError('Illegal to define conversion from "'+S.from+'" to itself.')}return a.addConversion=function(S){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};xr(S);const T=s(S.to),$=T.conversionsTo.find(L=>L.from===S.from);if($)if(b&&b.override)a.removeConversion({from:$.from,to:S.to,convert:$.convert});else throw new Error('There is already a conversion from "'+S.from+'" to "'+T.name+'"');T.conversionsTo.push({from:S.from,convert:S.convert,index:i++})},a.addConversions=function(S,b){S.forEach(T=>a.addConversion(T,b))},a.removeConversion=function(S){xr(S);const b=s(S.to),T=Fe(b.conversionsTo,L=>L.from===S.from);if(!T)throw new Error("Attempt to remove nonexistent conversion from "+S.from+" to "+S.to);if(T.convert!==S.convert)throw new Error("Conversion to remove does not match existing conversion");const $=b.conversionsTo.indexOf(T);b.conversionsTo.splice($,1)},a.resolve=function(S,b){if(!v(S))throw new TypeError(Xt);const T=S._typedFunctionData.signatures;for(let $=0;$<T.length;++$)if(T[$].test(b))return T[$];return null},a}const Kr=$n();function Q(e,r,t,n){function u(i){var a=Hi(i,r.map(Ki));return Gi(e,r,i),t(a)}return u.isFactory=!0,u.fn=e,u.dependencies=r.slice().sort(),n&&(u.meta=n),u}function Gi(e,r,t){var n=r.filter(i=>!Xi(i)).every(i=>t[i]!==void 0);if(!n){var u=r.filter(i=>t[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Xi(e){return e&&e[0]==="?"}function Ki(e){return e&&e[0]==="?"?e.slice(1):e}function Be(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function gt(e,r,t){var n={2:"0b",8:"0o",16:"0x"},u=n[r],i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Be(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Be(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),i="i".concat(t)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(u).concat(e.toString(r)).concat(i)}function At(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:t,precision:n,wordSize:u}=qn(r);switch(t){case"fixed":return Wi(e,n);case"exponential":return Rn(e,n);case"engineering":return Qi(e,n);case"bin":return gt(e,2,u);case"oct":return gt(e,8,u);case"hex":return gt(e,16,u);case"auto":return ki(e,n,r).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],a=arguments[4];return i!=="."?i+a:a});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qn(e){var r="auto",t,n;if(e!==void 0)if(le(e))t=e;else if(Ne(e))t=e.toNumber();else if(Tt(e))e.precision!==void 0&&(t=Kt(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Kt(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:n}}function ut(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],n=r[2],u=parseFloat(r[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(s){return u-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return a.length===0&&(a.push(0),u++),{sign:t,coefficients:a,exponent:u}}function Qi(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ut(e),n=it(t,r),u=n.exponent,i=n.coefficients,a=u%3===0?u:u<0?u-3-u%3:u-u%3;if(le(r))for(;r>i.length||u-a+1>i.length;)i.push(0);else for(var s=Math.abs(u-a)-(i.length-1),f=0;f<s;f++)i.push(0);for(var l=Math.abs(u-a),h=1;l>0;)h++,l--;var o=i.slice(h).join(""),v=le(r)&&o.length||o.match(/[1-9]/)?"."+o:"",D=i.slice(0,h).join("")+v+"e"+(u>=0?"+":"")+a.toString();return n.sign+D}function Wi(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ut(e),n=typeof r=="number"?it(t,t.exponent+1+r):t,u=n.coefficients,i=n.exponent+1,a=i+(r||0);return u.length<a&&(u=u.concat(Br(a-u.length))),i<0&&(u=Br(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function Rn(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ut(e),n=r?it(t,r):t,u=n.coefficients,i=n.exponent;u.length<r&&(u=u.concat(Br(r-u.length)));var a=u.shift();return n.sign+a+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function ki(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Qt(t?.lowerExp,-3),u=Qt(t?.upperExp,5),i=ut(e),a=r?it(i,r):i;if(a.exponent<n||a.exponent>=u)return Rn(e,r);var s=a.coefficients,f=a.exponent;s.length<r&&(s=s.concat(Br(r-s.length))),s=s.concat(Br(f-s.length+1+(s.length<r?r-s.length:0))),s=Br(-f).concat(s);var l=f>0?f:0;return l<s.length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}function it(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=t.coefficients;r<=0;)n.unshift(0),t.exponent++,r++;if(n.length>r){var u=n.splice(r,n.length-r);if(u[0]>=5){var i=r-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),t.exponent++,i++),i--,n[i]++}}return t}function Br(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function ji(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function gr(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(r)?!1:!isFinite(e)||!isFinite(r)?e===r:e===r?!0:Math.abs(e-r)<=Math.max(t*Math.max(Math.abs(e),Math.abs(r)),n)}function Kt(e,r){if(le(e))return e;if(Ne(e))return e.toNumber();r()}function Qt(e,r){return le(e)?e:Ne(e)?e.toNumber():r}var Un=function(){return Un=Kr.create,Kr},ea=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ra=Q("typed",ea,function(r){var{BigNumber:t,Complex:n,DenseMatrix:u,Fraction:i}=r,a=Un();return a.clear(),a.addTypes([{name:"number",test:le},{name:"Complex",test:Tn},{name:"BigNumber",test:Ne},{name:"bigint",test:Di},{name:"Fraction",test:zn},{name:"Unit",test:On},{name:"identifier",test:s=>nr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:nr},{name:"Chain",test:Li},{name:"Array",test:Ee},{name:"Matrix",test:Me},{name:"DenseMatrix",test:In},{name:"SparseMatrix",test:Pn},{name:"Range",test:pi},{name:"Index",test:Nt},{name:"boolean",test:di},{name:"ResultSet",test:mi},{name:"Help",test:gi},{name:"function",test:wi},{name:"Date",test:Fi},{name:"RegExp",test:yi},{name:"null",test:Ei},{name:"undefined",test:Ci},{name:"AccessorNode",test:_i},{name:"ArrayNode",test:Si},{name:"AssignmentNode",test:Bi},{name:"BlockNode",test:Mi},{name:"ConditionalNode",test:bi},{name:"ConstantNode",test:xi},{name:"FunctionNode",test:Ti},{name:"FunctionAssignmentNode",test:Ni},{name:"IndexNode",test:zi},{name:"Node",test:Oi},{name:"ObjectNode",test:Ii},{name:"OperatorNode",test:Pi},{name:"ParenthesisNode",test:$i},{name:"RangeNode",test:qi},{name:"RelationalNode",test:Ri},{name:"SymbolNode",test:Ui},{name:"Map",test:Ai},{name:"Object",test:Tt}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(t||Zr(f),ji(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new t(f)}},{from:"number",to:"Complex",convert:function(f){return n||Vr(f),new n(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return n||Vr(f),new n(f.toNumber(),0)}},{from:"bigint",to:"number",convert:function(f){if(f>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+f+")");return Number(f)}},{from:"bigint",to:"BigNumber",convert:function(f){return t||Zr(f),new t(f.toString())}},{from:"bigint",to:"Fraction",convert:function(f){return i||Hr(f),new i(f)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||Vr(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){i||Hr(f);var l=new i(f);if(l.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(f){var l=Number(f);if(isNaN(l))throw new Error('Cannot convert "'+f+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(f){t||Zr(f);try{return new t(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(f){try{return BigInt(f)}catch{throw new Error('Cannot convert "'+f+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(f){i||Hr(f);try{return new i(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||Vr(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return t||Zr(f),new t(+f)}},{from:"boolean",to:"bigint",convert:function(f){return BigInt(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return i||Hr(f),new i(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return u||ta(),new u(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),a.onMismatch=(s,f,l)=>{var h=a.createError(s,f,l);if(["wrongType","mismatch"].includes(h.data.category)&&f.length===1&&Xr(f[0])&&l.some(v=>!v.params.includes(","))){var o=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw o.data=h.data,o}throw h},a.onMismatch=(s,f,l)=>{var h=a.createError(s,f,l);if(["wrongType","mismatch"].includes(h.data.category)&&f.length===1&&Xr(f[0])&&l.some(v=>!v.params.includes(","))){var o=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw o.data=h.data,o}throw h},a});function Zr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Vr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ta(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Hr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Sr=9e15,Dr=1e9,Et="0123456789abcdef",Qr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Wr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ct={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Sr,maxE:Sr,crypto:!1},Ln,ar,te=!0,at="[DecimalError] ",vr=at+"Invalid argument: ",Zn=at+"Precision limit exceeded",Vn=at+"crypto unavailable",Hn="[object Decimal]",Pe=Math.floor,Se=Math.pow,na=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ua=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ia=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Jn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr=1e7,ee=7,aa=9007199254740991,oa=Qr.length-1,_t=Wr.length-1,U={toStringTag:Hn};U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),k(e)};U.ceil=function(){return k(new this.constructor(this),this.e+1,2)};U.clampedTo=U.clamp=function(e,r){var t,n=this,u=n.constructor;if(e=new u(e),r=new u(r),!e.s||!r.s)return new u(NaN);if(e.gt(r))throw Error(vr+r);return t=n.cmp(e),t<0?e:n.cmp(r)>0?r:new u(n)};U.comparedTo=U.cmp=function(e){var r,t,n,u,i=this,a=i.d,s=(e=new i.constructor(e)).d,f=i.s,l=e.s;if(!a||!s)return!f||!l?NaN:f!==l?f:a===s?0:!a^f<0?1:-1;if(!a[0]||!s[0])return a[0]?f:s[0]?-l:0;if(f!==l)return f;if(i.e!==e.e)return i.e>e.e^f<0?1:-1;for(n=a.length,u=s.length,r=0,t=n<u?n:u;r<t;++r)if(a[r]!==s[r])return a[r]>s[r]^f<0?1:-1;return n===u?0:n>u^f<0?1:-1};U.cosine=U.cos=function(){var e,r,t=this,n=t.constructor;return t.d?t.d[0]?(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+ee,n.rounding=1,t=sa(n,Qn(n,t)),n.precision=e,n.rounding=r,k(ar==2||ar==3?t.neg():t,e,r,!0)):new n(1):new n(NaN)};U.cubeRoot=U.cbrt=function(){var e,r,t,n,u,i,a,s,f,l,h=this,o=h.constructor;if(!h.isFinite()||h.isZero())return new o(h);for(te=!1,i=h.s*Se(h.s*h,1/3),!i||Math.abs(i)==1/0?(t=Te(h.d),e=h.e,(i=(e-t.length+1)%3)&&(t+=i==1||i==-2?"0":"00"),i=Se(t,1/3),e=Pe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new o(t),n.s=h.s):n=new o(i.toString()),a=(e=o.precision)+3;;)if(s=n,f=s.times(s).times(s),l=f.plus(h),n=ge(l.plus(h).times(s),l.plus(f),a+2,1),Te(s.d).slice(0,a)===(t=Te(n.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!u&&t=="4999"){if(!u&&(k(s,e+1,0),s.times(s).times(s).eq(h))){n=s;break}a+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(k(n,e+1,1),r=!n.times(n).times(n).eq(h));break}return te=!0,k(n,e,o.rounding,r)};U.decimalPlaces=U.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-Pe(this.e/ee))*ee,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};U.dividedBy=U.div=function(e){return ge(this,new this.constructor(e))};U.dividedToIntegerBy=U.divToInt=function(e){var r=this,t=r.constructor;return k(ge(r,new t(e),0,1,1),t.precision,t.rounding)};U.equals=U.eq=function(e){return this.cmp(e)===0};U.floor=function(){return k(new this.constructor(this),this.e+1,3)};U.greaterThan=U.gt=function(e){return this.cmp(e)>0};U.greaterThanOrEqualTo=U.gte=function(e){var r=this.cmp(e);return r==1||r===0};U.hyperbolicCosine=U.cosh=function(){var e,r,t,n,u,i=this,a=i.constructor,s=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return s;t=a.precision,n=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),r=(1/st(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),i=Mr(a,1,i.times(r),new a(1),!0);for(var f,l=e,h=new a(8);l--;)f=i.times(i),i=s.minus(f.times(h.minus(f.times(h))));return k(i,a.precision=t,a.rounding=n,!0)};U.hyperbolicSine=U.sinh=function(){var e,r,t,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(r=i.precision,t=i.rounding,i.precision=r+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=Mr(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/st(5,e)),u=Mr(i,2,u,u,!0);for(var a,s=new i(5),f=new i(16),l=new i(20);e--;)a=u.times(u),u=u.times(s.plus(a.times(f.times(a).plus(l))))}return i.precision=r,i.rounding=t,k(u,r,t,!0)};U.hyperbolicTangent=U.tanh=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+7,n.rounding=1,ge(t.sinh(),t.cosh(),n.precision=e,n.rounding=r)):new n(t.s)};U.inverseCosine=U.acos=function(){var e,r=this,t=r.constructor,n=r.abs().cmp(1),u=t.precision,i=t.rounding;return n!==-1?n===0?r.isNeg()?er(t,u,i):new t(0):new t(NaN):r.isZero()?er(t,u+4,i).times(.5):(t.precision=u+6,t.rounding=1,r=r.asin(),e=er(t,u+4,i).times(.5),t.precision=u,t.rounding=i,e.minus(r))};U.inverseHyperbolicCosine=U.acosh=function(){var e,r,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(e=n.precision,r=n.rounding,n.precision=e+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,te=!1,t=t.times(t).minus(1).sqrt().plus(t),te=!0,n.precision=e,n.rounding=r,t.ln()):new n(t)};U.inverseHyperbolicSine=U.asinh=function(){var e,r,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,te=!1,t=t.times(t).plus(1).sqrt().plus(t),te=!0,n.precision=e,n.rounding=r,t.ln())};U.inverseHyperbolicTangent=U.atanh=function(){var e,r,t,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,r=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?k(new i(u),e,r,!0):(i.precision=t=n-u.e,u=ge(u.plus(1),new i(1).minus(u),t+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=r,u.times(.5))):new i(NaN)};U.inverseSine=U.asin=function(){var e,r,t,n,u=this,i=u.constructor;return u.isZero()?new i(u):(r=u.abs().cmp(1),t=i.precision,n=i.rounding,r!==-1?r===0?(e=er(i,t+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=t+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=t,i.rounding=n,u.times(2)))};U.inverseTangent=U.atan=function(){var e,r,t,n,u,i,a,s,f,l=this,h=l.constructor,o=h.precision,v=h.rounding;if(l.isFinite()){if(l.isZero())return new h(l);if(l.abs().eq(1)&&o+4<=_t)return a=er(h,o+4,v).times(.25),a.s=l.s,a}else{if(!l.s)return new h(NaN);if(o+4<=_t)return a=er(h,o+4,v).times(.5),a.s=l.s,a}for(h.precision=s=o+10,h.rounding=1,t=Math.min(28,s/ee+2|0),e=t;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(te=!1,r=Math.ceil(s/ee),n=1,f=l.times(l),a=new h(l),u=l;e!==-1;)if(u=u.times(f),i=a.minus(u.div(n+=2)),u=u.times(f),a=i.plus(u.div(n+=2)),a.d[r]!==void 0)for(e=r;a.d[e]===i.d[e]&&e--;);return t&&(a=a.times(2<<t-1)),te=!0,k(a,h.precision=o,h.rounding=v,!0)};U.isFinite=function(){return!!this.d};U.isInteger=U.isInt=function(){return!!this.d&&Pe(this.e/ee)>this.d.length-2};U.isNaN=function(){return!this.s};U.isNegative=U.isNeg=function(){return this.s<0};U.isPositive=U.isPos=function(){return this.s>0};U.isZero=function(){return!!this.d&&this.d[0]===0};U.lessThan=U.lt=function(e){return this.cmp(e)<0};U.lessThanOrEqualTo=U.lte=function(e){return this.cmp(e)<1};U.logarithm=U.log=function(e){var r,t,n,u,i,a,s,f,l=this,h=l.constructor,o=h.precision,v=h.rounding,D=5;if(e==null)e=new h(10),r=!0;else{if(e=new h(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new h(NaN);r=e.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new h(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)i=!0;else{for(u=t[0];u%10===0;)u/=10;i=u!==1}if(te=!1,s=o+D,a=cr(l,s),n=r?kr(h,s+10):cr(e,s),f=ge(a,n,s,1),Or(f.d,u=o,v))do if(s+=10,a=cr(l,s),n=r?kr(h,s+10):cr(e,s),f=ge(a,n,s,1),!i){+Te(f.d).slice(u+1,u+15)+1==1e14&&(f=k(f,o+1,0));break}while(Or(f.d,u+=10,v));return te=!0,k(f,o,v)};U.minus=U.sub=function(e){var r,t,n,u,i,a,s,f,l,h,o,v,D=this,d=D.constructor;if(e=new d(e),!D.d||!e.d)return!D.s||!e.s?e=new d(NaN):D.d?e.s=-e.s:e=new d(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(l=D.d,v=e.d,s=d.precision,f=d.rounding,!l[0]||!v[0]){if(v[0])e.s=-e.s;else if(l[0])e=new d(D);else return new d(f===3?-0:0);return te?k(e,s,f):e}if(t=Pe(e.e/ee),h=Pe(D.e/ee),l=l.slice(),i=h-t,i){for(o=i<0,o?(r=l,i=-i,a=v.length):(r=v,t=h,a=l.length),n=Math.max(Math.ceil(s/ee),a)+2,i>n&&(i=n,r.length=1),r.reverse(),n=i;n--;)r.push(0);r.reverse()}else{for(n=l.length,a=v.length,o=n<a,o&&(a=n),n=0;n<a;n++)if(l[n]!=v[n]){o=l[n]<v[n];break}i=0}for(o&&(r=l,l=v,v=r,e.s=-e.s),a=l.length,n=v.length-a;n>0;--n)l[a++]=0;for(n=v.length;n>i;){if(l[--n]<v[n]){for(u=n;u&&l[--u]===0;)l[u]=rr-1;--l[u],l[n]+=rr}l[n]-=v[n]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(e.d=l,e.e=ot(l,t),te?k(e,s,f):e):new d(f===3?-0:0)};U.modulo=U.mod=function(e){var r,t=this,n=t.constructor;return e=new n(e),!t.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||t.d&&!t.d[0]?k(new n(t),n.precision,n.rounding):(te=!1,n.modulo==9?(r=ge(t,e.abs(),0,3,1),r.s*=e.s):r=ge(t,e,0,n.modulo,1),r=r.times(e),te=!0,t.minus(r))};U.naturalExponential=U.exp=function(){return St(this)};U.naturalLogarithm=U.ln=function(){return cr(this)};U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s,k(e)};U.plus=U.add=function(e){var r,t,n,u,i,a,s,f,l,h,o=this,v=o.constructor;if(e=new v(e),!o.d||!e.d)return!o.s||!e.s?e=new v(NaN):o.d||(e=new v(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(l=o.d,h=e.d,s=v.precision,f=v.rounding,!l[0]||!h[0])return h[0]||(e=new v(o)),te?k(e,s,f):e;if(i=Pe(o.e/ee),n=Pe(e.e/ee),l=l.slice(),u=i-n,u){for(u<0?(t=l,u=-u,a=h.length):(t=h,n=i,a=l.length),i=Math.ceil(s/ee),a=i>a?i+1:a+1,u>a&&(u=a,t.length=1),t.reverse();u--;)t.push(0);t.reverse()}for(a=l.length,u=h.length,a-u<0&&(u=a,t=h,h=l,l=t),r=0;u;)r=(l[--u]=l[u]+h[u]+r)/rr|0,l[u]%=rr;for(r&&(l.unshift(r),++n),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=ot(l,n),te?k(e,s,f):e};U.precision=U.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vr+e);return t.d?(r=Yn(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};U.round=function(){var e=this,r=e.constructor;return k(new r(e),e.e+1,r.rounding)};U.sine=U.sin=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+ee,n.rounding=1,t=ca(n,Qn(n,t)),n.precision=e,n.rounding=r,k(ar>2?t.neg():t,e,r,!0)):new n(NaN)};U.squareRoot=U.sqrt=function(){var e,r,t,n,u,i,a=this,s=a.d,f=a.e,l=a.s,h=a.constructor;if(l!==1||!s||!s[0])return new h(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(te=!1,l=Math.sqrt(+a),l==0||l==1/0?(r=Te(s),(r.length+f)%2==0&&(r+="0"),l=Math.sqrt(r),f=Pe((f+1)/2)-(f<0||f%2),l==1/0?r="5e"+f:(r=l.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),n=new h(r)):n=new h(l.toString()),t=(f=h.precision)+3;;)if(i=n,n=i.plus(ge(a,i,t+2,1)).times(.5),Te(i.d).slice(0,t)===(r=Te(n.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!u&&r=="4999"){if(!u&&(k(i,f+1,0),i.times(i).eq(a))){n=i;break}t+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(k(n,f+1,1),e=!n.times(n).eq(a));break}return te=!0,k(n,f,h.rounding,e)};U.tangent=U.tan=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+10,n.rounding=1,t=t.sin(),t.s=1,t=ge(t,new n(1).minus(t.times(t)).sqrt(),e+10,0),n.precision=e,n.rounding=r,k(ar==2||ar==4?t.neg():t,e,r,!0)):new n(NaN)};U.times=U.mul=function(e){var r,t,n,u,i,a,s,f,l,h=this,o=h.constructor,v=h.d,D=(e=new o(e)).d;if(e.s*=h.s,!v||!v[0]||!D||!D[0])return new o(!e.s||v&&!v[0]&&!D||D&&!D[0]&&!v?NaN:!v||!D?e.s/0:e.s*0);for(t=Pe(h.e/ee)+Pe(e.e/ee),f=v.length,l=D.length,f<l&&(i=v,v=D,D=i,a=f,f=l,l=a),i=[],a=f+l,n=a;n--;)i.push(0);for(n=l;--n>=0;){for(r=0,u=f+n;u>n;)s=i[u]+D[n]*v[u-n-1]+r,i[u--]=s%rr|0,r=s/rr|0;i[u]=(i[u]+r)%rr|0}for(;!i[--a];)i.pop();return r?++t:i.shift(),e.d=i,e.e=ot(i,t),te?k(e,o.precision,o.rounding):e};U.toBinary=function(e,r){return zt(this,2,e,r)};U.toDecimalPlaces=U.toDP=function(e,r){var t=this,n=t.constructor;return t=new n(t),e===void 0?t:(Ve(e,0,Dr),r===void 0?r=n.rounding:Ve(r,0,8),k(t,e+t.e+1,r))};U.toExponential=function(e,r){var t,n=this,u=n.constructor;return e===void 0?t=ur(n,!0):(Ve(e,0,Dr),r===void 0?r=u.rounding:Ve(r,0,8),n=k(new u(n),e+1,r),t=ur(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};U.toFixed=function(e,r){var t,n,u=this,i=u.constructor;return e===void 0?t=ur(u):(Ve(e,0,Dr),r===void 0?r=i.rounding:Ve(r,0,8),n=k(new i(u),e+u.e+1,r),t=ur(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+t:t};U.toFraction=function(e){var r,t,n,u,i,a,s,f,l,h,o,v,D=this,d=D.d,c=D.constructor;if(!d)return new c(D);if(l=t=new c(1),n=f=new c(0),r=new c(n),i=r.e=Yn(d)-D.e-1,a=i%ee,r.d[0]=Se(10,a<0?ee+a:a),e==null)e=i>0?r:l;else{if(s=new c(e),!s.isInt()||s.lt(l))throw Error(vr+s);e=s.gt(r)?i>0?r:l:s}for(te=!1,s=new c(Te(d)),h=c.precision,c.precision=i=d.length*ee*2;o=ge(s,r,0,1,1),u=t.plus(o.times(n)),u.cmp(e)!=1;)t=n,n=u,u=l,l=f.plus(o.times(u)),f=u,u=r,r=s.minus(o.times(u)),s=u;return u=ge(e.minus(t),n,0,1,1),f=f.plus(u.times(l)),t=t.plus(u.times(n)),f.s=l.s=D.s,v=ge(l,n,i,1).minus(D).abs().cmp(ge(f,t,i,1).minus(D).abs())<1?[l,n]:[f,t],c.precision=h,te=!0,v};U.toHexadecimal=U.toHex=function(e,r){return zt(this,16,e,r)};U.toNearest=function(e,r){var t=this,n=t.constructor;if(t=new n(t),e==null){if(!t.d)return t;e=new n(1),r=n.rounding}else{if(e=new n(e),r===void 0?r=n.rounding:Ve(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(te=!1,t=ge(t,e,0,r,1).times(e),te=!0,k(t)):(e.s=t.s,t=e),t};U.toNumber=function(){return+this};U.toOctal=function(e,r){return zt(this,8,e,r)};U.toPower=U.pow=function(e){var r,t,n,u,i,a,s=this,f=s.constructor,l=+(e=new f(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new f(Se(+s,l));if(s=new f(s),s.eq(1))return s;if(n=f.precision,i=f.rounding,e.eq(1))return k(s,n,i);if(r=Pe(e.e/ee),r>=e.d.length-1&&(t=l<0?-l:l)<=aa)return u=Gn(f,s,t,n),e.s<0?new f(1).div(u):k(u,n,i);if(a=s.s,a<0){if(r<e.d.length-1)return new f(NaN);if((e.d[r]&1)==0&&(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return t=Se(+s,l),r=t==0||!isFinite(t)?Pe(l*(Math.log("0."+Te(s.d))/Math.LN10+s.e+1)):new f(t+"").e,r>f.maxE+1||r<f.minE-1?new f(r>0?a/0:0):(te=!1,f.rounding=s.s=1,t=Math.min(12,(r+"").length),u=St(e.times(cr(s,n+t)),n),u.d&&(u=k(u,n+5,1),Or(u.d,n,i)&&(r=n+10,u=k(St(e.times(cr(s,r+t)),r),r+5,1),+Te(u.d).slice(n+1,n+15)+1==1e14&&(u=k(u,n+1,0)))),u.s=a,te=!0,f.rounding=i,k(u,n,i))};U.toPrecision=function(e,r){var t,n=this,u=n.constructor;return e===void 0?t=ur(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Ve(e,1,Dr),r===void 0?r=u.rounding:Ve(r,0,8),n=k(new u(n),e,r),t=ur(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+t:t};U.toSignificantDigits=U.toSD=function(e,r){var t=this,n=t.constructor;return e===void 0?(e=n.precision,r=n.rounding):(Ve(e,1,Dr),r===void 0?r=n.rounding:Ve(r,0,8)),k(new n(t),e,r)};U.toString=function(){var e=this,r=e.constructor,t=ur(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};U.truncated=U.trunc=function(){return k(new this.constructor(this),this.e+1,1)};U.valueOf=U.toJSON=function(){var e=this,r=e.constructor,t=ur(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Te(e){var r,t,n,u=e.length-1,i="",a=e[0];if(u>0){for(i+=a,r=1;r<u;r++)n=e[r]+"",t=ee-n.length,t&&(i+=sr(t)),i+=n;a=e[r],n=a+"",t=ee-n.length,t&&(i+=sr(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}function Ve(e,r,t){if(e!==~~e||e<r||e>t)throw Error(vr+e)}function Or(e,r,t,n){var u,i,a,s;for(i=e[0];i>=10;i/=10)--r;return--r<0?(r+=ee,u=0):(u=Math.ceil((r+1)/ee),r%=ee),i=Se(10,ee-r),s=e[u]%i|0,n==null?r<3?(r==0?s=s/100|0:r==1&&(s=s/10|0),a=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):a=(t<4&&s+1==i||t>3&&s+1==i/2)&&(e[u+1]/i/100|0)==Se(10,r-2)-1||(s==i/2||s==0)&&(e[u+1]/i/100|0)==0:r<4?(r==0?s=s/1e3|0:r==1?s=s/100|0:r==2&&(s=s/10|0),a=(n||t<4)&&s==9999||!n&&t>3&&s==4999):a=((n||t<4)&&s+1==i||!n&&t>3&&s+1==i/2)&&(e[u+1]/i/1e3|0)==Se(10,r-3)-1,a}function Jr(e,r,t){for(var n,u=[0],i,a=0,s=e.length;a<s;){for(i=u.length;i--;)u[i]*=r;for(u[0]+=Et.indexOf(e.charAt(a++)),n=0;n<u.length;n++)u[n]>t-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/t|0,u[n]%=t)}return u.reverse()}function sa(e,r){var t,n,u;if(r.isZero())return r;n=r.d.length,n<32?(t=Math.ceil(n/3),u=(1/st(4,t)).toString()):(t=16,u="2.3283064365386962890625e-10"),e.precision+=t,r=Mr(e,1,r.times(u),new e(1));for(var i=t;i--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return e.precision-=t,r}var ge=function(){function e(n,u,i){var a,s=0,f=n.length;for(n=n.slice();f--;)a=n[f]*u+s,n[f]=a%i|0,s=a/i|0;return s&&n.unshift(s),n}function r(n,u,i,a){var s,f;if(i!=a)f=i>a?1:-1;else for(s=f=0;s<i;s++)if(n[s]!=u[s]){f=n[s]>u[s]?1:-1;break}return f}function t(n,u,i,a){for(var s=0;i--;)n[i]-=s,s=n[i]<u[i]?1:0,n[i]=s*a+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,a,s,f){var l,h,o,v,D,d,c,m,w,y,g,A,F,p,_,E,C,B,M,N,q=n.constructor,O=n.s==u.s?1:-1,P=n.d,x=u.d;if(!P||!P[0]||!x||!x[0])return new q(!n.s||!u.s||(P?x&&P[0]==x[0]:!x)?NaN:P&&P[0]==0||!x?O*0:O/0);for(f?(D=1,h=n.e-u.e):(f=rr,D=ee,h=Pe(n.e/D)-Pe(u.e/D)),M=x.length,C=P.length,w=new q(O),y=w.d=[],o=0;x[o]==(P[o]||0);o++);if(x[o]>(P[o]||0)&&h--,i==null?(p=i=q.precision,a=q.rounding):s?p=i+(n.e-u.e)+1:p=i,p<0)y.push(1),d=!0;else{if(p=p/D+2|0,o=0,M==1){for(v=0,x=x[0],p++;(o<C||v)&&p--;o++)_=v*f+(P[o]||0),y[o]=_/x|0,v=_%x|0;d=v||o<C}else{for(v=f/(x[0]+1)|0,v>1&&(x=e(x,v,f),P=e(P,v,f),M=x.length,C=P.length),E=M,g=P.slice(0,M),A=g.length;A<M;)g[A++]=0;N=x.slice(),N.unshift(0),B=x[0],x[1]>=f/2&&++B;do v=0,l=r(x,g,M,A),l<0?(F=g[0],M!=A&&(F=F*f+(g[1]||0)),v=F/B|0,v>1?(v>=f&&(v=f-1),c=e(x,v,f),m=c.length,A=g.length,l=r(c,g,m,A),l==1&&(v--,t(c,M<m?N:x,m,f))):(v==0&&(l=v=1),c=x.slice()),m=c.length,m<A&&c.unshift(0),t(g,c,A,f),l==-1&&(A=g.length,l=r(x,g,M,A),l<1&&(v++,t(g,M<A?N:x,A,f))),A=g.length):l===0&&(v++,g=[0]),y[o++]=v,l&&g[0]?g[A++]=P[E]||0:(g=[P[E]],A=1);while((E++<C||g[0]!==void 0)&&p--);d=g[0]!==void 0}y[0]||y.shift()}if(D==1)w.e=h,Ln=d;else{for(o=1,v=y[0];v>=10;v/=10)o++;w.e=o+h*D-1,k(w,s?i+w.e+1:i,a,d)}return w}}();function k(e,r,t,n){var u,i,a,s,f,l,h,o,v,D=e.constructor;e:if(r!=null){if(o=e.d,!o)return e;for(u=1,s=o[0];s>=10;s/=10)u++;if(i=r-u,i<0)i+=ee,a=r,h=o[v=0],f=h/Se(10,u-a-1)%10|0;else if(v=Math.ceil((i+1)/ee),s=o.length,v>=s)if(n){for(;s++<=v;)o.push(0);h=f=0,u=1,i%=ee,a=i-ee+1}else break e;else{for(h=s=o[v],u=1;s>=10;s/=10)u++;i%=ee,a=i-ee+u,f=a<0?0:h/Se(10,u-a-1)%10|0}if(n=n||r<0||o[v+1]!==void 0||(a<0?h:h%Se(10,u-a-1)),l=t<4?(f||n)&&(t==0||t==(e.s<0?3:2)):f>5||f==5&&(t==4||n||t==6&&(i>0?a>0?h/Se(10,u-a):0:o[v-1])%10&1||t==(e.s<0?8:7)),r<1||!o[0])return o.length=0,l?(r-=e.e+1,o[0]=Se(10,(ee-r%ee)%ee),e.e=-r||0):o[0]=e.e=0,e;if(i==0?(o.length=v,s=1,v--):(o.length=v+1,s=Se(10,ee-i),o[v]=a>0?(h/Se(10,u-a)%Se(10,a)|0)*s:0),l)for(;;)if(v==0){for(i=1,a=o[0];a>=10;a/=10)i++;for(a=o[0]+=s,s=1;a>=10;a/=10)s++;i!=s&&(e.e++,o[0]==rr&&(o[0]=1));break}else{if(o[v]+=s,o[v]!=rr)break;o[v--]=0,s=1}for(i=o.length;o[--i]===0;)o.pop()}return te&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function ur(e,r,t){if(!e.isFinite())return Kn(e);var n,u=e.e,i=Te(e.d),a=i.length;return r?(t&&(n=t-a)>0?i=i.charAt(0)+"."+i.slice(1)+sr(n):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+sr(-u-1)+i,t&&(n=t-a)>0&&(i+=sr(n))):u>=a?(i+=sr(u+1-a),t&&(n=t-u-1)>0&&(i=i+"."+sr(n))):((n=u+1)<a&&(i=i.slice(0,n)+"."+i.slice(n)),t&&(n=t-a)>0&&(u+1===a&&(i+="."),i+=sr(n))),i}function ot(e,r){var t=e[0];for(r*=ee;t>=10;t/=10)r++;return r}function kr(e,r,t){if(r>oa)throw te=!0,t&&(e.precision=t),Error(Zn);return k(new e(Qr),r,1,!0)}function er(e,r,t){if(r>_t)throw Error(Zn);return k(new e(Wr),r,t,!0)}function Yn(e){var r=e.length-1,t=r*ee+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function sr(e){for(var r="";e--;)r+="0";return r}function Gn(e,r,t,n){var u,i=new e(1),a=Math.ceil(n/ee+4);for(te=!1;;){if(t%2&&(i=i.times(r),kt(i.d,a)&&(u=!0)),t=Pe(t/2),t===0){t=i.d.length-1,u&&i.d[t]===0&&++i.d[t];break}r=r.times(r),kt(r.d,a)}return te=!0,i}function Wt(e){return e.d[e.d.length-1]&1}function Xn(e,r,t){for(var n,u=new e(r[0]),i=0;++i<r.length;)if(n=new e(r[i]),n.s)u[t](n)&&(u=n);else{u=n;break}return u}function St(e,r){var t,n,u,i,a,s,f,l=0,h=0,o=0,v=e.constructor,D=v.rounding,d=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(te=!1,f=d):f=r,s=new v(.03125);e.e>-2;)e=e.times(s),o+=5;for(n=Math.log(Se(2,o))/Math.LN10*2+5|0,f+=n,t=i=a=new v(1),v.precision=f;;){if(i=k(i.times(e),f,1),t=t.times(++h),s=a.plus(ge(i,t,f,1)),Te(s.d).slice(0,f)===Te(a.d).slice(0,f)){for(u=o;u--;)a=k(a.times(a),f,1);if(r==null)if(l<3&&Or(a.d,f-n,D,l))v.precision=f+=10,t=i=s=new v(1),h=0,l++;else return k(a,v.precision=d,D,te=!0);else return v.precision=d,a}a=s}}function cr(e,r){var t,n,u,i,a,s,f,l,h,o,v,D=1,d=10,c=e,m=c.d,w=c.constructor,y=w.rounding,g=w.precision;if(c.s<0||!m||!m[0]||!c.e&&m[0]==1&&m.length==1)return new w(m&&!m[0]?-1/0:c.s!=1?NaN:m?0:c);if(r==null?(te=!1,h=g):h=r,w.precision=h+=d,t=Te(m),n=t.charAt(0),Math.abs(i=c.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)c=c.times(e),t=Te(c.d),n=t.charAt(0),D++;i=c.e,n>1?(c=new w("0."+t),i++):c=new w(n+"."+t.slice(1))}else return l=kr(w,h+2,g).times(i+""),c=cr(new w(n+"."+t.slice(1)),h-d).plus(l),w.precision=g,r==null?k(c,g,y,te=!0):c;for(o=c,f=a=c=ge(c.minus(1),c.plus(1),h,1),v=k(c.times(c),h,1),u=3;;){if(a=k(a.times(v),h,1),l=f.plus(ge(a,new w(u),h,1)),Te(l.d).slice(0,h)===Te(f.d).slice(0,h))if(f=f.times(2),i!==0&&(f=f.plus(kr(w,h+2,g).times(i+""))),f=ge(f,new w(D),h,1),r==null)if(Or(f.d,h-d,y,s))w.precision=h+=d,l=a=c=ge(o.minus(1),o.plus(1),h,1),v=k(c.times(c),h,1),u=s=1;else return k(f,w.precision=g,y,te=!0);else return w.precision=g,f;f=l,u+=2}}function Kn(e){return String(e.s*e.s/0)}function Bt(e,r){var t,n,u;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),n=0;r.charCodeAt(n)===48;n++);for(u=r.length;r.charCodeAt(u-1)===48;--u);if(r=r.slice(n,u),r){if(u-=n,e.e=t=t-n-1,e.d=[],n=(t+1)%ee,t<0&&(n+=ee),n<u){for(n&&e.d.push(+r.slice(0,n)),u-=ee;n<u;)e.d.push(+r.slice(n,n+=ee));r=r.slice(n),n=ee-r.length}else n-=u;for(;n--;)r+="0";e.d.push(+r),te&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function fa(e,r){var t,n,u,i,a,s,f,l,h;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Jn.test(r))return Bt(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(ua.test(r))t=16,r=r.toLowerCase();else if(na.test(r))t=2;else if(ia.test(r))t=8;else throw Error(vr+r);for(i=r.search(/p/i),i>0?(f=+r.slice(i+1),r=r.substring(2,i)):r=r.slice(2),i=r.indexOf("."),a=i>=0,n=e.constructor,a&&(r=r.replace(".",""),s=r.length,i=s-i,u=Gn(n,new n(t),i,i*2)),l=Jr(r,t,rr),h=l.length-1,i=h;l[i]===0;--i)l.pop();return i<0?new n(e.s*0):(e.e=ot(l,h),e.d=l,te=!1,a&&(e=ge(e,u,s*4)),f&&(e=e.times(Math.abs(f)<54?Se(2,f):br.pow(2,f))),te=!0,e)}function ca(e,r){var t,n=r.d.length;if(n<3)return r.isZero()?r:Mr(e,2,r,r);t=1.4*Math.sqrt(n),t=t>16?16:t|0,r=r.times(1/st(5,t)),r=Mr(e,2,r,r);for(var u,i=new e(5),a=new e(16),s=new e(20);t--;)u=r.times(r),r=r.times(i.plus(u.times(a.times(u).minus(s))));return r}function Mr(e,r,t,n,u){var i,a,s,f,l=e.precision,h=Math.ceil(l/ee);for(te=!1,f=t.times(t),s=new e(n);;){if(a=ge(s.times(f),new e(r++*r++),l,1),s=u?n.plus(a):n.minus(a),n=ge(a.times(f),new e(r++*r++),l,1),a=s.plus(n),a.d[h]!==void 0){for(i=h;a.d[i]===s.d[i]&&i--;);if(i==-1)break}i=s,s=n,n=a,a=i}return te=!0,a.d.length=h+1,a}function st(e,r){for(var t=e;--r;)t*=e;return t}function Qn(e,r){var t,n=r.s<0,u=er(e,e.precision,1),i=u.times(.5);if(r=r.abs(),r.lte(i))return ar=n?4:1,r;if(t=r.divToInt(u),t.isZero())ar=n?3:2;else{if(r=r.minus(t.times(u)),r.lte(i))return ar=Wt(t)?n?2:3:n?4:1,r;ar=Wt(t)?n?1:4:n?3:2}return r.minus(u).abs()}function zt(e,r,t,n){var u,i,a,s,f,l,h,o,v,D=e.constructor,d=t!==void 0;if(d?(Ve(t,1,Dr),n===void 0?n=D.rounding:Ve(n,0,8)):(t=D.precision,n=D.rounding),!e.isFinite())h=Kn(e);else{for(h=ur(e),a=h.indexOf("."),d?(u=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):u=r,a>=0&&(h=h.replace(".",""),v=new D(1),v.e=h.length-a,v.d=Jr(ur(v),10,u),v.e=v.d.length),o=Jr(h,10,u),i=f=o.length;o[--f]==0;)o.pop();if(!o[0])h=d?"0p+0":"0";else{if(a<0?i--:(e=new D(e),e.d=o,e.e=i,e=ge(e,v,t,n,0,u),o=e.d,i=e.e,l=Ln),a=o[t],s=u/2,l=l||o[t+1]!==void 0,l=n<4?(a!==void 0||l)&&(n===0||n===(e.s<0?3:2)):a>s||a===s&&(n===4||l||n===6&&o[t-1]&1||n===(e.s<0?8:7)),o.length=t,l)for(;++o[--t]>u-1;)o[t]=0,t||(++i,o.unshift(1));for(f=o.length;!o[f-1];--f);for(a=0,h="";a<f;a++)h+=Et.charAt(o[a]);if(d){if(f>1)if(r==16||r==8){for(a=r==16?4:3,--f;f%a;f++)h+="0";for(o=Jr(h,u,r),f=o.length;!o[f-1];--f);for(a=1,h="1.";a<f;a++)h+=Et.charAt(o[a])}else h=h.charAt(0)+"."+h.slice(1);h=h+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)h="0"+h;h="0."+h}else if(++i>f)for(i-=f;i--;)h+="0";else i<f&&(h=h.slice(0,i)+"."+h.slice(i))}h=(r==16?"0x":r==2?"0b":r==8?"0o":"")+h}return e.s<0?"-"+h:h}function kt(e,r){if(e.length>r)return e.length=r,!0}function la(e){return new this(e).abs()}function ha(e){return new this(e).acos()}function va(e){return new this(e).acosh()}function Da(e,r){return new this(e).plus(r)}function pa(e){return new this(e).asin()}function da(e){return new this(e).asinh()}function ma(e){return new this(e).atan()}function ga(e){return new this(e).atanh()}function wa(e,r){e=new this(e),r=new this(r);var t,n=this.precision,u=this.rounding,i=n+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=er(this,i,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?er(this,n,u):new this(0),t.s=e.s):!e.d||r.isZero()?(t=er(this,i,1).times(.5),t.s=e.s):r.s<0?(this.precision=i,this.rounding=1,t=this.atan(ge(e,r,i,1)),r=er(this,i,1),this.precision=n,this.rounding=u,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(ge(e,r,i,1)),t}function Fa(e){return new this(e).cbrt()}function ya(e){return k(e=new this(e),e.e+1,2)}function Aa(e,r,t){return new this(e).clamp(r,t)}function Ea(e){if(!e||typeof e!="object")throw Error(at+"Object expected");var r,t,n,u=e.defaults===!0,i=["precision",1,Dr,"rounding",0,8,"toExpNeg",-Sr,0,"toExpPos",0,Sr,"maxE",0,Sr,"minE",-Sr,0,"modulo",0,9];for(r=0;r<i.length;r+=3)if(t=i[r],u&&(this[t]=Ct[t]),(n=e[t])!==void 0)if(Pe(n)===n&&n>=i[r+1]&&n<=i[r+2])this[t]=n;else throw Error(vr+t+": "+n);if(t="crypto",u&&(this[t]=Ct[t]),(n=e[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Vn);else this[t]=!1;else throw Error(vr+t+": "+n);return this}function Ca(e){return new this(e).cos()}function _a(e){return new this(e).cosh()}function Wn(e){var r,t,n;function u(i){var a,s,f,l=this;if(!(l instanceof u))return new u(i);if(l.constructor=u,jt(i)){l.s=i.s,te?!i.d||i.e>u.maxE?(l.e=NaN,l.d=null):i.e<u.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(f=typeof i,f==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(a=0,s=i;s>=10;s/=10)a++;te?a>u.maxE?(l.e=NaN,l.d=null):a<u.minE?(l.e=0,l.d=[0]):(l.e=a,l.d=[i]):(l.e=a,l.d=[i]);return}else if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return Bt(l,i.toString())}else if(f!=="string")throw Error(vr+i);return(s=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(s===43&&(i=i.slice(1)),l.s=1),Jn.test(i)?Bt(l,i):fa(l,i)}if(u.prototype=U,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Ea,u.clone=Wn,u.isDecimal=jt,u.abs=la,u.acos=ha,u.acosh=va,u.add=Da,u.asin=pa,u.asinh=da,u.atan=ma,u.atanh=ga,u.atan2=wa,u.cbrt=Fa,u.ceil=ya,u.clamp=Aa,u.cos=Ca,u.cosh=_a,u.div=Sa,u.exp=Ba,u.floor=Ma,u.hypot=ba,u.ln=xa,u.log=Na,u.log10=za,u.log2=Ta,u.max=Oa,u.min=Ia,u.mod=Pa,u.mul=$a,u.pow=qa,u.random=Ra,u.round=Ua,u.sign=La,u.sin=Za,u.sinh=Va,u.sqrt=Ha,u.sub=Ja,u.sum=Ya,u.tan=Ga,u.tanh=Xa,u.trunc=Ka,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)e.hasOwnProperty(t=n[r++])||(e[t]=this[t]);return u.config(e),u}function Sa(e,r){return new this(e).div(r)}function Ba(e){return new this(e).exp()}function Ma(e){return k(e=new this(e),e.e+1,3)}function ba(){var e,r,t=new this(0);for(te=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return te=!0,new this(1/0);t=r}return te=!0,t.sqrt()}function jt(e){return e instanceof br||e&&e.toStringTag===Hn||!1}function xa(e){return new this(e).ln()}function Na(e,r){return new this(e).log(r)}function Ta(e){return new this(e).log(2)}function za(e){return new this(e).log(10)}function Oa(){return Xn(this,arguments,"lt")}function Ia(){return Xn(this,arguments,"gt")}function Pa(e,r){return new this(e).mod(r)}function $a(e,r){return new this(e).mul(r)}function qa(e,r){return new this(e).pow(r)}function Ra(e){var r,t,n,u,i=0,a=new this(1),s=[];if(e===void 0?e=this.precision:Ve(e,1,Dr),n=Math.ceil(e/ee),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));i<n;)u=r[i],u>=429e7?r[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=u%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(n*=4);i<n;)u=r[i]+(r[i+1]<<8)+(r[i+2]<<16)+((r[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(r,i):(s.push(u%1e7),i+=4);i=n/4}else throw Error(Vn);else for(;i<n;)s[i++]=Math.random()*1e7|0;for(n=s[--i],e%=ee,n&&e&&(u=Se(10,ee-e),s[i]=(n/u|0)*u);s[i]===0;i--)s.pop();if(i<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=ee)s.shift();for(n=1,u=s[0];u>=10;u/=10)n++;n<ee&&(t-=ee-n)}return a.e=t,a.d=s,a}function Ua(e){return k(e=new this(e),e.e+1,this.rounding)}function La(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Za(e){return new this(e).sin()}function Va(e){return new this(e).sinh()}function Ha(e){return new this(e).sqrt()}function Ja(e,r){return new this(e).sub(r)}function Ya(){var e=0,r=arguments,t=new this(r[e]);for(te=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return te=!0,k(t,this.precision,this.rounding)}function Ga(e){return new this(e).tan()}function Xa(e){return new this(e).tanh()}function Ka(e){return k(e=new this(e),e.e+1,1)}U[Symbol.for("nodejs.util.inspect.custom")]=U.toString;U[Symbol.toStringTag]="Decimal";var br=U.constructor=Wn(Ct);Qr=new br(Qr);Wr=new br(Wr);var Qa="BigNumber",Wa=["?on","config"],ka=Q(Qa,Wa,e=>{var{on:r,config:t}=e,n=br.clone({precision:t.precision,modulo:br.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},r&&r("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const Ie=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Je=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},ja=function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const t=e*e;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},wt=function(e,r){return e=Math.abs(e),r=Math.abs(r),e<r&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},_r=function(){throw SyntaxError("Invalid Param")};function Ft(e,r){const t=Math.abs(e),n=Math.abs(r);return e===0?Math.log(n):r===0?Math.log(t):t<3e3&&n<3e3?Math.log(e*e+r*r)*.5:(e=e*.5,r=r*.5,.5*Math.log(e*e+r*r)+Math.LN2)}const eo={re:0,im:0},mr=function(e,r){const t=eo;if(e==null)t.re=t.im=0;else if(r!==void 0)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return I.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return I.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else e.length===2?(t.re=e[0],t.im=e[1]):_r();break;case"string":t.im=t.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&_r();for(let a=0;a<n.length;a++){const s=n[a];s===" "||s==="	"||s===`
`||(s==="+"?u++:s==="-"?i++:s==="i"||s==="I"?(u+i===0&&_r(),n[a+1]!==" "&&!isNaN(n[a+1])?(t.im+=parseFloat((i%2?"-":"")+n[a+1]),a++):t.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(s))&&_r(),n[a+1]==="i"||n[a+1]==="I"?(t.im+=parseFloat((i%2?"-":"")+s),a++):t.re+=parseFloat((i%2?"-":"")+s),u=i=0))}u+i>0&&_r();break;case"number":t.im=0,t.re=e;break;default:_r()}return isNaN(t.re)||isNaN(t.im),t};function I(e,r){if(!(this instanceof I))return new I(e,r);const t=mr(e,r);this.re=t.re,this.im=t.im}I.prototype={re:0,im:0,sign:function(){const e=wt(this.re,this.im);return new I(this.re/e,this.im/e)},add:function(e,r){const t=mr(e,r),n=this.isInfinite(),u=!(isFinite(t.re)&&isFinite(t.im));return n||u?n&&u?I.NAN:I.INFINITY:new I(this.re+t.re,this.im+t.im)},sub:function(e,r){const t=mr(e,r),n=this.isInfinite(),u=!(isFinite(t.re)&&isFinite(t.im));return n||u?n&&u?I.NAN:I.INFINITY:new I(this.re-t.re,this.im-t.im)},mul:function(e,r){const t=mr(e,r),n=this.isInfinite(),u=!(isFinite(t.re)&&isFinite(t.im)),i=this.re===0&&this.im===0,a=t.re===0&&t.im===0;return n&&a||u&&i?I.NAN:n||u?I.INFINITY:t.im===0&&this.im===0?new I(this.re*t.re,0):new I(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){const t=mr(e,r),n=this.isInfinite(),u=!(isFinite(t.re)&&isFinite(t.im)),i=this.re===0&&this.im===0,a=t.re===0&&t.im===0;if(i&&a||n&&u)return I.NAN;if(a||n)return I.INFINITY;if(i||u)return I.ZERO;if(t.im===0)return new I(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const s=t.re/t.im,f=t.re*s+t.im;return new I((this.re*s+this.im)/f,(this.im*s-this.re)/f)}else{const s=t.im/t.re,f=t.im*s+t.re;return new I((this.re+this.im*s)/f,(this.im-this.re*s)/f)}},pow:function(e,r){const t=mr(e,r),n=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return I.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new I(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new I(Math.pow(this.im,t.re),0);case 1:return new I(0,Math.pow(this.im,t.re));case 2:return new I(-Math.pow(this.im,t.re),0);case 3:return new I(0,-Math.pow(this.im,t.re))}}if(n&&t.re>0)return I.ZERO;const i=Math.atan2(this.im,this.re),a=Ft(this.re,this.im);let s=Math.exp(t.re*a-t.im*i),f=t.im*a+t.re*i;return new I(s*Math.cos(f),s*Math.sin(f))},sqrt:function(){const e=this.re,r=this.im;if(r===0)return e>=0?new I(Math.sqrt(e),0):new I(0,Math.sqrt(-e));const t=wt(e,r);let n=Math.sqrt(.5*(t+Math.abs(e))),u=Math.abs(r)/(2*n);return e>=0?new I(n,r<0?-u:u):new I(u,r<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new I(e,0):new I(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,r=this.im;return new I(Math.expm1(e)*Math.cos(r)+ja(r),Math.exp(e)*Math.sin(r))},log:function(){const e=this.re,r=this.im;return r===0&&e>0?new I(Math.log(e),0):new I(Ft(e,r),Math.atan2(r,e))},abs:function(){return wt(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,r=this.im;return new I(Math.sin(e)*Ie(r),Math.cos(e)*Je(r))},cos:function(){const e=this.re,r=this.im;return new I(Math.cos(e)*Ie(r),-Math.sin(e)*Je(r))},tan:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)+Ie(r);return new I(Math.sin(e)/t,Je(r)/t)},cot:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)-Ie(r);return new I(-Math.sin(e)/t,Je(r)/t)},sec:function(){const e=this.re,r=this.im,t=.5*Ie(2*r)+.5*Math.cos(2*e);return new I(Math.cos(e)*Ie(r)/t,Math.sin(e)*Je(r)/t)},csc:function(){const e=this.re,r=this.im,t=.5*Ie(2*r)-.5*Math.cos(2*e);return new I(Math.sin(e)*Ie(r)/t,-Math.cos(e)*Je(r)/t)},asin:function(){const e=this.re,r=this.im,t=new I(r*r-e*e+1,-2*e*r).sqrt(),n=new I(t.re-r,t.im+e).log();return new I(n.im,-n.re)},acos:function(){const e=this.re,r=this.im,t=new I(r*r-e*e+1,-2*e*r).sqrt(),n=new I(t.re-r,t.im+e).log();return new I(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,r=this.im;if(e===0){if(r===1)return new I(0,1/0);if(r===-1)return new I(0,-1/0)}const t=e*e+(1-r)*(1-r),n=new I((1-r*r-e*e)/t,-2*e/t).log();return new I(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,r=this.im;if(r===0)return new I(Math.atan2(1,e),0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).atan():new I(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new I(0,1/0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).acos():new I(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new I(Math.PI/2,1/0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).asin():new I(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){const e=this.re,r=this.im;return new I(Je(e)*Math.cos(r),Ie(e)*Math.sin(r))},cosh:function(){const e=this.re,r=this.im;return new I(Ie(e)*Math.cos(r),Je(e)*Math.sin(r))},tanh:function(){const e=2*this.re,r=2*this.im,t=Ie(e)+Math.cos(r);return new I(Je(e)/t,Math.sin(r)/t)},coth:function(){const e=2*this.re,r=2*this.im,t=Ie(e)-Math.cos(r);return new I(Je(e)/t,-Math.sin(r)/t)},csch:function(){const e=this.re,r=this.im,t=Math.cos(2*r)-Ie(2*e);return new I(-2*Je(e)*Math.cos(r)/t,2*Ie(e)*Math.sin(r)/t)},sech:function(){const e=this.re,r=this.im,t=Math.cos(2*r)+Ie(2*e);return new I(2*Ie(e)*Math.cos(r)/t,-2*Je(e)*Math.sin(r)/t)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r},acosh:function(){const e=this.acos();if(e.im<=0){const r=e.re;e.re=-e.im,e.im=r}else{const r=e.im;e.im=-e.re,e.re=r}return e},atanh:function(){const e=this.re,r=this.im,t=e>1&&r===0,n=1-e,u=1+e,i=n*n+r*r,a=i!==0?new I((u*n-r*r)/i,(r*n+u*r)/i):new I(e!==-1?e/0:0,r!==0?r/0:0),s=a.re;return a.re=Ft(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,t&&(a.im=-a.im),a},acoth:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new I(0,Math.PI/2);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).atanh():new I(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const e=this.re,r=this.im;if(r===0)return new I(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).asinh():new I(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){const e=this.re,r=this.im;if(this.isZero())return I.INFINITY;const t=e*e+r*r;return t!==0?new I(e/t,-r/t).acosh():new I(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return I.INFINITY;if(this.isInfinite())return I.ZERO;const e=this.re,r=this.im,t=e*e+r*r;return new I(e/t,-r/t)},conjugate:function(){return new I(this.re,-this.im)},neg:function(){return new I(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new I(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new I(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new I(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){const t=mr(e,r);return Math.abs(t.re-this.re)<=I.EPSILON&&Math.abs(t.im-this.im)<=I.EPSILON},clone:function(){return new I(this.re,this.im)},toString:function(){let e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<I.EPSILON&&(e=0),Math.abs(r)<I.EPSILON&&(r=0),r===0?t+e:(e!==0?(t+=e,t+=" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),r!==1&&(t+=r),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};I.ZERO=new I(0,0);I.ONE=new I(1,0);I.I=new I(0,1);I.PI=new I(Math.PI,0);I.E=new I(Math.E,0);I.INFINITY=new I(1/0,1/0);I.NAN=new I(NaN,NaN);I.EPSILON=1e-15;var ro="Complex",to=[],no=Q(ro,to,()=>(Object.defineProperty(I,"name",{value:"Complex"}),I.prototype.constructor=I,I.prototype.type="Complex",I.prototype.isComplex=!0,I.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},I.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},I.prototype.format=function(e){var r="",t=this.im,n=this.re,u=At(this.re,e),i=At(this.im,e),a=le(e)?e:e?e.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(n/t)<s&&(n=0),Math.abs(t/n)<s&&(t=0)}return t===0?r=u:n===0?t===1?r="i":t===-1?r="-i":r=i+"i":t<0?t===-1?r=u+" - i":r=u+" - "+i.substring(1)+"i":t===1?r=u+" + i":r=u+" + "+i+"i",r},I.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return I(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(le(t)){if(On(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),le(n))return new I({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},I.prototype.valueOf=I.prototype.toString,I.fromJSON=function(e){return new I(e)},I.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},I),{isClass:!0}),uo="Fraction",io=[],ao=Q(uo,io,()=>(Object.defineProperty(ir,"name",{value:"Fraction"}),ir.prototype.constructor=ir,ir.prototype.type="Fraction",ir.prototype.isFraction=!0,ir.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ir.fromJSON=function(e){return new ir(e)},ir),{isClass:!0}),oo="Matrix",so=[],fo=Q(oo,so,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function yt(e,r,t){var n=e.constructor,u=new n(2),i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Be(t))throw new Error("size must be an integer");if(e.greaterThan(u.pow(t-1).sub(1))||e.lessThan(u.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(t))),i="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(r," not supported "))}}function co(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:u}=qn(r);switch(t){case"fixed":return ho(e,n);case"exponential":return en(e,n);case"engineering":return lo(e,n);case"bin":return yt(e,2,u);case"oct":return yt(e,8,u);case"hex":return yt(e,16,u);case"auto":{var i=rn(r?.lowerExp,-3),a=rn(r?.upperExp,5);if(e.isZero())return"0";var s,f=e.toSignificantDigits(n),l=f.e;return l>=i&&l<a?s=f.toFixed():s=en(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],o=arguments[4];return h!=="."?h+o:o})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function lo(e,r){var t=e.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(r);if(i.includes("e")){var a=e.constructor;i=new a(i).toFixed()}return i+"e"+(t>=0?"+":"")+n.toString()}function en(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function ho(e,r){return e.toFixed(r)}function rn(e,r){return le(e)?e:Ne(e)?e.toNumber():r}function xe(e,r){var t=vo(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function vo(e,r){if(typeof e=="number")return At(e,r);if(Ne(e))return co(e,r);if(Do(e))return!r||r.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return kn(e,r);if(nr(e))return tn(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(n=>tn(n)+": "+xe(e[n],r));return"{"+t.join(", ")+"}"}return String(e)}function tn(e){for(var r=String(e),t="",n=0;n<r.length;){var u=r.charAt(n);t+=u in nn?nn[u]:u,n++}return'"'+t+'"'}var nn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function kn(e,r){if(Array.isArray(e)){for(var t="[",n=e.length,u=0;u<n;u++)u!==0&&(t+=", "),t+=kn(e[u],r);return t+="]",t}else return xe(e,r)}function Do(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function he(e,r,t){if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}he.prototype=new RangeError;he.prototype.constructor=RangeError;he.prototype.name="DimensionError";he.prototype.isDimensionError=!0;function Fr(e,r,t){if(!(this instanceof Fr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Fr.prototype=new RangeError;Fr.prototype.constructor=RangeError;Fr.prototype.name="IndexError";Fr.prototype.isIndexError=!0;function qe(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function jn(e,r,t){var n,u=e.length;if(u!==r[t])throw new he(u,r[t]);if(t<r.length-1){var i=t+1;for(n=0;n<u;n++){var a=e[n];if(!Array.isArray(a))throw new he(r.length-1,r.length,"<");jn(e[n],r,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new he(r.length+1,r.length,">")}function un(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new he(e.length,0)}else jn(e,r,0)}function ye(e,r){if(e!==void 0){if(!le(e)||!Be(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new Fr(e,r)}}function an(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(u){if(!le(u)||!Be(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(r)+")")}),(le(e)||Ne(e))&&(e=[e]);var n=t!==void 0?t:0;return Mt(e,r,0,n),e}function Mt(e,r,t,n){var u,i,a=e.length,s=r[t],f=Math.min(a,s);if(e.length=s,t<r.length-1){var l=t+1;for(u=0;u<f;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),Mt(i,r,l,n);for(u=f;u<s;u++)i=[],e[u]=i,Mt(i,r,l,n)}else{for(u=0;u<f;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=f;u<s;u++)e[u]=n}}function eu(e,r){var t=mo(e,!0),n=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new he(0,n,"!=");r=Ot(r,n);var u=ru(r);if(n!==u)throw new he(u,n,"!=");try{return po(t,r)}catch(i){throw i instanceof he?new he(u,n,"!="):i}}function Ot(e,r){var t=ru(e),n=e.slice(),u=-1,i=e.indexOf(u),a=e.indexOf(u,i+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var s=i>=0,f=r%t===0;if(s)if(f)n[i]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return n}function ru(e){return e.reduce((r,t)=>r*t,1)}function po(e,r){for(var t=e,n,u=r.length-1;u>0;u--){var i=r[u];n=[];for(var a=t.length/i,s=0;s<a;s++)n.push(t.slice(s*i,(s+1)*i));t=n}return t}function tu(e,r,t,n){var u=n||qe(e);if(t)for(var i=0;i<t;i++)e=[e],u.unshift(1);for(e=nu(e,r,0);u.length<r;)u.push(1);return e}function nu(e,r,t){var n,u;if(Array.isArray(e)){var i=t+1;for(n=0,u=e.length;n<u;n++)e[n]=nu(e[n],r,i)}else for(var a=t;a<r;a++)e=[e];return e}function mo(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof r!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var t=[];return r?u(e):n(e),t;function n(i){for(var a=0;a<i.length;a++){var s=i[a];Array.isArray(s)?n(s):t.push(s)}}function u(i){if(Array.isArray(i[0]))for(var a=0;a<i.length;a++)u(i[a]);else for(var s=0;s<i.length;s++)t.push(i[s])}}function It(e,r){for(var t,n=0,u=0;u<e.length;u++){var i=e[u],a=Array.isArray(i);if(u===0&&a&&(n=i.length),a&&i.length!==n)return;var s=a?It(i,r):r(i);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function uu(e,r,t,n){if(n<t){if(e.length!==r.length)throw new he(e.length,r.length);for(var u=[],i=0;i<e.length;i++)u[i]=uu(e[i],r[i],t,n+1);return u}else return e.concat(r)}function iu(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,n){return uu(t,n,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function au(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n=r.map(v=>v.length),u=Math.max(...n),i=new Array(u).fill(null),a=0;a<r.length;a++)for(var s=r[a],f=n[a],l=0;l<f;l++){var h=u-f+l;s[l]>i[h]&&(i[h]=s[l])}for(var o=0;o<r.length;o++)ou(r[o],i);return i}function ou(e,r){for(var t=r.length,n=e.length,u=0;u<n;u++){var i=t-n+u;if(e[u]<r[i]&&e[u]>1||e[u]>r[i])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(r[i]))}}function bt(e,r){var t=qe(e);if(hr(t,r))return e;ou(t,r);var n=au(t,r),u=n.length,i=[...Array(u-t.length).fill(1),...t],a=wo(e);t.length<u&&(a=eu(a,i),t=qe(a));for(var s=0;s<u;s++)t[s]<n[s]&&(a=go(a,n[s],s),t=qe(a));return a}function go(e,r,t){return iu(...Array(r).fill(e),t)}function su(e,r){if(!Array.isArray(e))throw new Error("Array expected");var t=qe(e);if(r.length!==t.length)throw new he(r.length,t.length);for(var n=0;n<r.length;n++)ye(r[n],t[n]);return r.reduce((u,i)=>u[i],e)}function on(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(t)return i(e);var n=[];return u(e,0);function u(a,s){if(Array.isArray(a)){for(var f=a.length,l=Array(f),h=0;h<f;h++)n[s]=h,l[h]=u(a[h],s+1);return l}else return r(a,n.slice(0,s),e)}function i(a){if(Array.isArray(a)){for(var s=a.length,f=Array(s),l=0;l<s;l++)f[l]=i(a[l]);return f}else return r(a)}}function wo(e){return Yr([],e)}function jr(e,r,t,n){if(Kr.isTypedFunction(e)){var u;if(n)u=1;else{var i=(r.isMatrix?r.size():qe(r)).map(()=>0),a=r.isMatrix?r.get(i):su(r,i);u=Ao(e,a,i,r)}var s;if(r.isMatrix&&r.dataType!=="mixed"&&r.dataType!==void 0){var f=Fo(e,u);s=f!==void 0?f:e}else s=e;return u>=1&&u<=3?{isUnary:u===1,fn:function(){for(var h=arguments.length,o=new Array(h),v=0;v<h;v++)o[v]=arguments[v];return sn(s,o.slice(0,u),t,e.name)}}:{isUnary:!1,fn:function(){for(var h=arguments.length,o=new Array(h),v=0;v<h;v++)o[v]=arguments[v];return sn(s,o,t,e.name)}}}return n===void 0?{isUnary:yo(e),fn:e}:{isUnary:n,fn:e}}function Fo(e,r){var t=[];if(Object.entries(e.signatures).forEach(n=>{var[u,i]=n;u.split(",").length===r&&t.push(i)}),t.length===1)return t[0]}function yo(e){if(e.length!==1)return!1;var r=e.toString();if(/arguments/.test(r))return!1;var t=r.match(/\(.*?\)/);return!/\.\.\./.test(t)}function Ao(e,r,t,n){for(var u=[r,t,n],i=3;i>0;i--){var a=u.slice(0,i);if(Kr.resolve(e,a)!==null)return i}}function sn(e,r,t,n){try{return e(...r)}catch(u){Eo(u,r,t,n)}}function Eo(e,r,t,n){var u;if(e instanceof TypeError&&((u=e.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(lr(r[0]))),r.length>=2&&i.push("index: ".concat(lr(r[1]))),r.length>=3&&i.push("array: ".concat(lr(r[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var Co="DenseMatrix",_o=["Matrix","config"],So=Q(Co,_o,e=>{var{Matrix:r,config:t}=e;function n(o,v){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!nr(v))throw new Error("Invalid datatype: "+v);if(Me(o))o.type==="DenseMatrix"?(this._data=Ae(o._data),this._size=Ae(o._size),this._datatype=v||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=v||o._datatype);else if(o&&Ee(o.data)&&Ee(o.size))this._data=o.data,this._size=o.size,un(this._data,this._size),this._datatype=v||o.datatype;else if(Ee(o))this._data=h(o),this._size=qe(this._data),un(this._data,this._size),this._datatype=v;else{if(o)throw new TypeError("Unsupported type of data ("+lr(o)+")");this._data=[],this._size=[0],this._datatype=v}}n.prototype=new r,n.prototype.createDenseMatrix=function(o,v){return new n(o,v)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return It(this._data,lr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(o,v){return new n(o,v)},n.prototype.subset=function(o,v,D){switch(arguments.length){case 1:return u(this,o);case 2:case 3:return a(this,o,v,D);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(o){return su(this._data,o)},n.prototype.set=function(o,v,D){if(!Ee(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new he(o.length,this._size.length,"<");var d,c,m,w=o.map(function(g){return g+1});l(this,w,D);var y=this._data;for(d=0,c=o.length-1;d<c;d++)m=o[d],ye(m,y.length),y=y[m];return m=o[o.length-1],ye(m,y.length),y[m]=v,this};function u(o,v){if(!Nt(v))throw new TypeError("Invalid index");var D=t.legacySubset?v.size().every(F=>F===1):v.isScalar();if(D)return o.get(v.min());var d=v.size();if(d.length!==o._size.length)throw new he(d.length,o._size.length);for(var c=v.min(),m=v.max(),w=0,y=o._size.length;w<y;w++)ye(c[w],o._size[w]),ye(m[w],o._size[w]);var g=new n,A=i(o._data,v);return g._size=A.size,g._datatype=o._datatype,g._data=A.data,t.legacySubset?g.reshape(v.size()):g}function i(o,v){var D=v.size().length-1,d=Array(D);return{data:c(o),size:d.filter(m=>m!==null)};function c(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=v.dimension(w);function g(A,F){return le(A)?F(A):A.map(F).valueOf()}return le(y)?d[w]=null:d[w]=y.size()[0],w<D?g(y,A=>(ye(A,m.length),c(m[A],w+1))):g(y,A=>(ye(A,m.length),m[A]))}}function a(o,v,D,d){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var c=v.size(),m=v.isScalar(),w;if(Me(D)?(w=D.size(),D=D.valueOf()):w=qe(D),m){if(w.length!==0)throw new TypeError("Scalar expected");o.set(v.min(),D,d)}else{if(!hr(w,c)){if(w.length===0)D=bt([D],c);else try{D=bt(D,c)}catch{}w=qe(D)}if(c.length<o._size.length)throw new he(c.length,o._size.length,"<");if(w.length<c.length){for(var y=0,g=0;c[y]===1&&w[y]===1;)y++;for(;c[y]===1;)g++,y++;D=tu(D,c.length,g,w)}if(!hr(c,w))throw new he(c,w,">");var A=v.max().map(function(F){return F+1});l(o,A,d),s(o._data,v,D)}return o}function s(o,v,D){var d=v.size().length-1;c(o,D);function c(m,w){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=v.dimension(y),A=(p,_)=>{ye(p,m.length),c(m[p],w[_[0]],y+1)},F=(p,_)=>{ye(p,m.length),m[p]=w[_[0]]};y<d?le(g)?A(g,[0]):g.forEach(A):le(g)?F(g,[0]):g.forEach(F)}}n.prototype.resize=function(o,v,D){if(!Xr(o))throw new TypeError("Array or Matrix expected");var d=o.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),c=D?this.clone():this;return f(c,d,v)};function f(o,v,D){if(v.length===0){for(var d=o._data;Ee(d);)d=d[0];return d}return o._size=v.slice(0),o._data=an(o._data,o._size,D),o}n.prototype.reshape=function(o,v){var D=v?this.clone():this;D._data=eu(D._data,o);var d=D._size.reduce((c,m)=>c*m);return D._size=Ot(o,d),D};function l(o,v,D){for(var d=o._size.slice(0),c=!1;d.length<v.length;)d.push(0),c=!0;for(var m=0,w=v.length;m<w;m++)v[m]>d[m]&&(d[m]=v[m],c=!0);c&&f(o,d,D)}n.prototype.clone=function(){var o=new n({data:Ae(this._data),size:Ae(this._size),datatype:this._datatype});return o},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,d=D._size.length-1;if(d<0)return D.clone();var c=jr(o,D,"map",v),m=c.fn,w=D.create(void 0,D._datatype);if(w._size=D._size,v||c.isUnary)return w._data=_(D._data),w;if(d===0){for(var y=D.valueOf(),g=Array(y.length),A=0;A<y.length;A++)g[A]=m(y[A],[A],D);return w._data=g,w}var F=[];return w._data=p(D._data),w;function p(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=Array(E.length);if(C<d)for(var M=0;M<E.length;M++)F[C]=M,B[M]=p(E[M],C+1);else for(var N=0;N<E.length;N++)F[C]=N,B[N]=m(E[N],F.slice(),D);return B}function _(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=Array(E.length);if(C<d)for(var M=0;M<E.length;M++)B[M]=_(E[M],C+1);else for(var N=0;N<E.length;N++)B[N]=m(E[N]);return B}},n.prototype.forEach=function(o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,d=D._size.length-1;if(d<0)return;var c=jr(o,D,"map",v),m=c.fn;if(v||c.isUnary){A(D._data);return}if(d===0){for(var w=0;w<D._data.length;w++)m(D._data[w],[w],D);return}var y=[];g(D._data);function g(F){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p<d)for(var _=0;_<F.length;_++)y[p]=_,g(F[_],p+1);else for(var E=0;E<F.length;E++)y[p]=E,m(F[E],y.slice(),D)}function A(F){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p<d)for(var _=0;_<F.length;_++)A(F[_],p+1);else for(var E=0;E<F.length;E++)m(F[E])}},n.prototype[Symbol.iterator]=function*(){var o=this._size.length-1;if(!(o<0)){if(o===0){for(var v=0;v<this._data.length;v++)yield{value:this._data[v],index:[v]};return}for(var D=Array(o+1).fill(0),d=this._size.reduce((g,A)=>g*A,1),c=0;c<d;c++){for(var m=this._data,w=0;w<o;w++)m=m[D[w]];yield{value:m[D[o]],index:D.slice()};for(var y=o;y>=0&&(D[y]++,!(D[y]<this._size[y]));y--)D[y]=0}}},n.prototype.rows=function(){var o=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var d of D)o.push(new n([d],this._datatype));return o},n.prototype.columns=function(){var o=this,v=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,c=function(y){var g=d.map(A=>[A[y]]);v.push(new n(g,o._datatype))},m=0;m<D[1];m++)c(m);return v},n.prototype.toArray=function(){return Ae(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(o){return xe(this._data,o)},n.prototype.toString=function(){return xe(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(o){if(o){if(Ne(o)&&(o=o.toNumber()),!le(o)||!Be(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var v=o>0?o:0,D=o<0?-o:0,d=this._size[0],c=this._size[1],m=Math.min(d-D,c-v),w=[],y=0;y<m;y++)w[y]=this._data[y+D][y+v];return new n({data:w,size:[m],datatype:this._datatype})},n.diagonal=function(o,v,D,d){if(!Ee(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(E){if(Ne(E)&&(E=E.toNumber()),!le(E)||!Be(E)||E<1)throw new Error("Size values must be positive integers");return E}),D){if(Ne(D)&&(D=D.toNumber()),!le(D)||!Be(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var c=D>0?D:0,m=D<0?-D:0,w=o[0],y=o[1],g=Math.min(w-m,y-c),A;if(Ee(v)){if(v.length!==g)throw new Error("Invalid value array length");A=function(C){return v[C]}}else if(Me(v)){var F=v.size();if(F.length!==1||F[0]!==g)throw new Error("Invalid matrix length");A=function(C){return v.get([C])}}else A=function(){return v};d||(d=Ne(A(0))?A(0).mul(0):0);var p=[];if(o.length>0){p=an(p,o,d);for(var _=0;_<g;_++)p[_+m][_+c]=A(_)}return new n({data:p,size:[w,y]})},n.fromJSON=function(o){return new n(o)},n.prototype.swapRows=function(o,v){if(!le(o)||!Be(o)||!le(v)||!Be(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ye(o,this._size[0]),ye(v,this._size[0]),n._swapRows(o,v,this._data),this},n._swapRows=function(o,v,D){var d=D[o];D[o]=D[v],D[v]=d};function h(o){return Me(o)?h(o.valueOf()):Ee(o)?o.map(h):o}return n},{isClass:!0});function yr(e,r,t){if(!t)return Me(e)?e.map(u=>r(u),!1,!0):on(e,r,!0);var n=u=>u===0?u:r(u);return Me(e)?e.map(u=>n(u),!1,!0):on(e,n,!0)}var fn="isInteger",Bo=["typed"],Mo=Q(fn,Bo,e=>{var{typed:r}=e;return r(fn,{number:Be,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":r.referToSelf(t=>n=>yr(n,t))})}),fu="number",Pt="number, number";function cu(e){return Math.abs(e)}cu.signature=fu;function lu(e,r){return e+r}lu.signature=Pt;function hu(e,r){return e-r}hu.signature=Pt;function vu(e,r){return e*r}vu.signature=Pt;function Du(e){return-e}Du.signature=fu;function ft(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||r.isNaN()?!1:!e.isFinite()||!r.isFinite()?e.eq(r):e.eq(r)?!0:e.minus(r).abs().lte(e.constructor.max(e.constructor.max(e.abs(),r.abs()).mul(t),n))}function bo(e,r,t,n){return gr(e.re,r.re,t,n)&&gr(e.im,r.im,t,n)}var ct=Q("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return r.find(t,[n.valueType(),u.valueType()])(n.value,u.value)})}}),et="equalScalar",xo=["typed","config"],No=Q(et,xo,e=>{var{typed:r,config:t}=e,n=ct({typed:r});return r(et,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return gr(i,a,t.relTol,t.absTol)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||ft(i,a,t.relTol,t.absTol)},"bigint, bigint":function(i,a){return i===a},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return bo(i,a,t.relTol,t.absTol)}},n)});Q(et,["typed","config"],e=>{var{typed:r,config:t}=e;return r(et,{"number, number":function(u,i){return gr(u,i,t.relTol,t.absTol)}})});var To="SparseMatrix",zo=["typed","equalScalar","Matrix"],Oo=Q(To,zo,e=>{var{typed:r,equalScalar:t,Matrix:n}=e;function u(c,m){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!nr(m))throw new Error("Invalid datatype: "+m);if(Me(c))i(this,c,m);else if(c&&Ee(c.index)&&Ee(c.ptr)&&Ee(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=m||c.datatype;else if(Ee(c))a(this,c,m);else{if(c)throw new TypeError("Unsupported type of data ("+lr(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function i(c,m,w){m.type==="SparseMatrix"?(c._values=m._values?Ae(m._values):void 0,c._index=Ae(m._index),c._ptr=Ae(m._ptr),c._size=Ae(m._size),c._datatype=w||m._datatype):a(c,m.valueOf(),w||m._datatype)}function a(c,m,w){c._values=[],c._index=[],c._ptr=[],c._datatype=w;var y=m.length,g=0,A=t,F=0;if(nr(w)&&(A=r.find(t,[w,w])||t,F=r.convert(0,w)),y>0){var p=0;do{c._ptr.push(c._index.length);for(var _=0;_<y;_++){var E=m[_];if(Ee(E)){if(p===0&&g<E.length&&(g=E.length),p<E.length){var C=E[p];A(C,F)||(c._values.push(C),c._index.push(_))}}else p===0&&g<1&&(g=1),A(E,F)||(c._values.push(E),c._index.push(_))}p++}while(p<g)}c._ptr.push(c._index.length),c._size=[y,g]}u.prototype=new n,u.prototype.createSparseMatrix=function(c,m){return new u(c,m)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return It(this._values,lr)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(c,m){return new u(c,m)},u.prototype.density=function(){var c=this._size[0],m=this._size[1];return c!==0&&m!==0?this._index.length/(c*m):0},u.prototype.subset=function(c,m,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,c);case 2:case 3:return f(this,c,m,w);default:throw new SyntaxError("Wrong number of arguments")}};function s(c,m){if(!Nt(m))throw new TypeError("Invalid index");var w=m.isScalar();if(w)return c.get(m.min());var y=m.size();if(y.length!==c._size.length)throw new he(y.length,c._size.length);var g,A,F,p,_=m.min(),E=m.max();for(g=0,A=c._size.length;g<A;g++)ye(_[g],c._size[g]),ye(E[g],c._size[g]);var C=c._values,B=c._index,M=c._ptr,N=m.dimension(0),q=m.dimension(1),O=[],P=[];function x(K,ue){P[K]=ue[0],O[K]=!0}Number.isInteger(N)?x(N,[0]):N.forEach(x);var Y=C?[]:void 0,V=[],z=[];function H(K){for(z.push(V.length),F=M[K],p=M[K+1];F<p;F++)g=B[F],O[g]===!0&&(V.push(P[g]),Y&&Y.push(C[F]))}return Number.isInteger(q)?H(q):q.forEach(H),z.push(V.length),new u({values:Y,index:V,ptr:z,size:y,datatype:c._datatype})}function f(c,m,w,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var g=m.size(),A=m.isScalar(),F;if(Me(w)?(F=w.size(),w=w.toArray()):F=qe(w),A){if(F.length!==0)throw new TypeError("Scalar expected");c.set(m.min(),w,y)}else{if(g.length!==1&&g.length!==2)throw new he(g.length,c._size.length,"<");if(F.length<g.length){for(var p=0,_=0;g[p]===1&&F[p]===1;)p++;for(;g[p]===1;)_++,p++;w=tu(w,g.length,_,F)}if(!hr(g,F))throw new he(g,F,">");if(g.length===1){var E=m.dimension(0);M(E,(N,q)=>{ye(N),c.set([N,0],w[q[0]],y)})}else{var C=m.dimension(0),B=m.dimension(1);M(C,(N,q)=>{ye(N),M(B,(O,P)=>{ye(O),c.set([N,O],w[q[0]][P[0]],y)})})}}return c;function M(N,q){le(N)?q(N,[0]):N.forEach(q)}}u.prototype.get=function(c){if(!Ee(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new he(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=c[0],w=c[1];ye(m,this._size[0]),ye(w,this._size[1]);var y=l(m,this._ptr[w],this._ptr[w+1],this._index);return y<this._ptr[w+1]&&this._index[y]===m?this._values[y]:0},u.prototype.set=function(c,m,w){if(!Ee(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new he(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=c[0],g=c[1],A=this._size[0],F=this._size[1],p=t,_=0;nr(this._datatype)&&(p=r.find(t,[this._datatype,this._datatype])||t,_=r.convert(0,this._datatype)),(y>A-1||g>F-1)&&(v(this,Math.max(y+1,A),Math.max(g+1,F),w),A=this._size[0],F=this._size[1]),ye(y,A),ye(g,F);var E=l(y,this._ptr[g],this._ptr[g+1],this._index);return E<this._ptr[g+1]&&this._index[E]===y?p(m,_)?h(E,g,this._values,this._index,this._ptr):this._values[E]=m:p(m,_)||o(E,y,g,m,this._values,this._index,this._ptr),this};function l(c,m,w,y){if(w-m===0)return w;for(var g=m;g<w;g++)if(y[g]===c)return g;return m}function h(c,m,w,y,g){w.splice(c,1),y.splice(c,1);for(var A=m+1;A<g.length;A++)g[A]--}function o(c,m,w,y,g,A,F){g.splice(c,0,y),A.splice(c,0,m);for(var p=w+1;p<F.length;p++)F[p]++}u.prototype.resize=function(c,m,w){if(!Xr(c))throw new TypeError("Array or Matrix expected");var y=c.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(A){if(!le(A)||!Be(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(y)+")")});var g=w?this.clone():this;return v(g,y[0],y[1],m)};function v(c,m,w,y){var g=y||0,A=t,F=0;nr(c._datatype)&&(A=r.find(t,[c._datatype,c._datatype])||t,F=r.convert(0,c._datatype),g=r.convert(g,c._datatype));var p=!A(g,F),_=c._size[0],E=c._size[1],C,B,M;if(w>E){for(B=E;B<w;B++)if(c._ptr[B]=c._values.length,p)for(C=0;C<_;C++)c._values.push(g),c._index.push(C);c._ptr[w]=c._values.length}else w<E&&(c._ptr.splice(w+1,E-w),c._values.splice(c._ptr[w],c._values.length),c._index.splice(c._ptr[w],c._index.length));if(E=w,m>_){if(p){var N=0;for(B=0;B<E;B++){c._ptr[B]=c._ptr[B]+N,M=c._ptr[B+1]+N;var q=0;for(C=_;C<m;C++,q++)c._values.splice(M+q,0,g),c._index.splice(M+q,0,C),N++}c._ptr[E]=c._values.length}}else if(m<_){var O=0;for(B=0;B<E;B++){c._ptr[B]=c._ptr[B]-O;var P=c._ptr[B],x=c._ptr[B+1]-O;for(M=P;M<x;M++)C=c._index[M],C>m-1&&(c._values.splice(M,1),c._index.splice(M,1),O++)}c._ptr[B]=c._values.length}return c._size[0]=m,c._size[1]=w,c}u.prototype.reshape=function(c,m){if(!Ee(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(z){if(!le(z)||!Be(z)||z<=-2||z===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xe(c)+")")});var w=this._size[0]*this._size[1];c=Ot(c,w);var y=c[0]*c[1];if(w!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=m?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return g;for(var A=[],F=0;F<g._ptr.length;F++)for(var p=0;p<g._ptr[F+1]-g._ptr[F];p++)A.push(F);for(var _=g._values.slice(),E=g._index.slice(),C=0;C<g._index.length;C++){var B=E[C],M=A[C],N=B*g._size[1]+M;A[C]=N%c[1],E[C]=Math.floor(N/c[1])}g._values.length=0,g._index.length=0,g._ptr.length=c[1]+1,g._size=c.slice();for(var q=0;q<g._ptr.length;q++)g._ptr[q]=0;for(var O=0;O<_.length;O++){var P=E[O],x=A[O],Y=_[O],V=l(P,g._ptr[x],g._ptr[x+1],g._index);o(V,P,x,Y,g._values,g._index,g._ptr)}return g},u.prototype.clone=function(){var c=new u({values:this._values?Ae(this._values):void 0,index:Ae(this._index),ptr:Ae(this._ptr),size:Ae(this._size),datatype:this._datatype});return c},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(c,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,y=this._size[0],g=this._size[1],A=jr(c,w,"map"),F=function(_,E,C){return A.fn(_,[E,C],w)};return D(this,0,y-1,0,g-1,F,m)};function D(c,m,w,y,g,A,F){var p=[],_=[],E=[],C=t,B=0;nr(c._datatype)&&(C=r.find(t,[c._datatype,c._datatype])||t,B=r.convert(0,c._datatype));for(var M=function(re,W,ve){var oe=A(re,W,ve);C(oe,B)||(p.push(oe),_.push(W))},N=y;N<=g;N++){E.push(p.length);var q=c._ptr[N],O=c._ptr[N+1];if(F)for(var P=q;P<O;P++){var x=c._index[P];x>=m&&x<=w&&M(c._values[P],x-m,N-y)}else{for(var Y={},V=q;V<O;V++){var z=c._index[V];Y[z]=c._values[V]}for(var H=m;H<=w;H++){var K=H in Y?Y[H]:0;M(K,H-m,N-y)}}}return E.push(p.length),new u({values:p,index:_,ptr:E,size:[w-m+1,g-y+1]})}u.prototype.forEach=function(c,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,y=this._size[0],g=this._size[1],A=jr(c,w,"forEach"),F=0;F<g;F++){var p=this._ptr[F],_=this._ptr[F+1];if(m)for(var E=p;E<_;E++){var C=this._index[E];A.fn(this._values[E],[C,F],w)}else{for(var B={},M=p;M<_;M++){var N=this._index[M];B[N]=this._values[M]}for(var q=0;q<y;q++){var O=q in B?B[q]:0;A.fn(O,[q,F],w)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],m=0;m<c;m++)for(var w=this._ptr[m],y=this._ptr[m+1],g=w;g<y;g++){var A=this._index[g];yield{value:this._values[g],index:[A,m]}}},u.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(c,m,w,y,g){var A=y[0],F=y[1],p=[],_,E;for(_=0;_<A;_++)for(p[_]=[],E=0;E<F;E++)p[_][E]=0;for(E=0;E<F;E++)for(var C=w[E],B=w[E+1],M=C;M<B;M++)_=m[M],p[_][E]=c?g?Ae(c[M]):c[M]:1;return p}return u.prototype.format=function(c){for(var m=this._size[0],w=this._size[1],y=this.density(),g="Sparse Matrix ["+xe(m,c)+" x "+xe(w,c)+"] density: "+xe(y,c)+`
`,A=0;A<w;A++)for(var F=this._ptr[A],p=this._ptr[A+1],_=F;_<p;_++){var E=this._index[_];g+=`
    (`+xe(E,c)+", "+xe(A,c)+") ==> "+(this._values?xe(this._values[_],c):"X")}return g},u.prototype.toString=function(){return xe(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(c){if(c){if(Ne(c)&&(c=c.toNumber()),!le(c)||!Be(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var m=c>0?c:0,w=c<0?-c:0,y=this._size[0],g=this._size[1],A=Math.min(y-w,g-m),F=[],p=[],_=[];_[0]=0;for(var E=m;E<g&&F.length<A;E++)for(var C=this._ptr[E],B=this._ptr[E+1],M=C;M<B;M++){var N=this._index[M];if(N===E-m+w){F.push(this._values[M]),p[F.length-1]=N-w;break}}return _.push(F.length),new u({values:F,index:p,ptr:_,size:[A,1]})},u.fromJSON=function(c){return new u(c)},u.diagonal=function(c,m,w,y,g){if(!Ee(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(z){if(Ne(z)&&(z=z.toNumber()),!le(z)||!Be(z)||z<1)throw new Error("Size values must be positive integers");return z}),w){if(Ne(w)&&(w=w.toNumber()),!le(w)||!Be(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var A=t,F=0;nr(g)&&(A=r.find(t,[g,g])||t,F=r.convert(0,g));var p=w>0?w:0,_=w<0?-w:0,E=c[0],C=c[1],B=Math.min(E-_,C-p),M;if(Ee(m)){if(m.length!==B)throw new Error("Invalid value array length");M=function(H){return m[H]}}else if(Me(m)){var N=m.size();if(N.length!==1||N[0]!==B)throw new Error("Invalid matrix length");M=function(H){return m.get([H])}}else M=function(){return m};for(var q=[],O=[],P=[],x=0;x<C;x++){P.push(q.length);var Y=x-p;if(Y>=0&&Y<B){var V=M(Y);A(V,F)||(O.push(Y+_),q.push(V))}}return P.push(q.length),new u({values:q,index:O,ptr:P,size:[E,C]})},u.prototype.swapRows=function(c,m){if(!le(c)||!Be(c)||!le(m)||!Be(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ye(c,this._size[0]),ye(m,this._size[0]),u._swapRows(c,m,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(c,m,w,y,g){for(var A=y[c],F=y[c+1],p=A;p<F;p++)g(w[p],m[p])},u._swapRows=function(c,m,w,y,g,A){for(var F=0;F<w;F++){var p=A[F],_=A[F+1],E=l(c,p,_,g),C=l(m,p,_,g);if(E<_&&C<_&&g[E]===c&&g[C]===m){if(y){var B=y[E];y[E]=y[C],y[C]=B}continue}if(E<_&&g[E]===c&&(C>=_||g[C]!==m)){var M=y?y[E]:void 0;g.splice(C,0,m),y&&y.splice(C,0,M),g.splice(C<=E?E+1:E,1),y&&y.splice(C<=E?E+1:E,1);continue}if(C<_&&g[C]===m&&(E>=_||g[E]!==c)){var N=y?y[C]:void 0;g.splice(E,0,c),y&&y.splice(E,0,N),g.splice(E<=C?C+1:C,1),y&&y.splice(E<=C?C+1:C,1)}}},u},{isClass:!0}),Io="number",Po=["typed"];function $o(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],n=r[2],u=r[3];return{input:e,radix:t,integerPart:n,fractionalPart:u}}else return null}function qo(e){for(var r=parseInt(e.integerPart,e.radix),t=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);t+=u/Math.pow(e.radix,n+1)}var i=r+t;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var Ro=Q(Io,Po,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=$o(u);if(i)return qo(i);var a=0,s=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),u=s[1]);var f=Number(u);if(isNaN(f))throw new SyntaxError('String "'+u+'" is not a valid number');if(s){if(f>2**a-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));f>=2**(a-1)&&(f=f-2**a)}return f},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:r.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":r.referToSelf(n=>u=>yr(u,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t}),Uo="bignumber",Lo=["typed","BigNumber"],Zo=Q(Uo,Lo,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(u){return new t(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var a=i[2],s=t(i[1]),f=new t(2).pow(Number(a));if(s.gt(f.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var l=new t(2).pow(Number(a)-1);return s.gte(l)?s.sub(f):s}return new t(u)},BigNumber:function(u){return u},bigint:function(u){return new t(u.toString())},Unit:r.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new t(String(u.n)).div(String(u.d)).times(String(u.s))},null:function(u){return new t(0)},"Array | Matrix":r.referToSelf(n=>u=>yr(u,n))})}),Vo="fraction",Ho=["typed","Fraction"],Jo=Q(Vo,Ho,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new t(u)},string:function(u){return new t(u)},"number, number":function(u,i){return new t(u,i)},"bigint, bigint":function(u,i){return new t(u,i)},null:function(u){return new t(0)},BigNumber:function(u){return new t(u.toString())},bigint:function(u){return new t(u.toString())},Fraction:function(u){return u},Unit:r.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new t(u)},"Array | Matrix":r.referToSelf(n=>u=>yr(u,n))})}),cn="matrix",Yo=["typed","Matrix","DenseMatrix","SparseMatrix"],Go=Q(cn,Yo,e=>{var{typed:r,Matrix:t,DenseMatrix:n,SparseMatrix:u}=e;return r(cn,{"":function(){return i([])},string:function(s){return i([],s)},"string, string":function(s,f){return i([],s,f)},Array:function(s){return i(s)},Matrix:function(s){return i(s,s.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(a,s,f){if(s==="dense"||s==="default"||s===void 0)return new n(a,f);if(s==="sparse")return new u(a,f);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),ln="unaryMinus",Xo=["typed"],Ko=Q(ln,Xo,e=>{var{typed:r}=e;return r(ln,{number:Du,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:r.referToSelf(t=>n=>{var u=n.clone();return u.value=r.find(t,u.valueType())(n.value),u}),"Array | Matrix":r.referToSelf(t=>n=>yr(n,t,!0))})}),hn="abs",Qo=["typed"],Wo=Q(hn,Qo,e=>{var{typed:r}=e;return r(hn,{number:cu,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":r.referToSelf(t=>n=>yr(n,t,!0))})}),vn="addScalar",ko=["typed"],jo=Q(vn,ko,e=>{var{typed:r}=e;return r(vn,{"number, number":lu,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":r.referToSelf(t=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=r.find(t,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),Dn="subtractScalar",es=["typed"],rs=Q(Dn,es,e=>{var{typed:r}=e;return r(Dn,{"number, number":hu,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":r.referToSelf(t=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=r.find(t,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),ts="matAlgo11xS0s",ns=["typed","equalScalar"],us=Q(ts,ns,e=>{var{typed:r,equalScalar:t}=e;return function(u,i,a,s){var f=u._values,l=u._index,h=u._ptr,o=u._size,v=u._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=o[0],d=o[1],c,m=t,w=0,y=a;typeof v=="string"&&(c=v,m=r.find(t,[c,c]),w=r.convert(0,c),i=r.convert(i,c),y=r.find(a,[c,c]));for(var g=[],A=[],F=[],p=0;p<d;p++){F[p]=A.length;for(var _=h[p],E=h[p+1],C=_;C<E;C++){var B=l[C],M=s?y(i,f[C]):y(f[C],i);m(M,w)||(A.push(B),g.push(M))}}return F[d]=A.length,u.createSparseMatrix({values:g,index:A,ptr:F,size:[D,d],datatype:c})}}),is="matAlgo12xSfs",as=["typed","DenseMatrix"],lt=Q(is,as,e=>{var{typed:r,DenseMatrix:t}=e;return function(u,i,a,s){var f=u._values,l=u._index,h=u._ptr,o=u._size,v=u._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=o[0],d=o[1],c,m=a;typeof v=="string"&&(c=v,i=r.convert(i,c),m=r.find(a,[c,c]));for(var w=[],y=[],g=[],A=0;A<d;A++){for(var F=A+1,p=h[A],_=h[A+1],E=p;E<_;E++){var C=l[E];y[C]=f[E],g[C]=F}for(var B=0;B<D;B++)A===0&&(w[B]=[]),g[B]===F?w[B][A]=s?m(i,y[B]):m(y[B],i):w[B][A]=s?m(i,0):m(0,i)}return new t({data:w,size:[D,d],datatype:c})}}),os="matAlgo14xDs",ss=["typed"],pu=Q(os,ss,e=>{var{typed:r}=e;return function(u,i,a,s){var f=u._data,l=u._size,h=u._datatype,o,v=a;typeof h=="string"&&(o=h,i=r.convert(i,o),v=r.find(a,[o,o]));var D=l.length>0?t(v,0,l,l[0],f,i,s):[];return u.createDenseMatrix({data:D,size:Ae(l),datatype:o})};function t(n,u,i,a,s,f,l){var h=[];if(u===i.length-1)for(var o=0;o<a;o++)h[o]=l?n(f,s[o]):n(s[o],f);else for(var v=0;v<a;v++)h[v]=t(n,u+1,i,i[u+1],s[v],f,l);return h}}),fs="matAlgo03xDSf",cs=["typed"],ht=Q(fs,cs,e=>{var{typed:r}=e;return function(n,u,i,a){var s=n._data,f=n._size,l=n._datatype||n.getDataType(),h=u._values,o=u._index,v=u._ptr,D=u._size,d=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(f.length!==D.length)throw new he(f.length,D.length);if(f[0]!==D[0]||f[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=f[0],m=f[1],w,y=0,g=i;typeof l=="string"&&l===d&&l!=="mixed"&&(w=l,y=r.convert(0,w),g=r.find(i,[w,w]));for(var A=[],F=0;F<c;F++)A[F]=[];for(var p=[],_=[],E=0;E<m;E++){for(var C=E+1,B=v[E],M=v[E+1],N=B;N<M;N++){var q=o[N];p[q]=a?g(h[N],s[q][E]):g(s[q][E],h[N]),_[q]=C}for(var O=0;O<c;O++)_[O]===C?A[O][E]=p[O]:A[O][E]=a?g(y,s[O][E]):g(s[O][E],y)}return n.createDenseMatrix({data:A,size:[c,m],datatype:l===n._datatype&&d===u._datatype?w:void 0})}}),ls="matAlgo05xSfSf",hs=["typed","equalScalar"],vs=Q(ls,hs,e=>{var{typed:r,equalScalar:t}=e;return function(u,i,a){var s=u._values,f=u._index,l=u._ptr,h=u._size,o=u._datatype||u._data===void 0?u._datatype:u.getDataType(),v=i._values,D=i._index,d=i._ptr,c=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(h.length!==c.length)throw new he(h.length,c.length);if(h[0]!==c[0]||h[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+c+")");var w=h[0],y=h[1],g,A=t,F=0,p=a;typeof o=="string"&&o===m&&o!=="mixed"&&(g=o,A=r.find(t,[g,g]),F=r.convert(0,g),p=r.find(a,[g,g]));var _=s&&v?[]:void 0,E=[],C=[],B=_?[]:void 0,M=_?[]:void 0,N=[],q=[],O,P,x,Y;for(P=0;P<y;P++){C[P]=E.length;var V=P+1;for(x=l[P],Y=l[P+1];x<Y;x++)O=f[x],E.push(O),N[O]=V,B&&(B[O]=s[x]);for(x=d[P],Y=d[P+1];x<Y;x++)O=D[x],N[O]!==V&&E.push(O),q[O]=V,M&&(M[O]=v[x]);if(_)for(x=C[P];x<E.length;){O=E[x];var z=N[O],H=q[O];if(z===V||H===V){var K=z===V?B[O]:F,ue=H===V?M[O]:F,re=p(K,ue);A(re,F)?E.splice(x,1):(_.push(re),x++)}}}return C[y]=E.length,u.createSparseMatrix({values:_,index:E,ptr:C,size:[w,y],datatype:o===u._datatype&&m===i._datatype?g:void 0})}}),Ds="matAlgo13xDD",ps=["typed"],ds=Q(Ds,ps,e=>{var{typed:r}=e;return function(u,i,a){var s=u._data,f=u._size,l=u._datatype,h=i._data,o=i._size,v=i._datatype,D=[];if(f.length!==o.length)throw new he(f.length,o.length);for(var d=0;d<f.length;d++){if(f[d]!==o[d])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+o+")");D[d]=f[d]}var c,m=a;typeof l=="string"&&l===v&&(c=l,m=r.find(a,[c,c]));var w=D.length>0?t(m,0,D,D[0],s,h):[];return u.createDenseMatrix({data:w,size:D,datatype:c})};function t(n,u,i,a,s,f){var l=[];if(u===i.length-1)for(var h=0;h<a;h++)l[h]=n(s[h],f[h]);else for(var o=0;o<a;o++)l[o]=t(n,u+1,i,i[u+1],s[o],f[o]);return l}});function be(e,r){if(hr(e.size(),r.size()))return[e,r];var t=au(e.size(),r.size());return[e,r].map(n=>ms(n,t))}function ms(e,r){return hr(e.size(),r)?e:e.create(bt(e.valueOf(),r),e.datatype())}var gs="matrixAlgorithmSuite",ws=["typed","matrix"],Ir=Q(gs,ws,e=>{var{typed:r,matrix:t}=e,n=ds({typed:r}),u=pu({typed:r});return function(a){var s=a.elop,f=a.SD||a.DS,l;s?(l={"DenseMatrix, DenseMatrix":(D,d)=>n(...be(D,d),s),"Array, Array":(D,d)=>n(...be(t(D),t(d)),s).valueOf(),"Array, DenseMatrix":(D,d)=>n(...be(t(D),d),s),"DenseMatrix, Array":(D,d)=>n(...be(D,t(d)),s)},a.SS&&(l["SparseMatrix, SparseMatrix"]=(D,d)=>a.SS(...be(D,d),s,!1)),a.DS&&(l["DenseMatrix, SparseMatrix"]=(D,d)=>a.DS(...be(D,d),s,!1),l["Array, SparseMatrix"]=(D,d)=>a.DS(...be(t(D),d),s,!1)),f&&(l["SparseMatrix, DenseMatrix"]=(D,d)=>f(...be(d,D),s,!0),l["SparseMatrix, Array"]=(D,d)=>f(...be(t(d),D),s,!0))):(l={"DenseMatrix, DenseMatrix":r.referToSelf(D=>(d,c)=>n(...be(d,c),D)),"Array, Array":r.referToSelf(D=>(d,c)=>n(...be(t(d),t(c)),D).valueOf()),"Array, DenseMatrix":r.referToSelf(D=>(d,c)=>n(...be(t(d),c),D)),"DenseMatrix, Array":r.referToSelf(D=>(d,c)=>n(...be(d,t(c)),D))},a.SS&&(l["SparseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,c)=>a.SS(...be(d,c),D,!1))),a.DS&&(l["DenseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,c)=>a.DS(...be(d,c),D,!1)),l["Array, SparseMatrix"]=r.referToSelf(D=>(d,c)=>a.DS(...be(t(d),c),D,!1))),f&&(l["SparseMatrix, DenseMatrix"]=r.referToSelf(D=>(d,c)=>f(...be(c,d),D,!0)),l["SparseMatrix, Array"]=r.referToSelf(D=>(d,c)=>f(...be(t(c),d),D,!0))));var h=a.scalar||"any",o=a.Ds||a.Ss;o&&(s?(l["DenseMatrix,"+h]=(D,d)=>u(D,d,s,!1),l[h+", DenseMatrix"]=(D,d)=>u(d,D,s,!0),l["Array,"+h]=(D,d)=>u(t(D),d,s,!1).valueOf(),l[h+", Array"]=(D,d)=>u(t(d),D,s,!0).valueOf()):(l["DenseMatrix,"+h]=r.referToSelf(D=>(d,c)=>u(d,c,D,!1)),l[h+", DenseMatrix"]=r.referToSelf(D=>(d,c)=>u(c,d,D,!0)),l["Array,"+h]=r.referToSelf(D=>(d,c)=>u(t(d),c,D,!1).valueOf()),l[h+", Array"]=r.referToSelf(D=>(d,c)=>u(t(c),d,D,!0).valueOf())));var v=a.sS!==void 0?a.sS:a.Ss;return s?(a.Ss&&(l["SparseMatrix,"+h]=(D,d)=>a.Ss(D,d,s,!1)),v&&(l[h+", SparseMatrix"]=(D,d)=>v(d,D,s,!0))):(a.Ss&&(l["SparseMatrix,"+h]=r.referToSelf(D=>(d,c)=>a.Ss(d,c,D,!1))),v&&(l[h+", SparseMatrix"]=r.referToSelf(D=>(d,c)=>v(c,d,D,!0)))),s&&s.signatures&&Vi(l,s.signatures),l}}),Fs="matAlgo01xDSid",ys=["typed"],du=Q(Fs,ys,e=>{var{typed:r}=e;return function(n,u,i,a){var s=n._data,f=n._size,l=n._datatype||n.getDataType(),h=u._values,o=u._index,v=u._ptr,D=u._size,d=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(f.length!==D.length)throw new he(f.length,D.length);if(f[0]!==D[0]||f[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=f[0],m=f[1],w=typeof l=="string"&&l!=="mixed"&&l===d?l:void 0,y=w?r.find(i,[w,w]):i,g,A,F=[];for(g=0;g<c;g++)F[g]=[];var p=[],_=[];for(A=0;A<m;A++){for(var E=A+1,C=v[A],B=v[A+1],M=C;M<B;M++)g=o[M],p[g]=a?y(h[M],s[g][A]):y(s[g][A],h[M]),_[g]=E;for(g=0;g<c;g++)_[g]===E?F[g][A]=p[g]:F[g][A]=s[g][A]}return n.createDenseMatrix({data:F,size:[c,m],datatype:l===n._datatype&&d===u._datatype?w:void 0})}}),As="matAlgo04xSidSid",Es=["typed","equalScalar"],Cs=Q(As,Es,e=>{var{typed:r,equalScalar:t}=e;return function(u,i,a){var s=u._values,f=u._index,l=u._ptr,h=u._size,o=u._datatype||u._data===void 0?u._datatype:u.getDataType(),v=i._values,D=i._index,d=i._ptr,c=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(h.length!==c.length)throw new he(h.length,c.length);if(h[0]!==c[0]||h[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+c+")");var w=h[0],y=h[1],g,A=t,F=0,p=a;typeof o=="string"&&o===m&&o!=="mixed"&&(g=o,A=r.find(t,[g,g]),F=r.convert(0,g),p=r.find(a,[g,g]));var _=s&&v?[]:void 0,E=[],C=[],B=s&&v?[]:void 0,M=s&&v?[]:void 0,N=[],q=[],O,P,x,Y,V;for(P=0;P<y;P++){C[P]=E.length;var z=P+1;for(Y=l[P],V=l[P+1],x=Y;x<V;x++)O=f[x],E.push(O),N[O]=z,B&&(B[O]=s[x]);for(Y=d[P],V=d[P+1],x=Y;x<V;x++)if(O=D[x],N[O]===z){if(B){var H=p(B[O],v[x]);A(H,F)?N[O]=null:B[O]=H}}else E.push(O),q[O]=z,M&&(M[O]=v[x]);if(B&&M)for(x=C[P];x<E.length;)O=E[x],N[O]===z?(_[x]=B[O],x++):q[O]===z?(_[x]=M[O],x++):E.splice(x,1)}return C[y]=E.length,u.createSparseMatrix({values:_,index:E,ptr:C,size:[w,y],datatype:o===u._datatype&&m===i._datatype?g:void 0})}}),_s="matAlgo10xSids",Ss=["typed","DenseMatrix"],mu=Q(_s,Ss,e=>{var{typed:r,DenseMatrix:t}=e;return function(u,i,a,s){var f=u._values,l=u._index,h=u._ptr,o=u._size,v=u._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=o[0],d=o[1],c,m=a;typeof v=="string"&&(c=v,i=r.convert(i,c),m=r.find(a,[c,c]));for(var w=[],y=[],g=[],A=0;A<d;A++){for(var F=A+1,p=h[A],_=h[A+1],E=p;E<_;E++){var C=l[E];y[C]=f[E],g[C]=F}for(var B=0;B<D;B++)A===0&&(w[B]=[]),g[B]===F?w[B][A]=s?m(i,y[B]):m(y[B],i):w[B][A]=i}return new t({data:w,size:[D,d],datatype:c})}}),Bs="multiplyScalar",Ms=["typed"],bs=Q(Bs,Ms,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":vu,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})}),pn="multiply",xs=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ns=Q(pn,xs,e=>{var{typed:r,matrix:t,addScalar:n,multiplyScalar:u,equalScalar:i,dot:a}=e,s=us({typed:r,equalScalar:i}),f=pu({typed:r});function l(F,p){switch(F.length){case 1:switch(p.length){case 1:if(F[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(F[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+p[0]+")");break;case 2:if(F[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function h(F,p,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return a(F,p)}function o(F,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(F,p)}function v(F,p){var _=F._data,E=F._size,C=F._datatype||F.getDataType(),B=p._data,M=p._size,N=p._datatype||p.getDataType(),q=E[0],O=M[1],P,x=n,Y=u;C&&N&&C===N&&typeof C=="string"&&C!=="mixed"&&(P=C,x=r.find(n,[P,P]),Y=r.find(u,[P,P]));for(var V=[],z=0;z<O;z++){for(var H=Y(_[0],B[0][z]),K=1;K<q;K++)H=x(H,Y(_[K],B[K][z]));V[z]=H}return F.createDenseMatrix({data:V,size:[O],datatype:C===F._datatype&&N===p._datatype?P:void 0})}var D=r("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":y}),d=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":A});function c(F,p){var _=F._data,E=F._size,C=F._datatype||F.getDataType(),B=p._data,M=p._datatype||p.getDataType(),N=E[0],q=E[1],O,P=n,x=u;C&&M&&C===M&&typeof C=="string"&&C!=="mixed"&&(O=C,P=r.find(n,[O,O]),x=r.find(u,[O,O]));for(var Y=[],V=0;V<N;V++){for(var z=_[V],H=x(z[0],B[0]),K=1;K<q;K++)H=P(H,x(z[K],B[K]));Y[V]=H}return F.createDenseMatrix({data:Y,size:[N],datatype:C===F._datatype&&M===p._datatype?O:void 0})}function m(F,p){var _=F._data,E=F._size,C=F._datatype||F.getDataType(),B=p._data,M=p._size,N=p._datatype||p.getDataType(),q=E[0],O=E[1],P=M[1],x,Y=n,V=u;C&&N&&C===N&&typeof C=="string"&&C!=="mixed"&&C!=="mixed"&&(x=C,Y=r.find(n,[x,x]),V=r.find(u,[x,x]));for(var z=[],H=0;H<q;H++){var K=_[H];z[H]=[];for(var ue=0;ue<P;ue++){for(var re=V(K[0],B[0][ue]),W=1;W<O;W++)re=Y(re,V(K[W],B[W][ue]));z[H][ue]=re}}return F.createDenseMatrix({data:z,size:[q,P],datatype:C===F._datatype&&N===p._datatype?x:void 0})}function w(F,p){var _=F._data,E=F._size,C=F._datatype||F.getDataType(),B=p._values,M=p._index,N=p._ptr,q=p._size,O=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=E[0],x=q[1],Y,V=n,z=u,H=i,K=0;C&&O&&C===O&&typeof C=="string"&&C!=="mixed"&&(Y=C,V=r.find(n,[Y,Y]),z=r.find(u,[Y,Y]),H=r.find(i,[Y,Y]),K=r.convert(0,Y));for(var ue=[],re=[],W=[],ve=p.createSparseMatrix({values:ue,index:re,ptr:W,size:[P,x],datatype:C===F._datatype&&O===p._datatype?Y:void 0}),oe=0;oe<x;oe++){W[oe]=re.length;var ne=N[oe],se=N[oe+1];if(se>ne)for(var ie=0,j=0;j<P;j++){for(var Fe=j+1,me=void 0,ae=ne;ae<se;ae++){var ce=M[ae];ie!==Fe?(me=z(_[j][ce],B[ae]),ie=Fe):me=V(me,z(_[j][ce],B[ae]))}ie===Fe&&!H(me,K)&&(re.push(j),ue.push(me))}}return W[x]=re.length,ve}function y(F,p){var _=F._values,E=F._index,C=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=p._data,N=p._datatype||p.getDataType(),q=F._size[0],O=p._size[0],P=[],x=[],Y=[],V,z=n,H=u,K=i,ue=0;B&&N&&B===N&&typeof B=="string"&&B!=="mixed"&&(V=B,z=r.find(n,[V,V]),H=r.find(u,[V,V]),K=r.find(i,[V,V]),ue=r.convert(0,V));var re=[],W=[];Y[0]=0;for(var ve=0;ve<O;ve++){var oe=M[ve];if(!K(oe,ue))for(var ne=C[ve],se=C[ve+1],ie=ne;ie<se;ie++){var j=E[ie];W[j]?re[j]=z(re[j],H(oe,_[ie])):(W[j]=!0,x.push(j),re[j]=H(oe,_[ie]))}}for(var Fe=x.length,me=0;me<Fe;me++){var ae=x[me];P[me]=re[ae]}return Y[1]=x.length,F.createSparseMatrix({values:P,index:x,ptr:Y,size:[q,1],datatype:B===F._datatype&&N===p._datatype?V:void 0})}function g(F,p){var _=F._values,E=F._index,C=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=p._data,N=p._datatype||p.getDataType(),q=F._size[0],O=p._size[0],P=p._size[1],x,Y=n,V=u,z=i,H=0;B&&N&&B===N&&typeof B=="string"&&B!=="mixed"&&(x=B,Y=r.find(n,[x,x]),V=r.find(u,[x,x]),z=r.find(i,[x,x]),H=r.convert(0,x));for(var K=[],ue=[],re=[],W=F.createSparseMatrix({values:K,index:ue,ptr:re,size:[q,P],datatype:B===F._datatype&&N===p._datatype?x:void 0}),ve=[],oe=[],ne=0;ne<P;ne++){re[ne]=ue.length;for(var se=ne+1,ie=0;ie<O;ie++){var j=M[ie][ne];if(!z(j,H))for(var Fe=C[ie],me=C[ie+1],ae=Fe;ae<me;ae++){var ce=E[ae];oe[ce]!==se?(oe[ce]=se,ue.push(ce),ve[ce]=V(j,_[ae])):ve[ce]=Y(ve[ce],V(j,_[ae]))}}for(var _e=re[ne],Re=ue.length,ze=_e;ze<Re;ze++){var fe=ue[ze];K[ze]=ve[fe]}}return re[P]=ue.length,W}function A(F,p){var _=F._values,E=F._index,C=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType(),M=p._values,N=p._index,q=p._ptr,O=p._datatype||p._data===void 0?p._datatype:p.getDataType(),P=F._size[0],x=p._size[1],Y=_&&M,V,z=n,H=u;B&&O&&B===O&&typeof B=="string"&&B!=="mixed"&&(V=B,z=r.find(n,[V,V]),H=r.find(u,[V,V]));for(var K=Y?[]:void 0,ue=[],re=[],W=F.createSparseMatrix({values:K,index:ue,ptr:re,size:[P,x],datatype:B===F._datatype&&O===p._datatype?V:void 0}),ve=Y?[]:void 0,oe=[],ne,se,ie,j,Fe,me,ae,ce,_e=0;_e<x;_e++){re[_e]=ue.length;var Re=_e+1;for(Fe=q[_e],me=q[_e+1],j=Fe;j<me;j++)if(ce=N[j],Y)for(se=C[ce],ie=C[ce+1],ne=se;ne<ie;ne++)ae=E[ne],oe[ae]!==Re?(oe[ae]=Re,ue.push(ae),ve[ae]=H(M[j],_[ne])):ve[ae]=z(ve[ae],H(M[j],_[ne]));else for(se=C[ce],ie=C[ce+1],ne=se;ne<ie;ne++)ae=E[ne],oe[ae]!==Re&&(oe[ae]=Re,ue.push(ae));if(Y)for(var ze=re[_e],fe=ue.length,Oe=ze;Oe<fe;Oe++){var Ge=ue[Oe];K[Oe]=ve[Ge]}}return re[x]=ue.length,W}return r(pn,u,{"Array, Array":r.referTo("Matrix, Matrix",F=>(p,_)=>{l(qe(p),qe(_));var E=F(t(p),t(_));return Me(E)?E.valueOf():E}),"Matrix, Matrix":function(p,_){var E=p.size(),C=_.size();return l(E,C),E.length===1?C.length===1?h(p,_,E[0]):o(p,_):C.length===1?D(p,_):d(p,_)},"Matrix, Array":r.referTo("Matrix,Matrix",F=>(p,_)=>F(p,t(_))),"Array, Matrix":r.referToSelf(F=>(p,_)=>F(t(p,_.storage()),_)),"SparseMatrix, any":function(p,_){return s(p,_,u,!1)},"DenseMatrix, any":function(p,_){return f(p,_,u,!1)},"any, SparseMatrix":function(p,_){return s(_,p,u,!0)},"any, DenseMatrix":function(p,_){return f(_,p,u,!0)},"Array, any":function(p,_){return f(t(p),_,u,!1).valueOf()},"any, Array":function(p,_){return f(t(_),p,u,!0).valueOf()},"any, any":u,"any, any, ...any":r.referToSelf(F=>(p,_,E)=>{for(var C=F(p,_),B=0;B<E.length;B++)C=F(C,E[B]);return C})})}),dn="subtract",Ts=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],zs=Q(dn,Ts,e=>{var{typed:r,matrix:t,equalScalar:n,subtractScalar:u,unaryMinus:i,DenseMatrix:a,concat:s}=e,f=du({typed:r}),l=ht({typed:r}),h=vs({typed:r,equalScalar:n}),o=mu({typed:r,DenseMatrix:a}),v=lt({typed:r,DenseMatrix:a}),D=Ir({typed:r,matrix:t,concat:s});return r(dn,{"any, any":u},D({elop:u,SS:h,DS:f,SD:l,Ss:v,sS:o}))}),Os="matAlgo07xSSf",Is=["typed","SparseMatrix"],$t=Q(Os,Is,e=>{var{typed:r,SparseMatrix:t}=e;return function(i,a,s){var f=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==h.length)throw new he(f.length,h.length);if(f[0]!==h[0]||f[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");var v=f[0],D=f[1],d,c=0,m=s;typeof l=="string"&&l===o&&l!=="mixed"&&(d=l,c=r.convert(0,d),m=r.find(s,[d,d]));for(var w=[],y=[],g=new Array(D+1).fill(0),A=[],F=[],p=[],_=[],E=0;E<D;E++){var C=E+1,B=0;n(i,E,p,A,C),n(a,E,_,F,C);for(var M=0;M<v;M++){var N=p[M]===C?A[M]:c,q=_[M]===C?F[M]:c,O=m(N,q);O!==0&&O!==!1&&(y.push(M),w.push(O),B++)}g[E+1]=g[E]+B}return new t({values:w,index:y,ptr:g,size:[v,D],datatype:l===i._datatype&&o===a._datatype?d:void 0})};function n(u,i,a,s,f){for(var l=u._values,h=u._index,o=u._ptr,v=o[i],D=o[i+1];v<D;v++){var d=h[v];a[d]=f,s[d]=l[v]}}}),mn="conj",Ps=["typed"],$s=Q(mn,Ps,e=>{var{typed:r}=e;return r(mn,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),Unit:r.referToSelf(t=>n=>new n.constructor(t(n.toNumeric()),n.formatUnits())),"Array | Matrix":r.referToSelf(t=>n=>yr(n,t))})}),gn="concat",qs=["typed","matrix","isInteger"],Rs=Q(gn,qs,e=>{var{typed:r,matrix:t,isInteger:n}=e;return r(gn,{"...Array | Matrix | number | BigNumber":function(i){var a,s=i.length,f=-1,l,h=!1,o=[];for(a=0;a<s;a++){var v=i[a];if(Me(v)&&(h=!0),le(v)||Ne(v)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(l=f,f=v.valueOf(),!n(f))throw new TypeError("Integer number expected for dimension");if(f<0||a>0&&f>l)throw new Fr(f,l+1)}else{var D=Ae(v).valueOf(),d=qe(D);if(o[a]=D,l=f,f=d.length-1,a>0&&f!==l)throw new he(l+1,f+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var c=o.shift();o.length;)c=iu(c,o.shift(),f);return h?t(c):c},"...string":function(i){return i.join("")}})});function Us(){throw new Error('No "bignumber" implementation available')}function Ls(){throw new Error('No "fraction" implementation available')}var wn="size",Zs=["typed"],Vs=Q(wn,Zs,e=>{var{typed:r}=e;return r(wn,{Matrix:t=>t.size(),Array:qe,string:t=>[t.length],"number | Complex | BigNumber | Unit | boolean | null":t=>[]})}),Fn="transpose",Hs=["typed","matrix"],Js=Q(Fn,Hs,e=>{var{typed:r,matrix:t}=e;return r(Fn,{Array:a=>n(t(a)).valueOf(),Matrix:n,any:Ae});function n(a){var s=a.size(),f;switch(s.length){case 1:f=a.clone();break;case 2:{var l=s[0],h=s[1];if(h===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+xe(s)+")");switch(a.storage()){case"dense":f=u(a,l,h);break;case"sparse":f=i(a,l,h);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+xe(s)+")")}return f}function u(a,s,f){for(var l=a._data,h=[],o,v=0;v<f;v++){o=h[v]=[];for(var D=0;D<s;D++)o[D]=Ae(l[D][v])}return a.createDenseMatrix({data:h,size:[f,s],datatype:a._datatype})}function i(a,s,f){for(var l=a._values,h=a._index,o=a._ptr,v=l?[]:void 0,D=[],d=[],c=[],m=0;m<s;m++)c[m]=0;var w,y,g;for(w=0,y=h.length;w<y;w++)c[h[w]]++;for(var A=0,F=0;F<s;F++)d.push(A),A+=c[F],c[F]=d[F];for(d.push(A),g=0;g<f;g++)for(var p=o[g],_=o[g+1],E=p;E<_;E++){var C=c[h[E]]++;D[C]=g,l&&(v[C]=Ae(l[E]))}return a.createSparseMatrix({values:v,index:D,ptr:d,size:[f,s],datatype:a._datatype})}}),Ys="numeric",Gs=["number","?bignumber","?fraction"],Xs=Q(Ys,Gs,e=>{var{number:r,bignumber:t,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:a=>r(a),BigNumber:t?a=>t(a):Us,bigint:a=>BigInt(a),Fraction:n?a=>n(a):Ls};return function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var h=lr(s);if(!(h in u))throw new TypeError("Cannot convert "+s+' of type "'+h+'"; valid input types are '+Object.keys(u).join(", "));if(!(f in i))throw new TypeError("Cannot convert "+s+' to type "'+f+'"; valid output types are '+Object.keys(i).join(", "));return f===h?s:i[f](s)}}),yn="divideScalar",Ks=["typed","numeric"],Qs=Q(yn,Ks,e=>{var{typed:r,numeric:t}=e;return r(yn,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})});function qt(e){var{DenseMatrix:r}=e;return function(n,u,i){var a=n.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+xe(a)+")");var s=a[0],f=a[1];if(s!==f)throw new RangeError("Matrix must be square (size: "+xe(a)+")");var l=[];if(Me(u)){var h=u.size(),o=u._data;if(h.length===1){if(h[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<s;v++)l[v]=[o[v]];return new r({data:l,size:[s,1],datatype:u._datatype})}if(h.length===2){if(h[0]!==s||h[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(In(u)){if(i){l=[];for(var D=0;D<s;D++)l[D]=[o[D][0]];return new r({data:l,size:[s,1],datatype:u._datatype})}return u}if(Pn(u)){for(var d=0;d<s;d++)l[d]=[0];for(var c=u._values,m=u._index,w=u._ptr,y=w[1],g=w[0];g<y;g++){var A=m[g];l[A][0]=c[g]}return new r({data:l,size:[s,1],datatype:u._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ee(u)){var F=qe(u);if(F.length===1){if(F[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<s;p++)l[p]=[u[p]];return new r({data:l,size:[s,1]})}if(F.length===2){if(F[0]!==s||F[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<s;_++)l[_]=[u[_][0]];return new r({data:l,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var An="lsolve",Ws=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ks=Q(An,Ws,e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:u,subtractScalar:i,equalScalar:a,DenseMatrix:s}=e,f=qt({DenseMatrix:s});return r(An,{"SparseMatrix, Array | Matrix":function(v,D){return h(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return l(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),c=l(d,D);return c.valueOf()}});function l(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],c=o._size[1],m=[],w=o._data,y=0;y<c;y++){var g=D[y][0]||0,A=void 0;if(a(g,0))A=0;else{var F=w[y][y];if(a(F,0))throw new Error("Linear system cannot be solved since matrix is singular");A=n(g,F);for(var p=y+1;p<d;p++)D[p]=[i(D[p][0]||0,u(A,w[p][y]))]}m[y]=[A]}return new s({data:m,size:[d,1]})}function h(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],c=o._size[1],m=o._values,w=o._index,y=o._ptr,g=[],A=0;A<c;A++){var F=D[A][0]||0;if(a(F,0))g[A]=[0];else{for(var p=0,_=[],E=[],C=y[A],B=y[A+1],M=C;M<B;M++){var N=w[M];N===A?p=m[M]:N>A&&(_.push(m[M]),E.push(N))}if(a(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(F,p),O=0,P=E.length;O<P;O++){var x=E[O];D[x]=[i(D[x][0]||0,u(q,_[O]))]}g[A]=[q]}}return new s({data:g,size:[d,1]})}}),En="usolve",js=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ef=Q(En,js,e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:u,subtractScalar:i,equalScalar:a,DenseMatrix:s}=e,f=qt({DenseMatrix:s});return r(En,{"SparseMatrix, Array | Matrix":function(v,D){return h(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return l(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),c=l(d,D);return c.valueOf()}});function l(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],c=o._size[1],m=[],w=o._data,y=c-1;y>=0;y--){var g=D[y][0]||0,A=void 0;if(a(g,0))A=0;else{var F=w[y][y];if(a(F,0))throw new Error("Linear system cannot be solved since matrix is singular");A=n(g,F);for(var p=y-1;p>=0;p--)D[p]=[i(D[p][0]||0,u(A,w[p][y]))]}m[y]=[A]}return new s({data:m,size:[d,1]})}function h(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],c=o._size[1],m=o._values,w=o._index,y=o._ptr,g=[],A=c-1;A>=0;A--){var F=D[A][0]||0;if(a(F,0))g[A]=[0];else{for(var p=0,_=[],E=[],C=y[A],B=y[A+1],M=B-1;M>=C;M--){var N=w[M];N===A?p=m[M]:N<A&&(_.push(m[M]),E.push(N))}if(a(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(F,p),O=0,P=E.length;O<P;O++){var x=E[O];D[x]=[i(D[x][0],u(q,_[O]))]}g[A]=[q]}}return new s({data:g,size:[d,1]})}}),rt="smaller",rf=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],tf=Q(rt,rf,e=>{var{typed:r,config:t,bignumber:n,matrix:u,DenseMatrix:i,concat:a,SparseMatrix:s}=e,f=ht({typed:r}),l=$t({typed:r,SparseMatrix:s}),h=lt({typed:r,DenseMatrix:i}),o=Ir({typed:r,matrix:u,concat:a}),v=ct({typed:r});function D(d,c){return d.lt(c)&&!ft(d,c,t.relTol,t.absTol)}return r(rt,nf({typed:r,config:t}),{"boolean, boolean":(d,c)=>d<c,"BigNumber, BigNumber":D,"bigint, bigint":(d,c)=>d<c,"Fraction, Fraction":(d,c)=>d.compare(c)===-1,"Fraction, BigNumber":function(c,m){return D(n(c),m)},"BigNumber, Fraction":function(c,m){return D(c,n(m))},"Complex, Complex":function(c,m){throw new TypeError("No ordering relation is defined for complex numbers")}},v,o({SS:l,DS:f,Ss:h}))}),nf=Q(rt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(rt,{"number, number":function(u,i){return u<i&&!gr(u,i,t.relTol,t.absTol)}})}),tt="larger",uf=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],af=Q(tt,uf,e=>{var{typed:r,config:t,bignumber:n,matrix:u,DenseMatrix:i,concat:a,SparseMatrix:s}=e,f=ht({typed:r}),l=$t({typed:r,SparseMatrix:s}),h=lt({typed:r,DenseMatrix:i}),o=Ir({typed:r,matrix:u,concat:a}),v=ct({typed:r});function D(d,c){return d.gt(c)&&!ft(d,c,t.relTol,t.absTol)}return r(tt,of({typed:r,config:t}),{"boolean, boolean":(d,c)=>d>c,"BigNumber, BigNumber":D,"bigint, bigint":(d,c)=>d>c,"Fraction, Fraction":(d,c)=>d.compare(c)===1,"Fraction, BigNumber":function(c,m){return D(n(c),m)},"BigNumber, Fraction":function(c,m){return D(c,n(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,o({SS:l,DS:f,Ss:h}))}),of=Q(tt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(tt,{"number, number":function(u,i){return u>i&&!gr(u,i,t.relTol,t.absTol)}})}),nt="largerEq",sf=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],ff=Q(nt,sf,e=>{var{typed:r,config:t,matrix:n,DenseMatrix:u,concat:i,SparseMatrix:a}=e,s=ht({typed:r}),f=$t({typed:r,SparseMatrix:a}),l=lt({typed:r,DenseMatrix:u}),h=Ir({typed:r,matrix:n,concat:i}),o=ct({typed:r});return r(nt,cf({typed:r,config:t}),{"boolean, boolean":(v,D)=>v>=D,"BigNumber, BigNumber":function(D,d){return D.gte(d)||ft(D,d,t.relTol,t.absTol)},"bigint, bigint":function(D,d){return D>=d},"Fraction, Fraction":(v,D)=>v.compare(D)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,h({SS:f,DS:s,Ss:l}))}),cf=Q(nt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(nt,{"number, number":function(u,i){return u>=i||gr(u,i,t.relTol,t.absTol)}})}),lf="FibonacciHeap",hf=["smaller","larger"],vf=Q(lf,hf,e=>{var{smaller:r,larger:t}=e,n=1/Math.log((1+Math.sqrt(5))/2);function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}u.prototype.type="FibonacciHeap",u.prototype.isFibonacciHeap=!0,u.prototype.insert=function(h,o){var v={key:h,value:o,degree:0};if(this._minimum){var D=this._minimum;v.left=D,v.right=D.right,D.right=v,v.right.left=v,r(h,D.key)&&(this._minimum=v)}else v.left=v,v.right=v,this._minimum=v;return this._size++,v},u.prototype.size=function(){return this._size},u.prototype.clear=function(){this._minimum=null,this._size=0},u.prototype.isEmpty=function(){return this._size===0},u.prototype.extractMinimum=function(){var h=this._minimum;if(h===null)return h;for(var o=this._minimum,v=h.degree,D=h.child;v>0;){var d=D.right;D.left.right=D.right,D.right.left=D.left,D.left=o,D.right=o.right,o.right=D,D.right.left=D,D.parent=null,D=d,v--}return h.left.right=h.right,h.right.left=h.left,h===h.right?o=null:(o=h.right,o=l(o,this._size)),this._size--,this._minimum=o,h},u.prototype.remove=function(h){this._minimum=i(this._minimum,h,-1),this.extractMinimum()};function i(h,o,v){o.key=v;var D=o.parent;return D&&r(o.key,D.key)&&(a(h,o,D),s(h,D)),r(o.key,h.key)&&(h=o),h}function a(h,o,v){o.left.right=o.right,o.right.left=o.left,v.degree--,v.child===o&&(v.child=o.right),v.degree===0&&(v.child=null),o.left=h,o.right=h.right,h.right=o,o.right.left=o,o.parent=null,o.mark=!1}function s(h,o){var v=o.parent;v&&(o.mark?(a(h,o,v),s(v)):o.mark=!0)}var f=function(o,v){o.left.right=o.right,o.right.left=o.left,o.parent=v,v.child?(o.left=v.child,o.right=v.child.right,v.child.right=o,o.right.left=o):(v.child=o,o.right=o,o.left=o),v.degree++,o.mark=!1};function l(h,o){var v=Math.floor(Math.log(o)*n)+1,D=new Array(v),d=0,c=h;if(c)for(d++,c=c.right;c!==h;)d++,c=c.right;for(var m;d>0;){for(var w=c.degree,y=c.right;m=D[w],!!m;){if(t(c.key,m.key)){var g=m;m=c,c=g}f(m,c),D[w]=null,w++}D[w]=c,c=y,d--}h=null;for(var A=0;A<v;A++)m=D[A],m&&(h?(m.left.right=m.right,m.right.left=m.left,m.left=h,m.right=h.right,h.right=m,m.right.left=m,r(m.key,h.key)&&(h=m)):h=m);return h}return u},{isClass:!0}),Df="Spa",pf=["addScalar","equalScalar","FibonacciHeap"],df=Q(Df,pf,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:n}=e;function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return u.prototype.type="Spa",u.prototype.isSpa=!0,u.prototype.set=function(i,a){if(this._values[i])this._values[i].value=a;else{var s=this._heap.insert(i,a);this._values[i]=s}},u.prototype.get=function(i){var a=this._values[i];return a?a.value:0},u.prototype.accumulate=function(i,a){var s=this._values[i];s?s.value=r(s.value,a):(s=this._heap.insert(i,a),this._values[i]=s)},u.prototype.forEach=function(i,a,s){var f=this._heap,l=this._values,h=[],o=f.extractMinimum();for(o&&h.push(o);o&&o.key<=a;)o.key>=i&&(t(o.value,0)||s(o.key,o.value,this)),o=f.extractMinimum(),o&&h.push(o);for(var v=0;v<h.length;v++){var D=h[v];o=f.insert(D.key,D.value),l[o.key]=o}},u.prototype.swap=function(i,a){var s=this._values[i],f=this._values[a];if(!s&&f)s=this._heap.insert(i,f.value),this._heap.remove(f),this._values[i]=s,this._values[a]=void 0;else if(s&&!f)f=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=f,this._values[i]=void 0;else if(s&&f){var l=s.value;s.value=f.value,f.value=l}},u},{isClass:!0}),Cn="add",mf=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],gf=Q(Cn,mf,e=>{var{typed:r,matrix:t,addScalar:n,equalScalar:u,DenseMatrix:i,SparseMatrix:a,concat:s}=e,f=du({typed:r}),l=Cs({typed:r,equalScalar:u}),h=mu({typed:r,DenseMatrix:i}),o=Ir({typed:r,matrix:t,concat:s});return r(Cn,{"any, any":n,"any, any, ...any":r.referToSelf(v=>(D,d,c)=>{for(var m=v(D,d),w=0;w<c.length;w++)m=v(m,c[w]);return m})},o({elop:n,DS:f,SS:l,Ss:h}))}),_n="dot",wf=["typed","addScalar","multiplyScalar","conj","size"],Ff=Q(_n,wf,e=>{var{typed:r,addScalar:t,multiplyScalar:n,conj:u,size:i}=e;return r(_n,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":f});function a(l,h){var o=i(l),v=i(h),D,d;if(o.length===1)D=o[0];else if(o.length===2&&o[1]===1)D=o[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");if(v.length===1)d=v[0];else if(v.length===2&&v[1]===1)d=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(D!==d)throw new RangeError("Vectors must have equal length ("+D+" != "+d+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function s(l,h){var o=a(l,h),v=Me(l)?l._data:l,D=Me(l)?l._datatype||l.getDataType():void 0,d=Me(h)?h._data:h,c=Me(h)?h._datatype||h.getDataType():void 0,m=i(l).length===2,w=i(h).length===2,y=t,g=n;if(D&&c&&D===c&&typeof D=="string"&&D!=="mixed"){var A=D;y=r.find(t,[A,A]),g=r.find(n,[A,A])}if(!m&&!w){for(var F=g(u(v[0]),d[0]),p=1;p<o;p++)F=y(F,g(u(v[p]),d[p]));return F}if(!m&&w){for(var _=g(u(v[0]),d[0][0]),E=1;E<o;E++)_=y(_,g(u(v[E]),d[E][0]));return _}if(m&&!w){for(var C=g(u(v[0][0]),d[0]),B=1;B<o;B++)C=y(C,g(u(v[B][0]),d[B]));return C}if(m&&w){for(var M=g(u(v[0][0]),d[0][0]),N=1;N<o;N++)M=y(M,g(u(v[N][0]),d[N][0]));return M}}function f(l,h){a(l,h);for(var o=l._index,v=l._values,D=h._index,d=h._values,c=0,m=t,w=n,y=0,g=0;y<o.length&&g<D.length;){var A=o[y],F=D[g];if(A<F){y++;continue}if(A>F){g++;continue}A===F&&(c=m(c,w(v[y],d[g])),y++,g++)}return c}}),Sn="lup",yf=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Af=Q(Sn,yf,e=>{var{typed:r,matrix:t,abs:n,addScalar:u,divideScalar:i,multiplyScalar:a,subtractScalar:s,larger:f,equalScalar:l,unaryMinus:h,DenseMatrix:o,SparseMatrix:v,Spa:D}=e;return r(Sn,{DenseMatrix:function(w){return d(w)},SparseMatrix:function(w){return c(w)},Array:function(w){var y=t(w),g=d(y);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function d(m){var w=m._size[0],y=m._size[1],g=Math.min(w,y),A=Ae(m._data),F=[],p=[w,g],_=[],E=[g,y],C,B,M,N=[];for(C=0;C<w;C++)N[C]=C;for(B=0;B<y;B++){if(B>0)for(C=0;C<w;C++){var q=Math.min(C,B),O=0;for(M=0;M<q;M++)O=u(O,a(A[C][M],A[M][B]));A[C][B]=s(A[C][B],O)}var P=B,x=0,Y=0;for(C=B;C<w;C++){var V=A[C][B],z=n(V);f(z,x)&&(P=C,x=z,Y=V)}if(B!==P&&(N[B]=[N[P],N[P]=N[B]][0],o._swapRows(B,P,A)),B<w)for(C=B+1;C<w;C++){var H=A[C][B];l(H,0)||(A[C][B]=i(A[C][B],Y))}}for(B=0;B<y;B++)for(C=0;C<w;C++){if(B===0&&(C<y&&(_[C]=[]),F[C]=[]),C<B){C<y&&(_[C][B]=A[C][B]),B<w&&(F[C][B]=0);continue}if(C===B){C<y&&(_[C][B]=A[C][B]),B<w&&(F[C][B]=1);continue}C<y&&(_[C][B]=0),B<w&&(F[C][B]=A[C][B])}var K=new o({data:F,size:p}),ue=new o({data:_,size:E}),re=[];for(C=0,g=N.length;C<g;C++)re[N[C]]=C;return{L:K,U:ue,p:re,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function c(m){var w=m._size[0],y=m._size[1],g=Math.min(w,y),A=m._values,F=m._index,p=m._ptr,_=[],E=[],C=[],B=[w,g],M=[],N=[],q=[],O=[g,y],P,x,Y,V=[],z=[];for(P=0;P<w;P++)V[P]=P,z[P]=P;var H=function(re,W){var ve=z[re],oe=z[W];V[ve]=W,V[oe]=re,z[re]=oe,z[W]=ve},K=function(){var re=new D;x<w&&(C.push(_.length),_.push(1),E.push(x)),q.push(M.length);var W=p[x],ve=p[x+1];for(Y=W;Y<ve;Y++)P=F[Y],re.set(V[P],A[Y]);x>0&&re.forEach(0,x-1,function(ie,j){v._forEachRow(ie,_,E,C,function(Fe,me){Fe>ie&&re.accumulate(Fe,h(a(me,j)))})});var oe=x,ne=re.get(x),se=n(ne);re.forEach(x+1,w-1,function(ie,j){var Fe=n(j);f(Fe,se)&&(oe=ie,se=Fe,ne=j)}),x!==oe&&(v._swapRows(x,oe,B[1],_,E,C),v._swapRows(x,oe,O[1],M,N,q),re.swap(x,oe),H(x,oe)),re.forEach(0,w-1,function(ie,j){ie<=x?(M.push(j),N.push(ie)):(j=i(j,ne),l(j,0)||(_.push(j),E.push(ie)))})};for(x=0;x<y;x++)K();return q.push(M.length),C.push(_.length),{L:new v({values:_,index:E,ptr:C,size:B}),U:new v({values:M,index:N,ptr:q,size:O}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function Ef(e,r,t,n){e._values;for(var u=e._index,i=e._ptr,a=e._size,s=e._datatype,f=a[0],l=a[1],h=null,o=[],v=[],D=0,d=0;d<l;d++){v[d]=D;for(var c=t?t[d]:d,m=i[c],w=i[c+1],y=m;y<w;y++){var g=u[y];o[D]=g,D++}}return v[l]=D,e.createSparseMatrix({values:h,index:o,ptr:v,size:[f,l],datatype:s})}function gu(e,r,t,n,u,i,a){var s=0;for(t[a]=e;s>=0;){var f=t[a+s],l=t[n+f];l===-1?(s--,i[r++]=f):(t[n+f]=t[u+l],++s,t[a+s]=l)}return r}function Cf(e,r){if(!e)return null;var t=0,n,u=[],i=[],a=0,s=r,f=2*r;for(n=0;n<r;n++)i[a+n]=-1;for(n=r-1;n>=0;n--)e[n]!==-1&&(i[s+n]=i[a+e[n]],i[a+e[n]]=n);for(n=0;n<r;n++)e[n]===-1&&(t=gu(n,t,i,a,s,u,f));return u}function _f(e,r){if(!e)return null;var t=e._index,n=e._ptr,u=e._size,i=u[0],a=u[1],s=[],f=[],l=0,h=a,o,v;for(o=0;o<i;o++)f[h+o]=-1;for(var D=0;D<a;D++){s[D]=-1,f[l+D]=-1;for(var d=n[D],c=n[D+1],m=d;m<c;m++){var w=t[m];for(o=f[h+w];o!==-1&&o<D;o=v)v=f[l+o],f[l+o]=D,v===-1&&(s[o]=D);f[h+w]=D}}return s}function Sf(e,r,t){for(var n=e._values,u=e._index,i=e._ptr,a=e._size,s=a[1],f=0,l=0;l<s;l++){var h=i[l];for(i[l]=f;h<i[l+1];h++)r(u[h],l,n?n[h]:1,t)&&(u[f]=u[h],n&&(n[f]=n[h]),f++)}return i[s]=f,u.splice(f,u.length-f),n&&n.splice(f,n.length-f),f}function fr(e){return-e-2}var Bf="csAmd",Mf=["add","multiply","transpose"],bf=Q(Bf,Mf,e=>{var{add:r,multiply:t,transpose:n}=e;return function(h,o){if(!o||h<=0||h>3)return null;var v=o._size,D=v[0],d=v[1],c=0,m=Math.max(16,10*Math.sqrt(d));m=Math.min(d-2,m);var w=u(h,o,D,d,m);Sf(w,f,null);for(var y=w._index,g=w._ptr,A=g[d],F=[],p=[],_=0,E=d+1,C=2*(d+1),B=3*(d+1),M=4*(d+1),N=5*(d+1),q=6*(d+1),O=7*(d+1),P=F,x=i(d,g,p,_,B,P,C,O,E,q,M,N),Y=a(d,g,p,N,M,q,m,E,B,P,C),V=0,z,H,K,ue,re,W,ve,oe,ne,se,ie,j,Fe,me,ae,ce;Y<d;){for(K=-1;V<d&&(K=p[B+V])===-1;V++);p[C+K]!==-1&&(P[p[C+K]]=-1),p[B+V]=p[C+K];var _e=p[M+K],Re=p[E+K];Y+=Re;var ze=0;p[E+K]=-Re;var fe=g[K],Oe=_e===0?fe:A,Ge=Oe;for(ue=1;ue<=_e+1;ue++){for(ue>_e?(W=K,ve=fe,oe=p[_+K]-_e):(W=y[fe++],ve=g[W],oe=p[_+W]),re=1;re<=oe;re++)z=y[ve++],!((ne=p[E+z])<=0)&&(ze+=ne,p[E+z]=-ne,y[Ge++]=z,p[C+z]!==-1&&(P[p[C+z]]=P[z]),P[z]!==-1?p[C+P[z]]=p[C+z]:p[B+p[N+z]]=p[C+z]);W!==K&&(g[W]=fr(K),p[q+W]=0)}for(_e!==0&&(A=Ge),p[N+K]=ze,g[K]=Oe,p[_+K]=Ge-Oe,p[M+K]=-2,x=s(x,c,p,q,d),se=Oe;se<Ge;se++)if(z=y[se],!((ie=p[M+z])<=0)){ne=-p[E+z];var pt=x-ne;for(fe=g[z],j=g[z]+ie-1;fe<=j;fe++)W=y[fe],p[q+W]>=x?p[q+W]-=ne:p[q+W]!==0&&(p[q+W]=p[N+W]+pt)}for(se=Oe;se<Ge;se++){for(z=y[se],j=g[z],Fe=j+p[M+z]-1,me=j,ae=0,ce=0,fe=j;fe<=Fe;fe++)if(W=y[fe],p[q+W]!==0){var xr=p[q+W]-x;xr>0?(ce+=xr,y[me++]=W,ae+=W):(g[W]=fr(K),p[q+W]=0)}p[M+z]=me-j+1;var S=me,b=j+p[_+z];for(fe=Fe+1;fe<b;fe++){H=y[fe];var T=p[E+H];T<=0||(ce+=T,y[me++]=H,ae+=H)}ce===0?(g[z]=fr(K),ne=-p[E+z],ze-=ne,Re+=ne,Y+=ne,p[E+z]=0,p[M+z]=-1):(p[N+z]=Math.min(p[N+z],ce),y[me]=y[S],y[S]=y[j],y[j]=K,p[_+z]=me-j+1,ae=(ae<0?-ae:ae)%d,p[C+z]=p[O+ae],p[O+ae]=z,P[z]=ae)}for(p[N+K]=ze,c=Math.max(c,ze),x=s(x+c,c,p,q,d),se=Oe;se<Ge;se++)if(z=y[se],!(p[E+z]>=0))for(ae=P[z],z=p[O+ae],p[O+ae]=-1;z!==-1&&p[C+z]!==-1;z=p[C+z],x++){for(oe=p[_+z],ie=p[M+z],fe=g[z]+1;fe<=g[z]+oe-1;fe++)p[q+y[fe]]=x;var $=z;for(H=p[C+z];H!==-1;){var L=p[_+H]===oe&&p[M+H]===ie;for(fe=g[H]+1;L&&fe<=g[H]+oe-1;fe++)p[q+y[fe]]!==x&&(L=0);L?(g[H]=fr(z),p[E+z]+=p[E+H],p[E+H]=0,p[M+H]=-1,H=p[C+H],p[C+$]=H):($=H,H=p[C+H])}}for(fe=Oe,se=Oe;se<Ge;se++)z=y[se],!((ne=-p[E+z])<=0)&&(p[E+z]=ne,ce=p[N+z]+ze-ne,ce=Math.min(ce,d-Y-ne),p[B+ce]!==-1&&(P[p[B+ce]]=z),p[C+z]=p[B+ce],P[z]=-1,p[B+ce]=z,V=Math.min(V,ce),p[N+z]=ce,y[fe++]=z);p[E+K]=Re,(p[_+K]=fe-Oe)===0&&(g[K]=-1,p[q+K]=0),_e!==0&&(A=fe)}for(z=0;z<d;z++)g[z]=fr(g[z]);for(H=0;H<=d;H++)p[B+H]=-1;for(H=d;H>=0;H--)p[E+H]>0||(p[C+H]=p[B+g[H]],p[B+g[H]]=H);for(W=d;W>=0;W--)p[E+W]<=0||g[W]!==-1&&(p[C+W]=p[B+g[W]],p[B+g[W]]=W);for(K=0,z=0;z<=d;z++)g[z]===-1&&(K=gu(z,K,p,B,C,F,q));return F.splice(F.length-1,1),F};function u(l,h,o,v,D){var d=n(h);if(l===1&&v===o)return r(h,d);if(l===2){for(var c=d._index,m=d._ptr,w=0,y=0;y<o;y++){var g=m[y];if(m[y]=w,!(m[y+1]-g>D))for(var A=m[y+1];g<A;g++)c[w++]=c[g]}return m[o]=w,h=n(d),t(d,h)}return t(d,h)}function i(l,h,o,v,D,d,c,m,w,y,g,A){for(var F=0;F<l;F++)o[v+F]=h[F+1]-h[F];o[v+l]=0;for(var p=0;p<=l;p++)o[D+p]=-1,d[p]=-1,o[c+p]=-1,o[m+p]=-1,o[w+p]=1,o[y+p]=1,o[g+p]=0,o[A+p]=o[v+p];var _=s(0,0,o,y,l);return o[g+l]=-2,h[l]=-1,o[y+l]=0,_}function a(l,h,o,v,D,d,c,m,w,y,g){for(var A=0,F=0;F<l;F++){var p=o[v+F];if(p===0)o[D+F]=-2,A++,h[F]=-1,o[d+F]=0;else if(p>c)o[m+F]=0,o[D+F]=-1,A++,h[F]=fr(l),o[m+l]++;else{var _=o[w+p];_!==-1&&(y[_]=F),o[g+F]=o[w+p],o[w+p]=F}}return A}function s(l,h,o,v,D){if(l<2||l+h<0){for(var d=0;d<D;d++)o[v+d]!==0&&(o[v+d]=1);l=2}return l}function f(l,h){return l!==h}});function xf(e,r,t,n,u,i,a){var s,f,l=0,h;if(e<=r||t[n+r]<=t[u+e])return-1;t[u+e]=t[n+r];var o=t[i+e];if(t[i+e]=r,o===-1)l=1,h=e;else{for(l=2,h=o;h!==t[a+h];h=t[a+h]);for(s=o;s!==h;s=f)f=t[a+s],t[a+s]=h}return{jleaf:l,q:h}}var Nf="csCounts",Tf=["transpose"],zf=Q(Nf,Tf,e=>{var{transpose:r}=e;return function(t,n,u,i){if(!t||!n||!u)return null;var a=t._size,s=a[0],f=a[1],l,h,o,v,D,d,c,m=4*f+(i?f+s+1:0),w=[],y=0,g=f,A=2*f,F=3*f,p=4*f,_=5*f+1;for(o=0;o<m;o++)w[o]=-1;var E=[],C=r(t),B=C._index,M=C._ptr;for(o=0;o<f;o++)for(h=u[o],E[h]=w[F+h]===-1?1:0;h!==-1&&w[F+h]===-1;h=n[h])w[F+h]=o;if(i){for(o=0;o<f;o++)w[u[o]]=o;for(l=0;l<s;l++){for(o=f,d=M[l],c=M[l+1],D=d;D<c;D++)o=Math.min(o,w[B[D]]);w[_+l]=w[p+o],w[p+o]=l}}for(l=0;l<f;l++)w[y+l]=l;for(o=0;o<f;o++){for(h=u[o],n[h]!==-1&&E[n[h]]--,v=i?w[p+o]:h;v!==-1;v=i?w[_+v]:-1)for(D=M[v];D<M[v+1];D++){l=B[D];var N=xf(l,h,w,F,g,A,y);N.jleaf>=1&&E[h]++,N.jleaf===2&&E[N.q]--}n[h]!==-1&&(w[y+h]=n[h])}for(h=0;h<f;h++)n[h]!==-1&&(E[n[h]]+=E[h]);return E}}),Of="csSqr",If=["add","multiply","transpose"],Pf=Q(Of,If,e=>{var{add:r,multiply:t,transpose:n}=e,u=bf({add:r,multiply:t,transpose:n}),i=zf({transpose:n});return function(f,l,h){var o=l._ptr,v=l._size,D=v[1],d,c={};if(c.q=u(f,l),f&&!c.q)return null;if(h){var m=f?Ef(l,null,c.q):l;c.parent=_f(m);var w=Cf(c.parent,D);if(c.cp=i(m,c.parent,w,1),m&&c.parent&&c.cp&&a(m,c))for(c.unz=0,d=0;d<D;d++)c.unz+=c.cp[d]}else c.unz=4*o[D]+D,c.lnz=c.unz;return c};function a(s,f){var l=s._ptr,h=s._index,o=s._size,v=o[0],D=o[1];f.pinv=[],f.leftmost=[];var d=f.parent,c=f.pinv,m=f.leftmost,w=[],y=0,g=v,A=v+D,F=v+2*D,p,_,E,C,B;for(_=0;_<D;_++)w[g+_]=-1,w[A+_]=-1,w[F+_]=0;for(p=0;p<v;p++)m[p]=-1;for(_=D-1;_>=0;_--)for(C=l[_],B=l[_+1],E=C;E<B;E++)m[h[E]]=_;for(p=v-1;p>=0;p--)c[p]=-1,_=m[p],_!==-1&&(w[F+_]++===0&&(w[A+_]=p),w[y+p]=w[g+_],w[g+_]=p);for(f.lnz=0,f.m2=v,_=0;_<D;_++)if(p=w[g+_],f.lnz++,p<0&&(p=f.m2++),c[p]=_,!(--F[_]<=0)){f.lnz+=w[F+_];var M=d[_];M!==-1&&(w[F+M]===0&&(w[A+M]=w[A+_]),w[y+w[A+_]]=w[g+M],w[g+M]=w[y+p],w[F+M]+=w[F+_])}for(p=0;p<v;p++)c[p]<0&&(c[p]=_++);return!0}});function xt(e,r){return e[r]<0}function wu(e,r){e[r]=fr(e[r])}function Bn(e){return e<0?fr(e):e}function $f(e,r,t,n,u){var i=r._index,a=r._ptr,s=r._size,f=s[1],l,h,o,v=0;for(n[0]=e;v>=0;){e=n[v];var D=u?u[e]:e;xt(a,e)||(wu(a,e),n[f+v]=D<0?0:Bn(a[D]));var d=1;for(h=n[f+v],o=D<0?0:Bn(a[D+1]);h<o;h++)if(l=i[h],!xt(a,l)){n[f+v]=h,n[++v]=l,d=0;break}d&&(v--,n[--t]=e)}return t}function qf(e,r,t,n,u){var i=e._ptr,a=e._size,s=r._index,f=r._ptr,l=a[1],h,o,v,D=l;for(o=f[t],v=f[t+1],h=o;h<v;h++){var d=s[h];xt(i,d)||(D=$f(d,e,D,n,u))}for(h=D;h<l;h++)wu(i,n[h]);return D}var Rf="csSpsolve",Uf=["divideScalar","multiply","subtract"],Lf=Q(Rf,Uf,e=>{var{divideScalar:r,multiply:t,subtract:n}=e;return function(i,a,s,f,l,h,o){var v=i._values,D=i._index,d=i._ptr,c=i._size,m=c[1],w=a._values,y=a._index,g=a._ptr,A,F,p,_,E=qf(i,a,s,f,h);for(A=E;A<m;A++)l[f[A]]=0;for(F=g[s],p=g[s+1],A=F;A<p;A++)l[y[A]]=w[A];for(var C=E;C<m;C++){var B=f[C],M=h?h[B]:B;if(!(M<0))for(F=d[M],p=d[M+1],l[B]=r(l[B],v[o?F:p-1]),A=o?F+1:F,_=o?p:p-1;A<_;A++){var N=D[A];l[N]=n(l[N],t(v[A],l[B]))}}return E}}),Zf="csLu",Vf=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Hf=Q(Zf,Vf,e=>{var{abs:r,divideScalar:t,multiply:n,subtract:u,larger:i,largerEq:a,SparseMatrix:s}=e,f=Lf({divideScalar:t,multiply:n,subtract:u});return function(h,o,v){if(!h)return null;var D=h._size,d=D[1],c,m=100,w=100;o&&(c=o.q,m=o.lnz||m,w=o.unz||w);var y=[],g=[],A=[],F=new s({values:y,index:g,ptr:A,size:[d,d]}),p=[],_=[],E=[],C=new s({values:p,index:_,ptr:E,size:[d,d]}),B=[],M,N,q=[],O=[];for(M=0;M<d;M++)q[M]=0,B[M]=-1,A[M+1]=0;m=0,w=0;for(var P=0;P<d;P++){A[P]=m,E[P]=w;var x=c?c[P]:P,Y=f(F,h,x,O,q,B,1),V=-1,z=-1;for(N=Y;N<d;N++)if(M=O[N],B[M]<0){var H=r(q[M]);i(H,z)&&(z=H,V=M)}else _[w]=B[M],p[w++]=q[M];if(V===-1||z<=0)return null;B[x]<0&&a(r(q[x]),n(z,v))&&(V=x);var K=q[V];for(_[w]=P,p[w++]=K,B[V]=P,g[m]=V,y[m++]=1,N=Y;N<d;N++)M=O[N],B[M]<0&&(g[m]=M,y[m++]=t(q[M],K)),q[M]=0}for(A[d]=m,E[d]=w,N=0;N<m;N++)g[N]=B[g[N]];return y.splice(m,y.length-m),g.splice(m,g.length-m),p.splice(w,p.length-w),_.splice(w,_.length-w),{L:F,U:C,pinv:B}}}),Mn="slu",Jf=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Yf=Q(Mn,Jf,e=>{var{typed:r,abs:t,add:n,multiply:u,transpose:i,divideScalar:a,subtract:s,larger:f,largerEq:l,SparseMatrix:h}=e,o=Pf({add:n,multiply:u,transpose:i}),v=Hf({abs:t,divideScalar:a,multiply:u,subtract:s,larger:f,largerEq:l,SparseMatrix:h});return r(Mn,{"SparseMatrix, number, number":function(d,c,m){if(!Be(c)||c<0||c>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var w=o(c,d,!1),y=v(d,w,m);return{L:y.L,U:y.U,p:y.pinv,q:w.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function bn(e,r){var t,n=r.length,u=[];if(e)for(t=0;t<n;t++)u[e[t]]=r[t];else for(t=0;t<n;t++)u[t]=r[t];return u}var xn="lusolve",Gf=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Xf=Q(xn,Gf,e=>{var{typed:r,matrix:t,lup:n,slu:u,usolve:i,lsolve:a,DenseMatrix:s}=e,f=qt({DenseMatrix:s});return r(xn,{"Array, Array | Matrix":function(v,D){v=t(v);var d=n(v),c=h(d.L,d.U,d.p,null,D);return c.valueOf()},"DenseMatrix, Array | Matrix":function(v,D){var d=n(v);return h(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix":function(v,D){var d=n(v);return h(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix, number, number":function(v,D,d,c){var m=u(v,d,c);return h(m.L,m.U,m.p,m.q,D)},"Object, Array | Matrix":function(v,D){return h(v.L,v.U,v.p,v.q,D)}});function l(o){if(Me(o))return o;if(Ee(o))return t(o);throw new TypeError("Invalid Matrix LU decomposition")}function h(o,v,D,d,c){o=l(o),v=l(v),D&&(c=f(o,c,!0),c._data=bn(D,c._data));var m=a(o,c),w=i(v,m);return d&&(w._data=bn(d,w._data)),w}}),Fu=ka({config:wr}),Kf=no({}),yu=ao({}),Rt=fo({}),tr=So({Matrix:Rt,config:wr}),pe=ra({BigNumber:Fu,Complex:Kf,DenseMatrix:tr,Fraction:yu}),Au=Wo({typed:pe}),Pr=jo({typed:pe}),Qf=$s({typed:pe}),pr=No({config:wr,typed:pe}),Wf=Mo({typed:pe}),$r=bs({typed:pe}),kf=Ro({typed:pe}),jf=Vs({typed:pe}),Ar=Oo({Matrix:Rt,equalScalar:pr,typed:pe}),vt=rs({typed:pe}),Ut=Zo({BigNumber:Fu,typed:pe}),e0=Ff({addScalar:Pr,conj:Qf,multiplyScalar:$r,size:jf,typed:pe}),Ye=Go({DenseMatrix:tr,Matrix:Rt,SparseMatrix:Ar,typed:pe}),r0=Ns({addScalar:Pr,dot:e0,equalScalar:pr,matrix:Ye,multiplyScalar:$r,typed:pe}),t0=Js({matrix:Ye,typed:pe}),qr=Rs({isInteger:Wf,matrix:Ye,typed:pe}),n0=Jo({Fraction:yu,typed:pe}),u0=ff({DenseMatrix:tr,SparseMatrix:Ar,concat:qr,config:wr,matrix:Ye,typed:pe}),i0=Xs({bignumber:Ut,fraction:n0,number:kf}),a0=tf({DenseMatrix:tr,SparseMatrix:Ar,bignumber:Ut,concat:qr,config:wr,matrix:Ye,typed:pe}),Eu=Ko({typed:pe}),je=gf({DenseMatrix:tr,SparseMatrix:Ar,addScalar:Pr,concat:qr,equalScalar:pr,matrix:Ye,typed:pe}),Dt=Qs({numeric:i0,typed:pe}),Lt=af({DenseMatrix:tr,SparseMatrix:Ar,bignumber:Ut,concat:qr,config:wr,matrix:Ye,typed:pe}),o0=ks({DenseMatrix:tr,divideScalar:Dt,equalScalar:pr,matrix:Ye,multiplyScalar:$r,subtractScalar:vt,typed:pe}),s0=zs({DenseMatrix:tr,concat:qr,equalScalar:pr,matrix:Ye,subtractScalar:vt,typed:pe,unaryMinus:Eu}),f0=ef({DenseMatrix:tr,divideScalar:Dt,equalScalar:pr,matrix:Ye,multiplyScalar:$r,subtractScalar:vt,typed:pe}),c0=vf({larger:Lt,smaller:a0}),l0=Yf({SparseMatrix:Ar,abs:Au,add:je,divideScalar:Dt,larger:Lt,largerEq:u0,multiply:r0,subtract:s0,transpose:t0,typed:pe}),h0=df({FibonacciHeap:c0,addScalar:Pr,equalScalar:pr}),v0=Af({DenseMatrix:tr,Spa:h0,SparseMatrix:Ar,abs:Au,addScalar:Pr,divideScalar:Dt,equalScalar:pr,larger:Lt,matrix:Ye,multiplyScalar:$r,subtractScalar:vt,typed:pe,unaryMinus:Eu}),D0=Xf({DenseMatrix:tr,lsolve:o0,lup:v0,matrix:Ye,slu:l0,typed:pe,usolve:f0});class p0{constructor(r=5,t=Array(r).fill(.5*Math.PI),n=Array(r).fill(0),u=-9.8){this.n=r,this.thetas=t,this.thetaDots=n,this.g=u}A(r){let t=[];for(let n=0;n<this.n;n++){let u=[];for(let i=0;i<this.n;i++)u.push((this.n-Math.max(n,i))*Math.cos(r[n]-r[i]));t.push(u)}return t}b(r,t){let n=[];for(let u=0;u<this.n;u++){let i=0;for(let a=0;a<this.n;a++)i-=(this.n-Math.max(u,a))*Math.sin(r[u]-r[a])*t[a]**2;i-=this.g*(this.n-u)*Math.sin(r[u]),n.push(i)}return n}f(r,t){let n=this.A(r),u=this.b(r,t);return[t,D0(n,u).map(i=>i[0])]}RK4(r,t,n){let u=this.f(t,n),i=this.f(je(t,u[0].map(h=>.5*r*h)),je(n,u[1].map(h=>.5*r*h))),a=this.f(je(t,i[0].map(h=>.5*r*h)),je(n,i[1].map(h=>.5*r*h))),s=this.f(je(t,a[0].map(h=>1*r*h)),je(n,a[1].map(h=>1*r*h))),f=je(u[0],i[0].map(h=>2*h),a[0].map(h=>2*h),s[0]).map(h=>h*r/6),l=je(u[1],i[1].map(h=>2*h),a[1].map(h=>2*h),s[1]).map(h=>h*r/6);return[je(t,f),n=je(n,l)]}tick(r){let t=this.RK4(r,this.thetas,this.thetaDots);this.thetas=t[0],this.thetaDots=t[1]}get coordinates(){let r=0,t=0,n=[];for(let u=0;u<this.thetas.length;u++){let i=this.thetas[u];r+=Math.sin(i),t+=Math.cos(i),n.push({x:r,y:t})}return n}}const d0={class:"absolute flex flex-wrap gap-1 w-full p-1"},m0={key:0,class:"i-la-play"},g0={key:1,class:"i-la-pause"},w0={class:"p-2 text-xs font-mono border-1 border-dark-100 dark-border-light-300"},F0=["width","height"],y0=["x1","x2","y2","stroke"],A0=["cx","cy"],E0=["x1","y1","x2","y2","stroke-width"],C0=["fill","cx","cy","r"],M0={__name:"MultiPendulums",setup(e){const r=Ht(),t=dt({w:1e3,h:1e3}),n=Jt(()=>dr.pcs.length);ei(r,a=>{t.w=a[0].contentRect.width,t.h=a[0].contentRect.height});const u=dt([]);for(let a=0;a<2;a++)u[a]=i(-a);function i(a=0){const s=dt({}),f=Jt(()=>new p0(dr.pcs.length,Array(dr.pcs.length).fill(1).map((h,o)=>Math.PI+(a!=0?1:-2)*Math.PI*(1-Math.random()/(o+1))/4),Array(dr.pcs.length).fill(1).map(()=>(a!=0?-4:2)*Math.random()+.5))),l=Ht([]);return Yt(()=>or.ticks,(h,o)=>{h<o&&(h=o+1),f.value.tick((h-o)*.0015),l.value=f.value.coordinates}),Yt(l,(h,o)=>{h.forEach((v,D)=>{if(v.x*o?.[D]?.x<0){const d=dr.full.notes[D];s[d]=!0,ti(d)}})}),{coords:l,n,active:s}}return(a,s)=>(We(),Qe(Lr,null,[ke("div",d0,[ke("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:s[0]||(s[0]=f=>Ze(or).stopped=!0)},s[3]||(s[3]=[ke("div",{class:"i-la-stop"},null,-1)])),ke("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:s[1]||(s[1]=f=>Ze(or).playing=!Ze(or).playing)},[Ze(or).playing?(We(),Qe("div",g0)):(We(),Qe("div",m0))]),s[4]||(s[4]=ke("div",{class:"flex-1"},null,-1)),ke("div",w0,ui(Ze(or).ticks),1)]),Ze(or).started?ni("",!0):(We(),Qe("div",{key:0,class:"absolute bottom-0 top-0 left-0 right-0 flex items-center justify-center text-2xl z-100",onClick:s[2]||(s[2]=f=>Ze(or).playing=!0)},"Press anywhere")),(We(),Qe("svg",{class:"select-none min-h-100svh min-w-full",id:"metronome",ref_key:"svg",ref:r,version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},[ke("rect",{width:t.w,height:t.h,stroke:"white",fill:"#2222"},null,8,F0),ke("line",{class:"transition",x1:t.w/2,x2:t.w/2,y1:0,y2:t.h,stroke:Ze(Zt).note.velocity>0?Ze(Vt)(Ze(Zt).note.pitch):"#999"},null,8,y0),ke("circle",{cx:t.w/2,cy:t.h/10,r:8,fill:"currentColor"},null,8,A0),(We(!0),Qe(Lr,null,mt(u,(f,l)=>(We(),Qe("g",{key:f},[(We(!0),Qe(Lr,null,mt(f.coords,(h,o)=>(We(),Qe("g",{key:h},[ke("line",{x1:o===0?t.w/2:t.w/2+f.coords[o-1].x*t.h/(n.value+1),y1:o===0?t.h/10:t.h/10-f.coords[o-1].y*t.h/(n.value+1),x2:t.w/2+h.x*t.h/(n.value+1),y2:t.h/10-h.y*t.h/(n.value+1),"stroke-width":(l*2+1)*2,stroke:"currentColor"},null,8,E0)]))),128)),(We(!0),Qe(Lr,null,mt(f.coords,(h,o)=>(We(),Qe("g",{key:h},[ke("circle",{style:ii([{"transform-origin":"center","transform-box":"fill-box",transition:"transform 1s ease-in-out"},{transform:`scale(${f.active[Ze(dr).full.notes[o]]?2:1})`}]),fill:Ze(Vt)(Ze(ri)[Ze(dr).pcs[o]],4),cx:t.w/2+h.x*t.h/(n.value+1),cy:t.h/10-h.y*t.h/(n.value+1),r:(l+1)*10},null,12,C0)]))),128))]))),128))],512))],64))}};export{M0 as default};
