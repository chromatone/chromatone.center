import{r as Xt,b as At,c as Kt,aW as au,d as Qt,x as er,y as rr,A as tr,E as Je,G as ou,I as su,F as Jr,B as Et,H as fu}from"./framework.BR0mAPCP.js";import{g as yr,K as lr,e as cu,af as Wt,C as kt,k as lu}from"./theme.ClagsQLu.js";function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Wr.apply(null,arguments)}var $n={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function hu(e,r){if(kr(e,r))return e[r];throw typeof e[r]=="function"&&Du(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function vu(e,r,t){if(kr(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function kr(e,r){return!pu(e)&&!Array.isArray(e)?!1:$r(du,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Du(e,r){return e==null||typeof e[r]!="function"||$r(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:$r(mu,r)?!0:!(r in Object.prototype||r in Function.prototype)}function pu(e){return typeof e=="object"&&e&&e.constructor===Object}var du={length:!0,name:!0},mu={toString:!0,valueOf:!0,toLocaleString:!0};class gu{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return hu(this.wrappedObject,r)}set(r,t){return vu(this.wrappedObject,r,t),this}has(r){return kr(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return wu(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){kr(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function wu(e,r){return{next:()=>{var t=e.next();return t.done?t:{value:r(t.value),done:!1}}}}function Fe(e){return typeof e=="number"}function ze(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Fu(e){return typeof e=="bigint"}function qn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Rn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Ln(e){return e&&e.constructor.prototype.isUnit===!0||!1}function or(e){return typeof e=="string"}var Ce=Array.isArray;function Te(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function jr(e){return Array.isArray(e)||Te(e)}function Un(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Zn(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function yu(e){return e&&e.constructor.prototype.isRange===!0||!1}function $t(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Au(e){return typeof e=="boolean"}function Eu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Cu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function _u(e){return typeof e=="function"}function Mu(e){return e instanceof Date}function Bu(e){return e instanceof RegExp}function qt(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!qn(e)&&!Rn(e))}function Su(e){return e?e instanceof Map||e instanceof gu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function bu(e){return e===null}function xu(e){return e===void 0}function Nu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Tu(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function zu(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ou(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Iu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pu(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function $u(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function qu(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ru(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lu(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Uu(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vu(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hu(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ju(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yu(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gu(e){return e&&e.constructor.prototype.isChain===!0||!1}function pr(e){var r=typeof e;return r==="object"?e===null?"null":ze(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function _e(e){var r=typeof e;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return _e(t)});if(e instanceof Date)return new Date(e.valueOf());if(ze(e))return e;if(qt(e))return Xu(e,_e);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Xu(e,r){var t={};for(var i in e)$r(e,i)&&(t[i]=r(e[i]));return t}function Ku(e,r){for(var t in r)$r(r,t)&&(e[t]=r[t]);return e}function dr(e,r){var t,i,n;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(i=0,n=e.length;i<n;i++)if(!dr(e[i],r[i]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!dr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function $r(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Qu(e,r){for(var t={},i=0;i<r.length;i++){var n=r[i],u=e[n];u!==void 0&&(t[n]=u)}return t}var Wu=["Matrix","Array"],ku=["number","BigNumber","Fraction"],Cr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze($n)};Wr(Cr,$n,{MATRIX_OPTIONS:Wu,NUMBER_OPTIONS:ku});function jt(){return!0}function Ke(){return!1}function Br(){}const en="Argument is not a typed-function.";function Vn(){function e(C){return typeof C=="object"&&C!==null&&C.constructor===Object}const r=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],t={name:"any",test:jt,isAny:!0};let i,n,u=0,o={createCount:0};function f(C){const S=i.get(C);if(S)return S;let N='Unknown type "'+C+'"';const $=C.toLowerCase();let U;for(U of n)if(U.toLowerCase()===$){N+='. Did you mean "'+U+'" ?';break}throw new TypeError(N)}function c(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=S?f(S).index:n.length,$=[];for(let q=0;q<C.length;++q){if(!C[q]||typeof C[q].name!="string"||typeof C[q].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const G=C[q].name;if(i.has(G))throw new TypeError('Duplicate type name "'+G+'"');$.push(G),i.set(G,{name:G,test:C[q].test,isAny:C[q].isAny,index:N+q,conversionsTo:[]})}const U=n.slice(N);n=n.slice(0,N).concat($).concat(U);for(let q=N+$.length;q<n.length;++q)i.get(n[q]).index=q}function h(){i=new Map,n=[],u=0,c([t],!1)}h(),c(r);function a(){let C;for(C of n)i.get(C).conversionsTo=[];u=0}function s(C){const S=n.filter(N=>{const $=i.get(N);return!$.isAny&&$.test(C)});return S.length?S:["any"]}function v(C){return C&&typeof C=="function"&&"_typedFunctionData"in C}function D(C,S,N){if(!v(C))throw new TypeError(en);const $=N&&N.exact,U=Array.isArray(S)?S.join(","):S,q=A(U),G=m(q);if(!$||G in C.signatures){const de=C._typedFunctionData.signatureMap.get(G);if(de)return de}const V=q.length;let X;if($){X=[];let de;for(de in C.signatures)X.push(C._typedFunctionData.signatureMap.get(de))}else X=C._typedFunctionData.signatures;for(let de=0;de<V;++de){const we=q[de],Me=[];let Ve;for(Ve of X){const Le=M(Ve.params,de);if(!(!Le||we.restParam&&!Le.restParam)){if(!Le.hasAny){const ke=w(Le);if(we.types.some(je=>!ke.has(je.name)))continue}Me.push(Ve)}}if(X=Me,X.length===0)break}let Z;for(Z of X)if(Z.params.length<=V)return Z;throw new TypeError("Signature not found (signature: "+(C.name||"unnamed")+"("+m(q,", ")+"))")}function d(C,S,N){return D(C,S,N).implementation}function l(C,S){const N=f(S);if(N.test(C))return C;const $=N.conversionsTo;if($.length===0)throw new Error("There are no conversions to "+S+" defined.");for(let U=0;U<$.length;U++)if(f($[U].from).test(C))return $[U].convert(C);throw new Error("Cannot convert "+C+" to "+S)}function m(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return C.map(N=>N.name).join(S)}function g(C){const S=C.indexOf("...")===0,$=(S?C.length>3?C.slice(3):"any":C).split("|").map(V=>f(V.trim()));let U=!1,q=S?"...":"";return{types:$.map(function(V){return U=V.isAny||U,q+=V.name+"|",{name:V.name,typeIndex:V.index,test:V.test,isAny:V.isAny,conversion:null,conversionIndex:-1}}),name:q.slice(0,-1),hasAny:U,hasConversion:!1,restParam:S}}function y(C){const S=C.types.map(G=>G.name),N=Y(S);let $=C.hasAny,U=C.name;const q=N.map(function(G){const V=f(G.from);return $=V.isAny||$,U+="|"+G.from,{name:G.from,typeIndex:V.index,test:V.test,isAny:V.isAny,conversion:G,conversionIndex:G.index}});return{types:C.types.concat(q),name:U,hasAny:$,hasConversion:q.length>0,restParam:C.restParam}}function w(C){return C.typeSet||(C.typeSet=new Set,C.types.forEach(S=>C.typeSet.add(S.name))),C.typeSet}function A(C){const S=[];if(typeof C!="string")throw new TypeError("Signatures must be strings");const N=C.trim();if(N==="")return S;const $=N.split(",");for(let U=0;U<$.length;++U){const q=g($[U].trim());if(q.restParam&&U!==$.length-1)throw new SyntaxError('Unexpected rest parameter "'+$[U]+'": only allowed for the last parameter');if(q.types.length===0)return null;S.push(q)}return S}function F(C){const S=ae(C);return S?S.restParam:!1}function p(C){if(!C||C.types.length===0)return jt;if(C.types.length===1)return f(C.types[0].name).test;if(C.types.length===2){const S=f(C.types[0].name).test,N=f(C.types[1].name).test;return function(U){return S(U)||N(U)}}else{const S=C.types.map(function(N){return f(N.name).test});return function($){for(let U=0;U<S.length;U++)if(S[U]($))return!0;return!1}}}function _(C){let S,N,$;if(F(C)){S=fe(C).map(p);const U=S.length,q=p(ae(C)),G=function(V){for(let X=U;X<V.length;X++)if(!q(V[X]))return!1;return!0};return function(X){for(let Z=0;Z<S.length;Z++)if(!S[Z](X[Z]))return!1;return G(X)&&X.length>=U+1}}else return C.length===0?function(q){return q.length===0}:C.length===1?(N=p(C[0]),function(q){return N(q[0])&&q.length===1}):C.length===2?(N=p(C[0]),$=p(C[1]),function(q){return N(q[0])&&$(q[1])&&q.length===2}):(S=C.map(p),function(q){for(let G=0;G<S.length;G++)if(!S[G](q[G]))return!1;return q.length===S.length})}function M(C,S){return S<C.length?C[S]:F(C)?ae(C):null}function E(C,S){const N=M(C,S);return N?w(N):new Set}function B(C){return C.conversion===null||C.conversion===void 0}function b(C,S){const N=new Set;return C.forEach($=>{const U=E($.params,S);let q;for(q of U)N.add(q)}),N.has("any")?["any"]:Array.from(N)}function z(C,S,N){let $,U;const q=C||"unnamed";let G=N,V;for(V=0;V<S.length;V++){const we=[];if(G.forEach(Me=>{const Ve=M(Me.params,V),Le=p(Ve);(V<Me.params.length||F(Me.params))&&Le(S[V])&&we.push(Me)}),we.length===0){if(U=b(G,V),U.length>0){const Me=s(S[V]);return $=new TypeError("Unexpected type of argument in function "+q+" (expected: "+U.join(" or ")+", actual: "+Me.join(" | ")+", index: "+V+")"),$.data={category:"wrongType",fn:q,index:V,actual:Me,expected:U},$}}else G=we}const X=G.map(function(we){return F(we.params)?1/0:we.params.length});if(S.length<Math.min.apply(null,X))return U=b(G,V),$=new TypeError("Too few arguments in function "+q+" (expected: "+U.join(" or ")+", index: "+S.length+")"),$.data={category:"tooFewArgs",fn:q,index:S.length,expected:U},$;const Z=Math.max.apply(null,X);if(S.length>Z)return $=new TypeError("Too many arguments in function "+q+" (expected: "+Z+", actual: "+S.length+")"),$.data={category:"tooManyArgs",fn:q,index:S.length,expectedLength:Z},$;const de=[];for(let we=0;we<S.length;++we)de.push(s(S[we]).join("|"));return $=new TypeError('Arguments of type "'+de.join(", ")+'" do not match any of the defined signatures of function '+q+"."),$.data={category:"mismatch",actual:de},$}function L(C){let S=n.length+1;for(let N=0;N<C.types.length;N++)B(C.types[N])&&(S=Math.min(S,C.types[N].typeIndex));return S}function P(C){let S=u+1;for(let N=0;N<C.types.length;N++)B(C.types[N])||(S=Math.min(S,C.types[N].conversionIndex));return S}function I(C,S){if(C.hasAny){if(!S.hasAny)return 1}else if(S.hasAny)return-1;if(C.restParam){if(!S.restParam)return 1}else if(S.restParam)return-1;if(C.hasConversion){if(!S.hasConversion)return 1}else if(S.hasConversion)return-1;const N=L(C)-L(S);if(N<0)return-1;if(N>0)return 1;const $=P(C)-P(S);return $<0?-1:$>0?1:0}function x(C,S){const N=C.params,$=S.params,U=ae(N),q=ae($),G=F(N),V=F($);if(G&&U.hasAny){if(!V||!q.hasAny)return 1}else if(V&&q.hasAny)return-1;let X=0,Z=0,de;for(de of N)de.hasAny&&++X,de.hasConversion&&++Z;let we=0,Me=0;for(de of $)de.hasAny&&++we,de.hasConversion&&++Me;if(X!==we)return X-we;if(G&&U.hasConversion){if(!V||!q.hasConversion)return 1}else if(V&&q.hasConversion)return-1;if(Z!==Me)return Z-Me;if(G){if(!V)return 1}else if(V)return-1;const Ve=(N.length-$.length)*(G?-1:1);if(Ve!==0)return Ve;const Le=[];let ke=0;for(let Mr=0;Mr<N.length;++Mr){const Vr=I(N[Mr],$[Mr]);Le.push(Vr),ke+=Vr}if(ke!==0)return ke;let je;for(je of Le)if(je!==0)return je;return 0}function Y(C){if(C.length===0)return[];const S=C.map(f);C.length>1&&S.sort((U,q)=>U.index-q.index);let N=S[0].conversionsTo;if(C.length===1)return N;N=N.concat([]);const $=new Set(C);for(let U=1;U<S.length;++U){let q;for(q of S[U].conversionsTo)$.has(q.from)||(N.push(q),$.add(q.from))}return N}function H(C,S){let N=S;if(C.some(U=>U.hasConversion)){const U=F(C),q=C.map(T);N=function(){const V=[],X=U?arguments.length-1:arguments.length;for(let Z=0;Z<X;Z++)V[Z]=q[Z](arguments[Z]);return U&&(V[X]=arguments[X].map(q[X])),S.apply(this,V)}}let $=N;if(F(C)){const U=C.length-1;$=function(){return N.apply(this,ee(arguments,0,U).concat([ee(arguments,U)]))}}return $}function T(C){let S,N,$,U;const q=[],G=[];switch(C.types.forEach(function(V){V.conversion&&(q.push(f(V.conversion.from).test),G.push(V.conversion.convert))}),G.length){case 0:return function(X){return X};case 1:return S=q[0],$=G[0],function(X){return S(X)?$(X):X};case 2:return S=q[0],N=q[1],$=G[0],U=G[1],function(X){return S(X)?$(X):N(X)?U(X):X};default:return function(X){for(let Z=0;Z<G.length;Z++)if(q[Z](X))return G[Z](X);return X}}}function J(C){function S(N,$,U){if($<N.length){const q=N[$];let G=[];if(q.restParam){const V=q.types.filter(B);V.length<q.types.length&&G.push({types:V,name:"..."+V.map(X=>X.name).join("|"),hasAny:V.some(X=>X.isAny),hasConversion:!1,restParam:!0}),G.push(q)}else G=q.types.map(function(V){return{types:[V],name:V.name,hasAny:V.isAny,hasConversion:V.conversion,restParam:!1}});return me(G,function(V){return S(N,$+1,U.concat([V]))})}else return[U]}return S(C,0,[])}function K(C,S){const N=Math.max(C.length,S.length);for(let V=0;V<N;V++){const X=E(C,V),Z=E(S,V);let de=!1,we;for(we of Z)if(X.has(we)){de=!0;break}if(!de)return!1}const $=C.length,U=S.length,q=F(C),G=F(S);return q?G?$===U:U>=$:G?$>=U:$===U}function ue(C){return C.map(S=>Ie(S)?Be(S.referToSelf.callback):Ze(S)?le(S.referTo.references,S.referTo.callback):S)}function te(C,S,N){const $=[];let U;for(U of C){let q=N[U];if(typeof q!="number")throw new TypeError('No definition for referenced signature "'+U+'"');if(q=S[q],typeof q!="function")return!1;$.push(q)}return $}function k(C,S,N){const $=ue(C),U=new Array($.length).fill(!1);let q=!0;for(;q;){q=!1;let G=!0;for(let V=0;V<$.length;++V){if(U[V])continue;const X=$[V];if(Ie(X))$[V]=X.referToSelf.callback(N),$[V].referToSelf=X.referToSelf,U[V]=!0,G=!1;else if(Ze(X)){const Z=te(X.referTo.references,$,S);Z?($[V]=X.referTo.callback.apply(this,Z),$[V].referTo=X.referTo,U[V]=!0,G=!1):q=!0}}if(G&&q)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return $}function ve(C){const S=/\bthis(\(|\.signatures\b)/;Object.keys(C).forEach(N=>{const $=C[N];if(S.test($.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function se(C,S){if(o.createCount++,Object.keys(S).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ve(S);const N=[],$=[],U={},q=[];let G;for(G in S){if(!Object.prototype.hasOwnProperty.call(S,G))continue;const De=A(G);if(!De)continue;N.forEach(function(Pr){if(K(Pr,De))throw new TypeError('Conflicting signatures "'+m(Pr)+'" and "'+m(De)+'".')}),N.push(De);const He=$.length;$.push(S[G]);const iu=De.map(y);let Hr;for(Hr of J(iu)){const Pr=m(Hr);q.push({params:Hr,name:Pr,fn:He}),Hr.every(uu=>!uu.hasConversion)&&(U[Pr]=He)}}q.sort(x);const V=k($,U,Ir);let X;for(X in U)Object.prototype.hasOwnProperty.call(U,X)&&(U[X]=V[U[X]]);const Z=[],de=new Map;for(X of q)de.has(X.name)||(X.fn=V[X.fn],Z.push(X),de.set(X.name,X));const we=Z[0]&&Z[0].params.length<=2&&!F(Z[0].params),Me=Z[1]&&Z[1].params.length<=2&&!F(Z[1].params),Ve=Z[2]&&Z[2].params.length<=2&&!F(Z[2].params),Le=Z[3]&&Z[3].params.length<=2&&!F(Z[3].params),ke=Z[4]&&Z[4].params.length<=2&&!F(Z[4].params),je=Z[5]&&Z[5].params.length<=2&&!F(Z[5].params),Mr=we&&Me&&Ve&&Le&&ke&&je;for(let De=0;De<Z.length;++De)Z[De].test=_(Z[De].params);const Vr=we?p(Z[0].params[0]):Ke,xi=Me?p(Z[1].params[0]):Ke,Ni=Ve?p(Z[2].params[0]):Ke,Ti=Le?p(Z[3].params[0]):Ke,zi=ke?p(Z[4].params[0]):Ke,Oi=je?p(Z[5].params[0]):Ke,Ii=we?p(Z[0].params[1]):Ke,Pi=Me?p(Z[1].params[1]):Ke,$i=Ve?p(Z[2].params[1]):Ke,qi=Le?p(Z[3].params[1]):Ke,Ri=ke?p(Z[4].params[1]):Ke,Li=je?p(Z[5].params[1]):Ke;for(let De=0;De<Z.length;++De)Z[De].implementation=H(Z[De].params,Z[De].fn);const Ui=we?Z[0].implementation:Br,Zi=Me?Z[1].implementation:Br,Vi=Ve?Z[2].implementation:Br,Hi=Le?Z[3].implementation:Br,Ji=ke?Z[4].implementation:Br,Yi=je?Z[5].implementation:Br,Gi=we?Z[0].params.length:-1,Xi=Me?Z[1].params.length:-1,Ki=Ve?Z[2].params.length:-1,Qi=Le?Z[3].params.length:-1,Wi=ke?Z[4].params.length:-1,ki=je?Z[5].params.length:-1,ji=Mr?6:0,eu=Z.length,ru=Z.map(De=>De.test),tu=Z.map(De=>De.implementation),nu=function(){for(let He=ji;He<eu;He++)if(ru[He](arguments))return tu[He].apply(this,arguments);return o.onMismatch(C,arguments,Z)};function Ir(De,He){return arguments.length===Gi&&Vr(De)&&Ii(He)?Ui.apply(this,arguments):arguments.length===Xi&&xi(De)&&Pi(He)?Zi.apply(this,arguments):arguments.length===Ki&&Ni(De)&&$i(He)?Vi.apply(this,arguments):arguments.length===Qi&&Ti(De)&&qi(He)?Hi.apply(this,arguments):arguments.length===Wi&&zi(De)&&Ri(He)?Ji.apply(this,arguments):arguments.length===ki&&Oi(De)&&Li(He)?Yi.apply(this,arguments):nu.apply(this,arguments)}try{Object.defineProperty(Ir,"name",{value:C})}catch{}return Ir.signatures=U,Ir._typedFunctionData={signatures:Z,signatureMap:de},Ir}function ie(C,S,N){throw z(C,S,N)}function fe(C){return ee(C,0,C.length-1)}function ae(C){return C[C.length-1]}function ee(C,S,N){return Array.prototype.slice.call(C,S,N)}function Ae(C,S){for(let N=0;N<C.length;N++)if(S(C[N]))return C[N]}function me(C,S){return Array.prototype.concat.apply([],C.map(S))}function oe(){const C=fe(arguments).map(N=>m(A(N))),S=ae(arguments);if(typeof S!="function")throw new TypeError("Callback function expected as last argument");return le(C,S)}function le(C,S){return{referTo:{references:C,callback:S}}}function Be(C){if(typeof C!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:C}}}function Ze(C){return C&&typeof C.referTo=="object"&&Array.isArray(C.referTo.references)&&typeof C.referTo.callback=="function"}function Ie(C){return C&&typeof C.referToSelf=="object"&&typeof C.referToSelf.callback=="function"}function ce(C,S){if(!C)return S;if(S&&S!==C){const N=new Error("Function names do not match (expected: "+C+", actual: "+S+")");throw N.data={actual:S,expected:C},N}return C}function Pe(C){let S;for(const N in C)Object.prototype.hasOwnProperty.call(C,N)&&(v(C[N])||typeof C[N].signature=="string")&&(S=ce(S,C[N].name));return S}function We(C,S){let N;for(N in S)if(Object.prototype.hasOwnProperty.call(S,N)){if(N in C&&S[N]!==C[N]){const $=new Error('Signature "'+N+'" is defined twice');throw $.data={signature:N,sourceFunction:S[N],destFunction:C[N]},$}C[N]=S[N]}}const yt=o;o=function(C){const S=typeof C=="string",N=S?1:0;let $=S?C:"";const U={};for(let q=N;q<arguments.length;++q){const G=arguments[q];let V={},X;if(typeof G=="function"?(X=G.name,typeof G.signature=="string"?V[G.signature]=G:v(G)&&(V=G.signatures)):e(G)&&(V=G,S||(X=Pe(G))),Object.keys(V).length===0){const Z=new TypeError("Argument to 'typed' at index "+q+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Z.data={index:q,argument:G},Z}S||($=ce($,X)),We(U,V)}return se($||"",U)},o.create=Vn,o.createCount=yt.createCount,o.onMismatch=ie,o.throwMismatchError=ie,o.createError=z,o.clear=h,o.clearConversions=a,o.addTypes=c,o._findType=f,o.referTo=oe,o.referToSelf=Be,o.convert=l,o.findSignature=D,o.find=d,o.isTypedFunction=v,o.warnAgainstDeprecatedThis=!0,o.addType=function(C,S){let N="any";S!==!1&&i.has("Object")&&(N="Object"),o.addTypes([C],N)};function Or(C){if(!C||typeof C.from!="string"||typeof C.to!="string"||typeof C.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(C.to===C.from)throw new SyntaxError('Illegal to define conversion from "'+C.from+'" to itself.')}return o.addConversion=function(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Or(C);const N=f(C.to),$=N.conversionsTo.find(U=>U.from===C.from);if($)if(S&&S.override)o.removeConversion({from:$.from,to:C.to,convert:$.convert});else throw new Error('There is already a conversion from "'+C.from+'" to "'+N.name+'"');N.conversionsTo.push({from:C.from,convert:C.convert,index:u++})},o.addConversions=function(C,S){C.forEach(N=>o.addConversion(N,S))},o.removeConversion=function(C){Or(C);const S=f(C.to),N=Ae(S.conversionsTo,U=>U.from===C.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+C.from+" to "+C.to);if(N.convert!==C.convert)throw new Error("Conversion to remove does not match existing conversion");const $=S.conversionsTo.indexOf(N);S.conversionsTo.splice($,1)},o.resolve=function(C,S){if(!v(C))throw new TypeError(en);const N=C._typedFunctionData.signatures;for(let $=0;$<N.length;++$)if(N[$].test(S))return N[$];return null},o}const et=Vn();function W(e,r,t,i){function n(u){var o=Qu(u,r.map(ra));return ju(e,r,u),t(o)}return n.isFactory=!0,n.fn=e,n.dependencies=r.slice().sort(),i&&(n.meta=i),n}function ju(e,r,t){var i=r.filter(u=>!ea(u)).every(u=>t[u]!==void 0);if(!i){var n=r.filter(u=>t[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function ea(e){return e&&e[0]==="?"}function ra(e){return e&&e[0]==="?"?e.slice(1):e}function be(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Ct(e,r,t){var i={2:"0b",8:"0o",16:"0x"},n=i[r],u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!be(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!be(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),u="i".concat(t)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(r)).concat(u)}function St(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:t,precision:i,wordSize:n}=Hn(r);switch(t){case"fixed":return na(e,i);case"exponential":return Jn(e,i);case"engineering":return ta(e,i);case"bin":return Ct(e,2,n);case"oct":return Ct(e,8,n);case"hex":return Ct(e,16,n);case"auto":return ia(e,i,r).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Hn(e){var r="auto",t,i;if(e!==void 0)if(Fe(e))t=e;else if(ze(e))t=e.toNumber();else if(qt(e))e.precision!==void 0&&(t=rn(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(i=rn(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:i}}function ft(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],i=r[2],n=parseFloat(r[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(f){return n-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return o.length===0&&(o.push(0),n++),{sign:t,coefficients:o,exponent:n}}function ta(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ft(e),i=ct(t,r),n=i.exponent,u=i.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Fe(r))for(;r>u.length||n-o+1>u.length;)u.push(0);else for(var f=Math.abs(n-o)-(u.length-1),c=0;c<f;c++)u.push(0);for(var h=Math.abs(n-o),a=1;h>0;)a++,h--;var s=u.slice(a).join(""),v=Fe(r)&&s.length||s.match(/[1-9]/)?"."+s:"",D=u.slice(0,a).join("")+v+"e"+(n>=0?"+":"")+o.toString();return i.sign+D}function na(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ft(e),i=typeof r=="number"?ct(t,t.exponent+1+r):t,n=i.coefficients,u=i.exponent+1,o=u+(r||0);return n.length<o&&(n=n.concat(Nr(o-n.length))),u<0&&(n=Nr(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function Jn(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ft(e),i=r?ct(t,r):t,n=i.coefficients,u=i.exponent;n.length<r&&(n=n.concat(Nr(r-n.length)));var o=n.shift();return i.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function ia(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var i=tn(t==null?void 0:t.lowerExp,-3),n=tn(t==null?void 0:t.upperExp,5),u=ft(e),o=r?ct(u,r):u;if(o.exponent<i||o.exponent>=n)return Jn(e,r);var f=o.coefficients,c=o.exponent;f.length<r&&(f=f.concat(Nr(r-f.length))),f=f.concat(Nr(c-f.length+1+(f.length<r?r-f.length:0))),f=Nr(-c).concat(f);var h=c>0?c:0;return h<f.length-1&&f.splice(h+1,0,"."),o.sign+f.join("")}function ct(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=t.coefficients;r<=0;)i.unshift(0),t.exponent++,r++;if(i.length>r){var n=i.splice(r,i.length-r);if(n[0]>=5){var u=r-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),t.exponent++,u++),u--,i[u]++}}return t}function Nr(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function ua(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Er(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(r)?!1:!isFinite(e)||!isFinite(r)?e===r:e===r?!0:Math.abs(e-r)<=Math.max(t*Math.max(Math.abs(e),Math.abs(r)),i)}function rn(e,r){if(Fe(e))return e;if(ze(e))return e.toNumber();r()}function tn(e,r){return Fe(e)?e:ze(e)?e.toNumber():r}var Yn=function(){return Yn=et.create,et},aa=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],oa=W("typed",aa,function(r){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:u}=r,o=Yn();return o.clear(),o.addTypes([{name:"number",test:Fe},{name:"Complex",test:qn},{name:"BigNumber",test:ze},{name:"bigint",test:Fu},{name:"Fraction",test:Rn},{name:"Unit",test:Ln},{name:"identifier",test:f=>or&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(f)},{name:"string",test:or},{name:"Chain",test:Gu},{name:"Array",test:Ce},{name:"Matrix",test:Te},{name:"DenseMatrix",test:Un},{name:"SparseMatrix",test:Zn},{name:"Range",test:yu},{name:"Index",test:$t},{name:"boolean",test:Au},{name:"ResultSet",test:Eu},{name:"Help",test:Cu},{name:"function",test:_u},{name:"Date",test:Mu},{name:"RegExp",test:Bu},{name:"null",test:bu},{name:"undefined",test:xu},{name:"AccessorNode",test:Nu},{name:"ArrayNode",test:Tu},{name:"AssignmentNode",test:zu},{name:"BlockNode",test:Ou},{name:"ConditionalNode",test:Iu},{name:"ConstantNode",test:Pu},{name:"FunctionNode",test:qu},{name:"FunctionAssignmentNode",test:$u},{name:"IndexNode",test:Ru},{name:"Node",test:Lu},{name:"ObjectNode",test:Uu},{name:"OperatorNode",test:Zu},{name:"ParenthesisNode",test:Vu},{name:"RangeNode",test:Hu},{name:"RelationalNode",test:Ju},{name:"SymbolNode",test:Yu},{name:"Map",test:Su},{name:"Object",test:qt}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(t||Yr(c),ua(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new t(c)}},{from:"number",to:"Complex",convert:function(c){return i||Gr(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||Gr(c),new i(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return t||Yr(c),new t(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return u||Xr(c),new u(c.toString())}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||Gr(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){u||Xr(c);var h=new u(c);if(h.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(c){var h=Number(c);if(isNaN(h))throw new Error('Cannot convert "'+c+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(c){t||Yr(c);try{return new t(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){u||Xr(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||Gr(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return t||Yr(c),new t(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return u||Xr(c),new u(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||sa(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(f,c,h)=>{var a=o.createError(f,c,h);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&jr(c[0])&&h.some(v=>!v.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=a.data,s}throw a},o.onMismatch=(f,c,h)=>{var a=o.createError(f,c,h);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&jr(c[0])&&h.some(v=>!v.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=a.data,s}throw a},o});function Yr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Gr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function sa(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Xr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var br=9e15,gr=1e9,bt="0123456789abcdef",rt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",xt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-br,maxE:br,crypto:!1},Gn,cr,ne=!0,lt="[DecimalError] ",mr=lt+"Invalid argument: ",Xn=lt+"Precision limit exceeded",Kn=lt+"crypto unavailable",Qn="[object Decimal]",Re=Math.floor,Se=Math.pow,fa=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ca=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,la=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Wn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ur=1e7,re=7,ha=9007199254740991,va=rt.length-1,Nt=tt.length-1,R={toStringTag:Qn};R.absoluteValue=R.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),j(e)};R.ceil=function(){return j(new this.constructor(this),this.e+1,2)};R.clampedTo=R.clamp=function(e,r){var t,i=this,n=i.constructor;if(e=new n(e),r=new n(r),!e.s||!r.s)return new n(NaN);if(e.gt(r))throw Error(mr+r);return t=i.cmp(e),t<0?e:i.cmp(r)>0?r:new n(i)};R.comparedTo=R.cmp=function(e){var r,t,i,n,u=this,o=u.d,f=(e=new u.constructor(e)).d,c=u.s,h=e.s;if(!o||!f)return!c||!h?NaN:c!==h?c:o===f?0:!o^c<0?1:-1;if(!o[0]||!f[0])return o[0]?c:f[0]?-h:0;if(c!==h)return c;if(u.e!==e.e)return u.e>e.e^c<0?1:-1;for(i=o.length,n=f.length,r=0,t=i<n?i:n;r<t;++r)if(o[r]!==f[r])return o[r]>f[r]^c<0?1:-1;return i===n?0:i>n^c<0?1:-1};R.cosine=R.cos=function(){var e,r,t=this,i=t.constructor;return t.d?t.d[0]?(e=i.precision,r=i.rounding,i.precision=e+Math.max(t.e,t.sd())+re,i.rounding=1,t=Da(i,ti(i,t)),i.precision=e,i.rounding=r,j(cr==2||cr==3?t.neg():t,e,r,!0)):new i(1):new i(NaN)};R.cubeRoot=R.cbrt=function(){var e,r,t,i,n,u,o,f,c,h,a=this,s=a.constructor;if(!a.isFinite()||a.isZero())return new s(a);for(ne=!1,u=a.s*Se(a.s*a,1/3),!u||Math.abs(u)==1/0?(t=Oe(a.d),e=a.e,(u=(e-t.length+1)%3)&&(t+=u==1||u==-2?"0":"00"),u=Se(t,1/3),e=Re((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?t="5e"+e:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new s(t),i.s=a.s):i=new s(u.toString()),o=(e=s.precision)+3;;)if(f=i,c=f.times(f).times(f),h=c.plus(a),i=ge(h.plus(a).times(f),h.plus(c),o+2,1),Oe(f.d).slice(0,o)===(t=Oe(i.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!n&&t=="4999"){if(!n&&(j(f,e+1,0),f.times(f).times(f).eq(a))){i=f;break}o+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(j(i,e+1,1),r=!i.times(i).times(i).eq(a));break}return ne=!0,j(i,e,s.rounding,r)};R.decimalPlaces=R.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-Re(this.e/re))*re,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};R.dividedBy=R.div=function(e){return ge(this,new this.constructor(e))};R.dividedToIntegerBy=R.divToInt=function(e){var r=this,t=r.constructor;return j(ge(r,new t(e),0,1,1),t.precision,t.rounding)};R.equals=R.eq=function(e){return this.cmp(e)===0};R.floor=function(){return j(new this.constructor(this),this.e+1,3)};R.greaterThan=R.gt=function(e){return this.cmp(e)>0};R.greaterThanOrEqualTo=R.gte=function(e){var r=this.cmp(e);return r==1||r===0};R.hyperbolicCosine=R.cosh=function(){var e,r,t,i,n,u=this,o=u.constructor,f=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return f;t=o.precision,i=o.rounding,o.precision=t+Math.max(u.e,u.sd())+4,o.rounding=1,n=u.d.length,n<32?(e=Math.ceil(n/3),r=(1/vt(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),u=Tr(o,1,u.times(r),new o(1),!0);for(var c,h=e,a=new o(8);h--;)c=u.times(u),u=f.minus(c.times(a.minus(c.times(a))));return j(u,o.precision=t,o.rounding=i,!0)};R.hyperbolicSine=R.sinh=function(){var e,r,t,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(r=u.precision,t=u.rounding,u.precision=r+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=Tr(u,2,n,n,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,n=n.times(1/vt(5,e)),n=Tr(u,2,n,n,!0);for(var o,f=new u(5),c=new u(16),h=new u(20);e--;)o=n.times(n),n=n.times(f.plus(o.times(c.times(o).plus(h))))}return u.precision=r,u.rounding=t,j(n,r,t,!0)};R.hyperbolicTangent=R.tanh=function(){var e,r,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+7,i.rounding=1,ge(t.sinh(),t.cosh(),i.precision=e,i.rounding=r)):new i(t.s)};R.inverseCosine=R.acos=function(){var e,r=this,t=r.constructor,i=r.abs().cmp(1),n=t.precision,u=t.rounding;return i!==-1?i===0?r.isNeg()?ir(t,n,u):new t(0):new t(NaN):r.isZero()?ir(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,r=r.asin(),e=ir(t,n+4,u).times(.5),t.precision=n,t.rounding=u,e.minus(r))};R.inverseHyperbolicCosine=R.acosh=function(){var e,r,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(e=i.precision,r=i.rounding,i.precision=e+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,ne=!1,t=t.times(t).minus(1).sqrt().plus(t),ne=!0,i.precision=e,i.rounding=r,t.ln()):new i(t)};R.inverseHyperbolicSine=R.asinh=function(){var e,r,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,ne=!1,t=t.times(t).plus(1).sqrt().plus(t),ne=!0,i.precision=e,i.rounding=r,t.ln())};R.inverseHyperbolicTangent=R.atanh=function(){var e,r,t,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=u.precision,r=u.rounding,i=n.sd(),Math.max(i,e)<2*-n.e-1?j(new u(n),e,r,!0):(u.precision=t=i-n.e,n=ge(n.plus(1),new u(1).minus(n),t+e,1),u.precision=e+4,u.rounding=1,n=n.ln(),u.precision=e,u.rounding=r,n.times(.5))):new u(NaN)};R.inverseSine=R.asin=function(){var e,r,t,i,n=this,u=n.constructor;return n.isZero()?new u(n):(r=n.abs().cmp(1),t=u.precision,i=u.rounding,r!==-1?r===0?(e=ir(u,t+4,i).times(.5),e.s=n.s,e):new u(NaN):(u.precision=t+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=t,u.rounding=i,n.times(2)))};R.inverseTangent=R.atan=function(){var e,r,t,i,n,u,o,f,c,h=this,a=h.constructor,s=a.precision,v=a.rounding;if(h.isFinite()){if(h.isZero())return new a(h);if(h.abs().eq(1)&&s+4<=Nt)return o=ir(a,s+4,v).times(.25),o.s=h.s,o}else{if(!h.s)return new a(NaN);if(s+4<=Nt)return o=ir(a,s+4,v).times(.5),o.s=h.s,o}for(a.precision=f=s+10,a.rounding=1,t=Math.min(28,f/re+2|0),e=t;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(ne=!1,r=Math.ceil(f/re),i=1,c=h.times(h),o=new a(h),n=h;e!==-1;)if(n=n.times(c),u=o.minus(n.div(i+=2)),n=n.times(c),o=u.plus(n.div(i+=2)),o.d[r]!==void 0)for(e=r;o.d[e]===u.d[e]&&e--;);return t&&(o=o.times(2<<t-1)),ne=!0,j(o,a.precision=s,a.rounding=v,!0)};R.isFinite=function(){return!!this.d};R.isInteger=R.isInt=function(){return!!this.d&&Re(this.e/re)>this.d.length-2};R.isNaN=function(){return!this.s};R.isNegative=R.isNeg=function(){return this.s<0};R.isPositive=R.isPos=function(){return this.s>0};R.isZero=function(){return!!this.d&&this.d[0]===0};R.lessThan=R.lt=function(e){return this.cmp(e)<0};R.lessThanOrEqualTo=R.lte=function(e){return this.cmp(e)<1};R.logarithm=R.log=function(e){var r,t,i,n,u,o,f,c,h=this,a=h.constructor,s=a.precision,v=a.rounding,D=5;if(e==null)e=new a(10),r=!0;else{if(e=new a(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new a(NaN);r=e.eq(10)}if(t=h.d,h.s<0||!t||!t[0]||h.eq(1))return new a(t&&!t[0]?-1/0:h.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)u=!0;else{for(n=t[0];n%10===0;)n/=10;u=n!==1}if(ne=!1,f=s+D,o=Dr(h,f),i=r?nt(a,f+10):Dr(e,f),c=ge(o,i,f,1),qr(c.d,n=s,v))do if(f+=10,o=Dr(h,f),i=r?nt(a,f+10):Dr(e,f),c=ge(o,i,f,1),!u){+Oe(c.d).slice(n+1,n+15)+1==1e14&&(c=j(c,s+1,0));break}while(qr(c.d,n+=10,v));return ne=!0,j(c,s,v)};R.minus=R.sub=function(e){var r,t,i,n,u,o,f,c,h,a,s,v,D=this,d=D.constructor;if(e=new d(e),!D.d||!e.d)return!D.s||!e.s?e=new d(NaN):D.d?e.s=-e.s:e=new d(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(h=D.d,v=e.d,f=d.precision,c=d.rounding,!h[0]||!v[0]){if(v[0])e.s=-e.s;else if(h[0])e=new d(D);else return new d(c===3?-0:0);return ne?j(e,f,c):e}if(t=Re(e.e/re),a=Re(D.e/re),h=h.slice(),u=a-t,u){for(s=u<0,s?(r=h,u=-u,o=v.length):(r=v,t=a,o=h.length),i=Math.max(Math.ceil(f/re),o)+2,u>i&&(u=i,r.length=1),r.reverse(),i=u;i--;)r.push(0);r.reverse()}else{for(i=h.length,o=v.length,s=i<o,s&&(o=i),i=0;i<o;i++)if(h[i]!=v[i]){s=h[i]<v[i];break}u=0}for(s&&(r=h,h=v,v=r,e.s=-e.s),o=h.length,i=v.length-o;i>0;--i)h[o++]=0;for(i=v.length;i>u;){if(h[--i]<v[i]){for(n=i;n&&h[--n]===0;)h[n]=ur-1;--h[n],h[i]+=ur}h[i]-=v[i]}for(;h[--o]===0;)h.pop();for(;h[0]===0;h.shift())--t;return h[0]?(e.d=h,e.e=ht(h,t),ne?j(e,f,c):e):new d(c===3?-0:0)};R.modulo=R.mod=function(e){var r,t=this,i=t.constructor;return e=new i(e),!t.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||t.d&&!t.d[0]?j(new i(t),i.precision,i.rounding):(ne=!1,i.modulo==9?(r=ge(t,e.abs(),0,3,1),r.s*=e.s):r=ge(t,e,0,i.modulo,1),r=r.times(e),ne=!0,t.minus(r))};R.naturalExponential=R.exp=function(){return Tt(this)};R.naturalLogarithm=R.ln=function(){return Dr(this)};R.negated=R.neg=function(){var e=new this.constructor(this);return e.s=-e.s,j(e)};R.plus=R.add=function(e){var r,t,i,n,u,o,f,c,h,a,s=this,v=s.constructor;if(e=new v(e),!s.d||!e.d)return!s.s||!e.s?e=new v(NaN):s.d||(e=new v(e.d||s.s===e.s?s:NaN)),e;if(s.s!=e.s)return e.s=-e.s,s.minus(e);if(h=s.d,a=e.d,f=v.precision,c=v.rounding,!h[0]||!a[0])return a[0]||(e=new v(s)),ne?j(e,f,c):e;if(u=Re(s.e/re),i=Re(e.e/re),h=h.slice(),n=u-i,n){for(n<0?(t=h,n=-n,o=a.length):(t=a,i=u,o=h.length),u=Math.ceil(f/re),o=u>o?u+1:o+1,n>o&&(n=o,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(o=h.length,n=a.length,o-n<0&&(n=o,t=a,a=h,h=t),r=0;n;)r=(h[--n]=h[n]+a[n]+r)/ur|0,h[n]%=ur;for(r&&(h.unshift(r),++i),o=h.length;h[--o]==0;)h.pop();return e.d=h,e.e=ht(h,i),ne?j(e,f,c):e};R.precision=R.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mr+e);return t.d?(r=kn(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};R.round=function(){var e=this,r=e.constructor;return j(new r(e),e.e+1,r.rounding)};R.sine=R.sin=function(){var e,r,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+Math.max(t.e,t.sd())+re,i.rounding=1,t=da(i,ti(i,t)),i.precision=e,i.rounding=r,j(cr>2?t.neg():t,e,r,!0)):new i(NaN)};R.squareRoot=R.sqrt=function(){var e,r,t,i,n,u,o=this,f=o.d,c=o.e,h=o.s,a=o.constructor;if(h!==1||!f||!f[0])return new a(!h||h<0&&(!f||f[0])?NaN:f?o:1/0);for(ne=!1,h=Math.sqrt(+o),h==0||h==1/0?(r=Oe(f),(r.length+c)%2==0&&(r+="0"),h=Math.sqrt(r),c=Re((c+1)/2)-(c<0||c%2),h==1/0?r="5e"+c:(r=h.toExponential(),r=r.slice(0,r.indexOf("e")+1)+c),i=new a(r)):i=new a(h.toString()),t=(c=a.precision)+3;;)if(u=i,i=u.plus(ge(o,u,t+2,1)).times(.5),Oe(u.d).slice(0,t)===(r=Oe(i.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!n&&r=="4999"){if(!n&&(j(u,c+1,0),u.times(u).eq(o))){i=u;break}t+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(j(i,c+1,1),e=!i.times(i).eq(o));break}return ne=!0,j(i,c,a.rounding,e)};R.tangent=R.tan=function(){var e,r,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+10,i.rounding=1,t=t.sin(),t.s=1,t=ge(t,new i(1).minus(t.times(t)).sqrt(),e+10,0),i.precision=e,i.rounding=r,j(cr==2||cr==4?t.neg():t,e,r,!0)):new i(NaN)};R.times=R.mul=function(e){var r,t,i,n,u,o,f,c,h,a=this,s=a.constructor,v=a.d,D=(e=new s(e)).d;if(e.s*=a.s,!v||!v[0]||!D||!D[0])return new s(!e.s||v&&!v[0]&&!D||D&&!D[0]&&!v?NaN:!v||!D?e.s/0:e.s*0);for(t=Re(a.e/re)+Re(e.e/re),c=v.length,h=D.length,c<h&&(u=v,v=D,D=u,o=c,c=h,h=o),u=[],o=c+h,i=o;i--;)u.push(0);for(i=h;--i>=0;){for(r=0,n=c+i;n>i;)f=u[n]+D[i]*v[n-i-1]+r,u[n--]=f%ur|0,r=f/ur|0;u[n]=(u[n]+r)%ur|0}for(;!u[--o];)u.pop();return r?++t:u.shift(),e.d=u,e.e=ht(u,t),ne?j(e,s.precision,s.rounding):e};R.toBinary=function(e,r){return Rt(this,2,e,r)};R.toDecimalPlaces=R.toDP=function(e,r){var t=this,i=t.constructor;return t=new i(t),e===void 0?t:(Ye(e,0,gr),r===void 0?r=i.rounding:Ye(r,0,8),j(t,e+t.e+1,r))};R.toExponential=function(e,r){var t,i=this,n=i.constructor;return e===void 0?t=sr(i,!0):(Ye(e,0,gr),r===void 0?r=n.rounding:Ye(r,0,8),i=j(new n(i),e+1,r),t=sr(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};R.toFixed=function(e,r){var t,i,n=this,u=n.constructor;return e===void 0?t=sr(n):(Ye(e,0,gr),r===void 0?r=u.rounding:Ye(r,0,8),i=j(new u(n),e+n.e+1,r),t=sr(i,!1,e+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};R.toFraction=function(e){var r,t,i,n,u,o,f,c,h,a,s,v,D=this,d=D.d,l=D.constructor;if(!d)return new l(D);if(h=t=new l(1),i=c=new l(0),r=new l(i),u=r.e=kn(d)-D.e-1,o=u%re,r.d[0]=Se(10,o<0?re+o:o),e==null)e=u>0?r:h;else{if(f=new l(e),!f.isInt()||f.lt(h))throw Error(mr+f);e=f.gt(r)?u>0?r:h:f}for(ne=!1,f=new l(Oe(d)),a=l.precision,l.precision=u=d.length*re*2;s=ge(f,r,0,1,1),n=t.plus(s.times(i)),n.cmp(e)!=1;)t=i,i=n,n=h,h=c.plus(s.times(n)),c=n,n=r,r=f.minus(s.times(n)),f=n;return n=ge(e.minus(t),i,0,1,1),c=c.plus(n.times(h)),t=t.plus(n.times(i)),c.s=h.s=D.s,v=ge(h,i,u,1).minus(D).abs().cmp(ge(c,t,u,1).minus(D).abs())<1?[h,i]:[c,t],l.precision=a,ne=!0,v};R.toHexadecimal=R.toHex=function(e,r){return Rt(this,16,e,r)};R.toNearest=function(e,r){var t=this,i=t.constructor;if(t=new i(t),e==null){if(!t.d)return t;e=new i(1),r=i.rounding}else{if(e=new i(e),r===void 0?r=i.rounding:Ye(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(ne=!1,t=ge(t,e,0,r,1).times(e),ne=!0,j(t)):(e.s=t.s,t=e),t};R.toNumber=function(){return+this};R.toOctal=function(e,r){return Rt(this,8,e,r)};R.toPower=R.pow=function(e){var r,t,i,n,u,o,f=this,c=f.constructor,h=+(e=new c(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new c(Se(+f,h));if(f=new c(f),f.eq(1))return f;if(i=c.precision,u=c.rounding,e.eq(1))return j(f,i,u);if(r=Re(e.e/re),r>=e.d.length-1&&(t=h<0?-h:h)<=ha)return n=jn(c,f,t,i),e.s<0?new c(1).div(n):j(n,i,u);if(o=f.s,o<0){if(r<e.d.length-1)return new c(NaN);if(e.d[r]&1||(o=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=o,f}return t=Se(+f,h),r=t==0||!isFinite(t)?Re(h*(Math.log("0."+Oe(f.d))/Math.LN10+f.e+1)):new c(t+"").e,r>c.maxE+1||r<c.minE-1?new c(r>0?o/0:0):(ne=!1,c.rounding=f.s=1,t=Math.min(12,(r+"").length),n=Tt(e.times(Dr(f,i+t)),i),n.d&&(n=j(n,i+5,1),qr(n.d,i,u)&&(r=i+10,n=j(Tt(e.times(Dr(f,r+t)),r),r+5,1),+Oe(n.d).slice(i+1,i+15)+1==1e14&&(n=j(n,i+1,0)))),n.s=o,ne=!0,c.rounding=u,j(n,i,u))};R.toPrecision=function(e,r){var t,i=this,n=i.constructor;return e===void 0?t=sr(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Ye(e,1,gr),r===void 0?r=n.rounding:Ye(r,0,8),i=j(new n(i),e,r),t=sr(i,e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+t:t};R.toSignificantDigits=R.toSD=function(e,r){var t=this,i=t.constructor;return e===void 0?(e=i.precision,r=i.rounding):(Ye(e,1,gr),r===void 0?r=i.rounding:Ye(r,0,8)),j(new i(t),e,r)};R.toString=function(){var e=this,r=e.constructor,t=sr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};R.truncated=R.trunc=function(){return j(new this.constructor(this),this.e+1,1)};R.valueOf=R.toJSON=function(){var e=this,r=e.constructor,t=sr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Oe(e){var r,t,i,n=e.length-1,u="",o=e[0];if(n>0){for(u+=o,r=1;r<n;r++)i=e[r]+"",t=re-i.length,t&&(u+=hr(t)),u+=i;o=e[r],i=o+"",t=re-i.length,t&&(u+=hr(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function Ye(e,r,t){if(e!==~~e||e<r||e>t)throw Error(mr+e)}function qr(e,r,t,i){var n,u,o,f;for(u=e[0];u>=10;u/=10)--r;return--r<0?(r+=re,n=0):(n=Math.ceil((r+1)/re),r%=re),u=Se(10,re-r),f=e[n]%u|0,i==null?r<3?(r==0?f=f/100|0:r==1&&(f=f/10|0),o=t<4&&f==99999||t>3&&f==49999||f==5e4||f==0):o=(t<4&&f+1==u||t>3&&f+1==u/2)&&(e[n+1]/u/100|0)==Se(10,r-2)-1||(f==u/2||f==0)&&(e[n+1]/u/100|0)==0:r<4?(r==0?f=f/1e3|0:r==1?f=f/100|0:r==2&&(f=f/10|0),o=(i||t<4)&&f==9999||!i&&t>3&&f==4999):o=((i||t<4)&&f+1==u||!i&&t>3&&f+1==u/2)&&(e[n+1]/u/1e3|0)==Se(10,r-3)-1,o}function Kr(e,r,t){for(var i,n=[0],u,o=0,f=e.length;o<f;){for(u=n.length;u--;)n[u]*=r;for(n[0]+=bt.indexOf(e.charAt(o++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function Da(e,r){var t,i,n;if(r.isZero())return r;i=r.d.length,i<32?(t=Math.ceil(i/3),n=(1/vt(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),e.precision+=t,r=Tr(e,1,r.times(n),new e(1));for(var u=t;u--;){var o=r.times(r);r=o.times(o).minus(o).times(8).plus(1)}return e.precision-=t,r}var ge=function(){function e(i,n,u){var o,f=0,c=i.length;for(i=i.slice();c--;)o=i[c]*n+f,i[c]=o%u|0,f=o/u|0;return f&&i.unshift(f),i}function r(i,n,u,o){var f,c;if(u!=o)c=u>o?1:-1;else for(f=c=0;f<u;f++)if(i[f]!=n[f]){c=i[f]>n[f]?1:-1;break}return c}function t(i,n,u,o){for(var f=0;u--;)i[u]-=f,f=i[u]<n[u]?1:0,i[u]=f*o+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,o,f,c){var h,a,s,v,D,d,l,m,g,y,w,A,F,p,_,M,E,B,b,z,L=i.constructor,P=i.s==n.s?1:-1,I=i.d,x=n.d;if(!I||!I[0]||!x||!x[0])return new L(!i.s||!n.s||(I?x&&I[0]==x[0]:!x)?NaN:I&&I[0]==0||!x?P*0:P/0);for(c?(D=1,a=i.e-n.e):(c=ur,D=re,a=Re(i.e/D)-Re(n.e/D)),b=x.length,E=I.length,g=new L(P),y=g.d=[],s=0;x[s]==(I[s]||0);s++);if(x[s]>(I[s]||0)&&a--,u==null?(p=u=L.precision,o=L.rounding):f?p=u+(i.e-n.e)+1:p=u,p<0)y.push(1),d=!0;else{if(p=p/D+2|0,s=0,b==1){for(v=0,x=x[0],p++;(s<E||v)&&p--;s++)_=v*c+(I[s]||0),y[s]=_/x|0,v=_%x|0;d=v||s<E}else{for(v=c/(x[0]+1)|0,v>1&&(x=e(x,v,c),I=e(I,v,c),b=x.length,E=I.length),M=b,w=I.slice(0,b),A=w.length;A<b;)w[A++]=0;z=x.slice(),z.unshift(0),B=x[0],x[1]>=c/2&&++B;do v=0,h=r(x,w,b,A),h<0?(F=w[0],b!=A&&(F=F*c+(w[1]||0)),v=F/B|0,v>1?(v>=c&&(v=c-1),l=e(x,v,c),m=l.length,A=w.length,h=r(l,w,m,A),h==1&&(v--,t(l,b<m?z:x,m,c))):(v==0&&(h=v=1),l=x.slice()),m=l.length,m<A&&l.unshift(0),t(w,l,A,c),h==-1&&(A=w.length,h=r(x,w,b,A),h<1&&(v++,t(w,b<A?z:x,A,c))),A=w.length):h===0&&(v++,w=[0]),y[s++]=v,h&&w[0]?w[A++]=I[M]||0:(w=[I[M]],A=1);while((M++<E||w[0]!==void 0)&&p--);d=w[0]!==void 0}y[0]||y.shift()}if(D==1)g.e=a,Gn=d;else{for(s=1,v=y[0];v>=10;v/=10)s++;g.e=s+a*D-1,j(g,f?u+g.e+1:u,o,d)}return g}}();function j(e,r,t,i){var n,u,o,f,c,h,a,s,v,D=e.constructor;e:if(r!=null){if(s=e.d,!s)return e;for(n=1,f=s[0];f>=10;f/=10)n++;if(u=r-n,u<0)u+=re,o=r,a=s[v=0],c=a/Se(10,n-o-1)%10|0;else if(v=Math.ceil((u+1)/re),f=s.length,v>=f)if(i){for(;f++<=v;)s.push(0);a=c=0,n=1,u%=re,o=u-re+1}else break e;else{for(a=f=s[v],n=1;f>=10;f/=10)n++;u%=re,o=u-re+n,c=o<0?0:a/Se(10,n-o-1)%10|0}if(i=i||r<0||s[v+1]!==void 0||(o<0?a:a%Se(10,n-o-1)),h=t<4?(c||i)&&(t==0||t==(e.s<0?3:2)):c>5||c==5&&(t==4||i||t==6&&(u>0?o>0?a/Se(10,n-o):0:s[v-1])%10&1||t==(e.s<0?8:7)),r<1||!s[0])return s.length=0,h?(r-=e.e+1,s[0]=Se(10,(re-r%re)%re),e.e=-r||0):s[0]=e.e=0,e;if(u==0?(s.length=v,f=1,v--):(s.length=v+1,f=Se(10,re-u),s[v]=o>0?(a/Se(10,n-o)%Se(10,o)|0)*f:0),h)for(;;)if(v==0){for(u=1,o=s[0];o>=10;o/=10)u++;for(o=s[0]+=f,f=1;o>=10;o/=10)f++;u!=f&&(e.e++,s[0]==ur&&(s[0]=1));break}else{if(s[v]+=f,s[v]!=ur)break;s[v--]=0,f=1}for(u=s.length;s[--u]===0;)s.pop()}return ne&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function sr(e,r,t){if(!e.isFinite())return ri(e);var i,n=e.e,u=Oe(e.d),o=u.length;return r?(t&&(i=t-o)>0?u=u.charAt(0)+"."+u.slice(1)+hr(i):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):n<0?(u="0."+hr(-n-1)+u,t&&(i=t-o)>0&&(u+=hr(i))):n>=o?(u+=hr(n+1-o),t&&(i=t-n-1)>0&&(u=u+"."+hr(i))):((i=n+1)<o&&(u=u.slice(0,i)+"."+u.slice(i)),t&&(i=t-o)>0&&(n+1===o&&(u+="."),u+=hr(i))),u}function ht(e,r){var t=e[0];for(r*=re;t>=10;t/=10)r++;return r}function nt(e,r,t){if(r>va)throw ne=!0,t&&(e.precision=t),Error(Xn);return j(new e(rt),r,1,!0)}function ir(e,r,t){if(r>Nt)throw Error(Xn);return j(new e(tt),r,t,!0)}function kn(e){var r=e.length-1,t=r*re+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function hr(e){for(var r="";e--;)r+="0";return r}function jn(e,r,t,i){var n,u=new e(1),o=Math.ceil(i/re+4);for(ne=!1;;){if(t%2&&(u=u.times(r),un(u.d,o)&&(n=!0)),t=Re(t/2),t===0){t=u.d.length-1,n&&u.d[t]===0&&++u.d[t];break}r=r.times(r),un(r.d,o)}return ne=!0,u}function nn(e){return e.d[e.d.length-1]&1}function ei(e,r,t){for(var i,n=new e(r[0]),u=0;++u<r.length;)if(i=new e(r[u]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function Tt(e,r){var t,i,n,u,o,f,c,h=0,a=0,s=0,v=e.constructor,D=v.rounding,d=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(ne=!1,c=d):c=r,f=new v(.03125);e.e>-2;)e=e.times(f),s+=5;for(i=Math.log(Se(2,s))/Math.LN10*2+5|0,c+=i,t=u=o=new v(1),v.precision=c;;){if(u=j(u.times(e),c,1),t=t.times(++a),f=o.plus(ge(u,t,c,1)),Oe(f.d).slice(0,c)===Oe(o.d).slice(0,c)){for(n=s;n--;)o=j(o.times(o),c,1);if(r==null)if(h<3&&qr(o.d,c-i,D,h))v.precision=c+=10,t=u=f=new v(1),a=0,h++;else return j(o,v.precision=d,D,ne=!0);else return v.precision=d,o}o=f}}function Dr(e,r){var t,i,n,u,o,f,c,h,a,s,v,D=1,d=10,l=e,m=l.d,g=l.constructor,y=g.rounding,w=g.precision;if(l.s<0||!m||!m[0]||!l.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:l.s!=1?NaN:m?0:l);if(r==null?(ne=!1,a=w):a=r,g.precision=a+=d,t=Oe(m),i=t.charAt(0),Math.abs(u=l.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)l=l.times(e),t=Oe(l.d),i=t.charAt(0),D++;u=l.e,i>1?(l=new g("0."+t),u++):l=new g(i+"."+t.slice(1))}else return h=nt(g,a+2,w).times(u+""),l=Dr(new g(i+"."+t.slice(1)),a-d).plus(h),g.precision=w,r==null?j(l,w,y,ne=!0):l;for(s=l,c=o=l=ge(l.minus(1),l.plus(1),a,1),v=j(l.times(l),a,1),n=3;;){if(o=j(o.times(v),a,1),h=c.plus(ge(o,new g(n),a,1)),Oe(h.d).slice(0,a)===Oe(c.d).slice(0,a))if(c=c.times(2),u!==0&&(c=c.plus(nt(g,a+2,w).times(u+""))),c=ge(c,new g(D),a,1),r==null)if(qr(c.d,a-d,y,f))g.precision=a+=d,h=o=l=ge(s.minus(1),s.plus(1),a,1),v=j(l.times(l),a,1),n=f=1;else return j(c,g.precision=w,y,ne=!0);else return g.precision=w,c;c=h,n+=2}}function ri(e){return String(e.s*e.s/0)}function zt(e,r){var t,i,n;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(i=r.search(/e/i))>0?(t<0&&(t=i),t+=+r.slice(i+1),r=r.substring(0,i)):t<0&&(t=r.length),i=0;r.charCodeAt(i)===48;i++);for(n=r.length;r.charCodeAt(n-1)===48;--n);if(r=r.slice(i,n),r){if(n-=i,e.e=t=t-i-1,e.d=[],i=(t+1)%re,t<0&&(i+=re),i<n){for(i&&e.d.push(+r.slice(0,i)),n-=re;i<n;)e.d.push(+r.slice(i,i+=re));r=r.slice(i),i=re-r.length}else i-=n;for(;i--;)r+="0";e.d.push(+r),ne&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function pa(e,r){var t,i,n,u,o,f,c,h,a;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Wn.test(r))return zt(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(ca.test(r))t=16,r=r.toLowerCase();else if(fa.test(r))t=2;else if(la.test(r))t=8;else throw Error(mr+r);for(u=r.search(/p/i),u>0?(c=+r.slice(u+1),r=r.substring(2,u)):r=r.slice(2),u=r.indexOf("."),o=u>=0,i=e.constructor,o&&(r=r.replace(".",""),f=r.length,u=f-u,n=jn(i,new i(t),u,u*2)),h=Kr(r,t,ur),a=h.length-1,u=a;h[u]===0;--u)h.pop();return u<0?new i(e.s*0):(e.e=ht(h,a),e.d=h,ne=!1,o&&(e=ge(e,n,f*4)),c&&(e=e.times(Math.abs(c)<54?Se(2,c):zr.pow(2,c))),ne=!0,e)}function da(e,r){var t,i=r.d.length;if(i<3)return r.isZero()?r:Tr(e,2,r,r);t=1.4*Math.sqrt(i),t=t>16?16:t|0,r=r.times(1/vt(5,t)),r=Tr(e,2,r,r);for(var n,u=new e(5),o=new e(16),f=new e(20);t--;)n=r.times(r),r=r.times(u.plus(n.times(o.times(n).minus(f))));return r}function Tr(e,r,t,i,n){var u,o,f,c,h=e.precision,a=Math.ceil(h/re);for(ne=!1,c=t.times(t),f=new e(i);;){if(o=ge(f.times(c),new e(r++*r++),h,1),f=n?i.plus(o):i.minus(o),i=ge(o.times(c),new e(r++*r++),h,1),o=f.plus(i),o.d[a]!==void 0){for(u=a;o.d[u]===f.d[u]&&u--;);if(u==-1)break}u=f,f=i,i=o,o=u}return ne=!0,o.d.length=a+1,o}function vt(e,r){for(var t=e;--r;)t*=e;return t}function ti(e,r){var t,i=r.s<0,n=ir(e,e.precision,1),u=n.times(.5);if(r=r.abs(),r.lte(u))return cr=i?4:1,r;if(t=r.divToInt(n),t.isZero())cr=i?3:2;else{if(r=r.minus(t.times(n)),r.lte(u))return cr=nn(t)?i?2:3:i?4:1,r;cr=nn(t)?i?1:4:i?3:2}return r.minus(n).abs()}function Rt(e,r,t,i){var n,u,o,f,c,h,a,s,v,D=e.constructor,d=t!==void 0;if(d?(Ye(t,1,gr),i===void 0?i=D.rounding:Ye(i,0,8)):(t=D.precision,i=D.rounding),!e.isFinite())a=ri(e);else{for(a=sr(e),o=a.indexOf("."),d?(n=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):n=r,o>=0&&(a=a.replace(".",""),v=new D(1),v.e=a.length-o,v.d=Kr(sr(v),10,n),v.e=v.d.length),s=Kr(a,10,n),u=c=s.length;s[--c]==0;)s.pop();if(!s[0])a=d?"0p+0":"0";else{if(o<0?u--:(e=new D(e),e.d=s,e.e=u,e=ge(e,v,t,i,0,n),s=e.d,u=e.e,h=Gn),o=s[t],f=n/2,h=h||s[t+1]!==void 0,h=i<4?(o!==void 0||h)&&(i===0||i===(e.s<0?3:2)):o>f||o===f&&(i===4||h||i===6&&s[t-1]&1||i===(e.s<0?8:7)),s.length=t,h)for(;++s[--t]>n-1;)s[t]=0,t||(++u,s.unshift(1));for(c=s.length;!s[c-1];--c);for(o=0,a="";o<c;o++)a+=bt.charAt(s[o]);if(d){if(c>1)if(r==16||r==8){for(o=r==16?4:3,--c;c%o;c++)a+="0";for(s=Kr(a,n,r),c=s.length;!s[c-1];--c);for(o=1,a="1.";o<c;o++)a+=bt.charAt(s[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)a="0"+a;a="0."+a}else if(++u>c)for(u-=c;u--;)a+="0";else u<c&&(a=a.slice(0,u)+"."+a.slice(u))}a=(r==16?"0x":r==2?"0b":r==8?"0o":"")+a}return e.s<0?"-"+a:a}function un(e,r){if(e.length>r)return e.length=r,!0}function ma(e){return new this(e).abs()}function ga(e){return new this(e).acos()}function wa(e){return new this(e).acosh()}function Fa(e,r){return new this(e).plus(r)}function ya(e){return new this(e).asin()}function Aa(e){return new this(e).asinh()}function Ea(e){return new this(e).atan()}function Ca(e){return new this(e).atanh()}function _a(e,r){e=new this(e),r=new this(r);var t,i=this.precision,n=this.rounding,u=i+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=ir(this,u,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?ir(this,i,n):new this(0),t.s=e.s):!e.d||r.isZero()?(t=ir(this,u,1).times(.5),t.s=e.s):r.s<0?(this.precision=u,this.rounding=1,t=this.atan(ge(e,r,u,1)),r=ir(this,u,1),this.precision=i,this.rounding=n,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(ge(e,r,u,1)),t}function Ma(e){return new this(e).cbrt()}function Ba(e){return j(e=new this(e),e.e+1,2)}function Sa(e,r,t){return new this(e).clamp(r,t)}function ba(e){if(!e||typeof e!="object")throw Error(lt+"Object expected");var r,t,i,n=e.defaults===!0,u=["precision",1,gr,"rounding",0,8,"toExpNeg",-br,0,"toExpPos",0,br,"maxE",0,br,"minE",-br,0,"modulo",0,9];for(r=0;r<u.length;r+=3)if(t=u[r],n&&(this[t]=xt[t]),(i=e[t])!==void 0)if(Re(i)===i&&i>=u[r+1]&&i<=u[r+2])this[t]=i;else throw Error(mr+t+": "+i);if(t="crypto",n&&(this[t]=xt[t]),(i=e[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Kn);else this[t]=!1;else throw Error(mr+t+": "+i);return this}function xa(e){return new this(e).cos()}function Na(e){return new this(e).cosh()}function ni(e){var r,t,i;function n(u){var o,f,c,h=this;if(!(h instanceof n))return new n(u);if(h.constructor=n,an(u)){h.s=u.s,ne?!u.d||u.e>n.maxE?(h.e=NaN,h.d=null):u.e<n.minE?(h.e=0,h.d=[0]):(h.e=u.e,h.d=u.d.slice()):(h.e=u.e,h.d=u.d?u.d.slice():u.d);return}if(c=typeof u,c==="number"){if(u===0){h.s=1/u<0?-1:1,h.e=0,h.d=[0];return}if(u<0?(u=-u,h.s=-1):h.s=1,u===~~u&&u<1e7){for(o=0,f=u;f>=10;f/=10)o++;ne?o>n.maxE?(h.e=NaN,h.d=null):o<n.minE?(h.e=0,h.d=[0]):(h.e=o,h.d=[u]):(h.e=o,h.d=[u]);return}else if(u*0!==0){u||(h.s=NaN),h.e=NaN,h.d=null;return}return zt(h,u.toString())}else if(c!=="string")throw Error(mr+u);return(f=u.charCodeAt(0))===45?(u=u.slice(1),h.s=-1):(f===43&&(u=u.slice(1)),h.s=1),Wn.test(u)?zt(h,u):pa(h,u)}if(n.prototype=R,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=ba,n.clone=ni,n.isDecimal=an,n.abs=ma,n.acos=ga,n.acosh=wa,n.add=Fa,n.asin=ya,n.asinh=Aa,n.atan=Ea,n.atanh=Ca,n.atan2=_a,n.cbrt=Ma,n.ceil=Ba,n.clamp=Sa,n.cos=xa,n.cosh=Na,n.div=Ta,n.exp=za,n.floor=Oa,n.hypot=Ia,n.ln=Pa,n.log=$a,n.log10=Ra,n.log2=qa,n.max=La,n.min=Ua,n.mod=Za,n.mul=Va,n.pow=Ha,n.random=Ja,n.round=Ya,n.sign=Ga,n.sin=Xa,n.sinh=Ka,n.sqrt=Qa,n.sub=Wa,n.sum=ka,n.tan=ja,n.tanh=eo,n.trunc=ro,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(t=i[r++])||(e[t]=this[t]);return n.config(e),n}function Ta(e,r){return new this(e).div(r)}function za(e){return new this(e).exp()}function Oa(e){return j(e=new this(e),e.e+1,3)}function Ia(){var e,r,t=new this(0);for(ne=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return ne=!0,new this(1/0);t=r}return ne=!0,t.sqrt()}function an(e){return e instanceof zr||e&&e.toStringTag===Qn||!1}function Pa(e){return new this(e).ln()}function $a(e,r){return new this(e).log(r)}function qa(e){return new this(e).log(2)}function Ra(e){return new this(e).log(10)}function La(){return ei(this,arguments,"lt")}function Ua(){return ei(this,arguments,"gt")}function Za(e,r){return new this(e).mod(r)}function Va(e,r){return new this(e).mul(r)}function Ha(e,r){return new this(e).pow(r)}function Ja(e){var r,t,i,n,u=0,o=new this(1),f=[];if(e===void 0?e=this.precision:Ye(e,1,gr),i=Math.ceil(e/re),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(i));u<i;)n=r[u],n>=429e7?r[u]=crypto.getRandomValues(new Uint32Array(1))[0]:f[u++]=n%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(i*=4);u<i;)n=r[u]+(r[u+1]<<8)+(r[u+2]<<16)+((r[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(r,u):(f.push(n%1e7),u+=4);u=i/4}else throw Error(Kn);else for(;u<i;)f[u++]=Math.random()*1e7|0;for(i=f[--u],e%=re,i&&e&&(n=Se(10,re-e),f[u]=(i/n|0)*n);f[u]===0;u--)f.pop();if(u<0)t=0,f=[0];else{for(t=-1;f[0]===0;t-=re)f.shift();for(i=1,n=f[0];n>=10;n/=10)i++;i<re&&(t-=re-i)}return o.e=t,o.d=f,o}function Ya(e){return j(e=new this(e),e.e+1,this.rounding)}function Ga(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Xa(e){return new this(e).sin()}function Ka(e){return new this(e).sinh()}function Qa(e){return new this(e).sqrt()}function Wa(e,r){return new this(e).sub(r)}function ka(){var e=0,r=arguments,t=new this(r[e]);for(ne=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return ne=!0,j(t,this.precision,this.rounding)}function ja(e){return new this(e).tan()}function eo(e){return new this(e).tanh()}function ro(e){return j(e=new this(e),e.e+1,1)}R[Symbol.for("nodejs.util.inspect.custom")]=R.toString;R[Symbol.toStringTag]="Decimal";var zr=R.constructor=ni(xt);rt=new zr(rt);tt=new zr(tt);var to="BigNumber",no=["?on","config"],io=W(to,no,e=>{var{on:r,config:t}=e,i=zr.clone({precision:t.precision,modulo:zr.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},r&&r("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0});const $e=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Qe=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},uo=function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const t=e*e;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},_t=function(e,r){return e=Math.abs(e),r=Math.abs(r),e<r&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},Sr=function(){throw SyntaxError("Invalid Param")};function Mt(e,r){const t=Math.abs(e),i=Math.abs(r);return e===0?Math.log(i):r===0?Math.log(t):t<3e3&&i<3e3?Math.log(e*e+r*r)*.5:(e=e*.5,r=r*.5,.5*Math.log(e*e+r*r)+Math.LN2)}const ao={re:0,im:0},Ar=function(e,r){const t=ao;if(e==null)t.re=t.im=0;else if(r!==void 0)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return O.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return O.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else e.length===2?(t.re=e[0],t.im=e[1]):Sr();break;case"string":t.im=t.re=0;const i=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,u=0;i===null&&Sr();for(let o=0;o<i.length;o++){const f=i[o];f===" "||f==="	"||f===`
`||(f==="+"?n++:f==="-"?u++:f==="i"||f==="I"?(n+u===0&&Sr(),i[o+1]!==" "&&!isNaN(i[o+1])?(t.im+=parseFloat((u%2?"-":"")+i[o+1]),o++):t.im+=parseFloat((u%2?"-":"")+"1"),n=u=0):((n+u===0||isNaN(f))&&Sr(),i[o+1]==="i"||i[o+1]==="I"?(t.im+=parseFloat((u%2?"-":"")+f),o++):t.re+=parseFloat((u%2?"-":"")+f),n=u=0))}n+u>0&&Sr();break;case"number":t.im=0,t.re=e;break;default:Sr()}return isNaN(t.re)||isNaN(t.im),t};function O(e,r){if(!(this instanceof O))return new O(e,r);const t=Ar(e,r);this.re=t.re,this.im=t.im}O.prototype={re:0,im:0,sign:function(){const e=_t(this.re,this.im);return new O(this.re/e,this.im/e)},add:function(e,r){const t=Ar(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return i||n?i&&n?O.NAN:O.INFINITY:new O(this.re+t.re,this.im+t.im)},sub:function(e,r){const t=Ar(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return i||n?i&&n?O.NAN:O.INFINITY:new O(this.re-t.re,this.im-t.im)},mul:function(e,r){const t=Ar(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),u=this.re===0&&this.im===0,o=t.re===0&&t.im===0;return i&&o||n&&u?O.NAN:i||n?O.INFINITY:t.im===0&&this.im===0?new O(this.re*t.re,0):new O(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){const t=Ar(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),u=this.re===0&&this.im===0,o=t.re===0&&t.im===0;if(u&&o||i&&n)return O.NAN;if(o||i)return O.INFINITY;if(u||n)return O.ZERO;if(t.im===0)return new O(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const f=t.re/t.im,c=t.re*f+t.im;return new O((this.re*f+this.im)/c,(this.im*f-this.re)/c)}else{const f=t.im/t.re,c=t.im*f+t.re;return new O((this.re+this.im*f)/c,(this.im-this.re*f)/c)}},pow:function(e,r){const t=Ar(e,r),i=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return O.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new O(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new O(Math.pow(this.im,t.re),0);case 1:return new O(0,Math.pow(this.im,t.re));case 2:return new O(-Math.pow(this.im,t.re),0);case 3:return new O(0,-Math.pow(this.im,t.re))}}if(i&&t.re>0)return O.ZERO;const u=Math.atan2(this.im,this.re),o=Mt(this.re,this.im);let f=Math.exp(t.re*o-t.im*u),c=t.im*o+t.re*u;return new O(f*Math.cos(c),f*Math.sin(c))},sqrt:function(){const e=this.re,r=this.im;if(r===0)return e>=0?new O(Math.sqrt(e),0):new O(0,Math.sqrt(-e));const t=_t(e,r);let i=Math.sqrt(.5*(t+Math.abs(e))),n=Math.abs(r)/(2*i);return e>=0?new O(i,r<0?-n:n):new O(n,r<0?-i:i)},exp:function(){const e=Math.exp(this.re);return this.im===0?new O(e,0):new O(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,r=this.im;return new O(Math.expm1(e)*Math.cos(r)+uo(r),Math.exp(e)*Math.sin(r))},log:function(){const e=this.re,r=this.im;return r===0&&e>0?new O(Math.log(e),0):new O(Mt(e,r),Math.atan2(r,e))},abs:function(){return _t(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,r=this.im;return new O(Math.sin(e)*$e(r),Math.cos(e)*Qe(r))},cos:function(){const e=this.re,r=this.im;return new O(Math.cos(e)*$e(r),-Math.sin(e)*Qe(r))},tan:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)+$e(r);return new O(Math.sin(e)/t,Qe(r)/t)},cot:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)-$e(r);return new O(-Math.sin(e)/t,Qe(r)/t)},sec:function(){const e=this.re,r=this.im,t=.5*$e(2*r)+.5*Math.cos(2*e);return new O(Math.cos(e)*$e(r)/t,Math.sin(e)*Qe(r)/t)},csc:function(){const e=this.re,r=this.im,t=.5*$e(2*r)-.5*Math.cos(2*e);return new O(Math.sin(e)*$e(r)/t,-Math.cos(e)*Qe(r)/t)},asin:function(){const e=this.re,r=this.im,t=new O(r*r-e*e+1,-2*e*r).sqrt(),i=new O(t.re-r,t.im+e).log();return new O(i.im,-i.re)},acos:function(){const e=this.re,r=this.im,t=new O(r*r-e*e+1,-2*e*r).sqrt(),i=new O(t.re-r,t.im+e).log();return new O(Math.PI/2-i.im,i.re)},atan:function(){const e=this.re,r=this.im;if(e===0){if(r===1)return new O(0,1/0);if(r===-1)return new O(0,-1/0)}const t=e*e+(1-r)*(1-r),i=new O((1-r*r-e*e)/t,-2*e/t).log();return new O(-.5*i.im,.5*i.re)},acot:function(){const e=this.re,r=this.im;if(r===0)return new O(Math.atan2(1,e),0);const t=e*e+r*r;return t!==0?new O(e/t,-r/t).atan():new O(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new O(0,1/0);const t=e*e+r*r;return t!==0?new O(e/t,-r/t).acos():new O(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new O(Math.PI/2,1/0);const t=e*e+r*r;return t!==0?new O(e/t,-r/t).asin():new O(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){const e=this.re,r=this.im;return new O(Qe(e)*Math.cos(r),$e(e)*Math.sin(r))},cosh:function(){const e=this.re,r=this.im;return new O($e(e)*Math.cos(r),Qe(e)*Math.sin(r))},tanh:function(){const e=2*this.re,r=2*this.im,t=$e(e)+Math.cos(r);return new O(Qe(e)/t,Math.sin(r)/t)},coth:function(){const e=2*this.re,r=2*this.im,t=$e(e)-Math.cos(r);return new O(Qe(e)/t,-Math.sin(r)/t)},csch:function(){const e=this.re,r=this.im,t=Math.cos(2*r)-$e(2*e);return new O(-2*Qe(e)*Math.cos(r)/t,2*$e(e)*Math.sin(r)/t)},sech:function(){const e=this.re,r=this.im,t=Math.cos(2*r)+$e(2*e);return new O(2*$e(e)*Math.cos(r)/t,-2*Qe(e)*Math.sin(r)/t)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r},acosh:function(){const e=this.acos();if(e.im<=0){const r=e.re;e.re=-e.im,e.im=r}else{const r=e.im;e.im=-e.re,e.re=r}return e},atanh:function(){const e=this.re,r=this.im,t=e>1&&r===0,i=1-e,n=1+e,u=i*i+r*r,o=u!==0?new O((n*i-r*r)/u,(r*i+n*r)/u):new O(e!==-1?e/0:0,r!==0?r/0:0),f=o.re;return o.re=Mt(o.re,o.im)/2,o.im=Math.atan2(o.im,f)/2,t&&(o.im=-o.im),o},acoth:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new O(0,Math.PI/2);const t=e*e+r*r;return t!==0?new O(e/t,-r/t).atanh():new O(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const e=this.re,r=this.im;if(r===0)return new O(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const t=e*e+r*r;return t!==0?new O(e/t,-r/t).asinh():new O(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){const e=this.re,r=this.im;if(this.isZero())return O.INFINITY;const t=e*e+r*r;return t!==0?new O(e/t,-r/t).acosh():new O(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return O.INFINITY;if(this.isInfinite())return O.ZERO;const e=this.re,r=this.im,t=e*e+r*r;return new O(e/t,-r/t)},conjugate:function(){return new O(this.re,-this.im)},neg:function(){return new O(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new O(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new O(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new O(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){const t=Ar(e,r);return Math.abs(t.re-this.re)<=O.EPSILON&&Math.abs(t.im-this.im)<=O.EPSILON},clone:function(){return new O(this.re,this.im)},toString:function(){let e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<O.EPSILON&&(e=0),Math.abs(r)<O.EPSILON&&(r=0),r===0?t+e:(e!==0?(t+=e,t+=" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),r!==1&&(t+=r),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};O.ZERO=new O(0,0);O.ONE=new O(1,0);O.I=new O(0,1);O.PI=new O(Math.PI,0);O.E=new O(Math.E,0);O.INFINITY=new O(1/0,1/0);O.NAN=new O(NaN,NaN);O.EPSILON=1e-15;var oo="Complex",so=[],fo=W(oo,so,()=>(Object.defineProperty(O,"name",{value:"Complex"}),O.prototype.constructor=O,O.prototype.type="Complex",O.prototype.isComplex=!0,O.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},O.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},O.prototype.format=function(e){var r="",t=this.im,i=this.re,n=St(this.re,e),u=St(this.im,e),o=Fe(e)?e:e?e.precision:null;if(o!==null){var f=Math.pow(10,-o);Math.abs(i/t)<f&&(i=0),Math.abs(t/i)<f&&(t=0)}return t===0?r=n:i===0?t===1?r="i":t===-1?r="-i":r=u+"i":t<0?t===-1?r=n+" - i":r=n+" - "+u.substring(1)+"i":t===1?r=n+" + i":r=n+" + "+u+"i",r},O.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return O(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(Fe(t)){if(Ln(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Fe(i))return new O({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},O.prototype.valueOf=O.prototype.toString,O.fromJSON=function(e){return new O(e)},O.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},O),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var co=2e3,Q={s:1,n:0,d:1};function fr(e,r){if(isNaN(e=parseInt(e,10)))throw Qr();return e*r}function ye(e,r){if(r===0)throw Lt();var t=Object.create(qe.prototype);t.s=e<0?-1:1,e=e<0?-e:e;var i=xr(e,r);return t.n=e/i,t.d=r/i,t}function on(e){for(var r={},t=e,i=2,n=4;n<=t;){for(;t%i===0;)t/=i,r[i]=(r[i]||0)+1;n+=1+2*i++}return t!==e?t>1&&(r[t]=(r[t]||0)+1):r[e]=(r[e]||0)+1,r}var Ge=function(e,r){var t=0,i=1,n=1,u=0,o=0,f=0,c=1,h=1,a=0,s=1,v=1,D=1,d=1e7,l;if(e!=null)if(r!==void 0){if(t=e,i=r,n=t*i,t%1!==0||i%1!==0)throw Do()}else switch(typeof e){case"object":{if("d"in e&&"n"in e)t=e.n,i=e.d,"s"in e&&(t*=e.s);else if(0 in e)t=e[0],1 in e&&(i=e[1]);else throw Qr();n=t*i;break}case"number":{if(e<0&&(n=e,e=-e),e%1===0)t=e;else if(e>0){for(e>=1&&(h=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=h);s<=d&&D<=d;)if(l=(a+v)/(s+D),e===l){s+D<=d?(t=a+v,i=s+D):D>s?(t=v,i=D):(t=a,i=s);break}else e>l?(a+=v,s+=D):(v+=a,D+=s),s>d?(t=v,i=D):(t=a,i=s);t*=h}else(isNaN(e)||isNaN(r))&&(i=t=NaN);break}case"string":{if(s=e.match(/\d+|./g),s===null)throw Qr();if(s[a]==="-"?(n=-1,a++):s[a]==="+"&&a++,s.length===a+1?o=fr(s[a++],n):s[a+1]==="."||s[a]==="."?(s[a]!=="."&&(u=fr(s[a++],n)),a++,(a+1===s.length||s[a+1]==="("&&s[a+3]===")"||s[a+1]==="'"&&s[a+3]==="'")&&(o=fr(s[a],n),c=Math.pow(10,s[a].length),a++),(s[a]==="("&&s[a+2]===")"||s[a]==="'"&&s[a+2]==="'")&&(f=fr(s[a+1],n),h=Math.pow(10,s[a+1].length)-1,a+=3)):s[a+1]==="/"||s[a+1]===":"?(o=fr(s[a],n),c=fr(s[a+2],1),a+=3):s[a+3]==="/"&&s[a+1]===" "&&(u=fr(s[a],n),o=fr(s[a+2],n),c=fr(s[a+4],1),a+=5),s.length<=a){i=c*h,n=t=f+i*u+h*o;break}}default:throw Qr()}if(i===0)throw Lt();Q.s=n<0?-1:1,Q.n=Math.abs(t),Q.d=Math.abs(i)};function lo(e,r,t){for(var i=1;r>0;e=e*e%t,r>>=1)r&1&&(i=i*e%t);return i}function ho(e,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var t=10%r,i=1;t!==1;i++)if(t=t*10%r,i>co)return 0;return i}function vo(e,r,t){for(var i=1,n=lo(10,t,r),u=0;u<300;u++){if(i===n)return u;i=i*10%r,n=n*10%r}return 0}function xr(e,r){if(!e)return r;if(!r)return e;for(;;){if(e%=r,!e)return r;if(r%=e,!r)return e}}function qe(e,r){if(Ge(e,r),this instanceof qe)e=xr(Q.d,Q.n),this.s=Q.s,this.n=Q.n/e,this.d=Q.d/e;else return ye(Q.s*Q.n,Q.d)}var Lt=function(){return new Error("Division by Zero")},Qr=function(){return new Error("Invalid argument")},Do=function(){return new Error("Parameters must be integer")};qe.prototype={s:1,n:0,d:1,abs:function(){return ye(this.n,this.d)},neg:function(){return ye(-this.s*this.n,this.d)},add:function(e,r){return Ge(e,r),ye(this.s*this.n*Q.d+Q.s*this.d*Q.n,this.d*Q.d)},sub:function(e,r){return Ge(e,r),ye(this.s*this.n*Q.d-Q.s*this.d*Q.n,this.d*Q.d)},mul:function(e,r){return Ge(e,r),ye(this.s*Q.s*this.n*Q.n,this.d*Q.d)},div:function(e,r){return Ge(e,r),ye(this.s*Q.s*this.n*Q.d,this.d*Q.n)},clone:function(){return ye(this.s*this.n,this.d)},mod:function(e,r){if(isNaN(this.n)||isNaN(this.d))return new qe(NaN);if(e===void 0)return ye(this.s*this.n%this.d,1);if(Ge(e,r),Q.n===0&&this.d===0)throw Lt();return ye(this.s*(Q.d*this.n)%(Q.n*this.d),Q.d*this.d)},gcd:function(e,r){return Ge(e,r),ye(xr(Q.n,this.n)*xr(Q.d,this.d),Q.d*this.d)},lcm:function(e,r){return Ge(e,r),Q.n===0&&this.n===0?ye(0,1):ye(Q.n*this.n,xr(Q.n,this.n)*xr(Q.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new qe(NaN):ye(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new qe(NaN):ye(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new qe(NaN):ye(Math.round(e*this.s*this.n/this.d),e)},roundTo:function(e,r){return Ge(e,r),ye(this.s*Math.round(this.n*Q.d/(this.d*Q.n))*Q.n,Q.d)},inverse:function(){return ye(this.s*this.d,this.n)},pow:function(e,r){if(Ge(e,r),Q.d===1)return Q.s<0?ye(Math.pow(this.s*this.d,Q.n),Math.pow(this.n,Q.n)):ye(Math.pow(this.s*this.n,Q.n),Math.pow(this.d,Q.n));if(this.s<0)return null;var t=on(this.n),i=on(this.d),n=1,u=1;for(var o in t)if(o!=="1"){if(o==="0"){n=0;break}if(t[o]*=Q.n,t[o]%Q.d===0)t[o]/=Q.d;else return null;n*=Math.pow(o,t[o])}for(var o in i)if(o!=="1"){if(i[o]*=Q.n,i[o]%Q.d===0)i[o]/=Q.d;else return null;u*=Math.pow(o,i[o])}return Q.s<0?ye(u,n):ye(n,u)},equals:function(e,r){return Ge(e,r),this.s*this.n*Q.d===Q.s*Q.n*this.d},compare:function(e,r){Ge(e,r);var t=this.s*this.n*Q.d-Q.s*Q.n*this.d;return(0<t)-(t<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var r=this.abs(),t=r.toContinued(),i=1;i<t.length;i++){for(var n=ye(t[i-1],1),u=i-2;u>=0;u--)n=n.inverse().add(t[u]);if(Math.abs(n.sub(r).valueOf())<e)return n.mul(this.s)}return this},divisible:function(e,r){return Ge(e,r),!(!(Q.n*this.d)||this.n*Q.d%(Q.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var r,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(e&&(r=Math.floor(i/n))>0&&(t+=r,t+=" ",i%=n),t+=i,t+="/",t+=n),t},toLatex:function(e){var r,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(e&&(r=Math.floor(i/n))>0&&(t+=r,i%=n),t+="\\frac{",t+=i,t+="}{",t+=n,t+="}"),t},toContinued:function(){var e,r=this.n,t=this.d,i=[];if(isNaN(r)||isNaN(t))return i;do i.push(Math.floor(r/t)),e=r%t,r=t,t=e;while(r!==1);return i},toString:function(e){var r=this.n,t=this.d;if(isNaN(r)||isNaN(t))return"NaN";e=e||15;var i=ho(r,t),n=vo(r,t,i),u=this.s<0?"-":"";if(u+=r/t|0,r%=t,r*=10,r&&(u+="."),i){for(var o=n;o--;)u+=r/t|0,r%=t,r*=10;u+="(";for(var o=i;o--;)u+=r/t|0,r%=t,r*=10;u+=")"}else for(var o=e;r&&o--;)u+=r/t|0,r%=t,r*=10;return u}};var po="Fraction",mo=[],go=W(po,mo,()=>(Object.defineProperty(qe,"name",{value:"Fraction"}),qe.prototype.constructor=qe,qe.prototype.type="Fraction",qe.prototype.isFraction=!0,qe.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},qe.fromJSON=function(e){return new qe(e)},qe),{isClass:!0}),wo="Matrix",Fo=[],yo=W(wo,Fo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Bt(e,r,t){var i=e.constructor,n=new i(2),u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!be(t))throw new Error("size must be an integer");if(e.greaterThan(n.pow(t-1).sub(1))||e.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(t))),u="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(r," not supported "))}}function Ao(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=Hn(r);switch(t){case"fixed":return Co(e,i);case"exponential":return sn(e,i);case"engineering":return Eo(e,i);case"bin":return Bt(e,2,n);case"oct":return Bt(e,8,n);case"hex":return Bt(e,16,n);case"auto":{var u=fn(r==null?void 0:r.lowerExp,-3),o=fn(r==null?void 0:r.upperExp,5);if(e.isZero())return"0";var f,c=e.toSignificantDigits(i),h=c.e;return h>=u&&h<o?f=c.toFixed():f=sn(e,i),f.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Eo(e,r){var t=e.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=e.mul(Math.pow(10,-i)),u=n.toPrecision(r);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(t>=0?"+":"")+i.toString()}function sn(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Co(e,r){return e.toFixed(r)}function fn(e,r){return Fe(e)?e:ze(e)?e.toNumber():r}function Ne(e,r){var t=_o(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function _o(e,r){if(typeof e=="number")return St(e,r);if(ze(e))return Ao(e,r);if(Mo(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return ii(e,r);if(or(e))return cn(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(i=>cn(i)+": "+Ne(e[i],r));return"{"+t.join(", ")+"}"}return String(e)}function cn(e){for(var r=String(e),t="",i=0;i<r.length;){var n=r.charAt(i);t+=n in ln?ln[n]:n,i++}return'"'+t+'"'}var ln={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function ii(e,r){if(Array.isArray(e)){for(var t="[",i=e.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=ii(e[n],r);return t+="]",t}else return Ne(e,r)}function Mo(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function he(e,r,t){if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}he.prototype=new RangeError;he.prototype.constructor=RangeError;he.prototype.name="DimensionError";he.prototype.isDimensionError=!0;function _r(e,r,t){if(!(this instanceof _r))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}_r.prototype=new RangeError;_r.prototype.constructor=RangeError;_r.prototype.name="IndexError";_r.prototype.isIndexError=!0;function Ue(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function ui(e,r,t){var i,n=e.length;if(n!==r[t])throw new he(n,r[t]);if(t<r.length-1){var u=t+1;for(i=0;i<n;i++){var o=e[i];if(!Array.isArray(o))throw new he(r.length-1,r.length,"<");ui(e[i],r,u)}}else for(i=0;i<n;i++)if(Array.isArray(e[i]))throw new he(r.length+1,r.length,">")}function hn(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new he(e.length,0)}else ui(e,r,0)}function Ee(e,r){if(e!==void 0){if(!Fe(e)||!be(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new _r(e,r)}}function vn(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(n){if(!Fe(n)||!be(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ne(r)+")")}),(Fe(e)||ze(e))&&(e=[e]);var i=t!==void 0?t:0;return Ot(e,r,0,i),e}function Ot(e,r,t,i){var n,u,o=e.length,f=r[t],c=Math.min(o,f);if(e.length=f,t<r.length-1){var h=t+1;for(n=0;n<c;n++)u=e[n],Array.isArray(u)||(u=[u],e[n]=u),Ot(u,r,h,i);for(n=c;n<f;n++)u=[],e[n]=u,Ot(u,r,h,i)}else{for(n=0;n<c;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=c;n<f;n++)e[n]=i}}function ai(e,r){var t=So(e),i=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new he(0,i,"!=");r=Ut(r,i);var n=oi(r);if(i!==n)throw new he(n,i,"!=");try{return Bo(t,r)}catch(u){throw u instanceof he?new he(n,i,"!="):u}}function Ut(e,r){var t=oi(e),i=e.slice(),n=-1,u=e.indexOf(n),o=e.indexOf(n,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var f=u>=0,c=r%t===0;if(f)if(c)i[u]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return i}function oi(e){return e.reduce((r,t)=>r*t,1)}function Bo(e,r){for(var t=e,i,n=r.length-1;n>0;n--){var u=r[n];i=[];for(var o=t.length/u,f=0;f<o;f++)i.push(t.slice(f*u,(f+1)*u));t=i}return t}function si(e,r,t,i){var n=i||Ue(e);if(t)for(var u=0;u<t;u++)e=[e],n.unshift(1);for(e=fi(e,r,0);n.length<r;)n.push(1);return e}function fi(e,r,t){var i,n;if(Array.isArray(e)){var u=t+1;for(i=0,n=e.length;i<n;i++)e[i]=fi(e[i],r,u)}else for(var o=t;o<r;o++)e=[e];return e}function So(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(i){Array.isArray(i)?i.forEach(t):r.push(i)}),r}function Zt(e,r){for(var t,i=0,n=0;n<e.length;n++){var u=e[n],o=Array.isArray(u);if(n===0&&o&&(i=u.length),o&&u.length!==i)return;var f=o?Zt(u,r):r(u);if(t===void 0)t=f;else if(t!==f)return"mixed"}return t}function ci(e,r,t,i){if(i<t){if(e.length!==r.length)throw new he(e.length,r.length);for(var n=[],u=0;u<e.length;u++)n[u]=ci(e[u],r[u],t,i+1);return n}else return e.concat(r)}function li(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,i){return ci(t,i,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function hi(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var i=r.map(v=>v.length),n=Math.max(...i),u=new Array(n).fill(null),o=0;o<r.length;o++)for(var f=r[o],c=i[o],h=0;h<c;h++){var a=n-c+h;f[h]>u[a]&&(u[a]=f[h])}for(var s=0;s<r.length;s++)vi(r[s],u);return u}function vi(e,r){for(var t=r.length,i=e.length,n=0;n<i;n++){var u=t-i+n;if(e[n]<r[u]&&e[n]>1||e[n]>r[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[n]," to size ").concat(r[u]))}}function It(e,r){var t=Ue(e);if(dr(t,r))return e;vi(t,r);var i=hi(t,r),n=i.length,u=[...Array(n-t.length).fill(1),...t],o=xo(e);t.length<n&&(o=ai(o,u),t=Ue(o));for(var f=0;f<n;f++)t[f]<i[f]&&(o=bo(o,i[f],f),t=Ue(o));return o}function bo(e,r,t){return li(...Array(r).fill(e),t)}function Di(e,r){if(!Array.isArray(e))throw new Error("Array expected");var t=Ue(e);if(r.length!==t.length)throw new he(r.length,t.length);for(var i=0;i<r.length;i++)Ee(r[i],t[i]);return r.reduce((n,u)=>n[u],e)}function xo(e){return Wr([],e)}function it(e,r,t){if(et.isTypedFunction(e)){var i=(r.isMatrix?r.size():Ue(r)).map(()=>0),n=r.isMatrix?r.get(i):Di(r,i),u=Object.keys(e.signatures).length===1,o=No(e,n,i,r),f=u?Object.values(e.signatures)[0]:e;return o>=1&&o<=3?function(){for(var c=arguments.length,h=new Array(c),a=0;a<c;a++)h[a]=arguments[a];return Dn(f,h.slice(0,o),t,e.name)}:function(){for(var c=arguments.length,h=new Array(c),a=0;a<c;a++)h[a]=arguments[a];return Dn(f,h,t,e.name)}}return e}function No(e,r,t,i){for(var n=[r,t,i],u=3;u>0;u--){var o=n.slice(0,u);if(et.resolve(e,o)!==null)return u}}function Dn(e,r,t,i){try{return e(...r)}catch(n){To(n,r,t,i)}}function To(e,r,t,i){var n;if(e instanceof TypeError&&((n=e.data)===null||n===void 0?void 0:n.category)==="wrongType"){var u=[];throw u.push("value: ".concat(pr(r[0]))),r.length>=2&&u.push("index: ".concat(pr(r[1]))),r.length>=3&&u.push("array: ".concat(pr(r[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(i,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(e.message))}var zo="DenseMatrix",Oo=["Matrix"],Io=W(zo,Oo,e=>{var{Matrix:r}=e;function t(a,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!or(s))throw new Error("Invalid datatype: "+s);if(Te(a))a.type==="DenseMatrix"?(this._data=_e(a._data),this._size=_e(a._size),this._datatype=s||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=s||a._datatype);else if(a&&Ce(a.data)&&Ce(a.size))this._data=a.data,this._size=a.size,hn(this._data,this._size),this._datatype=s||a.datatype;else if(Ce(a))this._data=h(a),this._size=Ue(this._data),hn(this._data,this._size),this._datatype=s;else{if(a)throw new TypeError("Unsupported type of data ("+pr(a)+")");this._data=[],this._size=[0],this._datatype=s}}t.prototype=new r,t.prototype.createDenseMatrix=function(a,s){return new t(a,s)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Zt(this._data,pr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(a,s){return new t(a,s)},t.prototype.subset=function(a,s,v){switch(arguments.length){case 1:return i(this,a);case 2:case 3:return u(this,a,s,v);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(a){return Di(this._data,a)},t.prototype.set=function(a,s,v){if(!Ce(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new he(a.length,this._size.length,"<");var D,d,l,m=a.map(function(y){return y+1});c(this,m,v);var g=this._data;for(D=0,d=a.length-1;D<d;D++)l=a[D],Ee(l,g.length),g=g[l];return l=a[a.length-1],Ee(l,g.length),g[l]=s,this};function i(a,s){if(!$t(s))throw new TypeError("Invalid index");var v=s.isScalar();if(v)return a.get(s.min());var D=s.size();if(D.length!==a._size.length)throw new he(D.length,a._size.length);for(var d=s.min(),l=s.max(),m=0,g=a._size.length;m<g;m++)Ee(d[m],a._size[m]),Ee(l[m],a._size[m]);return new t(n(a._data,s,D.length,0),a._datatype)}function n(a,s,v,D){var d=D===v-1,l=s.dimension(D);return d?l.map(function(m){return Ee(m,a.length),a[m]}).valueOf():l.map(function(m){Ee(m,a.length);var g=a[m];return n(g,s,v,D+1)}).valueOf()}function u(a,s,v,D){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var d=s.size(),l=s.isScalar(),m;if(Te(v)?(m=v.size(),v=v.valueOf()):m=Ue(v),l){if(m.length!==0)throw new TypeError("Scalar expected");a.set(s.min(),v,D)}else{if(!dr(m,d))try{m.length===0?v=It([v],d):v=It(v,d),m=Ue(v)}catch{}if(d.length<a._size.length)throw new he(d.length,a._size.length,"<");if(m.length<d.length){for(var g=0,y=0;d[g]===1&&m[g]===1;)g++;for(;d[g]===1;)y++,g++;v=si(v,d.length,y,m)}if(!dr(d,m))throw new he(d,m,">");var w=s.max().map(function(p){return p+1});c(a,w,D);var A=d.length,F=0;o(a._data,s,v,A,F)}return a}function o(a,s,v,D,d){var l=d===D-1,m=s.dimension(d);l?m.forEach(function(g,y){Ee(g),a[g]=v[y[0]]}):m.forEach(function(g,y){Ee(g),o(a[g],s,v[y[0]],D,d+1)})}t.prototype.resize=function(a,s,v){if(!jr(a))throw new TypeError("Array or Matrix expected");var D=a.valueOf().map(l=>Array.isArray(l)&&l.length===1?l[0]:l),d=v?this.clone():this;return f(d,D,s)};function f(a,s,v){if(s.length===0){for(var D=a._data;Ce(D);)D=D[0];return D}return a._size=s.slice(0),a._data=vn(a._data,a._size,v),a}t.prototype.reshape=function(a,s){var v=s?this.clone():this;v._data=ai(v._data,a);var D=v._size.reduce((d,l)=>d*l);return v._size=Ut(a,D),v};function c(a,s,v){for(var D=a._size.slice(0),d=!1;D.length<s.length;)D.push(0),d=!0;for(var l=0,m=s.length;l<m;l++)s[l]>D[l]&&(D[l]=s[l],d=!0);d&&f(a,D,v)}t.prototype.clone=function(){var a=new t({data:_e(this._data),size:_e(this._size),datatype:this._datatype});return a},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(a){var s=this,v=s.size();if(v.length===1){for(var D=0;D<v[0];D++)a(s._data,D,[D]);return}var d=Array(v.length).fill(0),l=Array(v.length-1),m=l.length-1;l[0]=s._data[0];for(var g=0;g<m;g++)l[g+1]=l[g][0];for(d[m]=-1;;){var y=void 0;for(y=m;y>=0;y--){if(d[y]++,d[y]===v[y]){d[y]=0;continue}l[y]=y===0?s._data[d[y]]:l[y-1][d[y]];for(var w=y;w<m;w++)l[w+1]=l[w][0];for(var A=0;A<v[l.length];A++)d[l.length]=A,a(l[m],A,d.slice(0));break}if(y===-1)break}},t.prototype.map=function(a){var s=this,v=new t(s),D=it(a,s._data,"map");return v._forEach(function(d,l,m){d[l]=D(d[l],m,s)}),v},t.prototype.forEach=function(a){var s=this,v=it(a,s._data,"map");s._forEach(function(D,d,l){v(D[d],l,s)})},t.prototype[Symbol.iterator]=function*(){var a=function*(v,D){if(Ce(v))for(var d=0;d<v.length;d++)yield*a(v[d],D.concat(d));else yield{value:v,index:D}};yield*a(this._data,[])},t.prototype.rows=function(){var a=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var v=this._data;for(var D of v)a.push(new t([D],this._datatype));return a},t.prototype.columns=function(){var a=this,s=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var D=this._data,d=function(g){var y=D.map(w=>[w[g]]);s.push(new t(y,a._datatype))},l=0;l<v[1];l++)d(l);return s},t.prototype.toArray=function(){return _e(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(a){return Ne(this._data,a)},t.prototype.toString=function(){return Ne(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(a){if(a){if(ze(a)&&(a=a.toNumber()),!Fe(a)||!be(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var s=a>0?a:0,v=a<0?-a:0,D=this._size[0],d=this._size[1],l=Math.min(D-v,d-s),m=[],g=0;g<l;g++)m[g]=this._data[g+v][g+s];return new t({data:m,size:[l],datatype:this._datatype})},t.diagonal=function(a,s,v,D){if(!Ce(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(_){if(ze(_)&&(_=_.toNumber()),!Fe(_)||!be(_)||_<1)throw new Error("Size values must be positive integers");return _}),v){if(ze(v)&&(v=v.toNumber()),!Fe(v)||!be(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var d=v>0?v:0,l=v<0?-v:0,m=a[0],g=a[1],y=Math.min(m-l,g-d),w;if(Ce(s)){if(s.length!==y)throw new Error("Invalid value array length");w=function(M){return s[M]}}else if(Te(s)){var A=s.size();if(A.length!==1||A[0]!==y)throw new Error("Invalid matrix length");w=function(M){return s.get([M])}}else w=function(){return s};D||(D=ze(w(0))?w(0).mul(0):0);var F=[];if(a.length>0){F=vn(F,a,D);for(var p=0;p<y;p++)F[p+l][p+d]=w(p)}return new t({data:F,size:[m,g]})},t.fromJSON=function(a){return new t(a)},t.prototype.swapRows=function(a,s){if(!Fe(a)||!be(a)||!Fe(s)||!be(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(a,this._size[0]),Ee(s,this._size[0]),t._swapRows(a,s,this._data),this},t._swapRows=function(a,s,v){var D=v[a];v[a]=v[s],v[s]=D};function h(a){return Te(a)?h(a.valueOf()):Ce(a)?a.map(h):a}return t},{isClass:!0});function wr(e,r,t){return e&&typeof e.map=="function"?e.map(function(i){return wr(i,r)}):r(e)}var pn="isInteger",Po=["typed"],$o=W(pn,Po,e=>{var{typed:r}=e;return r(pn,{number:be,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":r.referToSelf(t=>i=>wr(i,t))})}),pi="number",Vt="number, number";function di(e){return Math.abs(e)}di.signature=pi;function mi(e,r){return e+r}mi.signature=Vt;function gi(e,r){return e-r}gi.signature=Vt;function wi(e,r){return e*r}wi.signature=Vt;function Fi(e){return-e}Fi.signature=pi;function Dt(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||r.isNaN()?!1:!e.isFinite()||!r.isFinite()?e.eq(r):e.eq(r)?!0:e.minus(r).abs().lte(e.constructor.max(e.constructor.max(e.abs(),r.abs()).mul(t),i))}function qo(e,r,t,i){return Er(e.re,r.re,t,i)&&Er(e.im,r.im,t,i)}var pt=W("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return r.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}}),ut="equalScalar",Ro=["typed","config"],Lo=W(ut,Ro,e=>{var{typed:r,config:t}=e,i=pt({typed:r});return r(ut,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return Er(u,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||Dt(u,o,t.relTol,t.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return qo(u,o,t.relTol,t.absTol)}},i)});W(ut,["typed","config"],e=>{var{typed:r,config:t}=e;return r(ut,{"number, number":function(n,u){return Er(n,u,t.relTol,t.absTol)}})});var Uo="SparseMatrix",Zo=["typed","equalScalar","Matrix"],Vo=W(Uo,Zo,e=>{var{typed:r,equalScalar:t,Matrix:i}=e;function n(l,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!or(m))throw new Error("Invalid datatype: "+m);if(Te(l))u(this,l,m);else if(l&&Ce(l.index)&&Ce(l.ptr)&&Ce(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=m||l.datatype;else if(Ce(l))o(this,l,m);else{if(l)throw new TypeError("Unsupported type of data ("+pr(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(l,m,g){m.type==="SparseMatrix"?(l._values=m._values?_e(m._values):void 0,l._index=_e(m._index),l._ptr=_e(m._ptr),l._size=_e(m._size),l._datatype=g||m._datatype):o(l,m.valueOf(),g||m._datatype)}function o(l,m,g){l._values=[],l._index=[],l._ptr=[],l._datatype=g;var y=m.length,w=0,A=t,F=0;if(or(g)&&(A=r.find(t,[g,g])||t,F=r.convert(0,g)),y>0){var p=0;do{l._ptr.push(l._index.length);for(var _=0;_<y;_++){var M=m[_];if(Ce(M)){if(p===0&&w<M.length&&(w=M.length),p<M.length){var E=M[p];A(E,F)||(l._values.push(E),l._index.push(_))}}else p===0&&w<1&&(w=1),A(M,F)||(l._values.push(M),l._index.push(_))}p++}while(p<w)}l._ptr.push(l._index.length),l._size=[y,w]}n.prototype=new i,n.prototype.createSparseMatrix=function(l,m){return new n(l,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Zt(this._values,pr)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(l,m){return new n(l,m)},n.prototype.density=function(){var l=this._size[0],m=this._size[1];return l!==0&&m!==0?this._index.length/(l*m):0},n.prototype.subset=function(l,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,l);case 2:case 3:return c(this,l,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function f(l,m){if(!$t(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return l.get(m.min());var y=m.size();if(y.length!==l._size.length)throw new he(y.length,l._size.length);var w,A,F,p,_=m.min(),M=m.max();for(w=0,A=l._size.length;w<A;w++)Ee(_[w],l._size[w]),Ee(M[w],l._size[w]);var E=l._values,B=l._index,b=l._ptr,z=m.dimension(0),L=m.dimension(1),P=[],I=[];z.forEach(function(T,J){I[T]=J[0],P[T]=!0});var x=E?[]:void 0,Y=[],H=[];return L.forEach(function(T){for(H.push(Y.length),F=b[T],p=b[T+1];F<p;F++)w=B[F],P[w]===!0&&(Y.push(I[w]),x&&x.push(E[F]))}),H.push(Y.length),new n({values:x,index:Y,ptr:H,size:y,datatype:l._datatype})}function c(l,m,g,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),A=m.isScalar(),F;if(Te(g)?(F=g.size(),g=g.toArray()):F=Ue(g),A){if(F.length!==0)throw new TypeError("Scalar expected");l.set(m.min(),g,y)}else{if(w.length!==1&&w.length!==2)throw new he(w.length,l._size.length,"<");if(F.length<w.length){for(var p=0,_=0;w[p]===1&&F[p]===1;)p++;for(;w[p]===1;)_++,p++;g=si(g,w.length,_,F)}if(!dr(w,F))throw new he(w,F,">");if(w.length===1){var M=m.dimension(0);M.forEach(function(b,z){Ee(b),l.set([b,0],g[z[0]],y)})}else{var E=m.dimension(0),B=m.dimension(1);E.forEach(function(b,z){Ee(b),B.forEach(function(L,P){Ee(L),l.set([b,L],g[z[0]][P[0]],y)})})}}return l}n.prototype.get=function(l){if(!Ce(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new he(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=l[0],g=l[1];Ee(m,this._size[0]),Ee(g,this._size[1]);var y=h(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},n.prototype.set=function(l,m,g){if(!Ce(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new he(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=l[0],w=l[1],A=this._size[0],F=this._size[1],p=t,_=0;or(this._datatype)&&(p=r.find(t,[this._datatype,this._datatype])||t,_=r.convert(0,this._datatype)),(y>A-1||w>F-1)&&(v(this,Math.max(y+1,A),Math.max(w+1,F),g),A=this._size[0],F=this._size[1]),Ee(y,A),Ee(w,F);var M=h(y,this._ptr[w],this._ptr[w+1],this._index);return M<this._ptr[w+1]&&this._index[M]===y?p(m,_)?a(M,w,this._values,this._index,this._ptr):this._values[M]=m:p(m,_)||s(M,y,w,m,this._values,this._index,this._ptr),this};function h(l,m,g,y){if(g-m===0)return g;for(var w=m;w<g;w++)if(y[w]===l)return w;return m}function a(l,m,g,y,w){g.splice(l,1),y.splice(l,1);for(var A=m+1;A<w.length;A++)w[A]--}function s(l,m,g,y,w,A,F){w.splice(l,0,y),A.splice(l,0,m);for(var p=g+1;p<F.length;p++)F[p]++}n.prototype.resize=function(l,m,g){if(!jr(l))throw new TypeError("Array or Matrix expected");var y=l.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(A){if(!Fe(A)||!be(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ne(y)+")")});var w=g?this.clone():this;return v(w,y[0],y[1],m)};function v(l,m,g,y){var w=y||0,A=t,F=0;or(l._datatype)&&(A=r.find(t,[l._datatype,l._datatype])||t,F=r.convert(0,l._datatype),w=r.convert(w,l._datatype));var p=!A(w,F),_=l._size[0],M=l._size[1],E,B,b;if(g>M){for(B=M;B<g;B++)if(l._ptr[B]=l._values.length,p)for(E=0;E<_;E++)l._values.push(w),l._index.push(E);l._ptr[g]=l._values.length}else g<M&&(l._ptr.splice(g+1,M-g),l._values.splice(l._ptr[g],l._values.length),l._index.splice(l._ptr[g],l._index.length));if(M=g,m>_){if(p){var z=0;for(B=0;B<M;B++){l._ptr[B]=l._ptr[B]+z,b=l._ptr[B+1]+z;var L=0;for(E=_;E<m;E++,L++)l._values.splice(b+L,0,w),l._index.splice(b+L,0,E),z++}l._ptr[M]=l._values.length}}else if(m<_){var P=0;for(B=0;B<M;B++){l._ptr[B]=l._ptr[B]-P;var I=l._ptr[B],x=l._ptr[B+1]-P;for(b=I;b<x;b++)E=l._index[b],E>m-1&&(l._values.splice(b,1),l._index.splice(b,1),P++)}l._ptr[B]=l._values.length}return l._size[0]=m,l._size[1]=g,l}n.prototype.reshape=function(l,m){if(!Ce(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(T){if(!Fe(T)||!be(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ne(l)+")")});var g=this._size[0]*this._size[1];l=Ut(l,g);var y=l[0]*l[1];if(g!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return w;for(var A=[],F=0;F<w._ptr.length;F++)for(var p=0;p<w._ptr[F+1]-w._ptr[F];p++)A.push(F);for(var _=w._values.slice(),M=w._index.slice(),E=0;E<w._index.length;E++){var B=M[E],b=A[E],z=B*w._size[1]+b;A[E]=z%l[1],M[E]=Math.floor(z/l[1])}w._values.length=0,w._index.length=0,w._ptr.length=l[1]+1,w._size=l.slice();for(var L=0;L<w._ptr.length;L++)w._ptr[L]=0;for(var P=0;P<_.length;P++){var I=M[P],x=A[P],Y=_[P],H=h(I,w._ptr[x],w._ptr[x+1],w._index);s(H,I,x,Y,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var l=new n({values:this._values?_e(this._values):void 0,index:_e(this._index),ptr:_e(this._ptr),size:_e(this._size),datatype:this._datatype});return l},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(l,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],w=this._size[1],A=it(l,g,"map"),F=function(_,M,E){return A(_,[M,E],g)};return D(this,0,y-1,0,w-1,F,m)};function D(l,m,g,y,w,A,F){var p=[],_=[],M=[],E=t,B=0;or(l._datatype)&&(E=r.find(t,[l._datatype,l._datatype])||t,B=r.convert(0,l._datatype));for(var b=function(te,k,ve){var se=A(te,k,ve);E(se,B)||(p.push(se),_.push(k))},z=y;z<=w;z++){M.push(p.length);var L=l._ptr[z],P=l._ptr[z+1];if(F)for(var I=L;I<P;I++){var x=l._index[I];x>=m&&x<=g&&b(l._values[I],x-m,z-y)}else{for(var Y={},H=L;H<P;H++){var T=l._index[H];Y[T]=l._values[H]}for(var J=m;J<=g;J++){var K=J in Y?Y[J]:0;b(K,J-m,z-y)}}}return M.push(p.length),new n({values:p,index:_,ptr:M,size:[g-m+1,w-y+1]})}n.prototype.forEach=function(l,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],w=this._size[1],A=it(l,g,"forEach"),F=0;F<w;F++){var p=this._ptr[F],_=this._ptr[F+1];if(m)for(var M=p;M<_;M++){var E=this._index[M];A(this._values[M],[E,F],g)}else{for(var B={},b=p;b<_;b++){var z=this._index[b];B[z]=this._values[b]}for(var L=0;L<y;L++){var P=L in B?B[L]:0;A(P,[L,F],g)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],m=0;m<l;m++)for(var g=this._ptr[m],y=this._ptr[m+1],w=g;w<y;w++){var A=this._index[w];yield{value:this._values[w],index:[A,m]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(l,m,g,y,w){var A=y[0],F=y[1],p=[],_,M;for(_=0;_<A;_++)for(p[_]=[],M=0;M<F;M++)p[_][M]=0;for(M=0;M<F;M++)for(var E=g[M],B=g[M+1],b=E;b<B;b++)_=m[b],p[_][M]=l?w?_e(l[b]):l[b]:1;return p}return n.prototype.format=function(l){for(var m=this._size[0],g=this._size[1],y=this.density(),w="Sparse Matrix ["+Ne(m,l)+" x "+Ne(g,l)+"] density: "+Ne(y,l)+`
`,A=0;A<g;A++)for(var F=this._ptr[A],p=this._ptr[A+1],_=F;_<p;_++){var M=this._index[_];w+=`
    (`+Ne(M,l)+", "+Ne(A,l)+") ==> "+(this._values?Ne(this._values[_],l):"X")}return w},n.prototype.toString=function(){return Ne(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(l){if(l){if(ze(l)&&(l=l.toNumber()),!Fe(l)||!be(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var m=l>0?l:0,g=l<0?-l:0,y=this._size[0],w=this._size[1],A=Math.min(y-g,w-m),F=[],p=[],_=[];_[0]=0;for(var M=m;M<w&&F.length<A;M++)for(var E=this._ptr[M],B=this._ptr[M+1],b=E;b<B;b++){var z=this._index[b];if(z===M-m+g){F.push(this._values[b]),p[F.length-1]=z-g;break}}return _.push(F.length),new n({values:F,index:p,ptr:_,size:[A,1]})},n.fromJSON=function(l){return new n(l)},n.diagonal=function(l,m,g,y,w){if(!Ce(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(T){if(ze(T)&&(T=T.toNumber()),!Fe(T)||!be(T)||T<1)throw new Error("Size values must be positive integers");return T}),g){if(ze(g)&&(g=g.toNumber()),!Fe(g)||!be(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var A=t,F=0;or(w)&&(A=r.find(t,[w,w])||t,F=r.convert(0,w));var p=g>0?g:0,_=g<0?-g:0,M=l[0],E=l[1],B=Math.min(M-_,E-p),b;if(Ce(m)){if(m.length!==B)throw new Error("Invalid value array length");b=function(J){return m[J]}}else if(Te(m)){var z=m.size();if(z.length!==1||z[0]!==B)throw new Error("Invalid matrix length");b=function(J){return m.get([J])}}else b=function(){return m};for(var L=[],P=[],I=[],x=0;x<E;x++){I.push(L.length);var Y=x-p;if(Y>=0&&Y<B){var H=b(Y);A(H,F)||(P.push(Y+_),L.push(H))}}return I.push(L.length),new n({values:L,index:P,ptr:I,size:[M,E]})},n.prototype.swapRows=function(l,m){if(!Fe(l)||!be(l)||!Fe(m)||!be(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(l,this._size[0]),Ee(m,this._size[0]),n._swapRows(l,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(l,m,g,y,w){for(var A=y[l],F=y[l+1],p=A;p<F;p++)w(g[p],m[p])},n._swapRows=function(l,m,g,y,w,A){for(var F=0;F<g;F++){var p=A[F],_=A[F+1],M=h(l,p,_,w),E=h(m,p,_,w);if(M<_&&E<_&&w[M]===l&&w[E]===m){if(y){var B=y[M];y[M]=y[E],y[E]=B}continue}if(M<_&&w[M]===l&&(E>=_||w[E]!==m)){var b=y?y[M]:void 0;w.splice(E,0,m),y&&y.splice(E,0,b),w.splice(E<=M?M+1:M,1),y&&y.splice(E<=M?M+1:M,1);continue}if(E<_&&w[E]===m&&(M>=_||w[M]!==l)){var z=y?y[E]:void 0;w.splice(M,0,l),y&&y.splice(M,0,z),w.splice(M<=E?E+1:E,1),y&&y.splice(M<=E?E+1:E,1)}}},n},{isClass:!0}),Ho="number",Jo=["typed"];function Yo(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],i=r[2],n=r[3];return{input:e,radix:t,integerPart:i,fractionalPart:n}}else return null}function Go(e){for(var r=parseInt(e.integerPart,e.radix),t=0,i=0;i<e.fractionalPart.length;i++){var n=parseInt(e.fractionalPart[i],e.radix);t+=n/Math.pow(e.radix,i+1)}var u=r+t;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var Xo=W(Ho,Jo,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=Yo(n);if(u)return Go(u);var o=0,f=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);f&&(o=Number(f[2]),n=f[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is not a valid number');if(f){if(c>2**o-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:r.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":r.referToSelf(i=>n=>wr(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),Ko="bignumber",Qo=["typed","BigNumber"],Wo=W(Ko,Qo,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],f=t(u[1]),c=new t(2).pow(Number(o));if(f.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var h=new t(2).pow(Number(o)-1);return f.gte(h)?f.sub(c):f}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:r.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":r.referToSelf(i=>n=>wr(n,i))})}),ko="fraction",jo=["typed","Fraction"],es=W(ko,jo,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,u){return new t(n,u)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:r.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Object:function(n){return new t(n)},"Array | Matrix":r.referToSelf(i=>n=>wr(n,i))})}),dn="matrix",rs=["typed","Matrix","DenseMatrix","SparseMatrix"],ts=W(dn,rs,e=>{var{typed:r,Matrix:t,DenseMatrix:i,SparseMatrix:n}=e;return r(dn,{"":function(){return u([])},string:function(f){return u([],f)},"string, string":function(f,c){return u([],f,c)},Array:function(f){return u(f)},Matrix:function(f){return u(f,f.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,f,c){if(f==="dense"||f==="default"||f===void 0)return new i(o,c);if(f==="sparse")return new n(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),mn="unaryMinus",ns=["typed"],is=W(mn,ns,e=>{var{typed:r}=e;return r(mn,{number:Fi,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:r.referToSelf(t=>i=>{var n=i.clone();return n.value=r.find(t,n.valueType())(i.value),n}),"Array | Matrix":r.referToSelf(t=>i=>wr(i,t))})}),gn="abs",us=["typed"],as=W(gn,us,e=>{var{typed:r}=e;return r(gn,{number:di,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":r.referToSelf(t=>i=>wr(i,t))})}),wn="addScalar",os=["typed"],ss=W(wn,os,e=>{var{typed:r}=e;return r(wn,{"number, number":mi,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":r.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=r.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),Fn="subtractScalar",fs=["typed"],cs=W(Fn,fs,e=>{var{typed:r}=e;return r(Fn,{"number, number":gi,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":r.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=r.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),ls="matAlgo11xS0s",hs=["typed","equalScalar"],vs=W(ls,hs,e=>{var{typed:r,equalScalar:t}=e;return function(n,u,o,f){var c=n._values,h=n._index,a=n._ptr,s=n._size,v=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=s[0],d=s[1],l,m=t,g=0,y=o;typeof v=="string"&&(l=v,m=r.find(t,[l,l]),g=r.convert(0,l),u=r.convert(u,l),y=r.find(o,[l,l]));for(var w=[],A=[],F=[],p=0;p<d;p++){F[p]=A.length;for(var _=a[p],M=a[p+1],E=_;E<M;E++){var B=h[E],b=f?y(u,c[E]):y(c[E],u);m(b,g)||(A.push(B),w.push(b))}}return F[d]=A.length,n.createSparseMatrix({values:w,index:A,ptr:F,size:[D,d],datatype:l})}}),Ds="matAlgo12xSfs",ps=["typed","DenseMatrix"],dt=W(Ds,ps,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,u,o,f){var c=n._values,h=n._index,a=n._ptr,s=n._size,v=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=s[0],d=s[1],l,m=o;typeof v=="string"&&(l=v,u=r.convert(u,l),m=r.find(o,[l,l]));for(var g=[],y=[],w=[],A=0;A<d;A++){for(var F=A+1,p=a[A],_=a[A+1],M=p;M<_;M++){var E=h[M];y[E]=c[M],w[E]=F}for(var B=0;B<D;B++)A===0&&(g[B]=[]),w[B]===F?g[B][A]=f?m(u,y[B]):m(y[B],u):g[B][A]=f?m(u,0):m(0,u)}return new t({data:g,size:[D,d],datatype:l})}}),ds="matAlgo14xDs",ms=["typed"],yi=W(ds,ms,e=>{var{typed:r}=e;return function(n,u,o,f){var c=n._data,h=n._size,a=n._datatype,s,v=o;typeof a=="string"&&(s=a,u=r.convert(u,s),v=r.find(o,[s,s]));var D=h.length>0?t(v,0,h,h[0],c,u,f):[];return n.createDenseMatrix({data:D,size:_e(h),datatype:s})};function t(i,n,u,o,f,c,h){var a=[];if(n===u.length-1)for(var s=0;s<o;s++)a[s]=h?i(c,f[s]):i(f[s],c);else for(var v=0;v<o;v++)a[v]=t(i,n+1,u,u[n+1],f[v],c,h);return a}}),gs="matAlgo03xDSf",ws=["typed"],mt=W(gs,ws,e=>{var{typed:r}=e;return function(i,n,u,o){var f=i._data,c=i._size,h=i._datatype||i.getDataType(),a=n._values,s=n._index,v=n._ptr,D=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==D.length)throw new he(c.length,D.length);if(c[0]!==D[0]||c[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+D+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=c[0],m=c[1],g,y=0,w=u;typeof h=="string"&&h===d&&h!=="mixed"&&(g=h,y=r.convert(0,g),w=r.find(u,[g,g]));for(var A=[],F=0;F<l;F++)A[F]=[];for(var p=[],_=[],M=0;M<m;M++){for(var E=M+1,B=v[M],b=v[M+1],z=B;z<b;z++){var L=s[z];p[L]=o?w(a[z],f[L][M]):w(f[L][M],a[z]),_[L]=E}for(var P=0;P<l;P++)_[P]===E?A[P][M]=p[P]:A[P][M]=o?w(y,f[P][M]):w(f[P][M],y)}return i.createDenseMatrix({data:A,size:[l,m],datatype:h===i._datatype&&d===n._datatype?g:void 0})}}),Fs="matAlgo05xSfSf",ys=["typed","equalScalar"],As=W(Fs,ys,e=>{var{typed:r,equalScalar:t}=e;return function(n,u,o){var f=n._values,c=n._index,h=n._ptr,a=n._size,s=n._datatype||n._data===void 0?n._datatype:n.getDataType(),v=u._values,D=u._index,d=u._ptr,l=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(a.length!==l.length)throw new he(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var g=a[0],y=a[1],w,A=t,F=0,p=o;typeof s=="string"&&s===m&&s!=="mixed"&&(w=s,A=r.find(t,[w,w]),F=r.convert(0,w),p=r.find(o,[w,w]));var _=f&&v?[]:void 0,M=[],E=[],B=_?[]:void 0,b=_?[]:void 0,z=[],L=[],P,I,x,Y;for(I=0;I<y;I++){E[I]=M.length;var H=I+1;for(x=h[I],Y=h[I+1];x<Y;x++)P=c[x],M.push(P),z[P]=H,B&&(B[P]=f[x]);for(x=d[I],Y=d[I+1];x<Y;x++)P=D[x],z[P]!==H&&M.push(P),L[P]=H,b&&(b[P]=v[x]);if(_)for(x=E[I];x<M.length;){P=M[x];var T=z[P],J=L[P];if(T===H||J===H){var K=T===H?B[P]:F,ue=J===H?b[P]:F,te=p(K,ue);A(te,F)?M.splice(x,1):(_.push(te),x++)}}}return E[y]=M.length,n.createSparseMatrix({values:_,index:M,ptr:E,size:[g,y],datatype:s===n._datatype&&m===u._datatype?w:void 0})}}),Es="matAlgo13xDD",Cs=["typed"],_s=W(Es,Cs,e=>{var{typed:r}=e;return function(n,u,o){var f=n._data,c=n._size,h=n._datatype,a=u._data,s=u._size,v=u._datatype,D=[];if(c.length!==s.length)throw new he(c.length,s.length);for(var d=0;d<c.length;d++){if(c[d]!==s[d])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+s+")");D[d]=c[d]}var l,m=o;typeof h=="string"&&h===v&&(l=h,m=r.find(o,[l,l]));var g=D.length>0?t(m,0,D,D[0],f,a):[];return n.createDenseMatrix({data:g,size:D,datatype:l})};function t(i,n,u,o,f,c){var h=[];if(n===u.length-1)for(var a=0;a<o;a++)h[a]=i(f[a],c[a]);else for(var s=0;s<o;s++)h[s]=t(i,n+1,u,u[n+1],f[s],c[s]);return h}});function xe(e,r){if(dr(e.size(),r.size()))return[e,r];var t=hi(e.size(),r.size());return[e,r].map(i=>Ms(i,t))}function Ms(e,r){return dr(e.size(),r)?e:e.create(It(e.valueOf(),r),e.datatype())}var Bs="matrixAlgorithmSuite",Ss=["typed","matrix"],Rr=W(Bs,Ss,e=>{var{typed:r,matrix:t}=e,i=_s({typed:r}),n=yi({typed:r});return function(o){var f=o.elop,c=o.SD||o.DS,h;f?(h={"DenseMatrix, DenseMatrix":(D,d)=>i(...xe(D,d),f),"Array, Array":(D,d)=>i(...xe(t(D),t(d)),f).valueOf(),"Array, DenseMatrix":(D,d)=>i(...xe(t(D),d),f),"DenseMatrix, Array":(D,d)=>i(...xe(D,t(d)),f)},o.SS&&(h["SparseMatrix, SparseMatrix"]=(D,d)=>o.SS(...xe(D,d),f,!1)),o.DS&&(h["DenseMatrix, SparseMatrix"]=(D,d)=>o.DS(...xe(D,d),f,!1),h["Array, SparseMatrix"]=(D,d)=>o.DS(...xe(t(D),d),f,!1)),c&&(h["SparseMatrix, DenseMatrix"]=(D,d)=>c(...xe(d,D),f,!0),h["SparseMatrix, Array"]=(D,d)=>c(...xe(t(d),D),f,!0))):(h={"DenseMatrix, DenseMatrix":r.referToSelf(D=>(d,l)=>i(...xe(d,l),D)),"Array, Array":r.referToSelf(D=>(d,l)=>i(...xe(t(d),t(l)),D).valueOf()),"Array, DenseMatrix":r.referToSelf(D=>(d,l)=>i(...xe(t(d),l),D)),"DenseMatrix, Array":r.referToSelf(D=>(d,l)=>i(...xe(d,t(l)),D))},o.SS&&(h["SparseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,l)=>o.SS(...xe(d,l),D,!1))),o.DS&&(h["DenseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,l)=>o.DS(...xe(d,l),D,!1)),h["Array, SparseMatrix"]=r.referToSelf(D=>(d,l)=>o.DS(...xe(t(d),l),D,!1))),c&&(h["SparseMatrix, DenseMatrix"]=r.referToSelf(D=>(d,l)=>c(...xe(l,d),D,!0)),h["SparseMatrix, Array"]=r.referToSelf(D=>(d,l)=>c(...xe(t(l),d),D,!0))));var a=o.scalar||"any",s=o.Ds||o.Ss;s&&(f?(h["DenseMatrix,"+a]=(D,d)=>n(D,d,f,!1),h[a+", DenseMatrix"]=(D,d)=>n(d,D,f,!0),h["Array,"+a]=(D,d)=>n(t(D),d,f,!1).valueOf(),h[a+", Array"]=(D,d)=>n(t(d),D,f,!0).valueOf()):(h["DenseMatrix,"+a]=r.referToSelf(D=>(d,l)=>n(d,l,D,!1)),h[a+", DenseMatrix"]=r.referToSelf(D=>(d,l)=>n(l,d,D,!0)),h["Array,"+a]=r.referToSelf(D=>(d,l)=>n(t(d),l,D,!1).valueOf()),h[a+", Array"]=r.referToSelf(D=>(d,l)=>n(t(l),d,D,!0).valueOf())));var v=o.sS!==void 0?o.sS:o.Ss;return f?(o.Ss&&(h["SparseMatrix,"+a]=(D,d)=>o.Ss(D,d,f,!1)),v&&(h[a+", SparseMatrix"]=(D,d)=>v(d,D,f,!0))):(o.Ss&&(h["SparseMatrix,"+a]=r.referToSelf(D=>(d,l)=>o.Ss(d,l,D,!1))),v&&(h[a+", SparseMatrix"]=r.referToSelf(D=>(d,l)=>v(l,d,D,!0)))),f&&f.signatures&&Ku(h,f.signatures),h}}),bs="matAlgo01xDSid",xs=["typed"],Ai=W(bs,xs,e=>{var{typed:r}=e;return function(i,n,u,o){var f=i._data,c=i._size,h=i._datatype||i.getDataType(),a=n._values,s=n._index,v=n._ptr,D=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==D.length)throw new he(c.length,D.length);if(c[0]!==D[0]||c[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+D+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=c[0],m=c[1],g=typeof h=="string"&&h!=="mixed"&&h===d?h:void 0,y=g?r.find(u,[g,g]):u,w,A,F=[];for(w=0;w<l;w++)F[w]=[];var p=[],_=[];for(A=0;A<m;A++){for(var M=A+1,E=v[A],B=v[A+1],b=E;b<B;b++)w=s[b],p[w]=o?y(a[b],f[w][A]):y(f[w][A],a[b]),_[w]=M;for(w=0;w<l;w++)_[w]===M?F[w][A]=p[w]:F[w][A]=f[w][A]}return i.createDenseMatrix({data:F,size:[l,m],datatype:h===i._datatype&&d===n._datatype?g:void 0})}}),Ns="matAlgo04xSidSid",Ts=["typed","equalScalar"],zs=W(Ns,Ts,e=>{var{typed:r,equalScalar:t}=e;return function(n,u,o){var f=n._values,c=n._index,h=n._ptr,a=n._size,s=n._datatype||n._data===void 0?n._datatype:n.getDataType(),v=u._values,D=u._index,d=u._ptr,l=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(a.length!==l.length)throw new he(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var g=a[0],y=a[1],w,A=t,F=0,p=o;typeof s=="string"&&s===m&&s!=="mixed"&&(w=s,A=r.find(t,[w,w]),F=r.convert(0,w),p=r.find(o,[w,w]));var _=f&&v?[]:void 0,M=[],E=[],B=f&&v?[]:void 0,b=f&&v?[]:void 0,z=[],L=[],P,I,x,Y,H;for(I=0;I<y;I++){E[I]=M.length;var T=I+1;for(Y=h[I],H=h[I+1],x=Y;x<H;x++)P=c[x],M.push(P),z[P]=T,B&&(B[P]=f[x]);for(Y=d[I],H=d[I+1],x=Y;x<H;x++)if(P=D[x],z[P]===T){if(B){var J=p(B[P],v[x]);A(J,F)?z[P]=null:B[P]=J}}else M.push(P),L[P]=T,b&&(b[P]=v[x]);if(B&&b)for(x=E[I];x<M.length;)P=M[x],z[P]===T?(_[x]=B[P],x++):L[P]===T?(_[x]=b[P],x++):M.splice(x,1)}return E[y]=M.length,n.createSparseMatrix({values:_,index:M,ptr:E,size:[g,y],datatype:s===n._datatype&&m===u._datatype?w:void 0})}}),Os="matAlgo10xSids",Is=["typed","DenseMatrix"],Ei=W(Os,Is,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,u,o,f){var c=n._values,h=n._index,a=n._ptr,s=n._size,v=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=s[0],d=s[1],l,m=o;typeof v=="string"&&(l=v,u=r.convert(u,l),m=r.find(o,[l,l]));for(var g=[],y=[],w=[],A=0;A<d;A++){for(var F=A+1,p=a[A],_=a[A+1],M=p;M<_;M++){var E=h[M];y[E]=c[M],w[E]=F}for(var B=0;B<D;B++)A===0&&(g[B]=[]),w[B]===F?g[B][A]=f?m(u,y[B]):m(y[B],u):g[B][A]=u}return new t({data:g,size:[D,d],datatype:l})}}),Ps="multiplyScalar",$s=["typed"],qs=W(Ps,$s,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":wi,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),yn="multiply",Rs=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ls=W(yn,Rs,e=>{var{typed:r,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:u,dot:o}=e,f=vs({typed:r,equalScalar:u}),c=yi({typed:r});function h(F,p){switch(F.length){case 1:switch(p.length){case 1:if(F[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(F[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+p[0]+")");break;case 2:if(F[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function a(F,p,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return o(F,p)}function s(F,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(F,p)}function v(F,p){var _=F._data,M=F._size,E=F._datatype||F.getDataType(),B=p._data,b=p._size,z=p._datatype||p.getDataType(),L=M[0],P=b[1],I,x=i,Y=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&(I=E,x=r.find(i,[I,I]),Y=r.find(n,[I,I]));for(var H=[],T=0;T<P;T++){for(var J=Y(_[0],B[0][T]),K=1;K<L;K++)J=x(J,Y(_[K],B[K][T]));H[T]=J}return F.createDenseMatrix({data:H,size:[P],datatype:E===F._datatype&&z===p._datatype?I:void 0})}var D=r("_multiplyMatrixVector",{"DenseMatrix, any":l,"SparseMatrix, any":y}),d=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":A});function l(F,p){var _=F._data,M=F._size,E=F._datatype||F.getDataType(),B=p._data,b=p._datatype||p.getDataType(),z=M[0],L=M[1],P,I=i,x=n;E&&b&&E===b&&typeof E=="string"&&E!=="mixed"&&(P=E,I=r.find(i,[P,P]),x=r.find(n,[P,P]));for(var Y=[],H=0;H<z;H++){for(var T=_[H],J=x(T[0],B[0]),K=1;K<L;K++)J=I(J,x(T[K],B[K]));Y[H]=J}return F.createDenseMatrix({data:Y,size:[z],datatype:E===F._datatype&&b===p._datatype?P:void 0})}function m(F,p){var _=F._data,M=F._size,E=F._datatype||F.getDataType(),B=p._data,b=p._size,z=p._datatype||p.getDataType(),L=M[0],P=M[1],I=b[1],x,Y=i,H=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(x=E,Y=r.find(i,[x,x]),H=r.find(n,[x,x]));for(var T=[],J=0;J<L;J++){var K=_[J];T[J]=[];for(var ue=0;ue<I;ue++){for(var te=H(K[0],B[0][ue]),k=1;k<P;k++)te=Y(te,H(K[k],B[k][ue]));T[J][ue]=te}}return F.createDenseMatrix({data:T,size:[L,I],datatype:E===F._datatype&&z===p._datatype?x:void 0})}function g(F,p){var _=F._data,M=F._size,E=F._datatype||F.getDataType(),B=p._values,b=p._index,z=p._ptr,L=p._size,P=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=M[0],x=L[1],Y,H=i,T=n,J=u,K=0;E&&P&&E===P&&typeof E=="string"&&E!=="mixed"&&(Y=E,H=r.find(i,[Y,Y]),T=r.find(n,[Y,Y]),J=r.find(u,[Y,Y]),K=r.convert(0,Y));for(var ue=[],te=[],k=[],ve=p.createSparseMatrix({values:ue,index:te,ptr:k,size:[I,x],datatype:E===F._datatype&&P===p._datatype?Y:void 0}),se=0;se<x;se++){k[se]=te.length;var ie=z[se],fe=z[se+1];if(fe>ie)for(var ae=0,ee=0;ee<I;ee++){for(var Ae=ee+1,me=void 0,oe=ie;oe<fe;oe++){var le=b[oe];ae!==Ae?(me=T(_[ee][le],B[oe]),ae=Ae):me=H(me,T(_[ee][le],B[oe]))}ae===Ae&&!J(me,K)&&(te.push(ee),ue.push(me))}}return k[x]=te.length,ve}function y(F,p){var _=F._values,M=F._index,E=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=p._data,z=p._datatype||p.getDataType(),L=F._size[0],P=p._size[0],I=[],x=[],Y=[],H,T=i,J=n,K=u,ue=0;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&(H=B,T=r.find(i,[H,H]),J=r.find(n,[H,H]),K=r.find(u,[H,H]),ue=r.convert(0,H));var te=[],k=[];Y[0]=0;for(var ve=0;ve<P;ve++){var se=b[ve];if(!K(se,ue))for(var ie=E[ve],fe=E[ve+1],ae=ie;ae<fe;ae++){var ee=M[ae];k[ee]?te[ee]=T(te[ee],J(se,_[ae])):(k[ee]=!0,x.push(ee),te[ee]=J(se,_[ae]))}}for(var Ae=x.length,me=0;me<Ae;me++){var oe=x[me];I[me]=te[oe]}return Y[1]=x.length,F.createSparseMatrix({values:I,index:x,ptr:Y,size:[L,1],datatype:B===F._datatype&&z===p._datatype?H:void 0})}function w(F,p){var _=F._values,M=F._index,E=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=p._data,z=p._datatype||p.getDataType(),L=F._size[0],P=p._size[0],I=p._size[1],x,Y=i,H=n,T=u,J=0;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&(x=B,Y=r.find(i,[x,x]),H=r.find(n,[x,x]),T=r.find(u,[x,x]),J=r.convert(0,x));for(var K=[],ue=[],te=[],k=F.createSparseMatrix({values:K,index:ue,ptr:te,size:[L,I],datatype:B===F._datatype&&z===p._datatype?x:void 0}),ve=[],se=[],ie=0;ie<I;ie++){te[ie]=ue.length;for(var fe=ie+1,ae=0;ae<P;ae++){var ee=b[ae][ie];if(!T(ee,J))for(var Ae=E[ae],me=E[ae+1],oe=Ae;oe<me;oe++){var le=M[oe];se[le]!==fe?(se[le]=fe,ue.push(le),ve[le]=H(ee,_[oe])):ve[le]=Y(ve[le],H(ee,_[oe]))}}for(var Be=te[ie],Ze=ue.length,Ie=Be;Ie<Ze;Ie++){var ce=ue[Ie];K[Ie]=ve[ce]}}return te[I]=ue.length,k}function A(F,p){var _=F._values,M=F._index,E=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType(),b=p._values,z=p._index,L=p._ptr,P=p._datatype||p._data===void 0?p._datatype:p.getDataType(),I=F._size[0],x=p._size[1],Y=_&&b,H,T=i,J=n;B&&P&&B===P&&typeof B=="string"&&B!=="mixed"&&(H=B,T=r.find(i,[H,H]),J=r.find(n,[H,H]));for(var K=Y?[]:void 0,ue=[],te=[],k=F.createSparseMatrix({values:K,index:ue,ptr:te,size:[I,x],datatype:B===F._datatype&&P===p._datatype?H:void 0}),ve=Y?[]:void 0,se=[],ie,fe,ae,ee,Ae,me,oe,le,Be=0;Be<x;Be++){te[Be]=ue.length;var Ze=Be+1;for(Ae=L[Be],me=L[Be+1],ee=Ae;ee<me;ee++)if(le=z[ee],Y)for(fe=E[le],ae=E[le+1],ie=fe;ie<ae;ie++)oe=M[ie],se[oe]!==Ze?(se[oe]=Ze,ue.push(oe),ve[oe]=J(b[ee],_[ie])):ve[oe]=T(ve[oe],J(b[ee],_[ie]));else for(fe=E[le],ae=E[le+1],ie=fe;ie<ae;ie++)oe=M[ie],se[oe]!==Ze&&(se[oe]=Ze,ue.push(oe));if(Y)for(var Ie=te[Be],ce=ue.length,Pe=Ie;Pe<ce;Pe++){var We=ue[Pe];K[Pe]=ve[We]}}return te[x]=ue.length,k}return r(yn,n,{"Array, Array":r.referTo("Matrix, Matrix",F=>(p,_)=>{h(Ue(p),Ue(_));var M=F(t(p),t(_));return Te(M)?M.valueOf():M}),"Matrix, Matrix":function(p,_){var M=p.size(),E=_.size();return h(M,E),M.length===1?E.length===1?a(p,_,M[0]):s(p,_):E.length===1?D(p,_):d(p,_)},"Matrix, Array":r.referTo("Matrix,Matrix",F=>(p,_)=>F(p,t(_))),"Array, Matrix":r.referToSelf(F=>(p,_)=>F(t(p,_.storage()),_)),"SparseMatrix, any":function(p,_){return f(p,_,n,!1)},"DenseMatrix, any":function(p,_){return c(p,_,n,!1)},"any, SparseMatrix":function(p,_){return f(_,p,n,!0)},"any, DenseMatrix":function(p,_){return c(_,p,n,!0)},"Array, any":function(p,_){return c(t(p),_,n,!1).valueOf()},"any, Array":function(p,_){return c(t(_),p,n,!0).valueOf()},"any, any":n,"any, any, ...any":r.referToSelf(F=>(p,_,M)=>{for(var E=F(p,_),B=0;B<M.length;B++)E=F(E,M[B]);return E})})}),An="subtract",Us=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Zs=W(An,Us,e=>{var{typed:r,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:u,DenseMatrix:o,concat:f}=e,c=Ai({typed:r}),h=mt({typed:r}),a=As({typed:r,equalScalar:i}),s=Ei({typed:r,DenseMatrix:o}),v=dt({typed:r,DenseMatrix:o}),D=Rr({typed:r,matrix:t,concat:f});return r(An,{"any, any":n},D({elop:n,SS:a,DS:c,SD:h,Ss:v,sS:s}))}),Vs="matAlgo07xSSf",Hs=["typed","DenseMatrix"],Ht=W(Vs,Hs,e=>{var{typed:r,DenseMatrix:t}=e;return function(u,o,f){var c=u._size,h=u._datatype||u._data===void 0?u._datatype:u.getDataType(),a=o._size,s=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==a.length)throw new he(c.length,a.length);if(c[0]!==a[0]||c[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+a+")");var v=c[0],D=c[1],d,l=0,m=f;typeof h=="string"&&h===s&&h!=="mixed"&&(d=h,l=r.convert(0,d),m=r.find(f,[d,d]));var g,y,w=[];for(g=0;g<v;g++)w[g]=[];var A=[],F=[],p=[],_=[];for(y=0;y<D;y++){var M=y+1;for(i(u,y,p,A,M),i(o,y,_,F,M),g=0;g<v;g++){var E=p[g]===M?A[g]:l,B=_[g]===M?F[g]:l;w[g][y]=m(E,B)}}return new t({data:w,size:[v,D],datatype:h===u._datatype&&s===o._datatype?d:void 0})};function i(n,u,o,f,c){for(var h=n._values,a=n._index,s=n._ptr,v=s[u],D=s[u+1];v<D;v++){var d=a[v];o[d]=c,f[d]=h[v]}}}),En="conj",Js=["typed"],Ys=W(En,Js,e=>{var{typed:r}=e;return r(En,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":r.referToSelf(t=>i=>wr(i,t))})}),Cn="concat",Gs=["typed","matrix","isInteger"],Xs=W(Cn,Gs,e=>{var{typed:r,matrix:t,isInteger:i}=e;return r(Cn,{"...Array | Matrix | number | BigNumber":function(u){var o,f=u.length,c=-1,h,a=!1,s=[];for(o=0;o<f;o++){var v=u[o];if(Te(v)&&(a=!0),Fe(v)||ze(v)){if(o!==f-1)throw new Error("Dimension must be specified as last argument");if(h=c,c=v.valueOf(),!i(c))throw new TypeError("Integer number expected for dimension");if(c<0||o>0&&c>h)throw new _r(c,h+1)}else{var D=_e(v).valueOf(),d=Ue(D);if(s[o]=D,h=c,c=d.length-1,o>0&&c!==h)throw new he(h+1,c+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var l=s.shift();s.length;)l=li(l,s.shift(),c);return a?t(l):l},"...string":function(u){return u.join("")}})});function Ks(){throw new Error('No "bignumber" implementation available')}function Qs(){throw new Error('No "fraction" implementation available')}function Ws(){throw new Error('No "matrix" implementation available')}var _n="size",ks=["typed","config","?matrix"],js=W(_n,ks,e=>{var{typed:r,config:t,matrix:i}=e;return r(_n,{Matrix:function(u){return u.create(u.size(),"number")},Array:Ue,string:function(u){return t.matrix==="Array"?[u.length]:i([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return t.matrix==="Array"?[]:i?i([],"dense","number"):Ws()}})}),Mn="transpose",ef=["typed","matrix"],rf=W(Mn,ef,e=>{var{typed:r,matrix:t}=e;return r(Mn,{Array:o=>i(t(o)).valueOf(),Matrix:i,any:_e});function i(o){var f=o.size(),c;switch(f.length){case 1:c=o.clone();break;case 2:{var h=f[0],a=f[1];if(a===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ne(f)+")");switch(o.storage()){case"dense":c=n(o,h,a);break;case"sparse":c=u(o,h,a);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ne(f)+")")}return c}function n(o,f,c){for(var h=o._data,a=[],s,v=0;v<c;v++){s=a[v]=[];for(var D=0;D<f;D++)s[D]=_e(h[D][v])}return o.createDenseMatrix({data:a,size:[c,f],datatype:o._datatype})}function u(o,f,c){for(var h=o._values,a=o._index,s=o._ptr,v=h?[]:void 0,D=[],d=[],l=[],m=0;m<f;m++)l[m]=0;var g,y,w;for(g=0,y=a.length;g<y;g++)l[a[g]]++;for(var A=0,F=0;F<f;F++)d.push(A),A+=l[F],l[F]=d[F];for(d.push(A),w=0;w<c;w++)for(var p=s[w],_=s[w+1],M=p;M<_;M++){var E=l[a[M]]++;D[E]=w,h&&(v[E]=_e(h[M]))}return o.createSparseMatrix({values:v,index:D,ptr:d,size:[c,f],datatype:o._datatype})}}),tf="numeric",nf=["number","?bignumber","?fraction"],uf=W(tf,nf,e=>{var{number:r,bignumber:t,fraction:i}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>r(o),BigNumber:t?o=>t(o):Ks,bigint:o=>BigInt(o),Fraction:i?o=>i(o):Qs};return function(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=pr(f);if(!(a in n))throw new TypeError("Cannot convert "+f+' of type "'+a+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in u))throw new TypeError("Cannot convert "+f+' to type "'+c+'"; valid output types are '+Object.keys(u).join(", "));return c===a?f:u[c](f)}}),Bn="divideScalar",af=["typed","numeric"],of=W(Bn,af,e=>{var{typed:r,numeric:t}=e;return r(Bn,{"number, number":function(n,u){return n/u},"Complex, Complex":function(n,u){return n.div(u)},"BigNumber, BigNumber":function(n,u){return n.div(u)},"bigint, bigint":function(n,u){return n/u},"Fraction, Fraction":function(n,u){return n.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})});function Jt(e){var{DenseMatrix:r}=e;return function(i,n,u){var o=i.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Ne(o)+")");var f=o[0],c=o[1];if(f!==c)throw new RangeError("Matrix must be square (size: "+Ne(o)+")");var h=[];if(Te(n)){var a=n.size(),s=n._data;if(a.length===1){if(a[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<f;v++)h[v]=[s[v]];return new r({data:h,size:[f,1],datatype:n._datatype})}if(a.length===2){if(a[0]!==f||a[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Un(n)){if(u){h=[];for(var D=0;D<f;D++)h[D]=[s[D][0]];return new r({data:h,size:[f,1],datatype:n._datatype})}return n}if(Zn(n)){for(var d=0;d<f;d++)h[d]=[0];for(var l=n._values,m=n._index,g=n._ptr,y=g[1],w=g[0];w<y;w++){var A=m[w];h[A][0]=l[w]}return new r({data:h,size:[f,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ce(n)){var F=Ue(n);if(F.length===1){if(F[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<f;p++)h[p]=[n[p]];return new r({data:h,size:[f,1]})}if(F.length===2){if(F[0]!==f||F[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<f;_++)h[_]=[n[_][0]];return new r({data:h,size:[f,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Sn="lsolve",sf=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ff=W(Sn,sf,e=>{var{typed:r,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:o,DenseMatrix:f}=e,c=Jt({DenseMatrix:f});return r(Sn,{"SparseMatrix, Array | Matrix":function(v,D){return a(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return h(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),l=h(d,D);return l.valueOf()}});function h(s,v){v=c(s,v,!0);for(var D=v._data,d=s._size[0],l=s._size[1],m=[],g=s._data,y=0;y<l;y++){var w=D[y][0]||0,A=void 0;if(o(w,0))A=0;else{var F=g[y][y];if(o(F,0))throw new Error("Linear system cannot be solved since matrix is singular");A=i(w,F);for(var p=y+1;p<d;p++)D[p]=[u(D[p][0]||0,n(A,g[p][y]))]}m[y]=[A]}return new f({data:m,size:[d,1]})}function a(s,v){v=c(s,v,!0);for(var D=v._data,d=s._size[0],l=s._size[1],m=s._values,g=s._index,y=s._ptr,w=[],A=0;A<l;A++){var F=D[A][0]||0;if(o(F,0))w[A]=[0];else{for(var p=0,_=[],M=[],E=y[A],B=y[A+1],b=E;b<B;b++){var z=g[b];z===A?p=m[b]:z>A&&(_.push(m[b]),M.push(z))}if(o(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=i(F,p),P=0,I=M.length;P<I;P++){var x=M[P];D[x]=[u(D[x][0]||0,n(L,_[P]))]}w[A]=[L]}}return new f({data:w,size:[d,1]})}}),bn="usolve",cf=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],lf=W(bn,cf,e=>{var{typed:r,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:o,DenseMatrix:f}=e,c=Jt({DenseMatrix:f});return r(bn,{"SparseMatrix, Array | Matrix":function(v,D){return a(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return h(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),l=h(d,D);return l.valueOf()}});function h(s,v){v=c(s,v,!0);for(var D=v._data,d=s._size[0],l=s._size[1],m=[],g=s._data,y=l-1;y>=0;y--){var w=D[y][0]||0,A=void 0;if(o(w,0))A=0;else{var F=g[y][y];if(o(F,0))throw new Error("Linear system cannot be solved since matrix is singular");A=i(w,F);for(var p=y-1;p>=0;p--)D[p]=[u(D[p][0]||0,n(A,g[p][y]))]}m[y]=[A]}return new f({data:m,size:[d,1]})}function a(s,v){v=c(s,v,!0);for(var D=v._data,d=s._size[0],l=s._size[1],m=s._values,g=s._index,y=s._ptr,w=[],A=l-1;A>=0;A--){var F=D[A][0]||0;if(o(F,0))w[A]=[0];else{for(var p=0,_=[],M=[],E=y[A],B=y[A+1],b=B-1;b>=E;b--){var z=g[b];z===A?p=m[b]:z<A&&(_.push(m[b]),M.push(z))}if(o(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=i(F,p),P=0,I=M.length;P<I;P++){var x=M[P];D[x]=[u(D[x][0],n(L,_[P]))]}w[A]=[L]}}return new f({data:w,size:[d,1]})}}),at="smaller",hf=["typed","config","matrix","DenseMatrix","concat"],vf=W(at,hf,e=>{var{typed:r,config:t,matrix:i,DenseMatrix:n,concat:u}=e,o=mt({typed:r}),f=Ht({typed:r,DenseMatrix:n}),c=dt({typed:r,DenseMatrix:n}),h=Rr({typed:r,matrix:i,concat:u}),a=pt({typed:r});return r(at,Df({typed:r,config:t}),{"boolean, boolean":(s,v)=>s<v,"BigNumber, BigNumber":function(v,D){return v.lt(D)&&!Dt(v,D,t.relTol,t.absTol)},"bigint, bigint":(s,v)=>s<v,"Fraction, Fraction":(s,v)=>s.compare(v)===-1,"Complex, Complex":function(v,D){throw new TypeError("No ordering relation is defined for complex numbers")}},a,h({SS:f,DS:o,Ss:c}))}),Df=W(at,["typed","config"],e=>{var{typed:r,config:t}=e;return r(at,{"number, number":function(n,u){return n<u&&!Er(n,u,t.relTol,t.absTol)}})}),ot="larger",pf=["typed","config","matrix","DenseMatrix","concat"],df=W(ot,pf,e=>{var{typed:r,config:t,matrix:i,DenseMatrix:n,concat:u}=e,o=mt({typed:r}),f=Ht({typed:r,DenseMatrix:n}),c=dt({typed:r,DenseMatrix:n}),h=Rr({typed:r,matrix:i,concat:u}),a=pt({typed:r});return r(ot,mf({typed:r,config:t}),{"boolean, boolean":(s,v)=>s>v,"BigNumber, BigNumber":function(v,D){return v.gt(D)&&!Dt(v,D,t.relTol,t.absTol)},"bigint, bigint":(s,v)=>s>v,"Fraction, Fraction":(s,v)=>s.compare(v)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},a,h({SS:f,DS:o,Ss:c}))}),mf=W(ot,["typed","config"],e=>{var{typed:r,config:t}=e;return r(ot,{"number, number":function(n,u){return n>u&&!Er(n,u,t.relTol,t.absTol)}})}),st="largerEq",gf=["typed","config","matrix","DenseMatrix","concat"],wf=W(st,gf,e=>{var{typed:r,config:t,matrix:i,DenseMatrix:n,concat:u}=e,o=mt({typed:r}),f=Ht({typed:r,DenseMatrix:n}),c=dt({typed:r,DenseMatrix:n}),h=Rr({typed:r,matrix:i,concat:u}),a=pt({typed:r});return r(st,Ff({typed:r,config:t}),{"boolean, boolean":(s,v)=>s>=v,"BigNumber, BigNumber":function(v,D){return v.gte(D)||Dt(v,D,t.relTol,t.absTol)},"bigint, bigint":function(v,D){return v>=D},"Fraction, Fraction":(s,v)=>s.compare(v)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},a,h({SS:f,DS:o,Ss:c}))}),Ff=W(st,["typed","config"],e=>{var{typed:r,config:t}=e;return r(st,{"number, number":function(n,u){return n>=u||Er(n,u,t.relTol,t.absTol)}})}),yf="FibonacciHeap",Af=["smaller","larger"],Ef=W(yf,Af,e=>{var{smaller:r,larger:t}=e,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(a,s){var v={key:a,value:s,degree:0};if(this._minimum){var D=this._minimum;v.left=D,v.right=D.right,D.right=v,v.right.left=v,r(a,D.key)&&(this._minimum=v)}else v.left=v,v.right=v,this._minimum=v;return this._size++,v},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var a=this._minimum;if(a===null)return a;for(var s=this._minimum,v=a.degree,D=a.child;v>0;){var d=D.right;D.left.right=D.right,D.right.left=D.left,D.left=s,D.right=s.right,s.right=D,D.right.left=D,D.parent=null,D=d,v--}return a.left.right=a.right,a.right.left=a.left,a===a.right?s=null:(s=a.right,s=h(s,this._size)),this._size--,this._minimum=s,a},n.prototype.remove=function(a){this._minimum=u(this._minimum,a,-1),this.extractMinimum()};function u(a,s,v){s.key=v;var D=s.parent;return D&&r(s.key,D.key)&&(o(a,s,D),f(a,D)),r(s.key,a.key)&&(a=s),a}function o(a,s,v){s.left.right=s.right,s.right.left=s.left,v.degree--,v.child===s&&(v.child=s.right),v.degree===0&&(v.child=null),s.left=a,s.right=a.right,a.right=s,s.right.left=s,s.parent=null,s.mark=!1}function f(a,s){var v=s.parent;v&&(s.mark?(o(a,s,v),f(v)):s.mark=!0)}var c=function(s,v){s.left.right=s.right,s.right.left=s.left,s.parent=v,v.child?(s.left=v.child,s.right=v.child.right,v.child.right=s,s.right.left=s):(v.child=s,s.right=s,s.left=s),v.degree++,s.mark=!1};function h(a,s){var v=Math.floor(Math.log(s)*i)+1,D=new Array(v),d=0,l=a;if(l)for(d++,l=l.right;l!==a;)d++,l=l.right;for(var m;d>0;){for(var g=l.degree,y=l.right;m=D[g],!!m;){if(t(l.key,m.key)){var w=m;m=l,l=w}c(m,l),D[g]=null,g++}D[g]=l,l=y,d--}a=null;for(var A=0;A<v;A++)m=D[A],m&&(a?(m.left.right=m.right,m.right.left=m.left,m.left=a,m.right=a.right,a.right=m,m.right.left=m,r(m.key,a.key)&&(a=m)):a=m);return a}return n},{isClass:!0}),Cf="Spa",_f=["addScalar","equalScalar","FibonacciHeap"],Mf=W(Cf,_f,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:i}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(u,o){if(this._values[u])this._values[u].value=o;else{var f=this._heap.insert(u,o);this._values[u]=f}},n.prototype.get=function(u){var o=this._values[u];return o?o.value:0},n.prototype.accumulate=function(u,o){var f=this._values[u];f?f.value=r(f.value,o):(f=this._heap.insert(u,o),this._values[u]=f)},n.prototype.forEach=function(u,o,f){var c=this._heap,h=this._values,a=[],s=c.extractMinimum();for(s&&a.push(s);s&&s.key<=o;)s.key>=u&&(t(s.value,0)||f(s.key,s.value,this)),s=c.extractMinimum(),s&&a.push(s);for(var v=0;v<a.length;v++){var D=a[v];s=c.insert(D.key,D.value),h[s.key]=s}},n.prototype.swap=function(u,o){var f=this._values[u],c=this._values[o];if(!f&&c)f=this._heap.insert(u,c.value),this._heap.remove(c),this._values[u]=f,this._values[o]=void 0;else if(f&&!c)c=this._heap.insert(o,f.value),this._heap.remove(f),this._values[o]=c,this._values[u]=void 0;else if(f&&c){var h=f.value;f.value=c.value,c.value=h}},n},{isClass:!0}),xn="add",Bf=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Sf=W(xn,Bf,e=>{var{typed:r,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:u,SparseMatrix:o,concat:f}=e,c=Ai({typed:r}),h=zs({typed:r,equalScalar:n}),a=Ei({typed:r,DenseMatrix:u}),s=Rr({typed:r,matrix:t,concat:f});return r(xn,{"any, any":i,"any, any, ...any":r.referToSelf(v=>(D,d,l)=>{for(var m=v(D,d),g=0;g<l.length;g++)m=v(m,l[g]);return m})},s({elop:i,DS:c,SS:h,Ss:a}))}),Nn="dot",bf=["typed","addScalar","multiplyScalar","conj","size"],xf=W(Nn,bf,e=>{var{typed:r,addScalar:t,multiplyScalar:i,conj:n,size:u}=e;return r(Nn,{"Array | DenseMatrix, Array | DenseMatrix":f,"SparseMatrix, SparseMatrix":c});function o(a,s){var v=h(a),D=h(s),d,l;if(v.length===1)d=v[0];else if(v.length===2&&v[1]===1)d=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(D.length===1)l=D[0];else if(D.length===2&&D[1]===1)l=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(d!==l)throw new RangeError("Vectors must have equal length ("+d+" != "+l+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function f(a,s){var v=o(a,s),D=Te(a)?a._data:a,d=Te(a)?a._datatype||a.getDataType():void 0,l=Te(s)?s._data:s,m=Te(s)?s._datatype||s.getDataType():void 0,g=h(a).length===2,y=h(s).length===2,w=t,A=i;if(d&&m&&d===m&&typeof d=="string"&&d!=="mixed"){var F=d;w=r.find(t,[F,F]),A=r.find(i,[F,F])}if(!g&&!y){for(var p=A(n(D[0]),l[0]),_=1;_<v;_++)p=w(p,A(n(D[_]),l[_]));return p}if(!g&&y){for(var M=A(n(D[0]),l[0][0]),E=1;E<v;E++)M=w(M,A(n(D[E]),l[E][0]));return M}if(g&&!y){for(var B=A(n(D[0][0]),l[0]),b=1;b<v;b++)B=w(B,A(n(D[b][0]),l[b]));return B}if(g&&y){for(var z=A(n(D[0][0]),l[0][0]),L=1;L<v;L++)z=w(z,A(n(D[L][0]),l[L][0]));return z}}function c(a,s){o(a,s);for(var v=a._index,D=a._values,d=s._index,l=s._values,m=0,g=t,y=i,w=0,A=0;w<v.length&&A<d.length;){var F=v[w],p=d[A];if(F<p){w++;continue}if(F>p){A++;continue}F===p&&(m=g(m,y(D[w],l[A])),w++,A++)}return m}function h(a){return Te(a)?a.size():u(a)}}),Tn="lup",Nf=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Tf=W(Tn,Nf,e=>{var{typed:r,matrix:t,abs:i,addScalar:n,divideScalar:u,multiplyScalar:o,subtractScalar:f,larger:c,equalScalar:h,unaryMinus:a,DenseMatrix:s,SparseMatrix:v,Spa:D}=e;return r(Tn,{DenseMatrix:function(g){return d(g)},SparseMatrix:function(g){return l(g)},Array:function(g){var y=t(g),w=d(y);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function d(m){var g=m._size[0],y=m._size[1],w=Math.min(g,y),A=_e(m._data),F=[],p=[g,w],_=[],M=[w,y],E,B,b,z=[];for(E=0;E<g;E++)z[E]=E;for(B=0;B<y;B++){if(B>0)for(E=0;E<g;E++){var L=Math.min(E,B),P=0;for(b=0;b<L;b++)P=n(P,o(A[E][b],A[b][B]));A[E][B]=f(A[E][B],P)}var I=B,x=0,Y=0;for(E=B;E<g;E++){var H=A[E][B],T=i(H);c(T,x)&&(I=E,x=T,Y=H)}if(B!==I&&(z[B]=[z[I],z[I]=z[B]][0],s._swapRows(B,I,A)),B<g)for(E=B+1;E<g;E++){var J=A[E][B];h(J,0)||(A[E][B]=u(A[E][B],Y))}}for(B=0;B<y;B++)for(E=0;E<g;E++){if(B===0&&(E<y&&(_[E]=[]),F[E]=[]),E<B){E<y&&(_[E][B]=A[E][B]),B<g&&(F[E][B]=0);continue}if(E===B){E<y&&(_[E][B]=A[E][B]),B<g&&(F[E][B]=1);continue}E<y&&(_[E][B]=0),B<g&&(F[E][B]=A[E][B])}var K=new s({data:F,size:p}),ue=new s({data:_,size:M}),te=[];for(E=0,w=z.length;E<w;E++)te[z[E]]=E;return{L:K,U:ue,p:te,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function l(m){var g=m._size[0],y=m._size[1],w=Math.min(g,y),A=m._values,F=m._index,p=m._ptr,_=[],M=[],E=[],B=[g,w],b=[],z=[],L=[],P=[w,y],I,x,Y,H=[],T=[];for(I=0;I<g;I++)H[I]=I,T[I]=I;var J=function(te,k){var ve=T[te],se=T[k];H[ve]=k,H[se]=te,T[te]=se,T[k]=ve},K=function(){var te=new D;x<g&&(E.push(_.length),_.push(1),M.push(x)),L.push(b.length);var k=p[x],ve=p[x+1];for(Y=k;Y<ve;Y++)I=F[Y],te.set(H[I],A[Y]);x>0&&te.forEach(0,x-1,function(ae,ee){v._forEachRow(ae,_,M,E,function(Ae,me){Ae>ae&&te.accumulate(Ae,a(o(me,ee)))})});var se=x,ie=te.get(x),fe=i(ie);te.forEach(x+1,g-1,function(ae,ee){var Ae=i(ee);c(Ae,fe)&&(se=ae,fe=Ae,ie=ee)}),x!==se&&(v._swapRows(x,se,B[1],_,M,E),v._swapRows(x,se,P[1],b,z,L),te.swap(x,se),J(x,se)),te.forEach(0,g-1,function(ae,ee){ae<=x?(b.push(ee),z.push(ae)):(ee=u(ee,ie),h(ee,0)||(_.push(ee),M.push(ae)))})};for(x=0;x<y;x++)K();return L.push(b.length),E.push(_.length),{L:new v({values:_,index:M,ptr:E,size:B}),U:new v({values:b,index:z,ptr:L,size:P}),p:H,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function zf(e,r,t,i){e._values;for(var n=e._index,u=e._ptr,o=e._size,f=e._datatype,c=o[0],h=o[1],a=null,s=[],v=[],D=0,d=0;d<h;d++){v[d]=D;for(var l=t?t[d]:d,m=u[l],g=u[l+1],y=m;y<g;y++){var w=n[y];s[D]=w,D++}}return v[h]=D,e.createSparseMatrix({values:a,index:s,ptr:v,size:[c,h],datatype:f})}function Ci(e,r,t,i,n,u,o){var f=0;for(t[o]=e;f>=0;){var c=t[o+f],h=t[i+c];h===-1?(f--,u[r++]=c):(t[i+c]=t[n+h],++f,t[o+f]=h)}return r}function Of(e,r){if(!e)return null;var t=0,i,n=[],u=[],o=0,f=r,c=2*r;for(i=0;i<r;i++)u[o+i]=-1;for(i=r-1;i>=0;i--)e[i]!==-1&&(u[f+i]=u[o+e[i]],u[o+e[i]]=i);for(i=0;i<r;i++)e[i]===-1&&(t=Ci(i,t,u,o,f,n,c));return n}function If(e,r){if(!e)return null;var t=e._index,i=e._ptr,n=e._size,u=n[0],o=n[1],f=[],c=[],h=0,a=o,s,v;for(s=0;s<u;s++)c[a+s]=-1;for(var D=0;D<o;D++){f[D]=-1,c[h+D]=-1;for(var d=i[D],l=i[D+1],m=d;m<l;m++){var g=t[m];for(s=c[a+g];s!==-1&&s<D;s=v)v=c[h+s],c[h+s]=D,v===-1&&(f[s]=D);c[a+g]=D}}return f}function Pf(e,r,t){for(var i=e._values,n=e._index,u=e._ptr,o=e._size,f=o[1],c=0,h=0;h<f;h++){var a=u[h];for(u[h]=c;a<u[h+1];a++)r(n[a],h,i?i[a]:1,t)&&(n[c]=n[a],i&&(i[c]=i[a]),c++)}return u[f]=c,n.splice(c,n.length-c),i&&i.splice(c,i.length-c),c}function vr(e){return-e-2}var $f="csAmd",qf=["add","multiply","transpose"],Rf=W($f,qf,e=>{var{add:r,multiply:t,transpose:i}=e;return function(a,s){if(!s||a<=0||a>3)return null;var v=s._size,D=v[0],d=v[1],l=0,m=Math.max(16,10*Math.sqrt(d));m=Math.min(d-2,m);var g=n(a,s,D,d,m);Pf(g,c,null);for(var y=g._index,w=g._ptr,A=w[d],F=[],p=[],_=0,M=d+1,E=2*(d+1),B=3*(d+1),b=4*(d+1),z=5*(d+1),L=6*(d+1),P=7*(d+1),I=F,x=u(d,w,p,_,B,I,E,P,M,L,b,z),Y=o(d,w,p,z,b,L,m,M,B,I,E),H=0,T,J,K,ue,te,k,ve,se,ie,fe,ae,ee,Ae,me,oe,le;Y<d;){for(K=-1;H<d&&(K=p[B+H])===-1;H++);p[E+K]!==-1&&(I[p[E+K]]=-1),p[B+H]=p[E+K];var Be=p[b+K],Ze=p[M+K];Y+=Ze;var Ie=0;p[M+K]=-Ze;var ce=w[K],Pe=Be===0?ce:A,We=Pe;for(ue=1;ue<=Be+1;ue++){for(ue>Be?(k=K,ve=ce,se=p[_+K]-Be):(k=y[ce++],ve=w[k],se=p[_+k]),te=1;te<=se;te++)T=y[ve++],!((ie=p[M+T])<=0)&&(Ie+=ie,p[M+T]=-ie,y[We++]=T,p[E+T]!==-1&&(I[p[E+T]]=I[T]),I[T]!==-1?p[E+I[T]]=p[E+T]:p[B+p[z+T]]=p[E+T]);k!==K&&(w[k]=vr(K),p[L+k]=0)}for(Be!==0&&(A=We),p[z+K]=Ie,w[K]=Pe,p[_+K]=We-Pe,p[b+K]=-2,x=f(x,l,p,L,d),fe=Pe;fe<We;fe++)if(T=y[fe],!((ae=p[b+T])<=0)){ie=-p[M+T];var yt=x-ie;for(ce=w[T],ee=w[T]+ae-1;ce<=ee;ce++)k=y[ce],p[L+k]>=x?p[L+k]-=ie:p[L+k]!==0&&(p[L+k]=p[z+k]+yt)}for(fe=Pe;fe<We;fe++){for(T=y[fe],ee=w[T],Ae=ee+p[b+T]-1,me=ee,oe=0,le=0,ce=ee;ce<=Ae;ce++)if(k=y[ce],p[L+k]!==0){var Or=p[L+k]-x;Or>0?(le+=Or,y[me++]=k,oe+=k):(w[k]=vr(K),p[L+k]=0)}p[b+T]=me-ee+1;var C=me,S=ee+p[_+T];for(ce=Ae+1;ce<S;ce++){J=y[ce];var N=p[M+J];N<=0||(le+=N,y[me++]=J,oe+=J)}le===0?(w[T]=vr(K),ie=-p[M+T],Ie-=ie,Ze+=ie,Y+=ie,p[M+T]=0,p[b+T]=-1):(p[z+T]=Math.min(p[z+T],le),y[me]=y[C],y[C]=y[ee],y[ee]=K,p[_+T]=me-ee+1,oe=(oe<0?-oe:oe)%d,p[E+T]=p[P+oe],p[P+oe]=T,I[T]=oe)}for(p[z+K]=Ie,l=Math.max(l,Ie),x=f(x+l,l,p,L,d),fe=Pe;fe<We;fe++)if(T=y[fe],!(p[M+T]>=0))for(oe=I[T],T=p[P+oe],p[P+oe]=-1;T!==-1&&p[E+T]!==-1;T=p[E+T],x++){for(se=p[_+T],ae=p[b+T],ce=w[T]+1;ce<=w[T]+se-1;ce++)p[L+y[ce]]=x;var $=T;for(J=p[E+T];J!==-1;){var U=p[_+J]===se&&p[b+J]===ae;for(ce=w[J]+1;U&&ce<=w[J]+se-1;ce++)p[L+y[ce]]!==x&&(U=0);U?(w[J]=vr(T),p[M+T]+=p[M+J],p[M+J]=0,p[b+J]=-1,J=p[E+J],p[E+$]=J):($=J,J=p[E+J])}}for(ce=Pe,fe=Pe;fe<We;fe++)T=y[fe],!((ie=-p[M+T])<=0)&&(p[M+T]=ie,le=p[z+T]+Ie-ie,le=Math.min(le,d-Y-ie),p[B+le]!==-1&&(I[p[B+le]]=T),p[E+T]=p[B+le],I[T]=-1,p[B+le]=T,H=Math.min(H,le),p[z+T]=le,y[ce++]=T);p[M+K]=Ze,(p[_+K]=ce-Pe)===0&&(w[K]=-1,p[L+K]=0),Be!==0&&(A=ce)}for(T=0;T<d;T++)w[T]=vr(w[T]);for(J=0;J<=d;J++)p[B+J]=-1;for(J=d;J>=0;J--)p[M+J]>0||(p[E+J]=p[B+w[J]],p[B+w[J]]=J);for(k=d;k>=0;k--)p[M+k]<=0||w[k]!==-1&&(p[E+k]=p[B+w[k]],p[B+w[k]]=k);for(K=0,T=0;T<=d;T++)w[T]===-1&&(K=Ci(T,K,p,B,E,F,L));return F.splice(F.length-1,1),F};function n(h,a,s,v,D){var d=i(a);if(h===1&&v===s)return r(a,d);if(h===2){for(var l=d._index,m=d._ptr,g=0,y=0;y<s;y++){var w=m[y];if(m[y]=g,!(m[y+1]-w>D))for(var A=m[y+1];w<A;w++)l[g++]=l[w]}return m[s]=g,a=i(d),t(d,a)}return t(d,a)}function u(h,a,s,v,D,d,l,m,g,y,w,A){for(var F=0;F<h;F++)s[v+F]=a[F+1]-a[F];s[v+h]=0;for(var p=0;p<=h;p++)s[D+p]=-1,d[p]=-1,s[l+p]=-1,s[m+p]=-1,s[g+p]=1,s[y+p]=1,s[w+p]=0,s[A+p]=s[v+p];var _=f(0,0,s,y,h);return s[w+h]=-2,a[h]=-1,s[y+h]=0,_}function o(h,a,s,v,D,d,l,m,g,y,w){for(var A=0,F=0;F<h;F++){var p=s[v+F];if(p===0)s[D+F]=-2,A++,a[F]=-1,s[d+F]=0;else if(p>l)s[m+F]=0,s[D+F]=-1,A++,a[F]=vr(h),s[m+h]++;else{var _=s[g+p];_!==-1&&(y[_]=F),s[w+F]=s[g+p],s[g+p]=F}}return A}function f(h,a,s,v,D){if(h<2||h+a<0){for(var d=0;d<D;d++)s[v+d]!==0&&(s[v+d]=1);h=2}return h}function c(h,a){return h!==a}});function Lf(e,r,t,i,n,u,o){var f,c,h=0,a;if(e<=r||t[i+r]<=t[n+e])return-1;t[n+e]=t[i+r];var s=t[u+e];if(t[u+e]=r,s===-1)h=1,a=e;else{for(h=2,a=s;a!==t[o+a];a=t[o+a]);for(f=s;f!==a;f=c)c=t[o+f],t[o+f]=a}return{jleaf:h,q:a}}var Uf="csCounts",Zf=["transpose"],Vf=W(Uf,Zf,e=>{var{transpose:r}=e;return function(t,i,n,u){if(!t||!i||!n)return null;var o=t._size,f=o[0],c=o[1],h,a,s,v,D,d,l,m=4*c+(u?c+f+1:0),g=[],y=0,w=c,A=2*c,F=3*c,p=4*c,_=5*c+1;for(s=0;s<m;s++)g[s]=-1;var M=[],E=r(t),B=E._index,b=E._ptr;for(s=0;s<c;s++)for(a=n[s],M[a]=g[F+a]===-1?1:0;a!==-1&&g[F+a]===-1;a=i[a])g[F+a]=s;if(u){for(s=0;s<c;s++)g[n[s]]=s;for(h=0;h<f;h++){for(s=c,d=b[h],l=b[h+1],D=d;D<l;D++)s=Math.min(s,g[B[D]]);g[_+h]=g[p+s],g[p+s]=h}}for(h=0;h<c;h++)g[y+h]=h;for(s=0;s<c;s++){for(a=n[s],i[a]!==-1&&M[i[a]]--,v=u?g[p+s]:a;v!==-1;v=u?g[_+v]:-1)for(D=b[v];D<b[v+1];D++){h=B[D];var z=Lf(h,a,g,F,w,A,y);z.jleaf>=1&&M[a]++,z.jleaf===2&&M[z.q]--}i[a]!==-1&&(g[y+a]=i[a])}for(a=0;a<c;a++)i[a]!==-1&&(M[i[a]]+=M[a]);return M}}),Hf="csSqr",Jf=["add","multiply","transpose"],Yf=W(Hf,Jf,e=>{var{add:r,multiply:t,transpose:i}=e,n=Rf({add:r,multiply:t,transpose:i}),u=Vf({transpose:i});return function(c,h,a){var s=h._ptr,v=h._size,D=v[1],d,l={};if(l.q=n(c,h),c&&!l.q)return null;if(a){var m=c?zf(h,null,l.q):h;l.parent=If(m);var g=Of(l.parent,D);if(l.cp=u(m,l.parent,g,1),m&&l.parent&&l.cp&&o(m,l))for(l.unz=0,d=0;d<D;d++)l.unz+=l.cp[d]}else l.unz=4*s[D]+D,l.lnz=l.unz;return l};function o(f,c){var h=f._ptr,a=f._index,s=f._size,v=s[0],D=s[1];c.pinv=[],c.leftmost=[];var d=c.parent,l=c.pinv,m=c.leftmost,g=[],y=0,w=v,A=v+D,F=v+2*D,p,_,M,E,B;for(_=0;_<D;_++)g[w+_]=-1,g[A+_]=-1,g[F+_]=0;for(p=0;p<v;p++)m[p]=-1;for(_=D-1;_>=0;_--)for(E=h[_],B=h[_+1],M=E;M<B;M++)m[a[M]]=_;for(p=v-1;p>=0;p--)l[p]=-1,_=m[p],_!==-1&&(g[F+_]++===0&&(g[A+_]=p),g[y+p]=g[w+_],g[w+_]=p);for(c.lnz=0,c.m2=v,_=0;_<D;_++)if(p=g[w+_],c.lnz++,p<0&&(p=c.m2++),l[p]=_,!(--F[_]<=0)){c.lnz+=g[F+_];var b=d[_];b!==-1&&(g[F+b]===0&&(g[A+b]=g[A+_]),g[y+g[A+_]]=g[w+b],g[w+b]=g[y+p],g[F+b]+=g[F+_])}for(p=0;p<v;p++)l[p]<0&&(l[p]=_++);return!0}});function Pt(e,r){return e[r]<0}function _i(e,r){e[r]=vr(e[r])}function zn(e){return e<0?vr(e):e}function Gf(e,r,t,i,n){var u=r._index,o=r._ptr,f=r._size,c=f[1],h,a,s,v=0;for(i[0]=e;v>=0;){e=i[v];var D=n?n[e]:e;Pt(o,e)||(_i(o,e),i[c+v]=D<0?0:zn(o[D]));var d=1;for(a=i[c+v],s=D<0?0:zn(o[D+1]);a<s;a++)if(h=u[a],!Pt(o,h)){i[c+v]=a,i[++v]=h,d=0;break}d&&(v--,i[--t]=e)}return t}function Xf(e,r,t,i,n){var u=e._ptr,o=e._size,f=r._index,c=r._ptr,h=o[1],a,s,v,D=h;for(s=c[t],v=c[t+1],a=s;a<v;a++){var d=f[a];Pt(u,d)||(D=Gf(d,e,D,i,n))}for(a=D;a<h;a++)_i(u,i[a]);return D}var Kf="csSpsolve",Qf=["divideScalar","multiply","subtract"],Wf=W(Kf,Qf,e=>{var{divideScalar:r,multiply:t,subtract:i}=e;return function(u,o,f,c,h,a,s){var v=u._values,D=u._index,d=u._ptr,l=u._size,m=l[1],g=o._values,y=o._index,w=o._ptr,A,F,p,_,M=Xf(u,o,f,c,a);for(A=M;A<m;A++)h[c[A]]=0;for(F=w[f],p=w[f+1],A=F;A<p;A++)h[y[A]]=g[A];for(var E=M;E<m;E++){var B=c[E],b=a?a[B]:B;if(!(b<0))for(F=d[b],p=d[b+1],h[B]=r(h[B],v[s?F:p-1]),A=s?F+1:F,_=s?p:p-1;A<_;A++){var z=D[A];h[z]=i(h[z],t(v[A],h[B]))}}return M}}),kf="csLu",jf=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e0=W(kf,jf,e=>{var{abs:r,divideScalar:t,multiply:i,subtract:n,larger:u,largerEq:o,SparseMatrix:f}=e,c=Wf({divideScalar:t,multiply:i,subtract:n});return function(a,s,v){if(!a)return null;var D=a._size,d=D[1],l,m=100,g=100;s&&(l=s.q,m=s.lnz||m,g=s.unz||g);var y=[],w=[],A=[],F=new f({values:y,index:w,ptr:A,size:[d,d]}),p=[],_=[],M=[],E=new f({values:p,index:_,ptr:M,size:[d,d]}),B=[],b,z,L=[],P=[];for(b=0;b<d;b++)L[b]=0,B[b]=-1,A[b+1]=0;m=0,g=0;for(var I=0;I<d;I++){A[I]=m,M[I]=g;var x=l?l[I]:I,Y=c(F,a,x,P,L,B,1),H=-1,T=-1;for(z=Y;z<d;z++)if(b=P[z],B[b]<0){var J=r(L[b]);u(J,T)&&(T=J,H=b)}else _[g]=B[b],p[g++]=L[b];if(H===-1||T<=0)return null;B[x]<0&&o(r(L[x]),i(T,v))&&(H=x);var K=L[H];for(_[g]=I,p[g++]=K,B[H]=I,w[m]=H,y[m++]=1,z=Y;z<d;z++)b=P[z],B[b]<0&&(w[m]=b,y[m++]=t(L[b],K)),L[b]=0}for(A[d]=m,M[d]=g,z=0;z<m;z++)w[z]=B[w[z]];return y.splice(m,y.length-m),w.splice(m,w.length-m),p.splice(g,p.length-g),_.splice(g,_.length-g),{L:F,U:E,pinv:B}}}),On="slu",r0=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],t0=W(On,r0,e=>{var{typed:r,abs:t,add:i,multiply:n,transpose:u,divideScalar:o,subtract:f,larger:c,largerEq:h,SparseMatrix:a}=e,s=Yf({add:i,multiply:n,transpose:u}),v=e0({abs:t,divideScalar:o,multiply:n,subtract:f,larger:c,largerEq:h,SparseMatrix:a});return r(On,{"SparseMatrix, number, number":function(d,l,m){if(!be(l)||l<0||l>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=s(l,d,!1),y=v(d,g,m);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function In(e,r){var t,i=r.length,n=[];if(e)for(t=0;t<i;t++)n[e[t]]=r[t];else for(t=0;t<i;t++)n[t]=r[t];return n}var Pn="lusolve",n0=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],i0=W(Pn,n0,e=>{var{typed:r,matrix:t,lup:i,slu:n,usolve:u,lsolve:o,DenseMatrix:f}=e,c=Jt({DenseMatrix:f});return r(Pn,{"Array, Array | Matrix":function(v,D){v=t(v);var d=i(v),l=a(d.L,d.U,d.p,null,D);return l.valueOf()},"DenseMatrix, Array | Matrix":function(v,D){var d=i(v);return a(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix":function(v,D){var d=i(v);return a(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix, number, number":function(v,D,d,l){var m=n(v,d,l);return a(m.L,m.U,m.p,m.q,D)},"Object, Array | Matrix":function(v,D){return a(v.L,v.U,v.p,v.q,D)}});function h(s){if(Te(s))return s;if(Ce(s))return t(s);throw new TypeError("Invalid Matrix LU decomposition")}function a(s,v,D,d,l){s=h(s),v=h(v),D&&(l=c(s,l,!0),l._data=In(D,l._data));var m=o(s,l),g=u(v,m);return d&&(g._data=In(d,g._data)),g}}),Mi=io({config:Cr}),u0=fo({}),Bi=go({}),Yt=yo({}),ar=Io({Matrix:Yt}),pe=oa({BigNumber:Mi,Complex:u0,DenseMatrix:ar,Fraction:Bi}),Si=as({typed:pe}),Lr=ss({typed:pe}),a0=Ys({typed:pe}),Fr=Lo({config:Cr,typed:pe}),o0=$o({typed:pe}),Ur=qs({typed:pe}),s0=Xo({typed:pe}),gt=Vo({Matrix:Yt,equalScalar:Fr,typed:pe}),wt=cs({typed:pe}),f0=Wo({BigNumber:Mi,typed:pe}),bi=is({typed:pe}),c0=es({Fraction:Bi,typed:pe}),Xe=ts({DenseMatrix:ar,Matrix:Yt,SparseMatrix:gt,typed:pe}),l0=uf({bignumber:f0,fraction:c0,number:s0}),h0=js({matrix:Xe,config:Cr,typed:pe}),v0=rf({matrix:Xe,typed:pe}),Zr=Xs({isInteger:o0,matrix:Xe,typed:pe}),Ft=of({numeric:l0,typed:pe}),D0=wf({DenseMatrix:ar,concat:Zr,config:Cr,matrix:Xe,typed:pe}),p0=ff({DenseMatrix:ar,divideScalar:Ft,equalScalar:Fr,matrix:Xe,multiplyScalar:Ur,subtractScalar:wt,typed:pe}),d0=vf({DenseMatrix:ar,concat:Zr,config:Cr,matrix:Xe,typed:pe}),m0=Zs({DenseMatrix:ar,concat:Zr,equalScalar:Fr,matrix:Xe,subtractScalar:wt,typed:pe,unaryMinus:bi}),g0=lf({DenseMatrix:ar,divideScalar:Ft,equalScalar:Fr,matrix:Xe,multiplyScalar:Ur,subtractScalar:wt,typed:pe}),nr=Sf({DenseMatrix:ar,SparseMatrix:gt,addScalar:Lr,concat:Zr,equalScalar:Fr,matrix:Xe,typed:pe}),w0=xf({addScalar:Lr,conj:a0,multiplyScalar:Ur,size:h0,typed:pe}),Gt=df({DenseMatrix:ar,concat:Zr,config:Cr,matrix:Xe,typed:pe}),F0=Ls({addScalar:Lr,dot:w0,equalScalar:Fr,matrix:Xe,multiplyScalar:Ur,typed:pe}),y0=t0({SparseMatrix:gt,abs:Si,add:nr,divideScalar:Ft,larger:Gt,largerEq:D0,multiply:F0,subtract:m0,transpose:v0,typed:pe}),A0=Ef({larger:Gt,smaller:d0}),E0=Mf({FibonacciHeap:A0,addScalar:Lr,equalScalar:Fr}),C0=Tf({DenseMatrix:ar,Spa:E0,SparseMatrix:gt,abs:Si,addScalar:Lr,divideScalar:Ft,equalScalar:Fr,larger:Gt,matrix:Xe,multiplyScalar:Ur,subtractScalar:wt,typed:pe,unaryMinus:bi}),_0=i0({DenseMatrix:ar,lsolve:p0,lup:C0,matrix:Xe,slu:y0,typed:pe,usolve:g0});class M0{constructor(r=5,t=Array(r).fill(.5*Math.PI),i=Array(r).fill(0),n=-9.8){this.n=r,this.thetas=t,this.thetaDots=i,this.g=n}A(r){let t=[];for(let i=0;i<this.n;i++){let n=[];for(let u=0;u<this.n;u++)n.push((this.n-Math.max(i,u))*Math.cos(r[i]-r[u]));t.push(n)}return t}b(r,t){let i=[];for(let n=0;n<this.n;n++){let u=0;for(let o=0;o<this.n;o++)u-=(this.n-Math.max(n,o))*Math.sin(r[n]-r[o])*t[o]**2;u-=this.g*(this.n-n)*Math.sin(r[n]),i.push(u)}return i}f(r,t){let i=this.A(r),n=this.b(r,t);return[t,_0(i,n).map(u=>u[0])]}RK4(r,t,i){let n=this.f(t,i),u=this.f(nr(t,n[0].map(a=>.5*r*a)),nr(i,n[1].map(a=>.5*r*a))),o=this.f(nr(t,u[0].map(a=>.5*r*a)),nr(i,u[1].map(a=>.5*r*a))),f=this.f(nr(t,o[0].map(a=>1*r*a)),nr(i,o[1].map(a=>1*r*a))),c=nr(n[0],u[0].map(a=>2*a),o[0].map(a=>2*a),f[0]).map(a=>a*r/6),h=nr(n[1],u[1].map(a=>2*a),o[1].map(a=>2*a),f[1]).map(a=>a*r/6);return[nr(t,c),i=nr(i,h)]}tick(r){let t=this.RK4(r,this.thetas,this.thetaDots);this.thetas=t[0],this.thetaDots=t[1]}get coordinates(){let r=0,t=0,i=[];for(let n=0;n<this.thetas.length;n++){let u=this.thetas[n];r+=Math.sin(u),t+=Math.cos(u),i.push({x:r,y:t})}return i}}const B0={class:"absolute flex flex-wrap gap-1 w-full p-1"},S0={key:0,class:"i-la-play"},b0={key:1,class:"i-la-pause"},x0={class:"p-2 text-xs font-mono border-1 border-dark-100 dark-border-light-300"},N0=["width","height"],T0=["x1","x2","y2","stroke"],z0=["cx","cy"],O0=["x1","y1","x2","y2","stroke-width"],I0=["fill","cx","cy","r"],q0={__name:"MultiPendulums",setup(e){const r=Xt(),t=At({w:1e3,h:1e3}),i=Kt(()=>yr.pcs.length);au(r,o=>{t.w=o[0].contentRect.width,t.h=o[0].contentRect.height});const n=At([]);for(let o=0;o<2;o++)n[o]=u(-o);function u(o=0){const f=At({}),c=Kt(()=>new M0(yr.pcs.length,Array(yr.pcs.length).fill(1).map((a,s)=>Math.PI+(o!=0?1:-2)*Math.PI*(1-Math.random()/(s+1))/4),Array(yr.pcs.length).fill(1).map(()=>(o!=0?-4:2)*Math.random()+.5))),h=Xt([]);return Qt(()=>lr.ticks,(a,s)=>{a<s&&(a=s+1),c.value.tick((a-s)*.0015),h.value=c.value.coordinates}),Qt(h,(a,s)=>{a.forEach((v,D)=>{var d;if(v.x*((d=s==null?void 0:s[D])==null?void 0:d.x)<0){const l=yr.full.notes[D];f[l]=!0,cu(l)}})}),{coords:h,n:i,active:f}}return(o,f)=>(er(),rr(Jr,null,[tr("div",B0,[tr("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:f[0]||(f[0]=c=>Je(lr).stopped=!0)},f[3]||(f[3]=[tr("div",{class:"i-la-stop"},null,-1)])),tr("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:f[1]||(f[1]=c=>Je(lr).playing=!Je(lr).playing)},[Je(lr).playing?(er(),rr("div",b0)):(er(),rr("div",S0))]),f[4]||(f[4]=tr("div",{class:"flex-1"},null,-1)),tr("div",x0,ou(Je(lr).ticks),1)]),Je(lr).started?su("",!0):(er(),rr("div",{key:0,class:"absolute bottom-0 top-0 left-0 right-0 flex items-center justify-center text-2xl z-100",onClick:f[2]||(f[2]=c=>Je(lr).playing=!0)},"Press anywhere")),(er(),rr("svg",{class:"select-none min-h-100svh min-w-full",id:"metronome",ref_key:"svg",ref:r,version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},[tr("rect",{width:t.w,height:t.h,stroke:"white",fill:"#2222"},null,8,N0),tr("line",{class:"transition",x1:t.w/2,x2:t.w/2,y1:0,y2:t.h,stroke:Je(Wt).note.velocity>0?Je(kt)(Je(Wt).note.pitch):"#999"},null,8,T0),tr("circle",{cx:t.w/2,cy:t.h/10,r:8,fill:"currentColor"},null,8,z0),(er(!0),rr(Jr,null,Et(n,(c,h)=>(er(),rr("g",{key:c},[(er(!0),rr(Jr,null,Et(c.coords,(a,s)=>(er(),rr("g",{key:a},[tr("line",{x1:s===0?t.w/2:t.w/2+c.coords[s-1].x*t.h/(i.value+1),y1:s===0?t.h/10:t.h/10-c.coords[s-1].y*t.h/(i.value+1),x2:t.w/2+a.x*t.h/(i.value+1),y2:t.h/10-a.y*t.h/(i.value+1),"stroke-width":(h*2+1)*2,stroke:"currentColor"},null,8,O0)]))),128)),(er(!0),rr(Jr,null,Et(c.coords,(a,s)=>(er(),rr("g",{key:a},[tr("circle",{style:fu([{"transform-origin":"center","transform-box":"fill-box",transition:"transform 1s ease-in-out"},{transform:`scale(${c.active[Je(yr).full.notes[s]]?2:1})`}]),fill:Je(kt)(Je(lu)[Je(yr).pcs[s]],4),cx:t.w/2+a.x*t.h/(i.value+1),cy:t.h/10-a.y*t.h/(i.value+1),r:(h+1)*10},null,12,I0)]))),128))]))),128))],512))],64))}};export{q0 as default};
