import{r as Ut,H as dt,G as Zt,aV as ku,J as Vt,c as Qe,h as We,i as ke,u as Ze,B as ju,k as ei,F as Ur,Q as mt,l as ri}from"./framework.D_pKV3Tc.js";import{g as mr,L as or,e as ti,ah as Ht,D as Jt,k as ni}from"./theme.CwSn3wWj.js";import{F as ir}from"./fraction.TqTz4TU4.js";function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var u in t)({}).hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Gr.apply(null,arguments)}var bn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function ui(e,r){if(Yr(e,r))return e[r];throw typeof e[r]=="function"&&ai(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function ii(e,r,t){if(Yr(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function Yr(e,r){return!oi(e)&&!Array.isArray(e)?!1:zr(si,r)?!0:!(r in Object.prototype||r in Function.prototype)}function ai(e,r){return e==null||typeof e[r]!="function"||zr(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:zr(fi,r)?!0:!(r in Object.prototype||r in Function.prototype)}function oi(e){return typeof e=="object"&&e&&e.constructor===Object}var si={length:!0,name:!0},fi={toString:!0,valueOf:!0,toLocaleString:!0};class ci{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return ui(this.wrappedObject,r)}set(r,t){return ii(this.wrappedObject,r,t),this}has(r){return Yr(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return li(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){Yr(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function li(e,r){return{next:()=>{var t=e.next();return t.done?t:{value:r(t.value),done:!1}}}}function we(e){return typeof e=="number"}function Ne(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function hi(e){return typeof e=="bigint"}function xn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Nn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Tn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function nr(e){return typeof e=="string"}var Ae=Array.isArray;function xe(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Xr(e){return Array.isArray(e)||xe(e)}function zn(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function On(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function vi(e){return e&&e.constructor.prototype.isRange===!0||!1}function Nt(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Di(e){return typeof e=="boolean"}function pi(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function di(e){return e&&e.constructor.prototype.isHelp===!0||!1}function mi(e){return typeof e=="function"}function gi(e){return e instanceof Date}function wi(e){return e instanceof RegExp}function Tt(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!xn(e)&&!Nn(e))}function Fi(e){return e?e instanceof Map||e instanceof ci||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function yi(e){return e===null}function Ai(e){return e===void 0}function Ei(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ci(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function _i(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Si(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bi(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Mi(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function bi(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function xi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ni(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ti(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function zi(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oi(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ii(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function $i(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function qi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ri(e){return e&&e.constructor.prototype.isChain===!0||!1}function lr(e){var r=typeof e;return r==="object"?e===null?"null":Ne(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Ee(e){var r=typeof e;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return Ee(t)});if(e instanceof Date)return new Date(e.valueOf());if(Ne(e))return e;if(Tt(e))return Li(e,Ee);if(r==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Li(e,r){var t={};for(var u in e)zr(e,u)&&(t[u]=r(e[u]));return t}function Ui(e,r){for(var t in r)zr(r,t)&&(e[t]=r[t]);return e}function hr(e,r){var t,u,n;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(u=0,n=e.length;u<n;u++)if(!hr(e[u],r[u]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!hr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function zr(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Zi(e,r){for(var t={},u=0;u<r.length;u++){var n=r[u],i=e[n];i!==void 0&&(t[n]=i)}return t}var Vi=["Matrix","Array"],Hi=["number","BigNumber","Fraction"],Fr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(bn)};Gr(Fr,bn,{MATRIX_OPTIONS:Vi,NUMBER_OPTIONS:Hi});function Gt(){return!0}function Je(){return!1}function Cr(){}const Yt="Argument is not a typed-function.";function In(){function e(C){return typeof C=="object"&&C!==null&&C.constructor===Object}const r=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],t={name:"any",test:Gt,isAny:!0};let u,n,i=0,a={createCount:0};function s(C){const b=u.get(C);if(b)return b;let N='Unknown type "'+C+'"';const $=C.toLowerCase();let U;for(U of n)if(U.toLowerCase()===$){N+='. Did you mean "'+U+'" ?';break}throw new TypeError(N)}function c(C){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=b?s(b).index:n.length,$=[];for(let R=0;R<C.length;++R){if(!C[R]||typeof C[R].name!="string"||typeof C[R].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Y=C[R].name;if(u.has(Y))throw new TypeError('Duplicate type name "'+Y+'"');$.push(Y),u.set(Y,{name:Y,test:C[R].test,isAny:C[R].isAny,index:N+R,conversionsTo:[]})}const U=n.slice(N);n=n.slice(0,N).concat($).concat(U);for(let R=N+$.length;R<n.length;++R)u.get(n[R]).index=R}function h(){u=new Map,n=[],i=0,c([t],!1)}h(),c(r);function o(){let C;for(C of n)u.get(C).conversionsTo=[];i=0}function f(C){const b=n.filter(N=>{const $=u.get(N);return!$.isAny&&$.test(C)});return b.length?b:["any"]}function v(C){return C&&typeof C=="function"&&"_typedFunctionData"in C}function D(C,b,N){if(!v(C))throw new TypeError(Yt);const $=N&&N.exact,U=Array.isArray(b)?b.join(","):b,R=A(U),Y=m(R);if(!$||Y in C.signatures){const pe=C._typedFunctionData.signatureMap.get(Y);if(pe)return pe}const V=R.length;let X;if($){X=[];let pe;for(pe in C.signatures)X.push(C._typedFunctionData.signatureMap.get(pe))}else X=C._typedFunctionData.signatures;for(let pe=0;pe<V;++pe){const ge=R[pe],Ce=[];let Le;for(Le of X){const $e=S(Le.params,pe);if(!(!$e||ge.restParam&&!$e.restParam)){if(!$e.hasAny){const Xe=w($e);if(ge.types.some(Ke=>!Xe.has(Ke.name)))continue}Ce.push(Le)}}if(X=Ce,X.length===0)break}let Z;for(Z of X)if(Z.params.length<=V)return Z;throw new TypeError("Signature not found (signature: "+(C.name||"unnamed")+"("+m(R,", ")+"))")}function d(C,b,N){return D(C,b,N).implementation}function l(C,b){const N=s(b);if(N.test(C))return C;const $=N.conversionsTo;if($.length===0)throw new Error("There are no conversions to "+b+" defined.");for(let U=0;U<$.length;U++)if(s($[U].from).test(C))return $[U].convert(C);throw new Error("Cannot convert "+C+" to "+b)}function m(C){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return C.map(N=>N.name).join(b)}function g(C){const b=C.indexOf("...")===0,$=(b?C.length>3?C.slice(3):"any":C).split("|").map(V=>s(V.trim()));let U=!1,R=b?"...":"";return{types:$.map(function(V){return U=V.isAny||U,R+=V.name+"|",{name:V.name,typeIndex:V.index,test:V.test,isAny:V.isAny,conversion:null,conversionIndex:-1}}),name:R.slice(0,-1),hasAny:U,hasConversion:!1,restParam:b}}function y(C){const b=C.types.map(Y=>Y.name),N=G(b);let $=C.hasAny,U=C.name;const R=N.map(function(Y){const V=s(Y.from);return $=V.isAny||$,U+="|"+Y.from,{name:Y.from,typeIndex:V.index,test:V.test,isAny:V.isAny,conversion:Y,conversionIndex:Y.index}});return{types:C.types.concat(R),name:U,hasAny:$,hasConversion:R.length>0,restParam:C.restParam}}function w(C){return C.typeSet||(C.typeSet=new Set,C.types.forEach(b=>C.typeSet.add(b.name))),C.typeSet}function A(C){const b=[];if(typeof C!="string")throw new TypeError("Signatures must be strings");const N=C.trim();if(N==="")return b;const $=N.split(",");for(let U=0;U<$.length;++U){const R=g($[U].trim());if(R.restParam&&U!==$.length-1)throw new SyntaxError('Unexpected rest parameter "'+$[U]+'": only allowed for the last parameter');if(R.types.length===0)return null;b.push(R)}return b}function F(C){const b=ie(C);return b?b.restParam:!1}function p(C){if(!C||C.types.length===0)return Gt;if(C.types.length===1)return s(C.types[0].name).test;if(C.types.length===2){const b=s(C.types[0].name).test,N=s(C.types[1].name).test;return function(U){return b(U)||N(U)}}else{const b=C.types.map(function(N){return s(N.name).test});return function($){for(let U=0;U<b.length;U++)if(b[U]($))return!0;return!1}}}function _(C){let b,N,$;if(F(C)){b=se(C).map(p);const U=b.length,R=p(ie(C)),Y=function(V){for(let X=U;X<V.length;X++)if(!R(V[X]))return!1;return!0};return function(X){for(let Z=0;Z<b.length;Z++)if(!b[Z](X[Z]))return!1;return Y(X)&&X.length>=U+1}}else return C.length===0?function(R){return R.length===0}:C.length===1?(N=p(C[0]),function(R){return N(R[0])&&R.length===1}):C.length===2?(N=p(C[0]),$=p(C[1]),function(R){return N(R[0])&&$(R[1])&&R.length===2}):(b=C.map(p),function(R){for(let Y=0;Y<b.length;Y++)if(!b[Y](R[Y]))return!1;return R.length===b.length})}function S(C,b){return b<C.length?C[b]:F(C)?ie(C):null}function E(C,b){const N=S(C,b);return N?w(N):new Set}function B(C){return C.conversion===null||C.conversion===void 0}function M(C,b){const N=new Set;return C.forEach($=>{const U=E($.params,b);let R;for(R of U)N.add(R)}),N.has("any")?["any"]:Array.from(N)}function z(C,b,N){let $,U;const R=C||"unnamed";let Y=N,V;for(V=0;V<b.length;V++){const ge=[];if(Y.forEach(Ce=>{const Le=S(Ce.params,V),$e=p(Le);(V<Ce.params.length||F(Ce.params))&&$e(b[V])&&ge.push(Ce)}),ge.length===0){if(U=M(Y,V),U.length>0){const Ce=f(b[V]);return $=new TypeError("Unexpected type of argument in function "+R+" (expected: "+U.join(" or ")+", actual: "+Ce.join(" | ")+", index: "+V+")"),$.data={category:"wrongType",fn:R,index:V,actual:Ce,expected:U},$}}else Y=ge}const X=Y.map(function(ge){return F(ge.params)?1/0:ge.params.length});if(b.length<Math.min.apply(null,X))return U=M(Y,V),$=new TypeError("Too few arguments in function "+R+" (expected: "+U.join(" or ")+", index: "+b.length+")"),$.data={category:"tooFewArgs",fn:R,index:b.length,expected:U},$;const Z=Math.max.apply(null,X);if(b.length>Z)return $=new TypeError("Too many arguments in function "+R+" (expected: "+Z+", actual: "+b.length+")"),$.data={category:"tooManyArgs",fn:R,index:b.length,expectedLength:Z},$;const pe=[];for(let ge=0;ge<b.length;++ge)pe.push(f(b[ge]).join("|"));return $=new TypeError('Arguments of type "'+pe.join(", ")+'" do not match any of the defined signatures of function '+R+"."),$.data={category:"mismatch",actual:pe},$}function q(C){let b=n.length+1;for(let N=0;N<C.types.length;N++)B(C.types[N])&&(b=Math.min(b,C.types[N].typeIndex));return b}function O(C){let b=i+1;for(let N=0;N<C.types.length;N++)B(C.types[N])||(b=Math.min(b,C.types[N].conversionIndex));return b}function P(C,b){if(C.hasAny){if(!b.hasAny)return 1}else if(b.hasAny)return-1;if(C.restParam){if(!b.restParam)return 1}else if(b.restParam)return-1;if(C.hasConversion){if(!b.hasConversion)return 1}else if(b.hasConversion)return-1;const N=q(C)-q(b);if(N<0)return-1;if(N>0)return 1;const $=O(C)-O(b);return $<0?-1:$>0?1:0}function x(C,b){const N=C.params,$=b.params,U=ie(N),R=ie($),Y=F(N),V=F($);if(Y&&U.hasAny){if(!V||!R.hasAny)return 1}else if(V&&R.hasAny)return-1;let X=0,Z=0,pe;for(pe of N)pe.hasAny&&++X,pe.hasConversion&&++Z;let ge=0,Ce=0;for(pe of $)pe.hasAny&&++ge,pe.hasConversion&&++Ce;if(X!==ge)return X-ge;if(Y&&U.hasConversion){if(!V||!R.hasConversion)return 1}else if(V&&R.hasConversion)return-1;if(Z!==Ce)return Z-Ce;if(Y){if(!V)return 1}else if(V)return-1;const Le=(N.length-$.length)*(Y?-1:1);if(Le!==0)return Le;const $e=[];let Xe=0;for(let Er=0;Er<N.length;++Er){const Rr=P(N[Er],$[Er]);$e.push(Rr),Xe+=Rr}if(Xe!==0)return Xe;let Ke;for(Ke of $e)if(Ke!==0)return Ke;return 0}function G(C){if(C.length===0)return[];const b=C.map(s);C.length>1&&b.sort((U,R)=>U.index-R.index);let N=b[0].conversionsTo;if(C.length===1)return N;N=N.concat([]);const $=new Set(C);for(let U=1;U<b.length;++U){let R;for(R of b[U].conversionsTo)$.has(R.from)||(N.push(R),$.add(R.from))}return N}function H(C,b){let N=b;if(C.some(U=>U.hasConversion)){const U=F(C),R=C.map(T);N=function(){const V=[],X=U?arguments.length-1:arguments.length;for(let Z=0;Z<X;Z++)V[Z]=R[Z](arguments[Z]);return U&&(V[X]=arguments[X].map(R[X])),b.apply(this,V)}}let $=N;if(F(C)){const U=C.length-1;$=function(){return N.apply(this,j(arguments,0,U).concat([j(arguments,U)]))}}return $}function T(C){let b,N,$,U;const R=[],Y=[];switch(C.types.forEach(function(V){V.conversion&&(R.push(s(V.conversion.from).test),Y.push(V.conversion.convert))}),Y.length){case 0:return function(X){return X};case 1:return b=R[0],$=Y[0],function(X){return b(X)?$(X):X};case 2:return b=R[0],N=R[1],$=Y[0],U=Y[1],function(X){return b(X)?$(X):N(X)?U(X):X};default:return function(X){for(let Z=0;Z<Y.length;Z++)if(R[Z](X))return Y[Z](X);return X}}}function J(C){function b(N,$,U){if($<N.length){const R=N[$];let Y=[];if(R.restParam){const V=R.types.filter(B);V.length<R.types.length&&Y.push({types:V,name:"..."+V.map(X=>X.name).join("|"),hasAny:V.some(X=>X.isAny),hasConversion:!1,restParam:!0}),Y.push(R)}else Y=R.types.map(function(V){return{types:[V],name:V.name,hasAny:V.isAny,hasConversion:V.conversion,restParam:!1}});return de(Y,function(V){return b(N,$+1,U.concat([V]))})}else return[U]}return b(C,0,[])}function K(C,b){const N=Math.max(C.length,b.length);for(let V=0;V<N;V++){const X=E(C,V),Z=E(b,V);let pe=!1,ge;for(ge of Z)if(X.has(ge)){pe=!0;break}if(!pe)return!1}const $=C.length,U=b.length,R=F(C),Y=F(b);return R?Y?$===U:U>=$:Y?$>=U:$===U}function ue(C){return C.map(b=>ze(b)?_e(b.referToSelf.callback):Re(b)?ce(b.referTo.references,b.referTo.callback):b)}function re(C,b,N){const $=[];let U;for(U of C){let R=N[U];if(typeof R!="number")throw new TypeError('No definition for referenced signature "'+U+'"');if(R=b[R],typeof R!="function")return!1;$.push(R)}return $}function W(C,b,N){const $=ue(C),U=new Array($.length).fill(!1);let R=!0;for(;R;){R=!1;let Y=!0;for(let V=0;V<$.length;++V){if(U[V])continue;const X=$[V];if(ze(X))$[V]=X.referToSelf.callback(N),$[V].referToSelf=X.referToSelf,U[V]=!0,Y=!1;else if(Re(X)){const Z=re(X.referTo.references,$,b);Z?($[V]=X.referTo.callback.apply(this,Z),$[V].referTo=X.referTo,U[V]=!0,Y=!1):R=!0}}if(Y&&R)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return $}function he(C){const b=/\bthis(\(|\.signatures\b)/;Object.keys(C).forEach(N=>{const $=C[N];if(b.test($.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function oe(C,b){if(a.createCount++,Object.keys(b).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&he(b);const N=[],$=[],U={},R=[];let Y;for(Y in b){if(!Object.prototype.hasOwnProperty.call(b,Y))continue;const ve=A(Y);if(!ve)continue;N.forEach(function(Tr){if(K(Tr,ve))throw new TypeError('Conflicting signatures "'+m(Tr)+'" and "'+m(ve)+'".')}),N.push(ve);const Ue=$.length;$.push(b[Y]);const Qu=ve.map(y);let Lr;for(Lr of J(Qu)){const Tr=m(Lr);R.push({params:Lr,name:Tr,fn:Ue}),Lr.every(Wu=>!Wu.hasConversion)&&(U[Tr]=Ue)}}R.sort(x);const V=W($,U,Nr);let X;for(X in U)Object.prototype.hasOwnProperty.call(U,X)&&(U[X]=V[U[X]]);const Z=[],pe=new Map;for(X of R)pe.has(X.name)||(X.fn=V[X.fn],Z.push(X),pe.set(X.name,X));const ge=Z[0]&&Z[0].params.length<=2&&!F(Z[0].params),Ce=Z[1]&&Z[1].params.length<=2&&!F(Z[1].params),Le=Z[2]&&Z[2].params.length<=2&&!F(Z[2].params),$e=Z[3]&&Z[3].params.length<=2&&!F(Z[3].params),Xe=Z[4]&&Z[4].params.length<=2&&!F(Z[4].params),Ke=Z[5]&&Z[5].params.length<=2&&!F(Z[5].params),Er=ge&&Ce&&Le&&$e&&Xe&&Ke;for(let ve=0;ve<Z.length;++ve)Z[ve].test=_(Z[ve].params);const Rr=ge?p(Z[0].params[0]):Je,Au=Ce?p(Z[1].params[0]):Je,Eu=Le?p(Z[2].params[0]):Je,Cu=$e?p(Z[3].params[0]):Je,_u=Xe?p(Z[4].params[0]):Je,Su=Ke?p(Z[5].params[0]):Je,Bu=ge?p(Z[0].params[1]):Je,Mu=Ce?p(Z[1].params[1]):Je,bu=Le?p(Z[2].params[1]):Je,xu=$e?p(Z[3].params[1]):Je,Nu=Xe?p(Z[4].params[1]):Je,Tu=Ke?p(Z[5].params[1]):Je;for(let ve=0;ve<Z.length;++ve)Z[ve].implementation=H(Z[ve].params,Z[ve].fn);const zu=ge?Z[0].implementation:Cr,Ou=Ce?Z[1].implementation:Cr,Iu=Le?Z[2].implementation:Cr,Pu=$e?Z[3].implementation:Cr,$u=Xe?Z[4].implementation:Cr,qu=Ke?Z[5].implementation:Cr,Ru=ge?Z[0].params.length:-1,Lu=Ce?Z[1].params.length:-1,Uu=Le?Z[2].params.length:-1,Zu=$e?Z[3].params.length:-1,Vu=Xe?Z[4].params.length:-1,Hu=Ke?Z[5].params.length:-1,Ju=Er?6:0,Gu=Z.length,Yu=Z.map(ve=>ve.test),Xu=Z.map(ve=>ve.implementation),Ku=function(){for(let Ue=Ju;Ue<Gu;Ue++)if(Yu[Ue](arguments))return Xu[Ue].apply(this,arguments);return a.onMismatch(C,arguments,Z)};function Nr(ve,Ue){return arguments.length===Ru&&Rr(ve)&&Bu(Ue)?zu.apply(this,arguments):arguments.length===Lu&&Au(ve)&&Mu(Ue)?Ou.apply(this,arguments):arguments.length===Uu&&Eu(ve)&&bu(Ue)?Iu.apply(this,arguments):arguments.length===Zu&&Cu(ve)&&xu(Ue)?Pu.apply(this,arguments):arguments.length===Vu&&_u(ve)&&Nu(Ue)?$u.apply(this,arguments):arguments.length===Hu&&Su(ve)&&Tu(Ue)?qu.apply(this,arguments):Ku.apply(this,arguments)}try{Object.defineProperty(Nr,"name",{value:C})}catch{}return Nr.signatures=U,Nr._typedFunctionData={signatures:Z,signatureMap:pe},Nr}function ne(C,b,N){throw z(C,b,N)}function se(C){return j(C,0,C.length-1)}function ie(C){return C[C.length-1]}function j(C,b,N){return Array.prototype.slice.call(C,b,N)}function Fe(C,b){for(let N=0;N<C.length;N++)if(b(C[N]))return C[N]}function de(C,b){return Array.prototype.concat.apply([],C.map(b))}function ae(){const C=se(arguments).map(N=>m(A(N))),b=ie(arguments);if(typeof b!="function")throw new TypeError("Callback function expected as last argument");return ce(C,b)}function ce(C,b){return{referTo:{references:C,callback:b}}}function _e(C){if(typeof C!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:C}}}function Re(C){return C&&typeof C.referTo=="object"&&Array.isArray(C.referTo.references)&&typeof C.referTo.callback=="function"}function ze(C){return C&&typeof C.referToSelf=="object"&&typeof C.referToSelf.callback=="function"}function fe(C,b){if(!C)return b;if(b&&b!==C){const N=new Error("Function names do not match (expected: "+C+", actual: "+b+")");throw N.data={actual:b,expected:C},N}return C}function Oe(C){let b;for(const N in C)Object.prototype.hasOwnProperty.call(C,N)&&(v(C[N])||typeof C[N].signature=="string")&&(b=fe(b,C[N].name));return b}function Ye(C,b){let N;for(N in b)if(Object.prototype.hasOwnProperty.call(b,N)){if(N in C&&b[N]!==C[N]){const $=new Error('Signature "'+N+'" is defined twice');throw $.data={signature:N,sourceFunction:b[N],destFunction:C[N]},$}C[N]=b[N]}}const pt=a;a=function(C){const b=typeof C=="string",N=b?1:0;let $=b?C:"";const U={};for(let R=N;R<arguments.length;++R){const Y=arguments[R];let V={},X;if(typeof Y=="function"?(X=Y.name,typeof Y.signature=="string"?V[Y.signature]=Y:v(Y)&&(V=Y.signatures)):e(Y)&&(V=Y,b||(X=Oe(Y))),Object.keys(V).length===0){const Z=new TypeError("Argument to 'typed' at index "+R+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Z.data={index:R,argument:Y},Z}b||($=fe($,X)),Ye(U,V)}return oe($||"",U)},a.create=In,a.createCount=pt.createCount,a.onMismatch=ne,a.throwMismatchError=ne,a.createError=z,a.clear=h,a.clearConversions=o,a.addTypes=c,a._findType=s,a.referTo=ae,a.referToSelf=_e,a.convert=l,a.findSignature=D,a.find=d,a.isTypedFunction=v,a.warnAgainstDeprecatedThis=!0,a.addType=function(C,b){let N="any";b!==!1&&u.has("Object")&&(N="Object"),a.addTypes([C],N)};function xr(C){if(!C||typeof C.from!="string"||typeof C.to!="string"||typeof C.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(C.to===C.from)throw new SyntaxError('Illegal to define conversion from "'+C.from+'" to itself.')}return a.addConversion=function(C){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};xr(C);const N=s(C.to),$=N.conversionsTo.find(U=>U.from===C.from);if($)if(b&&b.override)a.removeConversion({from:$.from,to:C.to,convert:$.convert});else throw new Error('There is already a conversion from "'+C.from+'" to "'+N.name+'"');N.conversionsTo.push({from:C.from,convert:C.convert,index:i++})},a.addConversions=function(C,b){C.forEach(N=>a.addConversion(N,b))},a.removeConversion=function(C){xr(C);const b=s(C.to),N=Fe(b.conversionsTo,U=>U.from===C.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+C.from+" to "+C.to);if(N.convert!==C.convert)throw new Error("Conversion to remove does not match existing conversion");const $=b.conversionsTo.indexOf(N);b.conversionsTo.splice($,1)},a.resolve=function(C,b){if(!v(C))throw new TypeError(Yt);const N=C._typedFunctionData.signatures;for(let $=0;$<N.length;++$)if(N[$].test(b))return N[$];return null},a}const Kr=In();function Q(e,r,t,u){function n(i){var a=Zi(i,r.map(Yi));return Ji(e,r,i),t(a)}return n.isFactory=!0,n.fn=e,n.dependencies=r.slice().sort(),u&&(n.meta=u),n}function Ji(e,r,t){var u=r.filter(i=>!Gi(i)).every(i=>t[i]!==void 0);if(!u){var n=r.filter(i=>t[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Gi(e){return e&&e[0]==="?"}function Yi(e){return e&&e[0]==="?"?e.slice(1):e}function Be(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function gt(e,r,t){var u={2:"0b",8:"0o",16:"0x"},n=u[r],i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Be(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Be(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),i="i".concat(t)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(n).concat(e.toString(r)).concat(i)}function At(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:t,precision:u,wordSize:n}=Pn(r);switch(t){case"fixed":return Ki(e,u);case"exponential":return $n(e,u);case"engineering":return Xi(e,u);case"bin":return gt(e,2,n);case"oct":return gt(e,8,n);case"hex":return gt(e,16,n);case"auto":return Qi(e,u,r).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],a=arguments[4];return i!=="."?i+a:a});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Pn(e){var r="auto",t,u;if(e!==void 0)if(we(e))t=e;else if(Ne(e))t=e.toNumber();else if(Tt(e))e.precision!==void 0&&(t=Xt(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(u=Xt(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:u}}function ut(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],u=r[2],n=parseFloat(r[4]||"0"),i=u.indexOf(".");n+=i!==-1?i-1:u.length-1;var a=u.replace(".","").replace(/^0*/,function(s){return n-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return a.length===0&&(a.push(0),n++),{sign:t,coefficients:a,exponent:n}}function Xi(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ut(e),u=it(t,r),n=u.exponent,i=u.coefficients,a=n%3===0?n:n<0?n-3-n%3:n-n%3;if(we(r))for(;r>i.length||n-a+1>i.length;)i.push(0);else for(var s=Math.abs(n-a)-(i.length-1),c=0;c<s;c++)i.push(0);for(var h=Math.abs(n-a),o=1;h>0;)o++,h--;var f=i.slice(o).join(""),v=we(r)&&f.length||f.match(/[1-9]/)?"."+f:"",D=i.slice(0,o).join("")+v+"e"+(n>=0?"+":"")+a.toString();return u.sign+D}function Ki(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ut(e),u=typeof r=="number"?it(t,t.exponent+1+r):t,n=u.coefficients,i=u.exponent+1,a=i+(r||0);return n.length<a&&(n=n.concat(Br(a-n.length))),i<0&&(n=Br(-i+1).concat(n),i=1),i<n.length&&n.splice(i,0,i===0?"0.":"."),u.sign+n.join("")}function $n(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=ut(e),u=r?it(t,r):t,n=u.coefficients,i=u.exponent;n.length<r&&(n=n.concat(Br(r-n.length)));var a=n.shift();return u.sign+a+(n.length>0?"."+n.join(""):"")+"e"+(i>=0?"+":"")+i}function Qi(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var u=Kt(t==null?void 0:t.lowerExp,-3),n=Kt(t==null?void 0:t.upperExp,5),i=ut(e),a=r?it(i,r):i;if(a.exponent<u||a.exponent>=n)return $n(e,r);var s=a.coefficients,c=a.exponent;s.length<r&&(s=s.concat(Br(r-s.length))),s=s.concat(Br(c-s.length+1+(s.length<r?r-s.length:0))),s=Br(-c).concat(s);var h=c>0?c:0;return h<s.length-1&&s.splice(h+1,0,"."),a.sign+s.join("")}function it(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},u=t.coefficients;r<=0;)u.unshift(0),t.exponent++,r++;if(u.length>r){var n=u.splice(r,u.length-r);if(n[0]>=5){var i=r-1;for(u[i]++;u[i]===10;)u.pop(),i===0&&(u.unshift(0),t.exponent++,i++),i--,u[i]++}}return t}function Br(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function Wi(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function wr(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(u<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(r)?!1:!isFinite(e)||!isFinite(r)?e===r:e===r?!0:Math.abs(e-r)<=Math.max(t*Math.max(Math.abs(e),Math.abs(r)),u)}function Xt(e,r){if(we(e))return e;if(Ne(e))return e.toNumber();r()}function Kt(e,r){return we(e)?e:Ne(e)?e.toNumber():r}var qn=function(){return qn=Kr.create,Kr},ki=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ji=Q("typed",ki,function(r){var{BigNumber:t,Complex:u,DenseMatrix:n,Fraction:i}=r,a=qn();return a.clear(),a.addTypes([{name:"number",test:we},{name:"Complex",test:xn},{name:"BigNumber",test:Ne},{name:"bigint",test:hi},{name:"Fraction",test:Nn},{name:"Unit",test:Tn},{name:"identifier",test:s=>nr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:nr},{name:"Chain",test:Ri},{name:"Array",test:Ae},{name:"Matrix",test:xe},{name:"DenseMatrix",test:zn},{name:"SparseMatrix",test:On},{name:"Range",test:vi},{name:"Index",test:Nt},{name:"boolean",test:Di},{name:"ResultSet",test:pi},{name:"Help",test:di},{name:"function",test:mi},{name:"Date",test:gi},{name:"RegExp",test:wi},{name:"null",test:yi},{name:"undefined",test:Ai},{name:"AccessorNode",test:Ei},{name:"ArrayNode",test:Ci},{name:"AssignmentNode",test:_i},{name:"BlockNode",test:Si},{name:"ConditionalNode",test:Bi},{name:"ConstantNode",test:Mi},{name:"FunctionNode",test:xi},{name:"FunctionAssignmentNode",test:bi},{name:"IndexNode",test:Ni},{name:"Node",test:Ti},{name:"ObjectNode",test:zi},{name:"OperatorNode",test:Oi},{name:"ParenthesisNode",test:Ii},{name:"RangeNode",test:Pi},{name:"RelationalNode",test:$i},{name:"SymbolNode",test:qi},{name:"Map",test:Fi},{name:"Object",test:Tt}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(t||Zr(c),Wi(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new t(c)}},{from:"number",to:"Complex",convert:function(c){return u||Vr(c),new u(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return u||Vr(c),new u(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return t||Zr(c),new t(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return i||Hr(c),new i(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return u||Vr(c),new u(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){i||Hr(c);var h=new i(c);if(h.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(c){var h=Number(c);if(isNaN(h))throw new Error('Cannot convert "'+c+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(c){t||Zr(c);try{return new t(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){i||Hr(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){u||Vr(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return t||Zr(c),new t(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return i||Hr(c),new i(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||ea(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),a.onMismatch=(s,c,h)=>{var o=a.createError(s,c,h);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&Xr(c[0])&&h.some(v=>!v.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=o.data,f}throw o},a.onMismatch=(s,c,h)=>{var o=a.createError(s,c,h);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&Xr(c[0])&&h.some(v=>!v.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=o.data,f}throw o},a});function Zr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Vr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ea(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Hr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Sr=9e15,Dr=1e9,Et="0123456789abcdef",Qr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Wr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ct={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Sr,maxE:Sr,crypto:!1},Rn,ar,te=!0,at="[DecimalError] ",vr=at+"Invalid argument: ",Ln=at+"Precision limit exceeded",Un=at+"crypto unavailable",Zn="[object Decimal]",Pe=Math.floor,Se=Math.pow,ra=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ta=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,na=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr=1e7,ee=7,ua=9007199254740991,ia=Qr.length-1,_t=Wr.length-1,L={toStringTag:Zn};L.absoluteValue=L.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),k(e)};L.ceil=function(){return k(new this.constructor(this),this.e+1,2)};L.clampedTo=L.clamp=function(e,r){var t,u=this,n=u.constructor;if(e=new n(e),r=new n(r),!e.s||!r.s)return new n(NaN);if(e.gt(r))throw Error(vr+r);return t=u.cmp(e),t<0?e:u.cmp(r)>0?r:new n(u)};L.comparedTo=L.cmp=function(e){var r,t,u,n,i=this,a=i.d,s=(e=new i.constructor(e)).d,c=i.s,h=e.s;if(!a||!s)return!c||!h?NaN:c!==h?c:a===s?0:!a^c<0?1:-1;if(!a[0]||!s[0])return a[0]?c:s[0]?-h:0;if(c!==h)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(u=a.length,n=s.length,r=0,t=u<n?u:n;r<t;++r)if(a[r]!==s[r])return a[r]>s[r]^c<0?1:-1;return u===n?0:u>n^c<0?1:-1};L.cosine=L.cos=function(){var e,r,t=this,u=t.constructor;return t.d?t.d[0]?(e=u.precision,r=u.rounding,u.precision=e+Math.max(t.e,t.sd())+ee,u.rounding=1,t=aa(u,Xn(u,t)),u.precision=e,u.rounding=r,k(ar==2||ar==3?t.neg():t,e,r,!0)):new u(1):new u(NaN)};L.cubeRoot=L.cbrt=function(){var e,r,t,u,n,i,a,s,c,h,o=this,f=o.constructor;if(!o.isFinite()||o.isZero())return new f(o);for(te=!1,i=o.s*Se(o.s*o,1/3),!i||Math.abs(i)==1/0?(t=Te(o.d),e=o.e,(i=(e-t.length+1)%3)&&(t+=i==1||i==-2?"0":"00"),i=Se(t,1/3),e=Pe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),u=new f(t),u.s=o.s):u=new f(i.toString()),a=(e=f.precision)+3;;)if(s=u,c=s.times(s).times(s),h=c.plus(o),u=me(h.plus(o).times(s),h.plus(c),a+2,1),Te(s.d).slice(0,a)===(t=Te(u.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!n&&t=="4999"){if(!n&&(k(s,e+1,0),s.times(s).times(s).eq(o))){u=s;break}a+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(k(u,e+1,1),r=!u.times(u).times(u).eq(o));break}return te=!0,k(u,e,f.rounding,r)};L.decimalPlaces=L.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-Pe(this.e/ee))*ee,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};L.dividedBy=L.div=function(e){return me(this,new this.constructor(e))};L.dividedToIntegerBy=L.divToInt=function(e){var r=this,t=r.constructor;return k(me(r,new t(e),0,1,1),t.precision,t.rounding)};L.equals=L.eq=function(e){return this.cmp(e)===0};L.floor=function(){return k(new this.constructor(this),this.e+1,3)};L.greaterThan=L.gt=function(e){return this.cmp(e)>0};L.greaterThanOrEqualTo=L.gte=function(e){var r=this.cmp(e);return r==1||r===0};L.hyperbolicCosine=L.cosh=function(){var e,r,t,u,n,i=this,a=i.constructor,s=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return s;t=a.precision,u=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<32?(e=Math.ceil(n/3),r=(1/st(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),i=Mr(a,1,i.times(r),new a(1),!0);for(var c,h=e,o=new a(8);h--;)c=i.times(i),i=s.minus(c.times(o.minus(c.times(o))));return k(i,a.precision=t,a.rounding=u,!0)};L.hyperbolicSine=L.sinh=function(){var e,r,t,u,n=this,i=n.constructor;if(!n.isFinite()||n.isZero())return new i(n);if(r=i.precision,t=i.rounding,i.precision=r+Math.max(n.e,n.sd())+4,i.rounding=1,u=n.d.length,u<3)n=Mr(i,2,n,n,!0);else{e=1.4*Math.sqrt(u),e=e>16?16:e|0,n=n.times(1/st(5,e)),n=Mr(i,2,n,n,!0);for(var a,s=new i(5),c=new i(16),h=new i(20);e--;)a=n.times(n),n=n.times(s.plus(a.times(c.times(a).plus(h))))}return i.precision=r,i.rounding=t,k(n,r,t,!0)};L.hyperbolicTangent=L.tanh=function(){var e,r,t=this,u=t.constructor;return t.isFinite()?t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+7,u.rounding=1,me(t.sinh(),t.cosh(),u.precision=e,u.rounding=r)):new u(t.s)};L.inverseCosine=L.acos=function(){var e,r=this,t=r.constructor,u=r.abs().cmp(1),n=t.precision,i=t.rounding;return u!==-1?u===0?r.isNeg()?er(t,n,i):new t(0):new t(NaN):r.isZero()?er(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,r=r.asin(),e=er(t,n+4,i).times(.5),t.precision=n,t.rounding=i,e.minus(r))};L.inverseHyperbolicCosine=L.acosh=function(){var e,r,t=this,u=t.constructor;return t.lte(1)?new u(t.eq(1)?0:NaN):t.isFinite()?(e=u.precision,r=u.rounding,u.precision=e+Math.max(Math.abs(t.e),t.sd())+4,u.rounding=1,te=!1,t=t.times(t).minus(1).sqrt().plus(t),te=!0,u.precision=e,u.rounding=r,t.ln()):new u(t)};L.inverseHyperbolicSine=L.asinh=function(){var e,r,t=this,u=t.constructor;return!t.isFinite()||t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,u.rounding=1,te=!1,t=t.times(t).plus(1).sqrt().plus(t),te=!0,u.precision=e,u.rounding=r,t.ln())};L.inverseHyperbolicTangent=L.atanh=function(){var e,r,t,u,n=this,i=n.constructor;return n.isFinite()?n.e>=0?new i(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=i.precision,r=i.rounding,u=n.sd(),Math.max(u,e)<2*-n.e-1?k(new i(n),e,r,!0):(i.precision=t=u-n.e,n=me(n.plus(1),new i(1).minus(n),t+e,1),i.precision=e+4,i.rounding=1,n=n.ln(),i.precision=e,i.rounding=r,n.times(.5))):new i(NaN)};L.inverseSine=L.asin=function(){var e,r,t,u,n=this,i=n.constructor;return n.isZero()?new i(n):(r=n.abs().cmp(1),t=i.precision,u=i.rounding,r!==-1?r===0?(e=er(i,t+4,u).times(.5),e.s=n.s,e):new i(NaN):(i.precision=t+6,i.rounding=1,n=n.div(new i(1).minus(n.times(n)).sqrt().plus(1)).atan(),i.precision=t,i.rounding=u,n.times(2)))};L.inverseTangent=L.atan=function(){var e,r,t,u,n,i,a,s,c,h=this,o=h.constructor,f=o.precision,v=o.rounding;if(h.isFinite()){if(h.isZero())return new o(h);if(h.abs().eq(1)&&f+4<=_t)return a=er(o,f+4,v).times(.25),a.s=h.s,a}else{if(!h.s)return new o(NaN);if(f+4<=_t)return a=er(o,f+4,v).times(.5),a.s=h.s,a}for(o.precision=s=f+10,o.rounding=1,t=Math.min(28,s/ee+2|0),e=t;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(te=!1,r=Math.ceil(s/ee),u=1,c=h.times(h),a=new o(h),n=h;e!==-1;)if(n=n.times(c),i=a.minus(n.div(u+=2)),n=n.times(c),a=i.plus(n.div(u+=2)),a.d[r]!==void 0)for(e=r;a.d[e]===i.d[e]&&e--;);return t&&(a=a.times(2<<t-1)),te=!0,k(a,o.precision=f,o.rounding=v,!0)};L.isFinite=function(){return!!this.d};L.isInteger=L.isInt=function(){return!!this.d&&Pe(this.e/ee)>this.d.length-2};L.isNaN=function(){return!this.s};L.isNegative=L.isNeg=function(){return this.s<0};L.isPositive=L.isPos=function(){return this.s>0};L.isZero=function(){return!!this.d&&this.d[0]===0};L.lessThan=L.lt=function(e){return this.cmp(e)<0};L.lessThanOrEqualTo=L.lte=function(e){return this.cmp(e)<1};L.logarithm=L.log=function(e){var r,t,u,n,i,a,s,c,h=this,o=h.constructor,f=o.precision,v=o.rounding,D=5;if(e==null)e=new o(10),r=!0;else{if(e=new o(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new o(NaN);r=e.eq(10)}if(t=h.d,h.s<0||!t||!t[0]||h.eq(1))return new o(t&&!t[0]?-1/0:h.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)i=!0;else{for(n=t[0];n%10===0;)n/=10;i=n!==1}if(te=!1,s=f+D,a=cr(h,s),u=r?kr(o,s+10):cr(e,s),c=me(a,u,s,1),Or(c.d,n=f,v))do if(s+=10,a=cr(h,s),u=r?kr(o,s+10):cr(e,s),c=me(a,u,s,1),!i){+Te(c.d).slice(n+1,n+15)+1==1e14&&(c=k(c,f+1,0));break}while(Or(c.d,n+=10,v));return te=!0,k(c,f,v)};L.minus=L.sub=function(e){var r,t,u,n,i,a,s,c,h,o,f,v,D=this,d=D.constructor;if(e=new d(e),!D.d||!e.d)return!D.s||!e.s?e=new d(NaN):D.d?e.s=-e.s:e=new d(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(h=D.d,v=e.d,s=d.precision,c=d.rounding,!h[0]||!v[0]){if(v[0])e.s=-e.s;else if(h[0])e=new d(D);else return new d(c===3?-0:0);return te?k(e,s,c):e}if(t=Pe(e.e/ee),o=Pe(D.e/ee),h=h.slice(),i=o-t,i){for(f=i<0,f?(r=h,i=-i,a=v.length):(r=v,t=o,a=h.length),u=Math.max(Math.ceil(s/ee),a)+2,i>u&&(i=u,r.length=1),r.reverse(),u=i;u--;)r.push(0);r.reverse()}else{for(u=h.length,a=v.length,f=u<a,f&&(a=u),u=0;u<a;u++)if(h[u]!=v[u]){f=h[u]<v[u];break}i=0}for(f&&(r=h,h=v,v=r,e.s=-e.s),a=h.length,u=v.length-a;u>0;--u)h[a++]=0;for(u=v.length;u>i;){if(h[--u]<v[u]){for(n=u;n&&h[--n]===0;)h[n]=rr-1;--h[n],h[u]+=rr}h[u]-=v[u]}for(;h[--a]===0;)h.pop();for(;h[0]===0;h.shift())--t;return h[0]?(e.d=h,e.e=ot(h,t),te?k(e,s,c):e):new d(c===3?-0:0)};L.modulo=L.mod=function(e){var r,t=this,u=t.constructor;return e=new u(e),!t.d||!e.s||e.d&&!e.d[0]?new u(NaN):!e.d||t.d&&!t.d[0]?k(new u(t),u.precision,u.rounding):(te=!1,u.modulo==9?(r=me(t,e.abs(),0,3,1),r.s*=e.s):r=me(t,e,0,u.modulo,1),r=r.times(e),te=!0,t.minus(r))};L.naturalExponential=L.exp=function(){return St(this)};L.naturalLogarithm=L.ln=function(){return cr(this)};L.negated=L.neg=function(){var e=new this.constructor(this);return e.s=-e.s,k(e)};L.plus=L.add=function(e){var r,t,u,n,i,a,s,c,h,o,f=this,v=f.constructor;if(e=new v(e),!f.d||!e.d)return!f.s||!e.s?e=new v(NaN):f.d||(e=new v(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(h=f.d,o=e.d,s=v.precision,c=v.rounding,!h[0]||!o[0])return o[0]||(e=new v(f)),te?k(e,s,c):e;if(i=Pe(f.e/ee),u=Pe(e.e/ee),h=h.slice(),n=i-u,n){for(n<0?(t=h,n=-n,a=o.length):(t=o,u=i,a=h.length),i=Math.ceil(s/ee),a=i>a?i+1:a+1,n>a&&(n=a,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(a=h.length,n=o.length,a-n<0&&(n=a,t=o,o=h,h=t),r=0;n;)r=(h[--n]=h[n]+o[n]+r)/rr|0,h[n]%=rr;for(r&&(h.unshift(r),++u),a=h.length;h[--a]==0;)h.pop();return e.d=h,e.e=ot(h,u),te?k(e,s,c):e};L.precision=L.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vr+e);return t.d?(r=Hn(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};L.round=function(){var e=this,r=e.constructor;return k(new r(e),e.e+1,r.rounding)};L.sine=L.sin=function(){var e,r,t=this,u=t.constructor;return t.isFinite()?t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+Math.max(t.e,t.sd())+ee,u.rounding=1,t=sa(u,Xn(u,t)),u.precision=e,u.rounding=r,k(ar>2?t.neg():t,e,r,!0)):new u(NaN)};L.squareRoot=L.sqrt=function(){var e,r,t,u,n,i,a=this,s=a.d,c=a.e,h=a.s,o=a.constructor;if(h!==1||!s||!s[0])return new o(!h||h<0&&(!s||s[0])?NaN:s?a:1/0);for(te=!1,h=Math.sqrt(+a),h==0||h==1/0?(r=Te(s),(r.length+c)%2==0&&(r+="0"),h=Math.sqrt(r),c=Pe((c+1)/2)-(c<0||c%2),h==1/0?r="5e"+c:(r=h.toExponential(),r=r.slice(0,r.indexOf("e")+1)+c),u=new o(r)):u=new o(h.toString()),t=(c=o.precision)+3;;)if(i=u,u=i.plus(me(a,i,t+2,1)).times(.5),Te(i.d).slice(0,t)===(r=Te(u.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!n&&r=="4999"){if(!n&&(k(i,c+1,0),i.times(i).eq(a))){u=i;break}t+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(k(u,c+1,1),e=!u.times(u).eq(a));break}return te=!0,k(u,c,o.rounding,e)};L.tangent=L.tan=function(){var e,r,t=this,u=t.constructor;return t.isFinite()?t.isZero()?new u(t):(e=u.precision,r=u.rounding,u.precision=e+10,u.rounding=1,t=t.sin(),t.s=1,t=me(t,new u(1).minus(t.times(t)).sqrt(),e+10,0),u.precision=e,u.rounding=r,k(ar==2||ar==4?t.neg():t,e,r,!0)):new u(NaN)};L.times=L.mul=function(e){var r,t,u,n,i,a,s,c,h,o=this,f=o.constructor,v=o.d,D=(e=new f(e)).d;if(e.s*=o.s,!v||!v[0]||!D||!D[0])return new f(!e.s||v&&!v[0]&&!D||D&&!D[0]&&!v?NaN:!v||!D?e.s/0:e.s*0);for(t=Pe(o.e/ee)+Pe(e.e/ee),c=v.length,h=D.length,c<h&&(i=v,v=D,D=i,a=c,c=h,h=a),i=[],a=c+h,u=a;u--;)i.push(0);for(u=h;--u>=0;){for(r=0,n=c+u;n>u;)s=i[n]+D[u]*v[n-u-1]+r,i[n--]=s%rr|0,r=s/rr|0;i[n]=(i[n]+r)%rr|0}for(;!i[--a];)i.pop();return r?++t:i.shift(),e.d=i,e.e=ot(i,t),te?k(e,f.precision,f.rounding):e};L.toBinary=function(e,r){return zt(this,2,e,r)};L.toDecimalPlaces=L.toDP=function(e,r){var t=this,u=t.constructor;return t=new u(t),e===void 0?t:(Ve(e,0,Dr),r===void 0?r=u.rounding:Ve(r,0,8),k(t,e+t.e+1,r))};L.toExponential=function(e,r){var t,u=this,n=u.constructor;return e===void 0?t=ur(u,!0):(Ve(e,0,Dr),r===void 0?r=n.rounding:Ve(r,0,8),u=k(new n(u),e+1,r),t=ur(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+t:t};L.toFixed=function(e,r){var t,u,n=this,i=n.constructor;return e===void 0?t=ur(n):(Ve(e,0,Dr),r===void 0?r=i.rounding:Ve(r,0,8),u=k(new i(n),e+n.e+1,r),t=ur(u,!1,e+u.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};L.toFraction=function(e){var r,t,u,n,i,a,s,c,h,o,f,v,D=this,d=D.d,l=D.constructor;if(!d)return new l(D);if(h=t=new l(1),u=c=new l(0),r=new l(u),i=r.e=Hn(d)-D.e-1,a=i%ee,r.d[0]=Se(10,a<0?ee+a:a),e==null)e=i>0?r:h;else{if(s=new l(e),!s.isInt()||s.lt(h))throw Error(vr+s);e=s.gt(r)?i>0?r:h:s}for(te=!1,s=new l(Te(d)),o=l.precision,l.precision=i=d.length*ee*2;f=me(s,r,0,1,1),n=t.plus(f.times(u)),n.cmp(e)!=1;)t=u,u=n,n=h,h=c.plus(f.times(n)),c=n,n=r,r=s.minus(f.times(n)),s=n;return n=me(e.minus(t),u,0,1,1),c=c.plus(n.times(h)),t=t.plus(n.times(u)),c.s=h.s=D.s,v=me(h,u,i,1).minus(D).abs().cmp(me(c,t,i,1).minus(D).abs())<1?[h,u]:[c,t],l.precision=o,te=!0,v};L.toHexadecimal=L.toHex=function(e,r){return zt(this,16,e,r)};L.toNearest=function(e,r){var t=this,u=t.constructor;if(t=new u(t),e==null){if(!t.d)return t;e=new u(1),r=u.rounding}else{if(e=new u(e),r===void 0?r=u.rounding:Ve(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(te=!1,t=me(t,e,0,r,1).times(e),te=!0,k(t)):(e.s=t.s,t=e),t};L.toNumber=function(){return+this};L.toOctal=function(e,r){return zt(this,8,e,r)};L.toPower=L.pow=function(e){var r,t,u,n,i,a,s=this,c=s.constructor,h=+(e=new c(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new c(Se(+s,h));if(s=new c(s),s.eq(1))return s;if(u=c.precision,i=c.rounding,e.eq(1))return k(s,u,i);if(r=Pe(e.e/ee),r>=e.d.length-1&&(t=h<0?-h:h)<=ua)return n=Jn(c,s,t,u),e.s<0?new c(1).div(n):k(n,u,i);if(a=s.s,a<0){if(r<e.d.length-1)return new c(NaN);if(e.d[r]&1||(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return t=Se(+s,h),r=t==0||!isFinite(t)?Pe(h*(Math.log("0."+Te(s.d))/Math.LN10+s.e+1)):new c(t+"").e,r>c.maxE+1||r<c.minE-1?new c(r>0?a/0:0):(te=!1,c.rounding=s.s=1,t=Math.min(12,(r+"").length),n=St(e.times(cr(s,u+t)),u),n.d&&(n=k(n,u+5,1),Or(n.d,u,i)&&(r=u+10,n=k(St(e.times(cr(s,r+t)),r),r+5,1),+Te(n.d).slice(u+1,u+15)+1==1e14&&(n=k(n,u+1,0)))),n.s=a,te=!0,c.rounding=i,k(n,u,i))};L.toPrecision=function(e,r){var t,u=this,n=u.constructor;return e===void 0?t=ur(u,u.e<=n.toExpNeg||u.e>=n.toExpPos):(Ve(e,1,Dr),r===void 0?r=n.rounding:Ve(r,0,8),u=k(new n(u),e,r),t=ur(u,e<=u.e||u.e<=n.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+t:t};L.toSignificantDigits=L.toSD=function(e,r){var t=this,u=t.constructor;return e===void 0?(e=u.precision,r=u.rounding):(Ve(e,1,Dr),r===void 0?r=u.rounding:Ve(r,0,8)),k(new u(t),e,r)};L.toString=function(){var e=this,r=e.constructor,t=ur(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};L.truncated=L.trunc=function(){return k(new this.constructor(this),this.e+1,1)};L.valueOf=L.toJSON=function(){var e=this,r=e.constructor,t=ur(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Te(e){var r,t,u,n=e.length-1,i="",a=e[0];if(n>0){for(i+=a,r=1;r<n;r++)u=e[r]+"",t=ee-u.length,t&&(i+=sr(t)),i+=u;a=e[r],u=a+"",t=ee-u.length,t&&(i+=sr(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}function Ve(e,r,t){if(e!==~~e||e<r||e>t)throw Error(vr+e)}function Or(e,r,t,u){var n,i,a,s;for(i=e[0];i>=10;i/=10)--r;return--r<0?(r+=ee,n=0):(n=Math.ceil((r+1)/ee),r%=ee),i=Se(10,ee-r),s=e[n]%i|0,u==null?r<3?(r==0?s=s/100|0:r==1&&(s=s/10|0),a=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):a=(t<4&&s+1==i||t>3&&s+1==i/2)&&(e[n+1]/i/100|0)==Se(10,r-2)-1||(s==i/2||s==0)&&(e[n+1]/i/100|0)==0:r<4?(r==0?s=s/1e3|0:r==1?s=s/100|0:r==2&&(s=s/10|0),a=(u||t<4)&&s==9999||!u&&t>3&&s==4999):a=((u||t<4)&&s+1==i||!u&&t>3&&s+1==i/2)&&(e[n+1]/i/1e3|0)==Se(10,r-3)-1,a}function Jr(e,r,t){for(var u,n=[0],i,a=0,s=e.length;a<s;){for(i=n.length;i--;)n[i]*=r;for(n[0]+=Et.indexOf(e.charAt(a++)),u=0;u<n.length;u++)n[u]>t-1&&(n[u+1]===void 0&&(n[u+1]=0),n[u+1]+=n[u]/t|0,n[u]%=t)}return n.reverse()}function aa(e,r){var t,u,n;if(r.isZero())return r;u=r.d.length,u<32?(t=Math.ceil(u/3),n=(1/st(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),e.precision+=t,r=Mr(e,1,r.times(n),new e(1));for(var i=t;i--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return e.precision-=t,r}var me=function(){function e(u,n,i){var a,s=0,c=u.length;for(u=u.slice();c--;)a=u[c]*n+s,u[c]=a%i|0,s=a/i|0;return s&&u.unshift(s),u}function r(u,n,i,a){var s,c;if(i!=a)c=i>a?1:-1;else for(s=c=0;s<i;s++)if(u[s]!=n[s]){c=u[s]>n[s]?1:-1;break}return c}function t(u,n,i,a){for(var s=0;i--;)u[i]-=s,s=u[i]<n[i]?1:0,u[i]=s*a+u[i]-n[i];for(;!u[0]&&u.length>1;)u.shift()}return function(u,n,i,a,s,c){var h,o,f,v,D,d,l,m,g,y,w,A,F,p,_,S,E,B,M,z,q=u.constructor,O=u.s==n.s?1:-1,P=u.d,x=n.d;if(!P||!P[0]||!x||!x[0])return new q(!u.s||!n.s||(P?x&&P[0]==x[0]:!x)?NaN:P&&P[0]==0||!x?O*0:O/0);for(c?(D=1,o=u.e-n.e):(c=rr,D=ee,o=Pe(u.e/D)-Pe(n.e/D)),M=x.length,E=P.length,g=new q(O),y=g.d=[],f=0;x[f]==(P[f]||0);f++);if(x[f]>(P[f]||0)&&o--,i==null?(p=i=q.precision,a=q.rounding):s?p=i+(u.e-n.e)+1:p=i,p<0)y.push(1),d=!0;else{if(p=p/D+2|0,f=0,M==1){for(v=0,x=x[0],p++;(f<E||v)&&p--;f++)_=v*c+(P[f]||0),y[f]=_/x|0,v=_%x|0;d=v||f<E}else{for(v=c/(x[0]+1)|0,v>1&&(x=e(x,v,c),P=e(P,v,c),M=x.length,E=P.length),S=M,w=P.slice(0,M),A=w.length;A<M;)w[A++]=0;z=x.slice(),z.unshift(0),B=x[0],x[1]>=c/2&&++B;do v=0,h=r(x,w,M,A),h<0?(F=w[0],M!=A&&(F=F*c+(w[1]||0)),v=F/B|0,v>1?(v>=c&&(v=c-1),l=e(x,v,c),m=l.length,A=w.length,h=r(l,w,m,A),h==1&&(v--,t(l,M<m?z:x,m,c))):(v==0&&(h=v=1),l=x.slice()),m=l.length,m<A&&l.unshift(0),t(w,l,A,c),h==-1&&(A=w.length,h=r(x,w,M,A),h<1&&(v++,t(w,M<A?z:x,A,c))),A=w.length):h===0&&(v++,w=[0]),y[f++]=v,h&&w[0]?w[A++]=P[S]||0:(w=[P[S]],A=1);while((S++<E||w[0]!==void 0)&&p--);d=w[0]!==void 0}y[0]||y.shift()}if(D==1)g.e=o,Rn=d;else{for(f=1,v=y[0];v>=10;v/=10)f++;g.e=f+o*D-1,k(g,s?i+g.e+1:i,a,d)}return g}}();function k(e,r,t,u){var n,i,a,s,c,h,o,f,v,D=e.constructor;e:if(r!=null){if(f=e.d,!f)return e;for(n=1,s=f[0];s>=10;s/=10)n++;if(i=r-n,i<0)i+=ee,a=r,o=f[v=0],c=o/Se(10,n-a-1)%10|0;else if(v=Math.ceil((i+1)/ee),s=f.length,v>=s)if(u){for(;s++<=v;)f.push(0);o=c=0,n=1,i%=ee,a=i-ee+1}else break e;else{for(o=s=f[v],n=1;s>=10;s/=10)n++;i%=ee,a=i-ee+n,c=a<0?0:o/Se(10,n-a-1)%10|0}if(u=u||r<0||f[v+1]!==void 0||(a<0?o:o%Se(10,n-a-1)),h=t<4?(c||u)&&(t==0||t==(e.s<0?3:2)):c>5||c==5&&(t==4||u||t==6&&(i>0?a>0?o/Se(10,n-a):0:f[v-1])%10&1||t==(e.s<0?8:7)),r<1||!f[0])return f.length=0,h?(r-=e.e+1,f[0]=Se(10,(ee-r%ee)%ee),e.e=-r||0):f[0]=e.e=0,e;if(i==0?(f.length=v,s=1,v--):(f.length=v+1,s=Se(10,ee-i),f[v]=a>0?(o/Se(10,n-a)%Se(10,a)|0)*s:0),h)for(;;)if(v==0){for(i=1,a=f[0];a>=10;a/=10)i++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;i!=s&&(e.e++,f[0]==rr&&(f[0]=1));break}else{if(f[v]+=s,f[v]!=rr)break;f[v--]=0,s=1}for(i=f.length;f[--i]===0;)f.pop()}return te&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function ur(e,r,t){if(!e.isFinite())return Yn(e);var u,n=e.e,i=Te(e.d),a=i.length;return r?(t&&(u=t-a)>0?i=i.charAt(0)+"."+i.slice(1)+sr(u):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):n<0?(i="0."+sr(-n-1)+i,t&&(u=t-a)>0&&(i+=sr(u))):n>=a?(i+=sr(n+1-a),t&&(u=t-n-1)>0&&(i=i+"."+sr(u))):((u=n+1)<a&&(i=i.slice(0,u)+"."+i.slice(u)),t&&(u=t-a)>0&&(n+1===a&&(i+="."),i+=sr(u))),i}function ot(e,r){var t=e[0];for(r*=ee;t>=10;t/=10)r++;return r}function kr(e,r,t){if(r>ia)throw te=!0,t&&(e.precision=t),Error(Ln);return k(new e(Qr),r,1,!0)}function er(e,r,t){if(r>_t)throw Error(Ln);return k(new e(Wr),r,t,!0)}function Hn(e){var r=e.length-1,t=r*ee+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function sr(e){for(var r="";e--;)r+="0";return r}function Jn(e,r,t,u){var n,i=new e(1),a=Math.ceil(u/ee+4);for(te=!1;;){if(t%2&&(i=i.times(r),Wt(i.d,a)&&(n=!0)),t=Pe(t/2),t===0){t=i.d.length-1,n&&i.d[t]===0&&++i.d[t];break}r=r.times(r),Wt(r.d,a)}return te=!0,i}function Qt(e){return e.d[e.d.length-1]&1}function Gn(e,r,t){for(var u,n=new e(r[0]),i=0;++i<r.length;)if(u=new e(r[i]),u.s)n[t](u)&&(n=u);else{n=u;break}return n}function St(e,r){var t,u,n,i,a,s,c,h=0,o=0,f=0,v=e.constructor,D=v.rounding,d=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(te=!1,c=d):c=r,s=new v(.03125);e.e>-2;)e=e.times(s),f+=5;for(u=Math.log(Se(2,f))/Math.LN10*2+5|0,c+=u,t=i=a=new v(1),v.precision=c;;){if(i=k(i.times(e),c,1),t=t.times(++o),s=a.plus(me(i,t,c,1)),Te(s.d).slice(0,c)===Te(a.d).slice(0,c)){for(n=f;n--;)a=k(a.times(a),c,1);if(r==null)if(h<3&&Or(a.d,c-u,D,h))v.precision=c+=10,t=i=s=new v(1),o=0,h++;else return k(a,v.precision=d,D,te=!0);else return v.precision=d,a}a=s}}function cr(e,r){var t,u,n,i,a,s,c,h,o,f,v,D=1,d=10,l=e,m=l.d,g=l.constructor,y=g.rounding,w=g.precision;if(l.s<0||!m||!m[0]||!l.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:l.s!=1?NaN:m?0:l);if(r==null?(te=!1,o=w):o=r,g.precision=o+=d,t=Te(m),u=t.charAt(0),Math.abs(i=l.e)<15e14){for(;u<7&&u!=1||u==1&&t.charAt(1)>3;)l=l.times(e),t=Te(l.d),u=t.charAt(0),D++;i=l.e,u>1?(l=new g("0."+t),i++):l=new g(u+"."+t.slice(1))}else return h=kr(g,o+2,w).times(i+""),l=cr(new g(u+"."+t.slice(1)),o-d).plus(h),g.precision=w,r==null?k(l,w,y,te=!0):l;for(f=l,c=a=l=me(l.minus(1),l.plus(1),o,1),v=k(l.times(l),o,1),n=3;;){if(a=k(a.times(v),o,1),h=c.plus(me(a,new g(n),o,1)),Te(h.d).slice(0,o)===Te(c.d).slice(0,o))if(c=c.times(2),i!==0&&(c=c.plus(kr(g,o+2,w).times(i+""))),c=me(c,new g(D),o,1),r==null)if(Or(c.d,o-d,y,s))g.precision=o+=d,h=a=l=me(f.minus(1),f.plus(1),o,1),v=k(l.times(l),o,1),n=s=1;else return k(c,g.precision=w,y,te=!0);else return g.precision=w,c;c=h,n+=2}}function Yn(e){return String(e.s*e.s/0)}function Bt(e,r){var t,u,n;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(u=r.search(/e/i))>0?(t<0&&(t=u),t+=+r.slice(u+1),r=r.substring(0,u)):t<0&&(t=r.length),u=0;r.charCodeAt(u)===48;u++);for(n=r.length;r.charCodeAt(n-1)===48;--n);if(r=r.slice(u,n),r){if(n-=u,e.e=t=t-u-1,e.d=[],u=(t+1)%ee,t<0&&(u+=ee),u<n){for(u&&e.d.push(+r.slice(0,u)),n-=ee;u<n;)e.d.push(+r.slice(u,u+=ee));r=r.slice(u),u=ee-r.length}else u-=n;for(;u--;)r+="0";e.d.push(+r),te&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function oa(e,r){var t,u,n,i,a,s,c,h,o;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Vn.test(r))return Bt(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(ta.test(r))t=16,r=r.toLowerCase();else if(ra.test(r))t=2;else if(na.test(r))t=8;else throw Error(vr+r);for(i=r.search(/p/i),i>0?(c=+r.slice(i+1),r=r.substring(2,i)):r=r.slice(2),i=r.indexOf("."),a=i>=0,u=e.constructor,a&&(r=r.replace(".",""),s=r.length,i=s-i,n=Jn(u,new u(t),i,i*2)),h=Jr(r,t,rr),o=h.length-1,i=o;h[i]===0;--i)h.pop();return i<0?new u(e.s*0):(e.e=ot(h,o),e.d=h,te=!1,a&&(e=me(e,n,s*4)),c&&(e=e.times(Math.abs(c)<54?Se(2,c):br.pow(2,c))),te=!0,e)}function sa(e,r){var t,u=r.d.length;if(u<3)return r.isZero()?r:Mr(e,2,r,r);t=1.4*Math.sqrt(u),t=t>16?16:t|0,r=r.times(1/st(5,t)),r=Mr(e,2,r,r);for(var n,i=new e(5),a=new e(16),s=new e(20);t--;)n=r.times(r),r=r.times(i.plus(n.times(a.times(n).minus(s))));return r}function Mr(e,r,t,u,n){var i,a,s,c,h=e.precision,o=Math.ceil(h/ee);for(te=!1,c=t.times(t),s=new e(u);;){if(a=me(s.times(c),new e(r++*r++),h,1),s=n?u.plus(a):u.minus(a),u=me(a.times(c),new e(r++*r++),h,1),a=s.plus(u),a.d[o]!==void 0){for(i=o;a.d[i]===s.d[i]&&i--;);if(i==-1)break}i=s,s=u,u=a,a=i}return te=!0,a.d.length=o+1,a}function st(e,r){for(var t=e;--r;)t*=e;return t}function Xn(e,r){var t,u=r.s<0,n=er(e,e.precision,1),i=n.times(.5);if(r=r.abs(),r.lte(i))return ar=u?4:1,r;if(t=r.divToInt(n),t.isZero())ar=u?3:2;else{if(r=r.minus(t.times(n)),r.lte(i))return ar=Qt(t)?u?2:3:u?4:1,r;ar=Qt(t)?u?1:4:u?3:2}return r.minus(n).abs()}function zt(e,r,t,u){var n,i,a,s,c,h,o,f,v,D=e.constructor,d=t!==void 0;if(d?(Ve(t,1,Dr),u===void 0?u=D.rounding:Ve(u,0,8)):(t=D.precision,u=D.rounding),!e.isFinite())o=Yn(e);else{for(o=ur(e),a=o.indexOf("."),d?(n=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):n=r,a>=0&&(o=o.replace(".",""),v=new D(1),v.e=o.length-a,v.d=Jr(ur(v),10,n),v.e=v.d.length),f=Jr(o,10,n),i=c=f.length;f[--c]==0;)f.pop();if(!f[0])o=d?"0p+0":"0";else{if(a<0?i--:(e=new D(e),e.d=f,e.e=i,e=me(e,v,t,u,0,n),f=e.d,i=e.e,h=Rn),a=f[t],s=n/2,h=h||f[t+1]!==void 0,h=u<4?(a!==void 0||h)&&(u===0||u===(e.s<0?3:2)):a>s||a===s&&(u===4||h||u===6&&f[t-1]&1||u===(e.s<0?8:7)),f.length=t,h)for(;++f[--t]>n-1;)f[t]=0,t||(++i,f.unshift(1));for(c=f.length;!f[c-1];--c);for(a=0,o="";a<c;a++)o+=Et.charAt(f[a]);if(d){if(c>1)if(r==16||r==8){for(a=r==16?4:3,--c;c%a;c++)o+="0";for(f=Jr(o,n,r),c=f.length;!f[c-1];--c);for(a=1,o="1.";a<c;a++)o+=Et.charAt(f[a])}else o=o.charAt(0)+"."+o.slice(1);o=o+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(++i>c)for(i-=c;i--;)o+="0";else i<c&&(o=o.slice(0,i)+"."+o.slice(i))}o=(r==16?"0x":r==2?"0b":r==8?"0o":"")+o}return e.s<0?"-"+o:o}function Wt(e,r){if(e.length>r)return e.length=r,!0}function fa(e){return new this(e).abs()}function ca(e){return new this(e).acos()}function la(e){return new this(e).acosh()}function ha(e,r){return new this(e).plus(r)}function va(e){return new this(e).asin()}function Da(e){return new this(e).asinh()}function pa(e){return new this(e).atan()}function da(e){return new this(e).atanh()}function ma(e,r){e=new this(e),r=new this(r);var t,u=this.precision,n=this.rounding,i=u+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=er(this,i,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?er(this,u,n):new this(0),t.s=e.s):!e.d||r.isZero()?(t=er(this,i,1).times(.5),t.s=e.s):r.s<0?(this.precision=i,this.rounding=1,t=this.atan(me(e,r,i,1)),r=er(this,i,1),this.precision=u,this.rounding=n,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(me(e,r,i,1)),t}function ga(e){return new this(e).cbrt()}function wa(e){return k(e=new this(e),e.e+1,2)}function Fa(e,r,t){return new this(e).clamp(r,t)}function ya(e){if(!e||typeof e!="object")throw Error(at+"Object expected");var r,t,u,n=e.defaults===!0,i=["precision",1,Dr,"rounding",0,8,"toExpNeg",-Sr,0,"toExpPos",0,Sr,"maxE",0,Sr,"minE",-Sr,0,"modulo",0,9];for(r=0;r<i.length;r+=3)if(t=i[r],n&&(this[t]=Ct[t]),(u=e[t])!==void 0)if(Pe(u)===u&&u>=i[r+1]&&u<=i[r+2])this[t]=u;else throw Error(vr+t+": "+u);if(t="crypto",n&&(this[t]=Ct[t]),(u=e[t])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Un);else this[t]=!1;else throw Error(vr+t+": "+u);return this}function Aa(e){return new this(e).cos()}function Ea(e){return new this(e).cosh()}function Kn(e){var r,t,u;function n(i){var a,s,c,h=this;if(!(h instanceof n))return new n(i);if(h.constructor=n,kt(i)){h.s=i.s,te?!i.d||i.e>n.maxE?(h.e=NaN,h.d=null):i.e<n.minE?(h.e=0,h.d=[0]):(h.e=i.e,h.d=i.d.slice()):(h.e=i.e,h.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){h.s=1/i<0?-1:1,h.e=0,h.d=[0];return}if(i<0?(i=-i,h.s=-1):h.s=1,i===~~i&&i<1e7){for(a=0,s=i;s>=10;s/=10)a++;te?a>n.maxE?(h.e=NaN,h.d=null):a<n.minE?(h.e=0,h.d=[0]):(h.e=a,h.d=[i]):(h.e=a,h.d=[i]);return}else if(i*0!==0){i||(h.s=NaN),h.e=NaN,h.d=null;return}return Bt(h,i.toString())}else if(c!=="string")throw Error(vr+i);return(s=i.charCodeAt(0))===45?(i=i.slice(1),h.s=-1):(s===43&&(i=i.slice(1)),h.s=1),Vn.test(i)?Bt(h,i):oa(h,i)}if(n.prototype=L,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=ya,n.clone=Kn,n.isDecimal=kt,n.abs=fa,n.acos=ca,n.acosh=la,n.add=ha,n.asin=va,n.asinh=Da,n.atan=pa,n.atanh=da,n.atan2=ma,n.cbrt=ga,n.ceil=wa,n.clamp=Fa,n.cos=Aa,n.cosh=Ea,n.div=Ca,n.exp=_a,n.floor=Sa,n.hypot=Ba,n.ln=Ma,n.log=ba,n.log10=Na,n.log2=xa,n.max=Ta,n.min=za,n.mod=Oa,n.mul=Ia,n.pow=Pa,n.random=$a,n.round=qa,n.sign=Ra,n.sin=La,n.sinh=Ua,n.sqrt=Za,n.sub=Va,n.sum=Ha,n.tan=Ja,n.tanh=Ga,n.trunc=Ya,e===void 0&&(e={}),e&&e.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<u.length;)e.hasOwnProperty(t=u[r++])||(e[t]=this[t]);return n.config(e),n}function Ca(e,r){return new this(e).div(r)}function _a(e){return new this(e).exp()}function Sa(e){return k(e=new this(e),e.e+1,3)}function Ba(){var e,r,t=new this(0);for(te=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return te=!0,new this(1/0);t=r}return te=!0,t.sqrt()}function kt(e){return e instanceof br||e&&e.toStringTag===Zn||!1}function Ma(e){return new this(e).ln()}function ba(e,r){return new this(e).log(r)}function xa(e){return new this(e).log(2)}function Na(e){return new this(e).log(10)}function Ta(){return Gn(this,arguments,"lt")}function za(){return Gn(this,arguments,"gt")}function Oa(e,r){return new this(e).mod(r)}function Ia(e,r){return new this(e).mul(r)}function Pa(e,r){return new this(e).pow(r)}function $a(e){var r,t,u,n,i=0,a=new this(1),s=[];if(e===void 0?e=this.precision:Ve(e,1,Dr),u=Math.ceil(e/ee),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(u));i<u;)n=r[i],n>=429e7?r[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=n%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(u*=4);i<u;)n=r[i]+(r[i+1]<<8)+(r[i+2]<<16)+((r[i+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(r,i):(s.push(n%1e7),i+=4);i=u/4}else throw Error(Un);else for(;i<u;)s[i++]=Math.random()*1e7|0;for(u=s[--i],e%=ee,u&&e&&(n=Se(10,ee-e),s[i]=(u/n|0)*n);s[i]===0;i--)s.pop();if(i<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=ee)s.shift();for(u=1,n=s[0];n>=10;n/=10)u++;u<ee&&(t-=ee-u)}return a.e=t,a.d=s,a}function qa(e){return k(e=new this(e),e.e+1,this.rounding)}function Ra(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function La(e){return new this(e).sin()}function Ua(e){return new this(e).sinh()}function Za(e){return new this(e).sqrt()}function Va(e,r){return new this(e).sub(r)}function Ha(){var e=0,r=arguments,t=new this(r[e]);for(te=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return te=!0,k(t,this.precision,this.rounding)}function Ja(e){return new this(e).tan()}function Ga(e){return new this(e).tanh()}function Ya(e){return k(e=new this(e),e.e+1,1)}L[Symbol.for("nodejs.util.inspect.custom")]=L.toString;L[Symbol.toStringTag]="Decimal";var br=L.constructor=Kn(Ct);Qr=new br(Qr);Wr=new br(Wr);var Xa="BigNumber",Ka=["?on","config"],Qa=Q(Xa,Ka,e=>{var{on:r,config:t}=e,u=br.clone({precision:t.precision,modulo:br.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(n){return new u(n.value)},r&&r("config",function(n,i){n.precision!==i.precision&&u.config({precision:n.precision})}),u},{isClass:!0});const Ie=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ge=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Wa=function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const t=e*e;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},wt=function(e,r){return e=Math.abs(e),r=Math.abs(r),e<r&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},_r=function(){throw SyntaxError("Invalid Param")};function Ft(e,r){const t=Math.abs(e),u=Math.abs(r);return e===0?Math.log(u):r===0?Math.log(t):t<3e3&&u<3e3?Math.log(e*e+r*r)*.5:(e=e*.5,r=r*.5,.5*Math.log(e*e+r*r)+Math.LN2)}const ka={re:0,im:0},gr=function(e,r){const t=ka;if(e==null)t.re=t.im=0;else if(r!==void 0)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return I.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return I.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else e.length===2?(t.re=e[0],t.im=e[1]):_r();break;case"string":t.im=t.re=0;const u=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,i=0;u===null&&_r();for(let a=0;a<u.length;a++){const s=u[a];s===" "||s==="	"||s===`
`||(s==="+"?n++:s==="-"?i++:s==="i"||s==="I"?(n+i===0&&_r(),u[a+1]!==" "&&!isNaN(u[a+1])?(t.im+=parseFloat((i%2?"-":"")+u[a+1]),a++):t.im+=parseFloat((i%2?"-":"")+"1"),n=i=0):((n+i===0||isNaN(s))&&_r(),u[a+1]==="i"||u[a+1]==="I"?(t.im+=parseFloat((i%2?"-":"")+s),a++):t.re+=parseFloat((i%2?"-":"")+s),n=i=0))}n+i>0&&_r();break;case"number":t.im=0,t.re=e;break;default:_r()}return isNaN(t.re)||isNaN(t.im),t};function I(e,r){if(!(this instanceof I))return new I(e,r);const t=gr(e,r);this.re=t.re,this.im=t.im}I.prototype={re:0,im:0,sign:function(){const e=wt(this.re,this.im);return new I(this.re/e,this.im/e)},add:function(e,r){const t=gr(e,r),u=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return u||n?u&&n?I.NAN:I.INFINITY:new I(this.re+t.re,this.im+t.im)},sub:function(e,r){const t=gr(e,r),u=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return u||n?u&&n?I.NAN:I.INFINITY:new I(this.re-t.re,this.im-t.im)},mul:function(e,r){const t=gr(e,r),u=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),i=this.re===0&&this.im===0,a=t.re===0&&t.im===0;return u&&a||n&&i?I.NAN:u||n?I.INFINITY:t.im===0&&this.im===0?new I(this.re*t.re,0):new I(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){const t=gr(e,r),u=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),i=this.re===0&&this.im===0,a=t.re===0&&t.im===0;if(i&&a||u&&n)return I.NAN;if(a||u)return I.INFINITY;if(i||n)return I.ZERO;if(t.im===0)return new I(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const s=t.re/t.im,c=t.re*s+t.im;return new I((this.re*s+this.im)/c,(this.im*s-this.re)/c)}else{const s=t.im/t.re,c=t.im*s+t.re;return new I((this.re+this.im*s)/c,(this.im-this.re*s)/c)}},pow:function(e,r){const t=gr(e,r),u=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return I.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new I(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new I(Math.pow(this.im,t.re),0);case 1:return new I(0,Math.pow(this.im,t.re));case 2:return new I(-Math.pow(this.im,t.re),0);case 3:return new I(0,-Math.pow(this.im,t.re))}}if(u&&t.re>0)return I.ZERO;const i=Math.atan2(this.im,this.re),a=Ft(this.re,this.im);let s=Math.exp(t.re*a-t.im*i),c=t.im*a+t.re*i;return new I(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const e=this.re,r=this.im;if(r===0)return e>=0?new I(Math.sqrt(e),0):new I(0,Math.sqrt(-e));const t=wt(e,r);let u=Math.sqrt(.5*(t+Math.abs(e))),n=Math.abs(r)/(2*u);return e>=0?new I(u,r<0?-n:n):new I(n,r<0?-u:u)},exp:function(){const e=Math.exp(this.re);return this.im===0?new I(e,0):new I(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,r=this.im;return new I(Math.expm1(e)*Math.cos(r)+Wa(r),Math.exp(e)*Math.sin(r))},log:function(){const e=this.re,r=this.im;return r===0&&e>0?new I(Math.log(e),0):new I(Ft(e,r),Math.atan2(r,e))},abs:function(){return wt(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,r=this.im;return new I(Math.sin(e)*Ie(r),Math.cos(e)*Ge(r))},cos:function(){const e=this.re,r=this.im;return new I(Math.cos(e)*Ie(r),-Math.sin(e)*Ge(r))},tan:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)+Ie(r);return new I(Math.sin(e)/t,Ge(r)/t)},cot:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)-Ie(r);return new I(-Math.sin(e)/t,Ge(r)/t)},sec:function(){const e=this.re,r=this.im,t=.5*Ie(2*r)+.5*Math.cos(2*e);return new I(Math.cos(e)*Ie(r)/t,Math.sin(e)*Ge(r)/t)},csc:function(){const e=this.re,r=this.im,t=.5*Ie(2*r)-.5*Math.cos(2*e);return new I(Math.sin(e)*Ie(r)/t,-Math.cos(e)*Ge(r)/t)},asin:function(){const e=this.re,r=this.im,t=new I(r*r-e*e+1,-2*e*r).sqrt(),u=new I(t.re-r,t.im+e).log();return new I(u.im,-u.re)},acos:function(){const e=this.re,r=this.im,t=new I(r*r-e*e+1,-2*e*r).sqrt(),u=new I(t.re-r,t.im+e).log();return new I(Math.PI/2-u.im,u.re)},atan:function(){const e=this.re,r=this.im;if(e===0){if(r===1)return new I(0,1/0);if(r===-1)return new I(0,-1/0)}const t=e*e+(1-r)*(1-r),u=new I((1-r*r-e*e)/t,-2*e/t).log();return new I(-.5*u.im,.5*u.re)},acot:function(){const e=this.re,r=this.im;if(r===0)return new I(Math.atan2(1,e),0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).atan():new I(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new I(0,1/0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).acos():new I(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new I(Math.PI/2,1/0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).asin():new I(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){const e=this.re,r=this.im;return new I(Ge(e)*Math.cos(r),Ie(e)*Math.sin(r))},cosh:function(){const e=this.re,r=this.im;return new I(Ie(e)*Math.cos(r),Ge(e)*Math.sin(r))},tanh:function(){const e=2*this.re,r=2*this.im,t=Ie(e)+Math.cos(r);return new I(Ge(e)/t,Math.sin(r)/t)},coth:function(){const e=2*this.re,r=2*this.im,t=Ie(e)-Math.cos(r);return new I(Ge(e)/t,-Math.sin(r)/t)},csch:function(){const e=this.re,r=this.im,t=Math.cos(2*r)-Ie(2*e);return new I(-2*Ge(e)*Math.cos(r)/t,2*Ie(e)*Math.sin(r)/t)},sech:function(){const e=this.re,r=this.im,t=Math.cos(2*r)+Ie(2*e);return new I(2*Ie(e)*Math.cos(r)/t,-2*Ge(e)*Math.sin(r)/t)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r},acosh:function(){const e=this.acos();if(e.im<=0){const r=e.re;e.re=-e.im,e.im=r}else{const r=e.im;e.im=-e.re,e.re=r}return e},atanh:function(){const e=this.re,r=this.im,t=e>1&&r===0,u=1-e,n=1+e,i=u*u+r*r,a=i!==0?new I((n*u-r*r)/i,(r*u+n*r)/i):new I(e!==-1?e/0:0,r!==0?r/0:0),s=a.re;return a.re=Ft(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,t&&(a.im=-a.im),a},acoth:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new I(0,Math.PI/2);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).atanh():new I(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const e=this.re,r=this.im;if(r===0)return new I(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const t=e*e+r*r;return t!==0?new I(e/t,-r/t).asinh():new I(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){const e=this.re,r=this.im;if(this.isZero())return I.INFINITY;const t=e*e+r*r;return t!==0?new I(e/t,-r/t).acosh():new I(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return I.INFINITY;if(this.isInfinite())return I.ZERO;const e=this.re,r=this.im,t=e*e+r*r;return new I(e/t,-r/t)},conjugate:function(){return new I(this.re,-this.im)},neg:function(){return new I(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new I(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new I(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new I(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){const t=gr(e,r);return Math.abs(t.re-this.re)<=I.EPSILON&&Math.abs(t.im-this.im)<=I.EPSILON},clone:function(){return new I(this.re,this.im)},toString:function(){let e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<I.EPSILON&&(e=0),Math.abs(r)<I.EPSILON&&(r=0),r===0?t+e:(e!==0?(t+=e,t+=" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),r!==1&&(t+=r),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};I.ZERO=new I(0,0);I.ONE=new I(1,0);I.I=new I(0,1);I.PI=new I(Math.PI,0);I.E=new I(Math.E,0);I.INFINITY=new I(1/0,1/0);I.NAN=new I(NaN,NaN);I.EPSILON=1e-15;var ja="Complex",eo=[],ro=Q(ja,eo,()=>(Object.defineProperty(I,"name",{value:"Complex"}),I.prototype.constructor=I,I.prototype.type="Complex",I.prototype.isComplex=!0,I.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},I.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},I.prototype.format=function(e){var r="",t=this.im,u=this.re,n=At(this.re,e),i=At(this.im,e),a=we(e)?e:e?e.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(u/t)<s&&(u=0),Math.abs(t/u)<s&&(t=0)}return t===0?r=n:u===0?t===1?r="i":t===-1?r="-i":r=i+"i":t<0?t===-1?r=n+" - i":r=n+" - "+i.substring(1)+"i":t===1?r=n+" + i":r=n+" + "+i+"i",r},I.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return I(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],u=arguments[1];if(we(t)){if(Tn(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),we(u))return new I({r:t,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},I.prototype.valueOf=I.prototype.toString,I.fromJSON=function(e){return new I(e)},I.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},I),{isClass:!0}),to="Fraction",no=[],uo=Q(to,no,()=>(Object.defineProperty(ir,"name",{value:"Fraction"}),ir.prototype.constructor=ir,ir.prototype.type="Fraction",ir.prototype.isFraction=!0,ir.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ir.fromJSON=function(e){return new ir(e)},ir),{isClass:!0}),io="Matrix",ao=[],oo=Q(io,ao,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,u){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,u){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function yt(e,r,t){var u=e.constructor,n=new u(2),i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Be(t))throw new Error("size must be an integer");if(e.greaterThan(n.pow(t-1).sub(1))||e.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(t))),i="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(r," not supported "))}}function so(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:u,wordSize:n}=Pn(r);switch(t){case"fixed":return co(e,u);case"exponential":return jt(e,u);case"engineering":return fo(e,u);case"bin":return yt(e,2,n);case"oct":return yt(e,8,n);case"hex":return yt(e,16,n);case"auto":{var i=en(r==null?void 0:r.lowerExp,-3),a=en(r==null?void 0:r.upperExp,5);if(e.isZero())return"0";var s,c=e.toSignificantDigits(u),h=c.e;return h>=i&&h<a?s=c.toFixed():s=jt(e,u),s.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],f=arguments[4];return o!=="."?o+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fo(e,r){var t=e.e,u=t%3===0?t:t<0?t-3-t%3:t-t%3,n=e.mul(Math.pow(10,-u)),i=n.toPrecision(r);if(i.includes("e")){var a=e.constructor;i=new a(i).toFixed()}return i+"e"+(t>=0?"+":"")+u.toString()}function jt(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function co(e,r){return e.toFixed(r)}function en(e,r){return we(e)?e:Ne(e)?e.toNumber():r}function be(e,r){var t=lo(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function lo(e,r){if(typeof e=="number")return At(e,r);if(Ne(e))return so(e,r);if(ho(e))return!r||r.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Qn(e,r);if(nr(e))return rn(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(u=>rn(u)+": "+be(e[u],r));return"{"+t.join(", ")+"}"}return String(e)}function rn(e){for(var r=String(e),t="",u=0;u<r.length;){var n=r.charAt(u);t+=n in tn?tn[n]:n,u++}return'"'+t+'"'}var tn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Qn(e,r){if(Array.isArray(e)){for(var t="[",u=e.length,n=0;n<u;n++)n!==0&&(t+=", "),t+=Qn(e[n],r);return t+="]",t}else return be(e,r)}function ho(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function le(e,r,t){if(!(this instanceof le))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}le.prototype=new RangeError;le.prototype.constructor=RangeError;le.prototype.name="DimensionError";le.prototype.isDimensionError=!0;function yr(e,r,t){if(!(this instanceof yr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}yr.prototype=new RangeError;yr.prototype.constructor=RangeError;yr.prototype.name="IndexError";yr.prototype.isIndexError=!0;function qe(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function Wn(e,r,t){var u,n=e.length;if(n!==r[t])throw new le(n,r[t]);if(t<r.length-1){var i=t+1;for(u=0;u<n;u++){var a=e[u];if(!Array.isArray(a))throw new le(r.length-1,r.length,"<");Wn(e[u],r,i)}}else for(u=0;u<n;u++)if(Array.isArray(e[u]))throw new le(r.length+1,r.length,">")}function nn(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new le(e.length,0)}else Wn(e,r,0)}function ye(e,r){if(e!==void 0){if(!we(e)||!Be(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new yr(e,r)}}function un(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(n){if(!we(n)||!Be(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+be(r)+")")}),(we(e)||Ne(e))&&(e=[e]);var u=t!==void 0?t:0;return Mt(e,r,0,u),e}function Mt(e,r,t,u){var n,i,a=e.length,s=r[t],c=Math.min(a,s);if(e.length=s,t<r.length-1){var h=t+1;for(n=0;n<c;n++)i=e[n],Array.isArray(i)||(i=[i],e[n]=i),Mt(i,r,h,u);for(n=c;n<s;n++)i=[],e[n]=i,Mt(i,r,h,u)}else{for(n=0;n<c;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=c;n<s;n++)e[n]=u}}function kn(e,r){var t=Do(e),u=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new le(0,u,"!=");r=Ot(r,u);var n=jn(r);if(u!==n)throw new le(n,u,"!=");try{return vo(t,r)}catch(i){throw i instanceof le?new le(n,u,"!="):i}}function Ot(e,r){var t=jn(e),u=e.slice(),n=-1,i=e.indexOf(n),a=e.indexOf(n,i+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var s=i>=0,c=r%t===0;if(s)if(c)u[i]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return u}function jn(e){return e.reduce((r,t)=>r*t,1)}function vo(e,r){for(var t=e,u,n=r.length-1;n>0;n--){var i=r[n];u=[];for(var a=t.length/i,s=0;s<a;s++)u.push(t.slice(s*i,(s+1)*i));t=u}return t}function eu(e,r,t,u){var n=u||qe(e);if(t)for(var i=0;i<t;i++)e=[e],n.unshift(1);for(e=ru(e,r,0);n.length<r;)n.push(1);return e}function ru(e,r,t){var u,n;if(Array.isArray(e)){var i=t+1;for(u=0,n=e.length;u<n;u++)e[u]=ru(e[u],r,i)}else for(var a=t;a<r;a++)e=[e];return e}function Do(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(u){Array.isArray(u)?u.forEach(t):r.push(u)}),r}function It(e,r){for(var t,u=0,n=0;n<e.length;n++){var i=e[n],a=Array.isArray(i);if(n===0&&a&&(u=i.length),a&&i.length!==u)return;var s=a?It(i,r):r(i);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function tu(e,r,t,u){if(u<t){if(e.length!==r.length)throw new le(e.length,r.length);for(var n=[],i=0;i<e.length;i++)n[i]=tu(e[i],r[i],t,u+1);return n}else return e.concat(r)}function nu(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,u){return tu(t,u,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function uu(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var u=r.map(v=>v.length),n=Math.max(...u),i=new Array(n).fill(null),a=0;a<r.length;a++)for(var s=r[a],c=u[a],h=0;h<c;h++){var o=n-c+h;s[h]>i[o]&&(i[o]=s[h])}for(var f=0;f<r.length;f++)iu(r[f],i);return i}function iu(e,r){for(var t=r.length,u=e.length,n=0;n<u;n++){var i=t-u+n;if(e[n]<r[i]&&e[n]>1||e[n]>r[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(u," with size ").concat(e[n]," to size ").concat(r[i]))}}function bt(e,r){var t=qe(e);if(hr(t,r))return e;iu(t,r);var u=uu(t,r),n=u.length,i=[...Array(n-t.length).fill(1),...t],a=mo(e);t.length<n&&(a=kn(a,i),t=qe(a));for(var s=0;s<n;s++)t[s]<u[s]&&(a=po(a,u[s],s),t=qe(a));return a}function po(e,r,t){return nu(...Array(r).fill(e),t)}function au(e,r){if(!Array.isArray(e))throw new Error("Array expected");var t=qe(e);if(r.length!==t.length)throw new le(r.length,t.length);for(var u=0;u<r.length;u++)ye(r[u],t[u]);return r.reduce((n,i)=>n[i],e)}function mo(e){return Gr([],e)}function jr(e,r,t){if(Kr.isTypedFunction(e)){var u=(r.isMatrix?r.size():qe(r)).map(()=>0),n=r.isMatrix?r.get(u):au(r,u),i=Object.keys(e.signatures).length===1,a=go(e,n,u,r),s=i?Object.values(e.signatures)[0]:e;return a>=1&&a<=3?function(){for(var c=arguments.length,h=new Array(c),o=0;o<c;o++)h[o]=arguments[o];return an(s,h.slice(0,a),t,e.name)}:function(){for(var c=arguments.length,h=new Array(c),o=0;o<c;o++)h[o]=arguments[o];return an(s,h,t,e.name)}}return e}function go(e,r,t,u){for(var n=[r,t,u],i=3;i>0;i--){var a=n.slice(0,i);if(Kr.resolve(e,a)!==null)return i}}function an(e,r,t,u){try{return e(...r)}catch(n){wo(n,r,t,u)}}function wo(e,r,t,u){var n;if(e instanceof TypeError&&((n=e.data)===null||n===void 0?void 0:n.category)==="wrongType"){var i=[];throw i.push("value: ".concat(lr(r[0]))),r.length>=2&&i.push("index: ".concat(lr(r[1]))),r.length>=3&&i.push("array: ".concat(lr(r[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(u,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(u,": ").concat(e.message))}var Fo="DenseMatrix",yo=["Matrix"],Ao=Q(Fo,yo,e=>{var{Matrix:r}=e;function t(o,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!nr(f))throw new Error("Invalid datatype: "+f);if(xe(o))o.type==="DenseMatrix"?(this._data=Ee(o._data),this._size=Ee(o._size),this._datatype=f||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=f||o._datatype);else if(o&&Ae(o.data)&&Ae(o.size))this._data=o.data,this._size=o.size,nn(this._data,this._size),this._datatype=f||o.datatype;else if(Ae(o))this._data=h(o),this._size=qe(this._data),nn(this._data,this._size),this._datatype=f;else{if(o)throw new TypeError("Unsupported type of data ("+lr(o)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new r,t.prototype.createDenseMatrix=function(o,f){return new t(o,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return It(this._data,lr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(o,f){return new t(o,f)},t.prototype.subset=function(o,f,v){switch(arguments.length){case 1:return u(this,o);case 2:case 3:return i(this,o,f,v);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(o){return au(this._data,o)},t.prototype.set=function(o,f,v){if(!Ae(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new le(o.length,this._size.length,"<");var D,d,l,m=o.map(function(y){return y+1});c(this,m,v);var g=this._data;for(D=0,d=o.length-1;D<d;D++)l=o[D],ye(l,g.length),g=g[l];return l=o[o.length-1],ye(l,g.length),g[l]=f,this};function u(o,f){if(!Nt(f))throw new TypeError("Invalid index");var v=f.isScalar();if(v)return o.get(f.min());var D=f.size();if(D.length!==o._size.length)throw new le(D.length,o._size.length);for(var d=f.min(),l=f.max(),m=0,g=o._size.length;m<g;m++)ye(d[m],o._size[m]),ye(l[m],o._size[m]);return new t(n(o._data,f,D.length,0),o._datatype)}function n(o,f,v,D){var d=D===v-1,l=f.dimension(D);return d?l.map(function(m){return ye(m,o.length),o[m]}).valueOf():l.map(function(m){ye(m,o.length);var g=o[m];return n(g,f,v,D+1)}).valueOf()}function i(o,f,v,D){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var d=f.size(),l=f.isScalar(),m;if(xe(v)?(m=v.size(),v=v.valueOf()):m=qe(v),l){if(m.length!==0)throw new TypeError("Scalar expected");o.set(f.min(),v,D)}else{if(!hr(m,d))try{m.length===0?v=bt([v],d):v=bt(v,d),m=qe(v)}catch{}if(d.length<o._size.length)throw new le(d.length,o._size.length,"<");if(m.length<d.length){for(var g=0,y=0;d[g]===1&&m[g]===1;)g++;for(;d[g]===1;)y++,g++;v=eu(v,d.length,y,m)}if(!hr(d,m))throw new le(d,m,">");var w=f.max().map(function(p){return p+1});c(o,w,D);var A=d.length,F=0;a(o._data,f,v,A,F)}return o}function a(o,f,v,D,d){var l=d===D-1,m=f.dimension(d);l?m.forEach(function(g,y){ye(g),o[g]=v[y[0]]}):m.forEach(function(g,y){ye(g),a(o[g],f,v[y[0]],D,d+1)})}t.prototype.resize=function(o,f,v){if(!Xr(o))throw new TypeError("Array or Matrix expected");var D=o.valueOf().map(l=>Array.isArray(l)&&l.length===1?l[0]:l),d=v?this.clone():this;return s(d,D,f)};function s(o,f,v){if(f.length===0){for(var D=o._data;Ae(D);)D=D[0];return D}return o._size=f.slice(0),o._data=un(o._data,o._size,v),o}t.prototype.reshape=function(o,f){var v=f?this.clone():this;v._data=kn(v._data,o);var D=v._size.reduce((d,l)=>d*l);return v._size=Ot(o,D),v};function c(o,f,v){for(var D=o._size.slice(0),d=!1;D.length<f.length;)D.push(0),d=!0;for(var l=0,m=f.length;l<m;l++)f[l]>D[l]&&(D[l]=f[l],d=!0);d&&s(o,D,v)}t.prototype.clone=function(){var o=new t({data:Ee(this._data),size:Ee(this._size),datatype:this._datatype});return o},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(o){var f=this,v=f.size();if(v.length===1){for(var D=0;D<v[0];D++)o(f._data,D,[D]);return}var d=Array(v.length).fill(0),l=Array(v.length-1),m=l.length-1;l[0]=f._data[0];for(var g=0;g<m;g++)l[g+1]=l[g][0];for(d[m]=-1;;){var y=void 0;for(y=m;y>=0;y--){if(d[y]++,d[y]===v[y]){d[y]=0;continue}l[y]=y===0?f._data[d[y]]:l[y-1][d[y]];for(var w=y;w<m;w++)l[w+1]=l[w][0];for(var A=0;A<v[l.length];A++)d[l.length]=A,o(l[m],A,d.slice(0));break}if(y===-1)break}},t.prototype.map=function(o){var f=this,v=new t(f),D=jr(o,f._data,"map");return v._forEach(function(d,l,m){d[l]=D(d[l],m,f)}),v},t.prototype.forEach=function(o){var f=this,v=jr(o,f._data,"map");f._forEach(function(D,d,l){v(D[d],l,f)})},t.prototype[Symbol.iterator]=function*(){var o=function*(v,D){if(Ae(v))for(var d=0;d<v.length;d++)yield*o(v[d],D.concat(d));else yield{value:v,index:D}};yield*o(this._data,[])},t.prototype.rows=function(){var o=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var v=this._data;for(var D of v)o.push(new t([D],this._datatype));return o},t.prototype.columns=function(){var o=this,f=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var D=this._data,d=function(g){var y=D.map(w=>[w[g]]);f.push(new t(y,o._datatype))},l=0;l<v[1];l++)d(l);return f},t.prototype.toArray=function(){return Ee(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(o){return be(this._data,o)},t.prototype.toString=function(){return be(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(o){if(o){if(Ne(o)&&(o=o.toNumber()),!we(o)||!Be(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var f=o>0?o:0,v=o<0?-o:0,D=this._size[0],d=this._size[1],l=Math.min(D-v,d-f),m=[],g=0;g<l;g++)m[g]=this._data[g+v][g+f];return new t({data:m,size:[l],datatype:this._datatype})},t.diagonal=function(o,f,v,D){if(!Ae(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(_){if(Ne(_)&&(_=_.toNumber()),!we(_)||!Be(_)||_<1)throw new Error("Size values must be positive integers");return _}),v){if(Ne(v)&&(v=v.toNumber()),!we(v)||!Be(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var d=v>0?v:0,l=v<0?-v:0,m=o[0],g=o[1],y=Math.min(m-l,g-d),w;if(Ae(f)){if(f.length!==y)throw new Error("Invalid value array length");w=function(S){return f[S]}}else if(xe(f)){var A=f.size();if(A.length!==1||A[0]!==y)throw new Error("Invalid matrix length");w=function(S){return f.get([S])}}else w=function(){return f};D||(D=Ne(w(0))?w(0).mul(0):0);var F=[];if(o.length>0){F=un(F,o,D);for(var p=0;p<y;p++)F[p+l][p+d]=w(p)}return new t({data:F,size:[m,g]})},t.fromJSON=function(o){return new t(o)},t.prototype.swapRows=function(o,f){if(!we(o)||!Be(o)||!we(f)||!Be(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ye(o,this._size[0]),ye(f,this._size[0]),t._swapRows(o,f,this._data),this},t._swapRows=function(o,f,v){var D=v[o];v[o]=v[f],v[f]=D};function h(o){return xe(o)?h(o.valueOf()):Ae(o)?o.map(h):o}return t},{isClass:!0});function pr(e,r,t){return e&&typeof e.map=="function"?e.map(function(u){return pr(u,r)}):r(e)}var on="isInteger",Eo=["typed"],Co=Q(on,Eo,e=>{var{typed:r}=e;return r(on,{number:Be,BigNumber:function(u){return u.isInt()},bigint:function(u){return!0},Fraction:function(u){return u.d===1n},"Array | Matrix":r.referToSelf(t=>u=>pr(u,t))})}),ou="number",Pt="number, number";function su(e){return Math.abs(e)}su.signature=ou;function fu(e,r){return e+r}fu.signature=Pt;function cu(e,r){return e-r}cu.signature=Pt;function lu(e,r){return e*r}lu.signature=Pt;function hu(e){return-e}hu.signature=ou;function ft(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(u<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||r.isNaN()?!1:!e.isFinite()||!r.isFinite()?e.eq(r):e.eq(r)?!0:e.minus(r).abs().lte(e.constructor.max(e.constructor.max(e.abs(),r.abs()).mul(t),u))}function _o(e,r,t,u){return wr(e.re,r.re,t,u)&&wr(e.im,r.im,t,u)}var ct=Q("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(u,n)=>{if(!u.equalBase(n))throw new Error("Cannot compare units with different base");return r.find(t,[u.valueType(),n.valueType()])(u.value,n.value)})}}),et="equalScalar",So=["typed","config"],Bo=Q(et,So,e=>{var{typed:r,config:t}=e,u=ct({typed:r});return r(et,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return wr(i,a,t.relTol,t.absTol)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||ft(i,a,t.relTol,t.absTol)},"bigint, bigint":function(i,a){return i===a},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return _o(i,a,t.relTol,t.absTol)}},u)});Q(et,["typed","config"],e=>{var{typed:r,config:t}=e;return r(et,{"number, number":function(n,i){return wr(n,i,t.relTol,t.absTol)}})});var Mo="SparseMatrix",bo=["typed","equalScalar","Matrix"],xo=Q(Mo,bo,e=>{var{typed:r,equalScalar:t,Matrix:u}=e;function n(l,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!nr(m))throw new Error("Invalid datatype: "+m);if(xe(l))i(this,l,m);else if(l&&Ae(l.index)&&Ae(l.ptr)&&Ae(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=m||l.datatype;else if(Ae(l))a(this,l,m);else{if(l)throw new TypeError("Unsupported type of data ("+lr(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function i(l,m,g){m.type==="SparseMatrix"?(l._values=m._values?Ee(m._values):void 0,l._index=Ee(m._index),l._ptr=Ee(m._ptr),l._size=Ee(m._size),l._datatype=g||m._datatype):a(l,m.valueOf(),g||m._datatype)}function a(l,m,g){l._values=[],l._index=[],l._ptr=[],l._datatype=g;var y=m.length,w=0,A=t,F=0;if(nr(g)&&(A=r.find(t,[g,g])||t,F=r.convert(0,g)),y>0){var p=0;do{l._ptr.push(l._index.length);for(var _=0;_<y;_++){var S=m[_];if(Ae(S)){if(p===0&&w<S.length&&(w=S.length),p<S.length){var E=S[p];A(E,F)||(l._values.push(E),l._index.push(_))}}else p===0&&w<1&&(w=1),A(S,F)||(l._values.push(S),l._index.push(_))}p++}while(p<w)}l._ptr.push(l._index.length),l._size=[y,w]}n.prototype=new u,n.prototype.createSparseMatrix=function(l,m){return new n(l,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return It(this._values,lr)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(l,m){return new n(l,m)},n.prototype.density=function(){var l=this._size[0],m=this._size[1];return l!==0&&m!==0?this._index.length/(l*m):0},n.prototype.subset=function(l,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,l);case 2:case 3:return c(this,l,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function s(l,m){if(!Nt(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return l.get(m.min());var y=m.size();if(y.length!==l._size.length)throw new le(y.length,l._size.length);var w,A,F,p,_=m.min(),S=m.max();for(w=0,A=l._size.length;w<A;w++)ye(_[w],l._size[w]),ye(S[w],l._size[w]);var E=l._values,B=l._index,M=l._ptr,z=m.dimension(0),q=m.dimension(1),O=[],P=[];z.forEach(function(T,J){P[T]=J[0],O[T]=!0});var x=E?[]:void 0,G=[],H=[];return q.forEach(function(T){for(H.push(G.length),F=M[T],p=M[T+1];F<p;F++)w=B[F],O[w]===!0&&(G.push(P[w]),x&&x.push(E[F]))}),H.push(G.length),new n({values:x,index:G,ptr:H,size:y,datatype:l._datatype})}function c(l,m,g,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),A=m.isScalar(),F;if(xe(g)?(F=g.size(),g=g.toArray()):F=qe(g),A){if(F.length!==0)throw new TypeError("Scalar expected");l.set(m.min(),g,y)}else{if(w.length!==1&&w.length!==2)throw new le(w.length,l._size.length,"<");if(F.length<w.length){for(var p=0,_=0;w[p]===1&&F[p]===1;)p++;for(;w[p]===1;)_++,p++;g=eu(g,w.length,_,F)}if(!hr(w,F))throw new le(w,F,">");if(w.length===1){var S=m.dimension(0);S.forEach(function(M,z){ye(M),l.set([M,0],g[z[0]],y)})}else{var E=m.dimension(0),B=m.dimension(1);E.forEach(function(M,z){ye(M),B.forEach(function(q,O){ye(q),l.set([M,q],g[z[0]][O[0]],y)})})}}return l}n.prototype.get=function(l){if(!Ae(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new le(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=l[0],g=l[1];ye(m,this._size[0]),ye(g,this._size[1]);var y=h(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},n.prototype.set=function(l,m,g){if(!Ae(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new le(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=l[0],w=l[1],A=this._size[0],F=this._size[1],p=t,_=0;nr(this._datatype)&&(p=r.find(t,[this._datatype,this._datatype])||t,_=r.convert(0,this._datatype)),(y>A-1||w>F-1)&&(v(this,Math.max(y+1,A),Math.max(w+1,F),g),A=this._size[0],F=this._size[1]),ye(y,A),ye(w,F);var S=h(y,this._ptr[w],this._ptr[w+1],this._index);return S<this._ptr[w+1]&&this._index[S]===y?p(m,_)?o(S,w,this._values,this._index,this._ptr):this._values[S]=m:p(m,_)||f(S,y,w,m,this._values,this._index,this._ptr),this};function h(l,m,g,y){if(g-m===0)return g;for(var w=m;w<g;w++)if(y[w]===l)return w;return m}function o(l,m,g,y,w){g.splice(l,1),y.splice(l,1);for(var A=m+1;A<w.length;A++)w[A]--}function f(l,m,g,y,w,A,F){w.splice(l,0,y),A.splice(l,0,m);for(var p=g+1;p<F.length;p++)F[p]++}n.prototype.resize=function(l,m,g){if(!Xr(l))throw new TypeError("Array or Matrix expected");var y=l.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(A){if(!we(A)||!Be(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+be(y)+")")});var w=g?this.clone():this;return v(w,y[0],y[1],m)};function v(l,m,g,y){var w=y||0,A=t,F=0;nr(l._datatype)&&(A=r.find(t,[l._datatype,l._datatype])||t,F=r.convert(0,l._datatype),w=r.convert(w,l._datatype));var p=!A(w,F),_=l._size[0],S=l._size[1],E,B,M;if(g>S){for(B=S;B<g;B++)if(l._ptr[B]=l._values.length,p)for(E=0;E<_;E++)l._values.push(w),l._index.push(E);l._ptr[g]=l._values.length}else g<S&&(l._ptr.splice(g+1,S-g),l._values.splice(l._ptr[g],l._values.length),l._index.splice(l._ptr[g],l._index.length));if(S=g,m>_){if(p){var z=0;for(B=0;B<S;B++){l._ptr[B]=l._ptr[B]+z,M=l._ptr[B+1]+z;var q=0;for(E=_;E<m;E++,q++)l._values.splice(M+q,0,w),l._index.splice(M+q,0,E),z++}l._ptr[S]=l._values.length}}else if(m<_){var O=0;for(B=0;B<S;B++){l._ptr[B]=l._ptr[B]-O;var P=l._ptr[B],x=l._ptr[B+1]-O;for(M=P;M<x;M++)E=l._index[M],E>m-1&&(l._values.splice(M,1),l._index.splice(M,1),O++)}l._ptr[B]=l._values.length}return l._size[0]=m,l._size[1]=g,l}n.prototype.reshape=function(l,m){if(!Ae(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(T){if(!we(T)||!Be(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+be(l)+")")});var g=this._size[0]*this._size[1];l=Ot(l,g);var y=l[0]*l[1];if(g!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return w;for(var A=[],F=0;F<w._ptr.length;F++)for(var p=0;p<w._ptr[F+1]-w._ptr[F];p++)A.push(F);for(var _=w._values.slice(),S=w._index.slice(),E=0;E<w._index.length;E++){var B=S[E],M=A[E],z=B*w._size[1]+M;A[E]=z%l[1],S[E]=Math.floor(z/l[1])}w._values.length=0,w._index.length=0,w._ptr.length=l[1]+1,w._size=l.slice();for(var q=0;q<w._ptr.length;q++)w._ptr[q]=0;for(var O=0;O<_.length;O++){var P=S[O],x=A[O],G=_[O],H=h(P,w._ptr[x],w._ptr[x+1],w._index);f(H,P,x,G,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var l=new n({values:this._values?Ee(this._values):void 0,index:Ee(this._index),ptr:Ee(this._ptr),size:Ee(this._size),datatype:this._datatype});return l},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(l,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],w=this._size[1],A=jr(l,g,"map"),F=function(_,S,E){return A(_,[S,E],g)};return D(this,0,y-1,0,w-1,F,m)};function D(l,m,g,y,w,A,F){var p=[],_=[],S=[],E=t,B=0;nr(l._datatype)&&(E=r.find(t,[l._datatype,l._datatype])||t,B=r.convert(0,l._datatype));for(var M=function(re,W,he){var oe=A(re,W,he);E(oe,B)||(p.push(oe),_.push(W))},z=y;z<=w;z++){S.push(p.length);var q=l._ptr[z],O=l._ptr[z+1];if(F)for(var P=q;P<O;P++){var x=l._index[P];x>=m&&x<=g&&M(l._values[P],x-m,z-y)}else{for(var G={},H=q;H<O;H++){var T=l._index[H];G[T]=l._values[H]}for(var J=m;J<=g;J++){var K=J in G?G[J]:0;M(K,J-m,z-y)}}}return S.push(p.length),new n({values:p,index:_,ptr:S,size:[g-m+1,w-y+1]})}n.prototype.forEach=function(l,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],w=this._size[1],A=jr(l,g,"forEach"),F=0;F<w;F++){var p=this._ptr[F],_=this._ptr[F+1];if(m)for(var S=p;S<_;S++){var E=this._index[S];A(this._values[S],[E,F],g)}else{for(var B={},M=p;M<_;M++){var z=this._index[M];B[z]=this._values[M]}for(var q=0;q<y;q++){var O=q in B?B[q]:0;A(O,[q,F],g)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],m=0;m<l;m++)for(var g=this._ptr[m],y=this._ptr[m+1],w=g;w<y;w++){var A=this._index[w];yield{value:this._values[w],index:[A,m]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(l,m,g,y,w){var A=y[0],F=y[1],p=[],_,S;for(_=0;_<A;_++)for(p[_]=[],S=0;S<F;S++)p[_][S]=0;for(S=0;S<F;S++)for(var E=g[S],B=g[S+1],M=E;M<B;M++)_=m[M],p[_][S]=l?w?Ee(l[M]):l[M]:1;return p}return n.prototype.format=function(l){for(var m=this._size[0],g=this._size[1],y=this.density(),w="Sparse Matrix ["+be(m,l)+" x "+be(g,l)+"] density: "+be(y,l)+`
`,A=0;A<g;A++)for(var F=this._ptr[A],p=this._ptr[A+1],_=F;_<p;_++){var S=this._index[_];w+=`
    (`+be(S,l)+", "+be(A,l)+") ==> "+(this._values?be(this._values[_],l):"X")}return w},n.prototype.toString=function(){return be(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(l){if(l){if(Ne(l)&&(l=l.toNumber()),!we(l)||!Be(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var m=l>0?l:0,g=l<0?-l:0,y=this._size[0],w=this._size[1],A=Math.min(y-g,w-m),F=[],p=[],_=[];_[0]=0;for(var S=m;S<w&&F.length<A;S++)for(var E=this._ptr[S],B=this._ptr[S+1],M=E;M<B;M++){var z=this._index[M];if(z===S-m+g){F.push(this._values[M]),p[F.length-1]=z-g;break}}return _.push(F.length),new n({values:F,index:p,ptr:_,size:[A,1]})},n.fromJSON=function(l){return new n(l)},n.diagonal=function(l,m,g,y,w){if(!Ae(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(T){if(Ne(T)&&(T=T.toNumber()),!we(T)||!Be(T)||T<1)throw new Error("Size values must be positive integers");return T}),g){if(Ne(g)&&(g=g.toNumber()),!we(g)||!Be(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var A=t,F=0;nr(w)&&(A=r.find(t,[w,w])||t,F=r.convert(0,w));var p=g>0?g:0,_=g<0?-g:0,S=l[0],E=l[1],B=Math.min(S-_,E-p),M;if(Ae(m)){if(m.length!==B)throw new Error("Invalid value array length");M=function(J){return m[J]}}else if(xe(m)){var z=m.size();if(z.length!==1||z[0]!==B)throw new Error("Invalid matrix length");M=function(J){return m.get([J])}}else M=function(){return m};for(var q=[],O=[],P=[],x=0;x<E;x++){P.push(q.length);var G=x-p;if(G>=0&&G<B){var H=M(G);A(H,F)||(O.push(G+_),q.push(H))}}return P.push(q.length),new n({values:q,index:O,ptr:P,size:[S,E]})},n.prototype.swapRows=function(l,m){if(!we(l)||!Be(l)||!we(m)||!Be(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ye(l,this._size[0]),ye(m,this._size[0]),n._swapRows(l,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(l,m,g,y,w){for(var A=y[l],F=y[l+1],p=A;p<F;p++)w(g[p],m[p])},n._swapRows=function(l,m,g,y,w,A){for(var F=0;F<g;F++){var p=A[F],_=A[F+1],S=h(l,p,_,w),E=h(m,p,_,w);if(S<_&&E<_&&w[S]===l&&w[E]===m){if(y){var B=y[S];y[S]=y[E],y[E]=B}continue}if(S<_&&w[S]===l&&(E>=_||w[E]!==m)){var M=y?y[S]:void 0;w.splice(E,0,m),y&&y.splice(E,0,M),w.splice(E<=S?S+1:S,1),y&&y.splice(E<=S?S+1:S,1);continue}if(E<_&&w[E]===m&&(S>=_||w[S]!==l)){var z=y?y[E]:void 0;w.splice(S,0,l),y&&y.splice(S,0,z),w.splice(S<=E?E+1:E,1),y&&y.splice(S<=E?E+1:E,1)}}},n},{isClass:!0}),No="number",To=["typed"];function zo(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],u=r[2],n=r[3];return{input:e,radix:t,integerPart:u,fractionalPart:n}}else return null}function Oo(e){for(var r=parseInt(e.integerPart,e.radix),t=0,u=0;u<e.fractionalPart.length;u++){var n=parseInt(e.fractionalPart[u],e.radix);t+=n/Math.pow(e.radix,u+1)}var i=r+t;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var Io=Q(No,To,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var i=zo(n);if(i)return Oo(i);var a=0,s=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),n=s[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is not a valid number');if(s){if(c>2**a-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(a-1)&&(c=c-2**a)}return c},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:r.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),null:function(n){return 0},"Unit, string | Unit":function(n,i){return n.toNumber(i)},"Array | Matrix":r.referToSelf(u=>n=>pr(n,u))});return t.fromJSON=function(u){return parseFloat(u.value)},t}),Po="bignumber",$o=["typed","BigNumber"],qo=Q(Po,$o,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var i=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var a=i[2],s=t(i[1]),c=new t(2).pow(Number(a));if(s.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var h=new t(2).pow(Number(a)-1);return s.gte(h)?s.sub(c):s}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:r.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),Fraction:function(n){return new t(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new t(0)},"Array | Matrix":r.referToSelf(u=>n=>pr(n,u))})}),Ro="fraction",Lo=["typed","Fraction"],Uo=Q(Ro,Lo,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,i){return new t(n,i)},"bigint, bigint":function(n,i){return new t(n,i)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:r.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),Object:function(n){return new t(n)},"Array | Matrix":r.referToSelf(u=>n=>pr(n,u))})}),sn="matrix",Zo=["typed","Matrix","DenseMatrix","SparseMatrix"],Vo=Q(sn,Zo,e=>{var{typed:r,Matrix:t,DenseMatrix:u,SparseMatrix:n}=e;return r(sn,{"":function(){return i([])},string:function(s){return i([],s)},"string, string":function(s,c){return i([],s,c)},Array:function(s){return i(s)},Matrix:function(s){return i(s,s.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(a,s,c){if(s==="dense"||s==="default"||s===void 0)return new u(a,c);if(s==="sparse")return new n(a,c);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),fn="unaryMinus",Ho=["typed"],Jo=Q(fn,Ho,e=>{var{typed:r}=e;return r(fn,{number:hu,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:r.referToSelf(t=>u=>{var n=u.clone();return n.value=r.find(t,n.valueType())(u.value),n}),"Array | Matrix":r.referToSelf(t=>u=>pr(u,t))})}),cn="abs",Go=["typed"],Yo=Q(cn,Go,e=>{var{typed:r}=e;return r(cn,{number:su,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":r.referToSelf(t=>u=>pr(u,t))})}),ln="addScalar",Xo=["typed"],Ko=Q(ln,Xo,e=>{var{typed:r}=e;return r(ln,{"number, number":fu,"Complex, Complex":function(u,n){return u.add(n)},"BigNumber, BigNumber":function(u,n){return u.plus(n)},"bigint, bigint":function(u,n){return u+n},"Fraction, Fraction":function(u,n){return u.add(n)},"Unit, Unit":r.referToSelf(t=>(u,n)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(n))throw new Error("Units do not match");var i=u.clone();return i.value=r.find(t,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),hn="subtractScalar",Qo=["typed"],Wo=Q(hn,Qo,e=>{var{typed:r}=e;return r(hn,{"number, number":cu,"Complex, Complex":function(u,n){return u.sub(n)},"BigNumber, BigNumber":function(u,n){return u.minus(n)},"bigint, bigint":function(u,n){return u-n},"Fraction, Fraction":function(u,n){return u.sub(n)},"Unit, Unit":r.referToSelf(t=>(u,n)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(n))throw new Error("Units do not match");var i=u.clone();return i.value=r.find(t,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),ko="matAlgo11xS0s",jo=["typed","equalScalar"],es=Q(ko,jo,e=>{var{typed:r,equalScalar:t}=e;return function(n,i,a,s){var c=n._values,h=n._index,o=n._ptr,f=n._size,v=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=f[0],d=f[1],l,m=t,g=0,y=a;typeof v=="string"&&(l=v,m=r.find(t,[l,l]),g=r.convert(0,l),i=r.convert(i,l),y=r.find(a,[l,l]));for(var w=[],A=[],F=[],p=0;p<d;p++){F[p]=A.length;for(var _=o[p],S=o[p+1],E=_;E<S;E++){var B=h[E],M=s?y(i,c[E]):y(c[E],i);m(M,g)||(A.push(B),w.push(M))}}return F[d]=A.length,n.createSparseMatrix({values:w,index:A,ptr:F,size:[D,d],datatype:l})}}),rs="matAlgo12xSfs",ts=["typed","DenseMatrix"],lt=Q(rs,ts,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,i,a,s){var c=n._values,h=n._index,o=n._ptr,f=n._size,v=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=f[0],d=f[1],l,m=a;typeof v=="string"&&(l=v,i=r.convert(i,l),m=r.find(a,[l,l]));for(var g=[],y=[],w=[],A=0;A<d;A++){for(var F=A+1,p=o[A],_=o[A+1],S=p;S<_;S++){var E=h[S];y[E]=c[S],w[E]=F}for(var B=0;B<D;B++)A===0&&(g[B]=[]),w[B]===F?g[B][A]=s?m(i,y[B]):m(y[B],i):g[B][A]=s?m(i,0):m(0,i)}return new t({data:g,size:[D,d],datatype:l})}}),ns="matAlgo14xDs",us=["typed"],vu=Q(ns,us,e=>{var{typed:r}=e;return function(n,i,a,s){var c=n._data,h=n._size,o=n._datatype,f,v=a;typeof o=="string"&&(f=o,i=r.convert(i,f),v=r.find(a,[f,f]));var D=h.length>0?t(v,0,h,h[0],c,i,s):[];return n.createDenseMatrix({data:D,size:Ee(h),datatype:f})};function t(u,n,i,a,s,c,h){var o=[];if(n===i.length-1)for(var f=0;f<a;f++)o[f]=h?u(c,s[f]):u(s[f],c);else for(var v=0;v<a;v++)o[v]=t(u,n+1,i,i[n+1],s[v],c,h);return o}}),is="matAlgo03xDSf",as=["typed"],ht=Q(is,as,e=>{var{typed:r}=e;return function(u,n,i,a){var s=u._data,c=u._size,h=u._datatype||u.getDataType(),o=n._values,f=n._index,v=n._ptr,D=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==D.length)throw new le(c.length,D.length);if(c[0]!==D[0]||c[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+D+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=c[0],m=c[1],g,y=0,w=i;typeof h=="string"&&h===d&&h!=="mixed"&&(g=h,y=r.convert(0,g),w=r.find(i,[g,g]));for(var A=[],F=0;F<l;F++)A[F]=[];for(var p=[],_=[],S=0;S<m;S++){for(var E=S+1,B=v[S],M=v[S+1],z=B;z<M;z++){var q=f[z];p[q]=a?w(o[z],s[q][S]):w(s[q][S],o[z]),_[q]=E}for(var O=0;O<l;O++)_[O]===E?A[O][S]=p[O]:A[O][S]=a?w(y,s[O][S]):w(s[O][S],y)}return u.createDenseMatrix({data:A,size:[l,m],datatype:h===u._datatype&&d===n._datatype?g:void 0})}}),os="matAlgo05xSfSf",ss=["typed","equalScalar"],fs=Q(os,ss,e=>{var{typed:r,equalScalar:t}=e;return function(n,i,a){var s=n._values,c=n._index,h=n._ptr,o=n._size,f=n._datatype||n._data===void 0?n._datatype:n.getDataType(),v=i._values,D=i._index,d=i._ptr,l=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(o.length!==l.length)throw new le(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var g=o[0],y=o[1],w,A=t,F=0,p=a;typeof f=="string"&&f===m&&f!=="mixed"&&(w=f,A=r.find(t,[w,w]),F=r.convert(0,w),p=r.find(a,[w,w]));var _=s&&v?[]:void 0,S=[],E=[],B=_?[]:void 0,M=_?[]:void 0,z=[],q=[],O,P,x,G;for(P=0;P<y;P++){E[P]=S.length;var H=P+1;for(x=h[P],G=h[P+1];x<G;x++)O=c[x],S.push(O),z[O]=H,B&&(B[O]=s[x]);for(x=d[P],G=d[P+1];x<G;x++)O=D[x],z[O]!==H&&S.push(O),q[O]=H,M&&(M[O]=v[x]);if(_)for(x=E[P];x<S.length;){O=S[x];var T=z[O],J=q[O];if(T===H||J===H){var K=T===H?B[O]:F,ue=J===H?M[O]:F,re=p(K,ue);A(re,F)?S.splice(x,1):(_.push(re),x++)}}}return E[y]=S.length,n.createSparseMatrix({values:_,index:S,ptr:E,size:[g,y],datatype:f===n._datatype&&m===i._datatype?w:void 0})}}),cs="matAlgo13xDD",ls=["typed"],hs=Q(cs,ls,e=>{var{typed:r}=e;return function(n,i,a){var s=n._data,c=n._size,h=n._datatype,o=i._data,f=i._size,v=i._datatype,D=[];if(c.length!==f.length)throw new le(c.length,f.length);for(var d=0;d<c.length;d++){if(c[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");D[d]=c[d]}var l,m=a;typeof h=="string"&&h===v&&(l=h,m=r.find(a,[l,l]));var g=D.length>0?t(m,0,D,D[0],s,o):[];return n.createDenseMatrix({data:g,size:D,datatype:l})};function t(u,n,i,a,s,c){var h=[];if(n===i.length-1)for(var o=0;o<a;o++)h[o]=u(s[o],c[o]);else for(var f=0;f<a;f++)h[f]=t(u,n+1,i,i[n+1],s[f],c[f]);return h}});function Me(e,r){if(hr(e.size(),r.size()))return[e,r];var t=uu(e.size(),r.size());return[e,r].map(u=>vs(u,t))}function vs(e,r){return hr(e.size(),r)?e:e.create(bt(e.valueOf(),r),e.datatype())}var Ds="matrixAlgorithmSuite",ps=["typed","matrix"],Ir=Q(Ds,ps,e=>{var{typed:r,matrix:t}=e,u=hs({typed:r}),n=vu({typed:r});return function(a){var s=a.elop,c=a.SD||a.DS,h;s?(h={"DenseMatrix, DenseMatrix":(D,d)=>u(...Me(D,d),s),"Array, Array":(D,d)=>u(...Me(t(D),t(d)),s).valueOf(),"Array, DenseMatrix":(D,d)=>u(...Me(t(D),d),s),"DenseMatrix, Array":(D,d)=>u(...Me(D,t(d)),s)},a.SS&&(h["SparseMatrix, SparseMatrix"]=(D,d)=>a.SS(...Me(D,d),s,!1)),a.DS&&(h["DenseMatrix, SparseMatrix"]=(D,d)=>a.DS(...Me(D,d),s,!1),h["Array, SparseMatrix"]=(D,d)=>a.DS(...Me(t(D),d),s,!1)),c&&(h["SparseMatrix, DenseMatrix"]=(D,d)=>c(...Me(d,D),s,!0),h["SparseMatrix, Array"]=(D,d)=>c(...Me(t(d),D),s,!0))):(h={"DenseMatrix, DenseMatrix":r.referToSelf(D=>(d,l)=>u(...Me(d,l),D)),"Array, Array":r.referToSelf(D=>(d,l)=>u(...Me(t(d),t(l)),D).valueOf()),"Array, DenseMatrix":r.referToSelf(D=>(d,l)=>u(...Me(t(d),l),D)),"DenseMatrix, Array":r.referToSelf(D=>(d,l)=>u(...Me(d,t(l)),D))},a.SS&&(h["SparseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,l)=>a.SS(...Me(d,l),D,!1))),a.DS&&(h["DenseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,l)=>a.DS(...Me(d,l),D,!1)),h["Array, SparseMatrix"]=r.referToSelf(D=>(d,l)=>a.DS(...Me(t(d),l),D,!1))),c&&(h["SparseMatrix, DenseMatrix"]=r.referToSelf(D=>(d,l)=>c(...Me(l,d),D,!0)),h["SparseMatrix, Array"]=r.referToSelf(D=>(d,l)=>c(...Me(t(l),d),D,!0))));var o=a.scalar||"any",f=a.Ds||a.Ss;f&&(s?(h["DenseMatrix,"+o]=(D,d)=>n(D,d,s,!1),h[o+", DenseMatrix"]=(D,d)=>n(d,D,s,!0),h["Array,"+o]=(D,d)=>n(t(D),d,s,!1).valueOf(),h[o+", Array"]=(D,d)=>n(t(d),D,s,!0).valueOf()):(h["DenseMatrix,"+o]=r.referToSelf(D=>(d,l)=>n(d,l,D,!1)),h[o+", DenseMatrix"]=r.referToSelf(D=>(d,l)=>n(l,d,D,!0)),h["Array,"+o]=r.referToSelf(D=>(d,l)=>n(t(d),l,D,!1).valueOf()),h[o+", Array"]=r.referToSelf(D=>(d,l)=>n(t(l),d,D,!0).valueOf())));var v=a.sS!==void 0?a.sS:a.Ss;return s?(a.Ss&&(h["SparseMatrix,"+o]=(D,d)=>a.Ss(D,d,s,!1)),v&&(h[o+", SparseMatrix"]=(D,d)=>v(d,D,s,!0))):(a.Ss&&(h["SparseMatrix,"+o]=r.referToSelf(D=>(d,l)=>a.Ss(d,l,D,!1))),v&&(h[o+", SparseMatrix"]=r.referToSelf(D=>(d,l)=>v(l,d,D,!0)))),s&&s.signatures&&Ui(h,s.signatures),h}}),ds="matAlgo01xDSid",ms=["typed"],Du=Q(ds,ms,e=>{var{typed:r}=e;return function(u,n,i,a){var s=u._data,c=u._size,h=u._datatype||u.getDataType(),o=n._values,f=n._index,v=n._ptr,D=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==D.length)throw new le(c.length,D.length);if(c[0]!==D[0]||c[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+D+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=c[0],m=c[1],g=typeof h=="string"&&h!=="mixed"&&h===d?h:void 0,y=g?r.find(i,[g,g]):i,w,A,F=[];for(w=0;w<l;w++)F[w]=[];var p=[],_=[];for(A=0;A<m;A++){for(var S=A+1,E=v[A],B=v[A+1],M=E;M<B;M++)w=f[M],p[w]=a?y(o[M],s[w][A]):y(s[w][A],o[M]),_[w]=S;for(w=0;w<l;w++)_[w]===S?F[w][A]=p[w]:F[w][A]=s[w][A]}return u.createDenseMatrix({data:F,size:[l,m],datatype:h===u._datatype&&d===n._datatype?g:void 0})}}),gs="matAlgo04xSidSid",ws=["typed","equalScalar"],Fs=Q(gs,ws,e=>{var{typed:r,equalScalar:t}=e;return function(n,i,a){var s=n._values,c=n._index,h=n._ptr,o=n._size,f=n._datatype||n._data===void 0?n._datatype:n.getDataType(),v=i._values,D=i._index,d=i._ptr,l=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(o.length!==l.length)throw new le(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var g=o[0],y=o[1],w,A=t,F=0,p=a;typeof f=="string"&&f===m&&f!=="mixed"&&(w=f,A=r.find(t,[w,w]),F=r.convert(0,w),p=r.find(a,[w,w]));var _=s&&v?[]:void 0,S=[],E=[],B=s&&v?[]:void 0,M=s&&v?[]:void 0,z=[],q=[],O,P,x,G,H;for(P=0;P<y;P++){E[P]=S.length;var T=P+1;for(G=h[P],H=h[P+1],x=G;x<H;x++)O=c[x],S.push(O),z[O]=T,B&&(B[O]=s[x]);for(G=d[P],H=d[P+1],x=G;x<H;x++)if(O=D[x],z[O]===T){if(B){var J=p(B[O],v[x]);A(J,F)?z[O]=null:B[O]=J}}else S.push(O),q[O]=T,M&&(M[O]=v[x]);if(B&&M)for(x=E[P];x<S.length;)O=S[x],z[O]===T?(_[x]=B[O],x++):q[O]===T?(_[x]=M[O],x++):S.splice(x,1)}return E[y]=S.length,n.createSparseMatrix({values:_,index:S,ptr:E,size:[g,y],datatype:f===n._datatype&&m===i._datatype?w:void 0})}}),ys="matAlgo10xSids",As=["typed","DenseMatrix"],pu=Q(ys,As,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,i,a,s){var c=n._values,h=n._index,o=n._ptr,f=n._size,v=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=f[0],d=f[1],l,m=a;typeof v=="string"&&(l=v,i=r.convert(i,l),m=r.find(a,[l,l]));for(var g=[],y=[],w=[],A=0;A<d;A++){for(var F=A+1,p=o[A],_=o[A+1],S=p;S<_;S++){var E=h[S];y[E]=c[S],w[E]=F}for(var B=0;B<D;B++)A===0&&(g[B]=[]),w[B]===F?g[B][A]=s?m(i,y[B]):m(y[B],i):g[B][A]=i}return new t({data:g,size:[D,d],datatype:l})}}),Es="multiplyScalar",Cs=["typed"],_s=Q(Es,Cs,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":lu,"Complex, Complex":function(u,n){return u.mul(n)},"BigNumber, BigNumber":function(u,n){return u.times(n)},"bigint, bigint":function(u,n){return u*n},"Fraction, Fraction":function(u,n){return u.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,u)=>u.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,u)=>t.multiply(u)})}),vn="multiply",Ss=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Bs=Q(vn,Ss,e=>{var{typed:r,matrix:t,addScalar:u,multiplyScalar:n,equalScalar:i,dot:a}=e,s=es({typed:r,equalScalar:i}),c=vu({typed:r});function h(F,p){switch(F.length){case 1:switch(p.length){case 1:if(F[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(F[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+p[0]+")");break;case 2:if(F[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function o(F,p,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return a(F,p)}function f(F,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(F,p)}function v(F,p){var _=F._data,S=F._size,E=F._datatype||F.getDataType(),B=p._data,M=p._size,z=p._datatype||p.getDataType(),q=S[0],O=M[1],P,x=u,G=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&(P=E,x=r.find(u,[P,P]),G=r.find(n,[P,P]));for(var H=[],T=0;T<O;T++){for(var J=G(_[0],B[0][T]),K=1;K<q;K++)J=x(J,G(_[K],B[K][T]));H[T]=J}return F.createDenseMatrix({data:H,size:[O],datatype:E===F._datatype&&z===p._datatype?P:void 0})}var D=r("_multiplyMatrixVector",{"DenseMatrix, any":l,"SparseMatrix, any":y}),d=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":A});function l(F,p){var _=F._data,S=F._size,E=F._datatype||F.getDataType(),B=p._data,M=p._datatype||p.getDataType(),z=S[0],q=S[1],O,P=u,x=n;E&&M&&E===M&&typeof E=="string"&&E!=="mixed"&&(O=E,P=r.find(u,[O,O]),x=r.find(n,[O,O]));for(var G=[],H=0;H<z;H++){for(var T=_[H],J=x(T[0],B[0]),K=1;K<q;K++)J=P(J,x(T[K],B[K]));G[H]=J}return F.createDenseMatrix({data:G,size:[z],datatype:E===F._datatype&&M===p._datatype?O:void 0})}function m(F,p){var _=F._data,S=F._size,E=F._datatype||F.getDataType(),B=p._data,M=p._size,z=p._datatype||p.getDataType(),q=S[0],O=S[1],P=M[1],x,G=u,H=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(x=E,G=r.find(u,[x,x]),H=r.find(n,[x,x]));for(var T=[],J=0;J<q;J++){var K=_[J];T[J]=[];for(var ue=0;ue<P;ue++){for(var re=H(K[0],B[0][ue]),W=1;W<O;W++)re=G(re,H(K[W],B[W][ue]));T[J][ue]=re}}return F.createDenseMatrix({data:T,size:[q,P],datatype:E===F._datatype&&z===p._datatype?x:void 0})}function g(F,p){var _=F._data,S=F._size,E=F._datatype||F.getDataType(),B=p._values,M=p._index,z=p._ptr,q=p._size,O=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=S[0],x=q[1],G,H=u,T=n,J=i,K=0;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&(G=E,H=r.find(u,[G,G]),T=r.find(n,[G,G]),J=r.find(i,[G,G]),K=r.convert(0,G));for(var ue=[],re=[],W=[],he=p.createSparseMatrix({values:ue,index:re,ptr:W,size:[P,x],datatype:E===F._datatype&&O===p._datatype?G:void 0}),oe=0;oe<x;oe++){W[oe]=re.length;var ne=z[oe],se=z[oe+1];if(se>ne)for(var ie=0,j=0;j<P;j++){for(var Fe=j+1,de=void 0,ae=ne;ae<se;ae++){var ce=M[ae];ie!==Fe?(de=T(_[j][ce],B[ae]),ie=Fe):de=H(de,T(_[j][ce],B[ae]))}ie===Fe&&!J(de,K)&&(re.push(j),ue.push(de))}}return W[x]=re.length,he}function y(F,p){var _=F._values,S=F._index,E=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=p._data,z=p._datatype||p.getDataType(),q=F._size[0],O=p._size[0],P=[],x=[],G=[],H,T=u,J=n,K=i,ue=0;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&(H=B,T=r.find(u,[H,H]),J=r.find(n,[H,H]),K=r.find(i,[H,H]),ue=r.convert(0,H));var re=[],W=[];G[0]=0;for(var he=0;he<O;he++){var oe=M[he];if(!K(oe,ue))for(var ne=E[he],se=E[he+1],ie=ne;ie<se;ie++){var j=S[ie];W[j]?re[j]=T(re[j],J(oe,_[ie])):(W[j]=!0,x.push(j),re[j]=J(oe,_[ie]))}}for(var Fe=x.length,de=0;de<Fe;de++){var ae=x[de];P[de]=re[ae]}return G[1]=x.length,F.createSparseMatrix({values:P,index:x,ptr:G,size:[q,1],datatype:B===F._datatype&&z===p._datatype?H:void 0})}function w(F,p){var _=F._values,S=F._index,E=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=p._data,z=p._datatype||p.getDataType(),q=F._size[0],O=p._size[0],P=p._size[1],x,G=u,H=n,T=i,J=0;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&(x=B,G=r.find(u,[x,x]),H=r.find(n,[x,x]),T=r.find(i,[x,x]),J=r.convert(0,x));for(var K=[],ue=[],re=[],W=F.createSparseMatrix({values:K,index:ue,ptr:re,size:[q,P],datatype:B===F._datatype&&z===p._datatype?x:void 0}),he=[],oe=[],ne=0;ne<P;ne++){re[ne]=ue.length;for(var se=ne+1,ie=0;ie<O;ie++){var j=M[ie][ne];if(!T(j,J))for(var Fe=E[ie],de=E[ie+1],ae=Fe;ae<de;ae++){var ce=S[ae];oe[ce]!==se?(oe[ce]=se,ue.push(ce),he[ce]=H(j,_[ae])):he[ce]=G(he[ce],H(j,_[ae]))}}for(var _e=re[ne],Re=ue.length,ze=_e;ze<Re;ze++){var fe=ue[ze];K[ze]=he[fe]}}return re[P]=ue.length,W}function A(F,p){var _=F._values,S=F._index,E=F._ptr,B=F._datatype||F._data===void 0?F._datatype:F.getDataType(),M=p._values,z=p._index,q=p._ptr,O=p._datatype||p._data===void 0?p._datatype:p.getDataType(),P=F._size[0],x=p._size[1],G=_&&M,H,T=u,J=n;B&&O&&B===O&&typeof B=="string"&&B!=="mixed"&&(H=B,T=r.find(u,[H,H]),J=r.find(n,[H,H]));for(var K=G?[]:void 0,ue=[],re=[],W=F.createSparseMatrix({values:K,index:ue,ptr:re,size:[P,x],datatype:B===F._datatype&&O===p._datatype?H:void 0}),he=G?[]:void 0,oe=[],ne,se,ie,j,Fe,de,ae,ce,_e=0;_e<x;_e++){re[_e]=ue.length;var Re=_e+1;for(Fe=q[_e],de=q[_e+1],j=Fe;j<de;j++)if(ce=z[j],G)for(se=E[ce],ie=E[ce+1],ne=se;ne<ie;ne++)ae=S[ne],oe[ae]!==Re?(oe[ae]=Re,ue.push(ae),he[ae]=J(M[j],_[ne])):he[ae]=T(he[ae],J(M[j],_[ne]));else for(se=E[ce],ie=E[ce+1],ne=se;ne<ie;ne++)ae=S[ne],oe[ae]!==Re&&(oe[ae]=Re,ue.push(ae));if(G)for(var ze=re[_e],fe=ue.length,Oe=ze;Oe<fe;Oe++){var Ye=ue[Oe];K[Oe]=he[Ye]}}return re[x]=ue.length,W}return r(vn,n,{"Array, Array":r.referTo("Matrix, Matrix",F=>(p,_)=>{h(qe(p),qe(_));var S=F(t(p),t(_));return xe(S)?S.valueOf():S}),"Matrix, Matrix":function(p,_){var S=p.size(),E=_.size();return h(S,E),S.length===1?E.length===1?o(p,_,S[0]):f(p,_):E.length===1?D(p,_):d(p,_)},"Matrix, Array":r.referTo("Matrix,Matrix",F=>(p,_)=>F(p,t(_))),"Array, Matrix":r.referToSelf(F=>(p,_)=>F(t(p,_.storage()),_)),"SparseMatrix, any":function(p,_){return s(p,_,n,!1)},"DenseMatrix, any":function(p,_){return c(p,_,n,!1)},"any, SparseMatrix":function(p,_){return s(_,p,n,!0)},"any, DenseMatrix":function(p,_){return c(_,p,n,!0)},"Array, any":function(p,_){return c(t(p),_,n,!1).valueOf()},"any, Array":function(p,_){return c(t(_),p,n,!0).valueOf()},"any, any":n,"any, any, ...any":r.referToSelf(F=>(p,_,S)=>{for(var E=F(p,_),B=0;B<S.length;B++)E=F(E,S[B]);return E})})}),Dn="subtract",Ms=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],bs=Q(Dn,Ms,e=>{var{typed:r,matrix:t,equalScalar:u,subtractScalar:n,unaryMinus:i,DenseMatrix:a,concat:s}=e,c=Du({typed:r}),h=ht({typed:r}),o=fs({typed:r,equalScalar:u}),f=pu({typed:r,DenseMatrix:a}),v=lt({typed:r,DenseMatrix:a}),D=Ir({typed:r,matrix:t,concat:s});return r(Dn,{"any, any":n},D({elop:n,SS:o,DS:c,SD:h,Ss:v,sS:f}))}),xs="matAlgo07xSSf",Ns=["typed","SparseMatrix"],$t=Q(xs,Ns,e=>{var{typed:r,SparseMatrix:t}=e;return function(i,a,s){var c=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType(),o=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==o.length)throw new le(c.length,o.length);if(c[0]!==o[0]||c[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+o+")");var v=c[0],D=c[1],d,l=0,m=s;typeof h=="string"&&h===f&&h!=="mixed"&&(d=h,l=r.convert(0,d),m=r.find(s,[d,d]));for(var g=[],y=[],w=new Array(D+1).fill(0),A=[],F=[],p=[],_=[],S=0;S<D;S++){var E=S+1,B=0;u(i,S,p,A,E),u(a,S,_,F,E);for(var M=0;M<v;M++){var z=p[M]===E?A[M]:l,q=_[M]===E?F[M]:l,O=m(z,q);O!==0&&O!==!1&&(y.push(M),g.push(O),B++)}w[S+1]=w[S]+B}return new t({values:g,index:y,ptr:w,size:[v,D],datatype:h===i._datatype&&f===a._datatype?d:void 0})};function u(n,i,a,s,c){for(var h=n._values,o=n._index,f=n._ptr,v=f[i],D=f[i+1];v<D;v++){var d=o[v];a[d]=c,s[d]=h[v]}}}),pn="conj",Ts=["typed"],zs=Q(pn,Ts,e=>{var{typed:r}=e;return r(pn,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":r.referToSelf(t=>u=>pr(u,t))})}),dn="concat",Os=["typed","matrix","isInteger"],Is=Q(dn,Os,e=>{var{typed:r,matrix:t,isInteger:u}=e;return r(dn,{"...Array | Matrix | number | BigNumber":function(i){var a,s=i.length,c=-1,h,o=!1,f=[];for(a=0;a<s;a++){var v=i[a];if(xe(v)&&(o=!0),we(v)||Ne(v)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(h=c,c=v.valueOf(),!u(c))throw new TypeError("Integer number expected for dimension");if(c<0||a>0&&c>h)throw new yr(c,h+1)}else{var D=Ee(v).valueOf(),d=qe(D);if(f[a]=D,h=c,c=d.length-1,a>0&&c!==h)throw new le(h+1,c+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var l=f.shift();f.length;)l=nu(l,f.shift(),c);return o?t(l):l},"...string":function(i){return i.join("")}})});function Ps(){throw new Error('No "bignumber" implementation available')}function $s(){throw new Error('No "fraction" implementation available')}function qs(){throw new Error('No "matrix" implementation available')}var mn="size",Rs=["typed","config","?matrix"],Ls=Q(mn,Rs,e=>{var{typed:r,config:t,matrix:u}=e;return r(mn,{Matrix:function(i){return i.create(i.size(),"number")},Array:qe,string:function(i){return t.matrix==="Array"?[i.length]:u([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return t.matrix==="Array"?[]:u?u([],"dense","number"):qs()}})}),gn="transpose",Us=["typed","matrix"],Zs=Q(gn,Us,e=>{var{typed:r,matrix:t}=e;return r(gn,{Array:a=>u(t(a)).valueOf(),Matrix:u,any:Ee});function u(a){var s=a.size(),c;switch(s.length){case 1:c=a.clone();break;case 2:{var h=s[0],o=s[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+be(s)+")");switch(a.storage()){case"dense":c=n(a,h,o);break;case"sparse":c=i(a,h,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+be(s)+")")}return c}function n(a,s,c){for(var h=a._data,o=[],f,v=0;v<c;v++){f=o[v]=[];for(var D=0;D<s;D++)f[D]=Ee(h[D][v])}return a.createDenseMatrix({data:o,size:[c,s],datatype:a._datatype})}function i(a,s,c){for(var h=a._values,o=a._index,f=a._ptr,v=h?[]:void 0,D=[],d=[],l=[],m=0;m<s;m++)l[m]=0;var g,y,w;for(g=0,y=o.length;g<y;g++)l[o[g]]++;for(var A=0,F=0;F<s;F++)d.push(A),A+=l[F],l[F]=d[F];for(d.push(A),w=0;w<c;w++)for(var p=f[w],_=f[w+1],S=p;S<_;S++){var E=l[o[S]]++;D[E]=w,h&&(v[E]=Ee(h[S]))}return a.createSparseMatrix({values:v,index:D,ptr:d,size:[c,s],datatype:a._datatype})}}),Vs="numeric",Hs=["number","?bignumber","?fraction"],Js=Q(Vs,Hs,e=>{var{number:r,bignumber:t,fraction:u}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:a=>r(a),BigNumber:t?a=>t(a):Ps,bigint:a=>BigInt(a),Fraction:u?a=>u(a):$s};return function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=lr(s);if(!(o in n))throw new TypeError("Cannot convert "+s+' of type "'+o+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in i))throw new TypeError("Cannot convert "+s+' to type "'+c+'"; valid output types are '+Object.keys(i).join(", "));return c===o?s:i[c](s)}}),wn="divideScalar",Gs=["typed","numeric"],Ys=Q(wn,Gs,e=>{var{typed:r,numeric:t}=e;return r(wn,{"number, number":function(n,i){return n/i},"Complex, Complex":function(n,i){return n.div(i)},"BigNumber, BigNumber":function(n,i){return n.div(i)},"bigint, bigint":function(n,i){return n/i},"Fraction, Fraction":function(n,i){return n.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(u,n)=>u.divide(n),"number | Fraction | Complex | BigNumber, Unit":(u,n)=>n.divideInto(u)})});function qt(e){var{DenseMatrix:r}=e;return function(u,n,i){var a=u.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+be(a)+")");var s=a[0],c=a[1];if(s!==c)throw new RangeError("Matrix must be square (size: "+be(a)+")");var h=[];if(xe(n)){var o=n.size(),f=n._data;if(o.length===1){if(o[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<s;v++)h[v]=[f[v]];return new r({data:h,size:[s,1],datatype:n._datatype})}if(o.length===2){if(o[0]!==s||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(zn(n)){if(i){h=[];for(var D=0;D<s;D++)h[D]=[f[D][0]];return new r({data:h,size:[s,1],datatype:n._datatype})}return n}if(On(n)){for(var d=0;d<s;d++)h[d]=[0];for(var l=n._values,m=n._index,g=n._ptr,y=g[1],w=g[0];w<y;w++){var A=m[w];h[A][0]=l[w]}return new r({data:h,size:[s,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ae(n)){var F=qe(n);if(F.length===1){if(F[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<s;p++)h[p]=[n[p]];return new r({data:h,size:[s,1]})}if(F.length===2){if(F[0]!==s||F[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<s;_++)h[_]=[n[_][0]];return new r({data:h,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Fn="lsolve",Xs=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ks=Q(Fn,Xs,e=>{var{typed:r,matrix:t,divideScalar:u,multiplyScalar:n,subtractScalar:i,equalScalar:a,DenseMatrix:s}=e,c=qt({DenseMatrix:s});return r(Fn,{"SparseMatrix, Array | Matrix":function(v,D){return o(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return h(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),l=h(d,D);return l.valueOf()}});function h(f,v){v=c(f,v,!0);for(var D=v._data,d=f._size[0],l=f._size[1],m=[],g=f._data,y=0;y<l;y++){var w=D[y][0]||0,A=void 0;if(a(w,0))A=0;else{var F=g[y][y];if(a(F,0))throw new Error("Linear system cannot be solved since matrix is singular");A=u(w,F);for(var p=y+1;p<d;p++)D[p]=[i(D[p][0]||0,n(A,g[p][y]))]}m[y]=[A]}return new s({data:m,size:[d,1]})}function o(f,v){v=c(f,v,!0);for(var D=v._data,d=f._size[0],l=f._size[1],m=f._values,g=f._index,y=f._ptr,w=[],A=0;A<l;A++){var F=D[A][0]||0;if(a(F,0))w[A]=[0];else{for(var p=0,_=[],S=[],E=y[A],B=y[A+1],M=E;M<B;M++){var z=g[M];z===A?p=m[M]:z>A&&(_.push(m[M]),S.push(z))}if(a(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=u(F,p),O=0,P=S.length;O<P;O++){var x=S[O];D[x]=[i(D[x][0]||0,n(q,_[O]))]}w[A]=[q]}}return new s({data:w,size:[d,1]})}}),yn="usolve",Qs=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ws=Q(yn,Qs,e=>{var{typed:r,matrix:t,divideScalar:u,multiplyScalar:n,subtractScalar:i,equalScalar:a,DenseMatrix:s}=e,c=qt({DenseMatrix:s});return r(yn,{"SparseMatrix, Array | Matrix":function(v,D){return o(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return h(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),l=h(d,D);return l.valueOf()}});function h(f,v){v=c(f,v,!0);for(var D=v._data,d=f._size[0],l=f._size[1],m=[],g=f._data,y=l-1;y>=0;y--){var w=D[y][0]||0,A=void 0;if(a(w,0))A=0;else{var F=g[y][y];if(a(F,0))throw new Error("Linear system cannot be solved since matrix is singular");A=u(w,F);for(var p=y-1;p>=0;p--)D[p]=[i(D[p][0]||0,n(A,g[p][y]))]}m[y]=[A]}return new s({data:m,size:[d,1]})}function o(f,v){v=c(f,v,!0);for(var D=v._data,d=f._size[0],l=f._size[1],m=f._values,g=f._index,y=f._ptr,w=[],A=l-1;A>=0;A--){var F=D[A][0]||0;if(a(F,0))w[A]=[0];else{for(var p=0,_=[],S=[],E=y[A],B=y[A+1],M=B-1;M>=E;M--){var z=g[M];z===A?p=m[M]:z<A&&(_.push(m[M]),S.push(z))}if(a(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=u(F,p),O=0,P=S.length;O<P;O++){var x=S[O];D[x]=[i(D[x][0],n(q,_[O]))]}w[A]=[q]}}return new s({data:w,size:[d,1]})}}),rt="smaller",ks=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],js=Q(rt,ks,e=>{var{typed:r,config:t,matrix:u,DenseMatrix:n,concat:i,SparseMatrix:a}=e,s=ht({typed:r}),c=$t({typed:r,SparseMatrix:a}),h=lt({typed:r,DenseMatrix:n}),o=Ir({typed:r,matrix:u,concat:i}),f=ct({typed:r});return r(rt,ef({typed:r,config:t}),{"boolean, boolean":(v,D)=>v<D,"BigNumber, BigNumber":function(D,d){return D.lt(d)&&!ft(D,d,t.relTol,t.absTol)},"bigint, bigint":(v,D)=>v<D,"Fraction, Fraction":(v,D)=>v.compare(D)===-1,"Complex, Complex":function(D,d){throw new TypeError("No ordering relation is defined for complex numbers")}},f,o({SS:c,DS:s,Ss:h}))}),ef=Q(rt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(rt,{"number, number":function(n,i){return n<i&&!wr(n,i,t.relTol,t.absTol)}})}),tt="larger",rf=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],tf=Q(tt,rf,e=>{var{typed:r,config:t,matrix:u,DenseMatrix:n,concat:i,SparseMatrix:a}=e,s=ht({typed:r}),c=$t({typed:r,SparseMatrix:a}),h=lt({typed:r,DenseMatrix:n}),o=Ir({typed:r,matrix:u,concat:i}),f=ct({typed:r});return r(tt,nf({typed:r,config:t}),{"boolean, boolean":(v,D)=>v>D,"BigNumber, BigNumber":function(D,d){return D.gt(d)&&!ft(D,d,t.relTol,t.absTol)},"bigint, bigint":(v,D)=>v>D,"Fraction, Fraction":(v,D)=>v.compare(D)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,o({SS:c,DS:s,Ss:h}))}),nf=Q(tt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(tt,{"number, number":function(n,i){return n>i&&!wr(n,i,t.relTol,t.absTol)}})}),nt="largerEq",uf=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],af=Q(nt,uf,e=>{var{typed:r,config:t,matrix:u,DenseMatrix:n,concat:i,SparseMatrix:a}=e,s=ht({typed:r}),c=$t({typed:r,SparseMatrix:a}),h=lt({typed:r,DenseMatrix:n}),o=Ir({typed:r,matrix:u,concat:i}),f=ct({typed:r});return r(nt,of({typed:r,config:t}),{"boolean, boolean":(v,D)=>v>=D,"BigNumber, BigNumber":function(D,d){return D.gte(d)||ft(D,d,t.relTol,t.absTol)},"bigint, bigint":function(D,d){return D>=d},"Fraction, Fraction":(v,D)=>v.compare(D)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,o({SS:c,DS:s,Ss:h}))}),of=Q(nt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(nt,{"number, number":function(n,i){return n>=i||wr(n,i,t.relTol,t.absTol)}})}),sf="FibonacciHeap",ff=["smaller","larger"],cf=Q(sf,ff,e=>{var{smaller:r,larger:t}=e,u=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(o,f){var v={key:o,value:f,degree:0};if(this._minimum){var D=this._minimum;v.left=D,v.right=D.right,D.right=v,v.right.left=v,r(o,D.key)&&(this._minimum=v)}else v.left=v,v.right=v,this._minimum=v;return this._size++,v},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var f=this._minimum,v=o.degree,D=o.child;v>0;){var d=D.right;D.left.right=D.right,D.right.left=D.left,D.left=f,D.right=f.right,f.right=D,D.right.left=D,D.parent=null,D=d,v--}return o.left.right=o.right,o.right.left=o.left,o===o.right?f=null:(f=o.right,f=h(f,this._size)),this._size--,this._minimum=f,o},n.prototype.remove=function(o){this._minimum=i(this._minimum,o,-1),this.extractMinimum()};function i(o,f,v){f.key=v;var D=f.parent;return D&&r(f.key,D.key)&&(a(o,f,D),s(o,D)),r(f.key,o.key)&&(o=f),o}function a(o,f,v){f.left.right=f.right,f.right.left=f.left,v.degree--,v.child===f&&(v.child=f.right),v.degree===0&&(v.child=null),f.left=o,f.right=o.right,o.right=f,f.right.left=f,f.parent=null,f.mark=!1}function s(o,f){var v=f.parent;v&&(f.mark?(a(o,f,v),s(v)):f.mark=!0)}var c=function(f,v){f.left.right=f.right,f.right.left=f.left,f.parent=v,v.child?(f.left=v.child,f.right=v.child.right,v.child.right=f,f.right.left=f):(v.child=f,f.right=f,f.left=f),v.degree++,f.mark=!1};function h(o,f){var v=Math.floor(Math.log(f)*u)+1,D=new Array(v),d=0,l=o;if(l)for(d++,l=l.right;l!==o;)d++,l=l.right;for(var m;d>0;){for(var g=l.degree,y=l.right;m=D[g],!!m;){if(t(l.key,m.key)){var w=m;m=l,l=w}c(m,l),D[g]=null,g++}D[g]=l,l=y,d--}o=null;for(var A=0;A<v;A++)m=D[A],m&&(o?(m.left.right=m.right,m.right.left=m.left,m.left=o,m.right=o.right,o.right=m,m.right.left=m,r(m.key,o.key)&&(o=m)):o=m);return o}return n},{isClass:!0}),lf="Spa",hf=["addScalar","equalScalar","FibonacciHeap"],vf=Q(lf,hf,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:u}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new u}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(i,a){if(this._values[i])this._values[i].value=a;else{var s=this._heap.insert(i,a);this._values[i]=s}},n.prototype.get=function(i){var a=this._values[i];return a?a.value:0},n.prototype.accumulate=function(i,a){var s=this._values[i];s?s.value=r(s.value,a):(s=this._heap.insert(i,a),this._values[i]=s)},n.prototype.forEach=function(i,a,s){var c=this._heap,h=this._values,o=[],f=c.extractMinimum();for(f&&o.push(f);f&&f.key<=a;)f.key>=i&&(t(f.value,0)||s(f.key,f.value,this)),f=c.extractMinimum(),f&&o.push(f);for(var v=0;v<o.length;v++){var D=o[v];f=c.insert(D.key,D.value),h[f.key]=f}},n.prototype.swap=function(i,a){var s=this._values[i],c=this._values[a];if(!s&&c)s=this._heap.insert(i,c.value),this._heap.remove(c),this._values[i]=s,this._values[a]=void 0;else if(s&&!c)c=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=c,this._values[i]=void 0;else if(s&&c){var h=s.value;s.value=c.value,c.value=h}},n},{isClass:!0}),An="add",Df=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],pf=Q(An,Df,e=>{var{typed:r,matrix:t,addScalar:u,equalScalar:n,DenseMatrix:i,SparseMatrix:a,concat:s}=e,c=Du({typed:r}),h=Fs({typed:r,equalScalar:n}),o=pu({typed:r,DenseMatrix:i}),f=Ir({typed:r,matrix:t,concat:s});return r(An,{"any, any":u,"any, any, ...any":r.referToSelf(v=>(D,d,l)=>{for(var m=v(D,d),g=0;g<l.length;g++)m=v(m,l[g]);return m})},f({elop:u,DS:c,SS:h,Ss:o}))}),En="dot",df=["typed","addScalar","multiplyScalar","conj","size"],mf=Q(En,df,e=>{var{typed:r,addScalar:t,multiplyScalar:u,conj:n,size:i}=e;return r(En,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":c});function a(o,f){var v=h(o),D=h(f),d,l;if(v.length===1)d=v[0];else if(v.length===2&&v[1]===1)d=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(D.length===1)l=D[0];else if(D.length===2&&D[1]===1)l=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(d!==l)throw new RangeError("Vectors must have equal length ("+d+" != "+l+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function s(o,f){var v=a(o,f),D=xe(o)?o._data:o,d=xe(o)?o._datatype||o.getDataType():void 0,l=xe(f)?f._data:f,m=xe(f)?f._datatype||f.getDataType():void 0,g=h(o).length===2,y=h(f).length===2,w=t,A=u;if(d&&m&&d===m&&typeof d=="string"&&d!=="mixed"){var F=d;w=r.find(t,[F,F]),A=r.find(u,[F,F])}if(!g&&!y){for(var p=A(n(D[0]),l[0]),_=1;_<v;_++)p=w(p,A(n(D[_]),l[_]));return p}if(!g&&y){for(var S=A(n(D[0]),l[0][0]),E=1;E<v;E++)S=w(S,A(n(D[E]),l[E][0]));return S}if(g&&!y){for(var B=A(n(D[0][0]),l[0]),M=1;M<v;M++)B=w(B,A(n(D[M][0]),l[M]));return B}if(g&&y){for(var z=A(n(D[0][0]),l[0][0]),q=1;q<v;q++)z=w(z,A(n(D[q][0]),l[q][0]));return z}}function c(o,f){a(o,f);for(var v=o._index,D=o._values,d=f._index,l=f._values,m=0,g=t,y=u,w=0,A=0;w<v.length&&A<d.length;){var F=v[w],p=d[A];if(F<p){w++;continue}if(F>p){A++;continue}F===p&&(m=g(m,y(D[w],l[A])),w++,A++)}return m}function h(o){return xe(o)?o.size():i(o)}}),Cn="lup",gf=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],wf=Q(Cn,gf,e=>{var{typed:r,matrix:t,abs:u,addScalar:n,divideScalar:i,multiplyScalar:a,subtractScalar:s,larger:c,equalScalar:h,unaryMinus:o,DenseMatrix:f,SparseMatrix:v,Spa:D}=e;return r(Cn,{DenseMatrix:function(g){return d(g)},SparseMatrix:function(g){return l(g)},Array:function(g){var y=t(g),w=d(y);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function d(m){var g=m._size[0],y=m._size[1],w=Math.min(g,y),A=Ee(m._data),F=[],p=[g,w],_=[],S=[w,y],E,B,M,z=[];for(E=0;E<g;E++)z[E]=E;for(B=0;B<y;B++){if(B>0)for(E=0;E<g;E++){var q=Math.min(E,B),O=0;for(M=0;M<q;M++)O=n(O,a(A[E][M],A[M][B]));A[E][B]=s(A[E][B],O)}var P=B,x=0,G=0;for(E=B;E<g;E++){var H=A[E][B],T=u(H);c(T,x)&&(P=E,x=T,G=H)}if(B!==P&&(z[B]=[z[P],z[P]=z[B]][0],f._swapRows(B,P,A)),B<g)for(E=B+1;E<g;E++){var J=A[E][B];h(J,0)||(A[E][B]=i(A[E][B],G))}}for(B=0;B<y;B++)for(E=0;E<g;E++){if(B===0&&(E<y&&(_[E]=[]),F[E]=[]),E<B){E<y&&(_[E][B]=A[E][B]),B<g&&(F[E][B]=0);continue}if(E===B){E<y&&(_[E][B]=A[E][B]),B<g&&(F[E][B]=1);continue}E<y&&(_[E][B]=0),B<g&&(F[E][B]=A[E][B])}var K=new f({data:F,size:p}),ue=new f({data:_,size:S}),re=[];for(E=0,w=z.length;E<w;E++)re[z[E]]=E;return{L:K,U:ue,p:re,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function l(m){var g=m._size[0],y=m._size[1],w=Math.min(g,y),A=m._values,F=m._index,p=m._ptr,_=[],S=[],E=[],B=[g,w],M=[],z=[],q=[],O=[w,y],P,x,G,H=[],T=[];for(P=0;P<g;P++)H[P]=P,T[P]=P;var J=function(re,W){var he=T[re],oe=T[W];H[he]=W,H[oe]=re,T[re]=oe,T[W]=he},K=function(){var re=new D;x<g&&(E.push(_.length),_.push(1),S.push(x)),q.push(M.length);var W=p[x],he=p[x+1];for(G=W;G<he;G++)P=F[G],re.set(H[P],A[G]);x>0&&re.forEach(0,x-1,function(ie,j){v._forEachRow(ie,_,S,E,function(Fe,de){Fe>ie&&re.accumulate(Fe,o(a(de,j)))})});var oe=x,ne=re.get(x),se=u(ne);re.forEach(x+1,g-1,function(ie,j){var Fe=u(j);c(Fe,se)&&(oe=ie,se=Fe,ne=j)}),x!==oe&&(v._swapRows(x,oe,B[1],_,S,E),v._swapRows(x,oe,O[1],M,z,q),re.swap(x,oe),J(x,oe)),re.forEach(0,g-1,function(ie,j){ie<=x?(M.push(j),z.push(ie)):(j=i(j,ne),h(j,0)||(_.push(j),S.push(ie)))})};for(x=0;x<y;x++)K();return q.push(M.length),E.push(_.length),{L:new v({values:_,index:S,ptr:E,size:B}),U:new v({values:M,index:z,ptr:q,size:O}),p:H,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function Ff(e,r,t,u){e._values;for(var n=e._index,i=e._ptr,a=e._size,s=e._datatype,c=a[0],h=a[1],o=null,f=[],v=[],D=0,d=0;d<h;d++){v[d]=D;for(var l=t?t[d]:d,m=i[l],g=i[l+1],y=m;y<g;y++){var w=n[y];f[D]=w,D++}}return v[h]=D,e.createSparseMatrix({values:o,index:f,ptr:v,size:[c,h],datatype:s})}function du(e,r,t,u,n,i,a){var s=0;for(t[a]=e;s>=0;){var c=t[a+s],h=t[u+c];h===-1?(s--,i[r++]=c):(t[u+c]=t[n+h],++s,t[a+s]=h)}return r}function yf(e,r){if(!e)return null;var t=0,u,n=[],i=[],a=0,s=r,c=2*r;for(u=0;u<r;u++)i[a+u]=-1;for(u=r-1;u>=0;u--)e[u]!==-1&&(i[s+u]=i[a+e[u]],i[a+e[u]]=u);for(u=0;u<r;u++)e[u]===-1&&(t=du(u,t,i,a,s,n,c));return n}function Af(e,r){if(!e)return null;var t=e._index,u=e._ptr,n=e._size,i=n[0],a=n[1],s=[],c=[],h=0,o=a,f,v;for(f=0;f<i;f++)c[o+f]=-1;for(var D=0;D<a;D++){s[D]=-1,c[h+D]=-1;for(var d=u[D],l=u[D+1],m=d;m<l;m++){var g=t[m];for(f=c[o+g];f!==-1&&f<D;f=v)v=c[h+f],c[h+f]=D,v===-1&&(s[f]=D);c[o+g]=D}}return s}function Ef(e,r,t){for(var u=e._values,n=e._index,i=e._ptr,a=e._size,s=a[1],c=0,h=0;h<s;h++){var o=i[h];for(i[h]=c;o<i[h+1];o++)r(n[o],h,u?u[o]:1,t)&&(n[c]=n[o],u&&(u[c]=u[o]),c++)}return i[s]=c,n.splice(c,n.length-c),u&&u.splice(c,u.length-c),c}function fr(e){return-e-2}var Cf="csAmd",_f=["add","multiply","transpose"],Sf=Q(Cf,_f,e=>{var{add:r,multiply:t,transpose:u}=e;return function(o,f){if(!f||o<=0||o>3)return null;var v=f._size,D=v[0],d=v[1],l=0,m=Math.max(16,10*Math.sqrt(d));m=Math.min(d-2,m);var g=n(o,f,D,d,m);Ef(g,c,null);for(var y=g._index,w=g._ptr,A=w[d],F=[],p=[],_=0,S=d+1,E=2*(d+1),B=3*(d+1),M=4*(d+1),z=5*(d+1),q=6*(d+1),O=7*(d+1),P=F,x=i(d,w,p,_,B,P,E,O,S,q,M,z),G=a(d,w,p,z,M,q,m,S,B,P,E),H=0,T,J,K,ue,re,W,he,oe,ne,se,ie,j,Fe,de,ae,ce;G<d;){for(K=-1;H<d&&(K=p[B+H])===-1;H++);p[E+K]!==-1&&(P[p[E+K]]=-1),p[B+H]=p[E+K];var _e=p[M+K],Re=p[S+K];G+=Re;var ze=0;p[S+K]=-Re;var fe=w[K],Oe=_e===0?fe:A,Ye=Oe;for(ue=1;ue<=_e+1;ue++){for(ue>_e?(W=K,he=fe,oe=p[_+K]-_e):(W=y[fe++],he=w[W],oe=p[_+W]),re=1;re<=oe;re++)T=y[he++],!((ne=p[S+T])<=0)&&(ze+=ne,p[S+T]=-ne,y[Ye++]=T,p[E+T]!==-1&&(P[p[E+T]]=P[T]),P[T]!==-1?p[E+P[T]]=p[E+T]:p[B+p[z+T]]=p[E+T]);W!==K&&(w[W]=fr(K),p[q+W]=0)}for(_e!==0&&(A=Ye),p[z+K]=ze,w[K]=Oe,p[_+K]=Ye-Oe,p[M+K]=-2,x=s(x,l,p,q,d),se=Oe;se<Ye;se++)if(T=y[se],!((ie=p[M+T])<=0)){ne=-p[S+T];var pt=x-ne;for(fe=w[T],j=w[T]+ie-1;fe<=j;fe++)W=y[fe],p[q+W]>=x?p[q+W]-=ne:p[q+W]!==0&&(p[q+W]=p[z+W]+pt)}for(se=Oe;se<Ye;se++){for(T=y[se],j=w[T],Fe=j+p[M+T]-1,de=j,ae=0,ce=0,fe=j;fe<=Fe;fe++)if(W=y[fe],p[q+W]!==0){var xr=p[q+W]-x;xr>0?(ce+=xr,y[de++]=W,ae+=W):(w[W]=fr(K),p[q+W]=0)}p[M+T]=de-j+1;var C=de,b=j+p[_+T];for(fe=Fe+1;fe<b;fe++){J=y[fe];var N=p[S+J];N<=0||(ce+=N,y[de++]=J,ae+=J)}ce===0?(w[T]=fr(K),ne=-p[S+T],ze-=ne,Re+=ne,G+=ne,p[S+T]=0,p[M+T]=-1):(p[z+T]=Math.min(p[z+T],ce),y[de]=y[C],y[C]=y[j],y[j]=K,p[_+T]=de-j+1,ae=(ae<0?-ae:ae)%d,p[E+T]=p[O+ae],p[O+ae]=T,P[T]=ae)}for(p[z+K]=ze,l=Math.max(l,ze),x=s(x+l,l,p,q,d),se=Oe;se<Ye;se++)if(T=y[se],!(p[S+T]>=0))for(ae=P[T],T=p[O+ae],p[O+ae]=-1;T!==-1&&p[E+T]!==-1;T=p[E+T],x++){for(oe=p[_+T],ie=p[M+T],fe=w[T]+1;fe<=w[T]+oe-1;fe++)p[q+y[fe]]=x;var $=T;for(J=p[E+T];J!==-1;){var U=p[_+J]===oe&&p[M+J]===ie;for(fe=w[J]+1;U&&fe<=w[J]+oe-1;fe++)p[q+y[fe]]!==x&&(U=0);U?(w[J]=fr(T),p[S+T]+=p[S+J],p[S+J]=0,p[M+J]=-1,J=p[E+J],p[E+$]=J):($=J,J=p[E+J])}}for(fe=Oe,se=Oe;se<Ye;se++)T=y[se],!((ne=-p[S+T])<=0)&&(p[S+T]=ne,ce=p[z+T]+ze-ne,ce=Math.min(ce,d-G-ne),p[B+ce]!==-1&&(P[p[B+ce]]=T),p[E+T]=p[B+ce],P[T]=-1,p[B+ce]=T,H=Math.min(H,ce),p[z+T]=ce,y[fe++]=T);p[S+K]=Re,(p[_+K]=fe-Oe)===0&&(w[K]=-1,p[q+K]=0),_e!==0&&(A=fe)}for(T=0;T<d;T++)w[T]=fr(w[T]);for(J=0;J<=d;J++)p[B+J]=-1;for(J=d;J>=0;J--)p[S+J]>0||(p[E+J]=p[B+w[J]],p[B+w[J]]=J);for(W=d;W>=0;W--)p[S+W]<=0||w[W]!==-1&&(p[E+W]=p[B+w[W]],p[B+w[W]]=W);for(K=0,T=0;T<=d;T++)w[T]===-1&&(K=du(T,K,p,B,E,F,q));return F.splice(F.length-1,1),F};function n(h,o,f,v,D){var d=u(o);if(h===1&&v===f)return r(o,d);if(h===2){for(var l=d._index,m=d._ptr,g=0,y=0;y<f;y++){var w=m[y];if(m[y]=g,!(m[y+1]-w>D))for(var A=m[y+1];w<A;w++)l[g++]=l[w]}return m[f]=g,o=u(d),t(d,o)}return t(d,o)}function i(h,o,f,v,D,d,l,m,g,y,w,A){for(var F=0;F<h;F++)f[v+F]=o[F+1]-o[F];f[v+h]=0;for(var p=0;p<=h;p++)f[D+p]=-1,d[p]=-1,f[l+p]=-1,f[m+p]=-1,f[g+p]=1,f[y+p]=1,f[w+p]=0,f[A+p]=f[v+p];var _=s(0,0,f,y,h);return f[w+h]=-2,o[h]=-1,f[y+h]=0,_}function a(h,o,f,v,D,d,l,m,g,y,w){for(var A=0,F=0;F<h;F++){var p=f[v+F];if(p===0)f[D+F]=-2,A++,o[F]=-1,f[d+F]=0;else if(p>l)f[m+F]=0,f[D+F]=-1,A++,o[F]=fr(h),f[m+h]++;else{var _=f[g+p];_!==-1&&(y[_]=F),f[w+F]=f[g+p],f[g+p]=F}}return A}function s(h,o,f,v,D){if(h<2||h+o<0){for(var d=0;d<D;d++)f[v+d]!==0&&(f[v+d]=1);h=2}return h}function c(h,o){return h!==o}});function Bf(e,r,t,u,n,i,a){var s,c,h=0,o;if(e<=r||t[u+r]<=t[n+e])return-1;t[n+e]=t[u+r];var f=t[i+e];if(t[i+e]=r,f===-1)h=1,o=e;else{for(h=2,o=f;o!==t[a+o];o=t[a+o]);for(s=f;s!==o;s=c)c=t[a+s],t[a+s]=o}return{jleaf:h,q:o}}var Mf="csCounts",bf=["transpose"],xf=Q(Mf,bf,e=>{var{transpose:r}=e;return function(t,u,n,i){if(!t||!u||!n)return null;var a=t._size,s=a[0],c=a[1],h,o,f,v,D,d,l,m=4*c+(i?c+s+1:0),g=[],y=0,w=c,A=2*c,F=3*c,p=4*c,_=5*c+1;for(f=0;f<m;f++)g[f]=-1;var S=[],E=r(t),B=E._index,M=E._ptr;for(f=0;f<c;f++)for(o=n[f],S[o]=g[F+o]===-1?1:0;o!==-1&&g[F+o]===-1;o=u[o])g[F+o]=f;if(i){for(f=0;f<c;f++)g[n[f]]=f;for(h=0;h<s;h++){for(f=c,d=M[h],l=M[h+1],D=d;D<l;D++)f=Math.min(f,g[B[D]]);g[_+h]=g[p+f],g[p+f]=h}}for(h=0;h<c;h++)g[y+h]=h;for(f=0;f<c;f++){for(o=n[f],u[o]!==-1&&S[u[o]]--,v=i?g[p+f]:o;v!==-1;v=i?g[_+v]:-1)for(D=M[v];D<M[v+1];D++){h=B[D];var z=Bf(h,o,g,F,w,A,y);z.jleaf>=1&&S[o]++,z.jleaf===2&&S[z.q]--}u[o]!==-1&&(g[y+o]=u[o])}for(o=0;o<c;o++)u[o]!==-1&&(S[u[o]]+=S[o]);return S}}),Nf="csSqr",Tf=["add","multiply","transpose"],zf=Q(Nf,Tf,e=>{var{add:r,multiply:t,transpose:u}=e,n=Sf({add:r,multiply:t,transpose:u}),i=xf({transpose:u});return function(c,h,o){var f=h._ptr,v=h._size,D=v[1],d,l={};if(l.q=n(c,h),c&&!l.q)return null;if(o){var m=c?Ff(h,null,l.q):h;l.parent=Af(m);var g=yf(l.parent,D);if(l.cp=i(m,l.parent,g,1),m&&l.parent&&l.cp&&a(m,l))for(l.unz=0,d=0;d<D;d++)l.unz+=l.cp[d]}else l.unz=4*f[D]+D,l.lnz=l.unz;return l};function a(s,c){var h=s._ptr,o=s._index,f=s._size,v=f[0],D=f[1];c.pinv=[],c.leftmost=[];var d=c.parent,l=c.pinv,m=c.leftmost,g=[],y=0,w=v,A=v+D,F=v+2*D,p,_,S,E,B;for(_=0;_<D;_++)g[w+_]=-1,g[A+_]=-1,g[F+_]=0;for(p=0;p<v;p++)m[p]=-1;for(_=D-1;_>=0;_--)for(E=h[_],B=h[_+1],S=E;S<B;S++)m[o[S]]=_;for(p=v-1;p>=0;p--)l[p]=-1,_=m[p],_!==-1&&(g[F+_]++===0&&(g[A+_]=p),g[y+p]=g[w+_],g[w+_]=p);for(c.lnz=0,c.m2=v,_=0;_<D;_++)if(p=g[w+_],c.lnz++,p<0&&(p=c.m2++),l[p]=_,!(--F[_]<=0)){c.lnz+=g[F+_];var M=d[_];M!==-1&&(g[F+M]===0&&(g[A+M]=g[A+_]),g[y+g[A+_]]=g[w+M],g[w+M]=g[y+p],g[F+M]+=g[F+_])}for(p=0;p<v;p++)l[p]<0&&(l[p]=_++);return!0}});function xt(e,r){return e[r]<0}function mu(e,r){e[r]=fr(e[r])}function _n(e){return e<0?fr(e):e}function Of(e,r,t,u,n){var i=r._index,a=r._ptr,s=r._size,c=s[1],h,o,f,v=0;for(u[0]=e;v>=0;){e=u[v];var D=n?n[e]:e;xt(a,e)||(mu(a,e),u[c+v]=D<0?0:_n(a[D]));var d=1;for(o=u[c+v],f=D<0?0:_n(a[D+1]);o<f;o++)if(h=i[o],!xt(a,h)){u[c+v]=o,u[++v]=h,d=0;break}d&&(v--,u[--t]=e)}return t}function If(e,r,t,u,n){var i=e._ptr,a=e._size,s=r._index,c=r._ptr,h=a[1],o,f,v,D=h;for(f=c[t],v=c[t+1],o=f;o<v;o++){var d=s[o];xt(i,d)||(D=Of(d,e,D,u,n))}for(o=D;o<h;o++)mu(i,u[o]);return D}var Pf="csSpsolve",$f=["divideScalar","multiply","subtract"],qf=Q(Pf,$f,e=>{var{divideScalar:r,multiply:t,subtract:u}=e;return function(i,a,s,c,h,o,f){var v=i._values,D=i._index,d=i._ptr,l=i._size,m=l[1],g=a._values,y=a._index,w=a._ptr,A,F,p,_,S=If(i,a,s,c,o);for(A=S;A<m;A++)h[c[A]]=0;for(F=w[s],p=w[s+1],A=F;A<p;A++)h[y[A]]=g[A];for(var E=S;E<m;E++){var B=c[E],M=o?o[B]:B;if(!(M<0))for(F=d[M],p=d[M+1],h[B]=r(h[B],v[f?F:p-1]),A=f?F+1:F,_=f?p:p-1;A<_;A++){var z=D[A];h[z]=u(h[z],t(v[A],h[B]))}}return S}}),Rf="csLu",Lf=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Uf=Q(Rf,Lf,e=>{var{abs:r,divideScalar:t,multiply:u,subtract:n,larger:i,largerEq:a,SparseMatrix:s}=e,c=qf({divideScalar:t,multiply:u,subtract:n});return function(o,f,v){if(!o)return null;var D=o._size,d=D[1],l,m=100,g=100;f&&(l=f.q,m=f.lnz||m,g=f.unz||g);var y=[],w=[],A=[],F=new s({values:y,index:w,ptr:A,size:[d,d]}),p=[],_=[],S=[],E=new s({values:p,index:_,ptr:S,size:[d,d]}),B=[],M,z,q=[],O=[];for(M=0;M<d;M++)q[M]=0,B[M]=-1,A[M+1]=0;m=0,g=0;for(var P=0;P<d;P++){A[P]=m,S[P]=g;var x=l?l[P]:P,G=c(F,o,x,O,q,B,1),H=-1,T=-1;for(z=G;z<d;z++)if(M=O[z],B[M]<0){var J=r(q[M]);i(J,T)&&(T=J,H=M)}else _[g]=B[M],p[g++]=q[M];if(H===-1||T<=0)return null;B[x]<0&&a(r(q[x]),u(T,v))&&(H=x);var K=q[H];for(_[g]=P,p[g++]=K,B[H]=P,w[m]=H,y[m++]=1,z=G;z<d;z++)M=O[z],B[M]<0&&(w[m]=M,y[m++]=t(q[M],K)),q[M]=0}for(A[d]=m,S[d]=g,z=0;z<m;z++)w[z]=B[w[z]];return y.splice(m,y.length-m),w.splice(m,w.length-m),p.splice(g,p.length-g),_.splice(g,_.length-g),{L:F,U:E,pinv:B}}}),Sn="slu",Zf=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Vf=Q(Sn,Zf,e=>{var{typed:r,abs:t,add:u,multiply:n,transpose:i,divideScalar:a,subtract:s,larger:c,largerEq:h,SparseMatrix:o}=e,f=zf({add:u,multiply:n,transpose:i}),v=Uf({abs:t,divideScalar:a,multiply:n,subtract:s,larger:c,largerEq:h,SparseMatrix:o});return r(Sn,{"SparseMatrix, number, number":function(d,l,m){if(!Be(l)||l<0||l>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=f(l,d,!1),y=v(d,g,m);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Bn(e,r){var t,u=r.length,n=[];if(e)for(t=0;t<u;t++)n[e[t]]=r[t];else for(t=0;t<u;t++)n[t]=r[t];return n}var Mn="lusolve",Hf=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Jf=Q(Mn,Hf,e=>{var{typed:r,matrix:t,lup:u,slu:n,usolve:i,lsolve:a,DenseMatrix:s}=e,c=qt({DenseMatrix:s});return r(Mn,{"Array, Array | Matrix":function(v,D){v=t(v);var d=u(v),l=o(d.L,d.U,d.p,null,D);return l.valueOf()},"DenseMatrix, Array | Matrix":function(v,D){var d=u(v);return o(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix":function(v,D){var d=u(v);return o(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix, number, number":function(v,D,d,l){var m=n(v,d,l);return o(m.L,m.U,m.p,m.q,D)},"Object, Array | Matrix":function(v,D){return o(v.L,v.U,v.p,v.q,D)}});function h(f){if(xe(f))return f;if(Ae(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function o(f,v,D,d,l){f=h(f),v=h(v),D&&(l=c(f,l,!0),l._data=Bn(D,l._data));var m=a(f,l),g=i(v,m);return d&&(g._data=Bn(d,g._data)),g}}),gu=Qa({config:Fr}),Gf=ro({}),wu=uo({}),Rt=oo({}),tr=Ao({Matrix:Rt}),De=ji({BigNumber:gu,Complex:Gf,DenseMatrix:tr,Fraction:wu}),Fu=Yo({typed:De}),Pr=Ko({typed:De}),Yf=zs({typed:De}),dr=Bo({config:Fr,typed:De}),Xf=Co({typed:De}),$r=_s({typed:De}),Kf=Io({typed:De}),Ar=xo({Matrix:Rt,equalScalar:dr,typed:De}),vt=Wo({typed:De}),Qf=qo({BigNumber:gu,typed:De}),yu=Jo({typed:De}),Wf=Uo({Fraction:wu,typed:De}),He=Vo({DenseMatrix:tr,Matrix:Rt,SparseMatrix:Ar,typed:De}),kf=Js({bignumber:Qf,fraction:Wf,number:Kf}),jf=Ls({matrix:He,config:Fr,typed:De}),e0=Zs({matrix:He,typed:De}),qr=Is({isInteger:Xf,matrix:He,typed:De}),Dt=Ys({numeric:kf,typed:De}),r0=af({DenseMatrix:tr,SparseMatrix:Ar,concat:qr,config:Fr,matrix:He,typed:De}),t0=Ks({DenseMatrix:tr,divideScalar:Dt,equalScalar:dr,matrix:He,multiplyScalar:$r,subtractScalar:vt,typed:De}),n0=js({DenseMatrix:tr,SparseMatrix:Ar,concat:qr,config:Fr,matrix:He,typed:De}),u0=bs({DenseMatrix:tr,concat:qr,equalScalar:dr,matrix:He,subtractScalar:vt,typed:De,unaryMinus:yu}),i0=Ws({DenseMatrix:tr,divideScalar:Dt,equalScalar:dr,matrix:He,multiplyScalar:$r,subtractScalar:vt,typed:De}),je=pf({DenseMatrix:tr,SparseMatrix:Ar,addScalar:Pr,concat:qr,equalScalar:dr,matrix:He,typed:De}),a0=mf({addScalar:Pr,conj:Yf,multiplyScalar:$r,size:jf,typed:De}),Lt=tf({DenseMatrix:tr,SparseMatrix:Ar,concat:qr,config:Fr,matrix:He,typed:De}),o0=Bs({addScalar:Pr,dot:a0,equalScalar:dr,matrix:He,multiplyScalar:$r,typed:De}),s0=Vf({SparseMatrix:Ar,abs:Fu,add:je,divideScalar:Dt,larger:Lt,largerEq:r0,multiply:o0,subtract:u0,transpose:e0,typed:De}),f0=cf({larger:Lt,smaller:n0}),c0=vf({FibonacciHeap:f0,addScalar:Pr,equalScalar:dr}),l0=wf({DenseMatrix:tr,Spa:c0,SparseMatrix:Ar,abs:Fu,addScalar:Pr,divideScalar:Dt,equalScalar:dr,larger:Lt,matrix:He,multiplyScalar:$r,subtractScalar:vt,typed:De,unaryMinus:yu}),h0=Jf({DenseMatrix:tr,lsolve:t0,lup:l0,matrix:He,slu:s0,typed:De,usolve:i0});class v0{constructor(r=5,t=Array(r).fill(.5*Math.PI),u=Array(r).fill(0),n=-9.8){this.n=r,this.thetas=t,this.thetaDots=u,this.g=n}A(r){let t=[];for(let u=0;u<this.n;u++){let n=[];for(let i=0;i<this.n;i++)n.push((this.n-Math.max(u,i))*Math.cos(r[u]-r[i]));t.push(n)}return t}b(r,t){let u=[];for(let n=0;n<this.n;n++){let i=0;for(let a=0;a<this.n;a++)i-=(this.n-Math.max(n,a))*Math.sin(r[n]-r[a])*t[a]**2;i-=this.g*(this.n-n)*Math.sin(r[n]),u.push(i)}return u}f(r,t){let u=this.A(r),n=this.b(r,t);return[t,h0(u,n).map(i=>i[0])]}RK4(r,t,u){let n=this.f(t,u),i=this.f(je(t,n[0].map(o=>.5*r*o)),je(u,n[1].map(o=>.5*r*o))),a=this.f(je(t,i[0].map(o=>.5*r*o)),je(u,i[1].map(o=>.5*r*o))),s=this.f(je(t,a[0].map(o=>1*r*o)),je(u,a[1].map(o=>1*r*o))),c=je(n[0],i[0].map(o=>2*o),a[0].map(o=>2*o),s[0]).map(o=>o*r/6),h=je(n[1],i[1].map(o=>2*o),a[1].map(o=>2*o),s[1]).map(o=>o*r/6);return[je(t,c),u=je(u,h)]}tick(r){let t=this.RK4(r,this.thetas,this.thetaDots);this.thetas=t[0],this.thetaDots=t[1]}get coordinates(){let r=0,t=0,u=[];for(let n=0;n<this.thetas.length;n++){let i=this.thetas[n];r+=Math.sin(i),t+=Math.cos(i),u.push({x:r,y:t})}return u}}const D0={class:"absolute flex flex-wrap gap-1 w-full p-1"},p0={key:0,class:"i-la-play"},d0={key:1,class:"i-la-pause"},m0={class:"p-2 text-xs font-mono border-1 border-dark-100 dark-border-light-300"},g0=["width","height"],w0=["x1","x2","y2","stroke"],F0=["cx","cy"],y0=["x1","y1","x2","y2","stroke-width"],A0=["fill","cx","cy","r"],S0={__name:"MultiPendulums",setup(e){const r=Ut(),t=dt({w:1e3,h:1e3}),u=Zt(()=>mr.pcs.length);ku(r,a=>{t.w=a[0].contentRect.width,t.h=a[0].contentRect.height});const n=dt([]);for(let a=0;a<2;a++)n[a]=i(-a);function i(a=0){const s=dt({}),c=Zt(()=>new v0(mr.pcs.length,Array(mr.pcs.length).fill(1).map((o,f)=>Math.PI+(a!=0?1:-2)*Math.PI*(1-Math.random()/(f+1))/4),Array(mr.pcs.length).fill(1).map(()=>(a!=0?-4:2)*Math.random()+.5))),h=Ut([]);return Vt(()=>or.ticks,(o,f)=>{o<f&&(o=f+1),c.value.tick((o-f)*.0015),h.value=c.value.coordinates}),Vt(h,(o,f)=>{o.forEach((v,D)=>{var d;if(v.x*((d=f==null?void 0:f[D])==null?void 0:d.x)<0){const l=mr.full.notes[D];s[l]=!0,ti(l)}})}),{coords:h,n:u,active:s}}return(a,s)=>(Qe(),We(Ur,null,[ke("div",D0,[ke("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:s[0]||(s[0]=c=>Ze(or).stopped=!0)},s[3]||(s[3]=[ke("div",{class:"i-la-stop"},null,-1)])),ke("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:s[1]||(s[1]=c=>Ze(or).playing=!Ze(or).playing)},[Ze(or).playing?(Qe(),We("div",d0)):(Qe(),We("div",p0))]),s[4]||(s[4]=ke("div",{class:"flex-1"},null,-1)),ke("div",m0,ju(Ze(or).ticks),1)]),Ze(or).started?ei("",!0):(Qe(),We("div",{key:0,class:"absolute bottom-0 top-0 left-0 right-0 flex items-center justify-center text-2xl z-100",onClick:s[2]||(s[2]=c=>Ze(or).playing=!0)},"Press anywhere")),(Qe(),We("svg",{class:"select-none min-h-100svh min-w-full",id:"metronome",ref_key:"svg",ref:r,version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},[ke("rect",{width:t.w,height:t.h,stroke:"white",fill:"#2222"},null,8,g0),ke("line",{class:"transition",x1:t.w/2,x2:t.w/2,y1:0,y2:t.h,stroke:Ze(Ht).note.velocity>0?Ze(Jt)(Ze(Ht).note.pitch):"#999"},null,8,w0),ke("circle",{cx:t.w/2,cy:t.h/10,r:8,fill:"currentColor"},null,8,F0),(Qe(!0),We(Ur,null,mt(n,(c,h)=>(Qe(),We("g",{key:c},[(Qe(!0),We(Ur,null,mt(c.coords,(o,f)=>(Qe(),We("g",{key:o},[ke("line",{x1:f===0?t.w/2:t.w/2+c.coords[f-1].x*t.h/(u.value+1),y1:f===0?t.h/10:t.h/10-c.coords[f-1].y*t.h/(u.value+1),x2:t.w/2+o.x*t.h/(u.value+1),y2:t.h/10-o.y*t.h/(u.value+1),"stroke-width":(h*2+1)*2,stroke:"currentColor"},null,8,y0)]))),128)),(Qe(!0),We(Ur,null,mt(c.coords,(o,f)=>(Qe(),We("g",{key:o},[ke("circle",{style:ri([{"transform-origin":"center","transform-box":"fill-box",transition:"transform 1s ease-in-out"},{transform:`scale(${c.active[Ze(mr).full.notes[f]]?2:1})`}]),fill:Ze(Jt)(Ze(ni)[Ze(mr).pcs[f]],4),cx:t.w/2+o.x*t.h/(u.value+1),cy:t.h/10-o.y*t.h/(u.value+1),r:(h+1)*10},null,12,A0)]))),128))]))),128))],512))],64))}};export{S0 as default};
