import{r as Nt,b as ct,c as Tt,aW as Ji,d as zt,v as kr,x as jr,z as Kr,D as Zr,E as Gi,F as Ie,A as lt,G as Yi}from"./framework.0GAYKUFI.js";import{a0 as Ki,g as le,L as de,k as Xi,W as Ot,m as Qi,d as Wi,f as It,ad as Pt,C as ki}from"./theme.Dhtj-h8C.js";import{F as te}from"./fraction.DqatKmli.js";function Le(){return Le=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Le.apply(null,arguments)}var An={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function gr(r){return typeof r=="number"}function br(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function ji(r){return typeof r=="bigint"}function Fn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function En(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Cn(r){return r&&r.constructor.prototype.isUnit===!0||!1}function re(r){return typeof r=="string"}var wr=Array.isArray;function Mr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Ue(r){return Array.isArray(r)||Mr(r)}function _n(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Bn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ru(r){return r&&r.constructor.prototype.isRange===!0||!1}function Ft(r){return r&&r.constructor.prototype.isIndex===!0||!1}function eu(r){return typeof r=="boolean"}function tu(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function nu(r){return r&&r.constructor.prototype.isHelp===!0||!1}function iu(r){return typeof r=="function"}function uu(r){return r instanceof Date}function au(r){return r instanceof RegExp}function Et(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Fn(r)&&!En(r))}function ou(r){return r===null}function su(r){return r===void 0}function fu(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function cu(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function lu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function vu(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function hu(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Du(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function pu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function du(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function mu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function gu(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function wu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function yu(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Au(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Fu(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Eu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cu(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function _u(r){return r&&r.constructor.prototype.isChain===!0||!1}function we(r){var e=typeof r;return e==="object"?r===null?"null":br(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Fr(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return Fr(t)});if(r instanceof Date)return new Date(r.valueOf());if(br(r))return r;if(Et(r))return Bu(r,Fr);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Bu(r,e){var t={};for(var i in r)Se(r,i)&&(t[i]=e(r[i]));return t}function Su(r,e){for(var t in e)Se(e,t)&&(r[t]=e[t]);return r}function Ae(r,e){var t,i,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,n=r.length;i<n;i++)if(!Ae(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Ae(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function Se(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Mu(r,e){for(var t={},i=0;i<e.length;i++){var n=e[i],a=r[n];a!==void 0&&(t[n]=a)}return t}var xu=["Matrix","Array"],bu=["number","BigNumber","Fraction"],he=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(An)};Le(he,An,{MATRIX_OPTIONS:xu,NUMBER_OPTIONS:bu});function $t(){return!0}function Vr(){return!1}function me(){}const qt="Argument is not a typed-function.";function Sn(){function r(C){return typeof C=="object"&&C!==null&&C.constructor===Object}const e=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],t={name:"any",test:$t,isAny:!0};let i,n,a=0,f={createCount:0};function v(C){const M=i.get(C);if(M)return M;let N='Unknown type "'+C+'"';const P=C.toLowerCase();let R;for(R of n)if(R.toLowerCase()===P){N+='. Did you mean "'+R+'" ?';break}throw new TypeError(N)}function l(C){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=M?v(M).index:n.length,P=[];for(let $=0;$<C.length;++$){if(!C[$]||typeof C[$].name!="string"||typeof C[$].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const G=C[$].name;if(i.has(G))throw new TypeError('Duplicate type name "'+G+'"');P.push(G),i.set(G,{name:G,test:C[$].test,isAny:C[$].isAny,index:N+$,conversionsTo:[]})}const R=n.slice(N);n=n.slice(0,N).concat(P).concat(R);for(let $=N+P.length;$<n.length;++$)i.get(n[$]).index=$}function D(){i=new Map,n=[],a=0,l([t],!1)}D(),l(e);function o(){let C;for(C of n)i.get(C).conversionsTo=[];a=0}function u(C){const M=n.filter(N=>{const P=i.get(N);return!P.isAny&&P.test(C)});return M.length?M:["any"]}function s(C){return C&&typeof C=="function"&&"_typedFunctionData"in C}function h(C,M,N){if(!s(C))throw new TypeError(qt);const P=N&&N.exact,R=Array.isArray(M)?M.join(","):M,$=F(R),G=p($);if(!P||G in C.signatures){const Dr=C._typedFunctionData.signatureMap.get(G);if(Dr)return Dr}const Z=$.length;let Y;if(P){Y=[];let Dr;for(Dr in C.signatures)Y.push(C._typedFunctionData.signatureMap.get(Dr))}else Y=C._typedFunctionData.signatures;for(let Dr=0;Dr<Z;++Dr){const mr=$[Dr],Er=[];let $r;for($r of Y){const Ir=B($r.params,Dr);if(!(!Ir||mr.restParam&&!Ir.restParam)){if(!Ir.hasAny){const Jr=w(Ir);if(mr.types.some(Gr=>!Jr.has(Gr.name)))continue}Er.push($r)}}if(Y=Er,Y.length===0)break}let U;for(U of Y)if(U.params.length<=Z)return U;throw new TypeError("Signature not found (signature: "+(C.name||"unnamed")+"("+p($,", ")+"))")}function g(C,M,N){return h(C,M,N).implementation}function c(C,M){const N=v(M);if(N.test(C))return C;const P=N.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+M+" defined.");for(let R=0;R<P.length;R++)if(v(P[R].from).test(C))return P[R].convert(C);throw new Error("Cannot convert "+C+" to "+M)}function p(C){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return C.map(N=>N.name).join(M)}function m(C){const M=C.indexOf("...")===0,P=(M?C.length>3?C.slice(3):"any":C).split("|").map(Z=>v(Z.trim()));let R=!1,$=M?"...":"";return{types:P.map(function(Z){return R=Z.isAny||R,$+=Z.name+"|",{name:Z.name,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:null,conversionIndex:-1}}),name:$.slice(0,-1),hasAny:R,hasConversion:!1,restParam:M}}function A(C){const M=C.types.map(G=>G.name),N=J(M);let P=C.hasAny,R=C.name;const $=N.map(function(G){const Z=v(G.from);return P=Z.isAny||P,R+="|"+G.from,{name:G.from,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:G,conversionIndex:G.index}});return{types:C.types.concat($),name:R,hasAny:P,hasConversion:$.length>0,restParam:C.restParam}}function w(C){return C.typeSet||(C.typeSet=new Set,C.types.forEach(M=>C.typeSet.add(M.name))),C.typeSet}function F(C){const M=[];if(typeof C!="string")throw new TypeError("Signatures must be strings");const N=C.trim();if(N==="")return M;const P=N.split(",");for(let R=0;R<P.length;++R){const $=m(P[R].trim());if($.restParam&&R!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[R]+'": only allowed for the last parameter');if($.types.length===0)return null;M.push($)}return M}function y(C){const M=ir(C);return M?M.restParam:!1}function d(C){if(!C||C.types.length===0)return $t;if(C.types.length===1)return v(C.types[0].name).test;if(C.types.length===2){const M=v(C.types[0].name).test,N=v(C.types[1].name).test;return function(R){return M(R)||N(R)}}else{const M=C.types.map(function(N){return v(N.name).test});return function(P){for(let R=0;R<M.length;R++)if(M[R](P))return!0;return!1}}}function _(C){let M,N,P;if(y(C)){M=or(C).map(d);const R=M.length,$=d(ir(C)),G=function(Z){for(let Y=R;Y<Z.length;Y++)if(!$(Z[Y]))return!1;return!0};return function(Y){for(let U=0;U<M.length;U++)if(!M[U](Y[U]))return!1;return G(Y)&&Y.length>=R+1}}else return C.length===0?function($){return $.length===0}:C.length===1?(N=d(C[0]),function($){return N($[0])&&$.length===1}):C.length===2?(N=d(C[0]),P=d(C[1]),function($){return N($[0])&&P($[1])&&$.length===2}):(M=C.map(d),function($){for(let G=0;G<M.length;G++)if(!M[G]($[G]))return!1;return $.length===M.length})}function B(C,M){return M<C.length?C[M]:y(C)?ir(C):null}function E(C,M){const N=B(C,M);return N?w(N):new Set}function S(C){return C.conversion===null||C.conversion===void 0}function x(C,M){const N=new Set;return C.forEach(P=>{const R=E(P.params,M);let $;for($ of R)N.add($)}),N.has("any")?["any"]:Array.from(N)}function z(C,M,N){let P,R;const $=C||"unnamed";let G=N,Z;for(Z=0;Z<M.length;Z++){const mr=[];if(G.forEach(Er=>{const $r=B(Er.params,Z),Ir=d($r);(Z<Er.params.length||y(Er.params))&&Ir(M[Z])&&mr.push(Er)}),mr.length===0){if(R=x(G,Z),R.length>0){const Er=u(M[Z]);return P=new TypeError("Unexpected type of argument in function "+$+" (expected: "+R.join(" or ")+", actual: "+Er.join(" | ")+", index: "+Z+")"),P.data={category:"wrongType",fn:$,index:Z,actual:Er,expected:R},P}}else G=mr}const Y=G.map(function(mr){return y(mr.params)?1/0:mr.params.length});if(M.length<Math.min.apply(null,Y))return R=x(G,Z),P=new TypeError("Too few arguments in function "+$+" (expected: "+R.join(" or ")+", index: "+M.length+")"),P.data={category:"tooFewArgs",fn:$,index:M.length,expected:R},P;const U=Math.max.apply(null,Y);if(M.length>U)return P=new TypeError("Too many arguments in function "+$+" (expected: "+U+", actual: "+M.length+")"),P.data={category:"tooManyArgs",fn:$,index:M.length,expectedLength:U},P;const Dr=[];for(let mr=0;mr<M.length;++mr)Dr.push(u(M[mr]).join("|"));return P=new TypeError('Arguments of type "'+Dr.join(", ")+'" do not match any of the defined signatures of function '+$+"."),P.data={category:"mismatch",actual:Dr},P}function L(C){let M=n.length+1;for(let N=0;N<C.types.length;N++)S(C.types[N])&&(M=Math.min(M,C.types[N].typeIndex));return M}function I(C){let M=a+1;for(let N=0;N<C.types.length;N++)S(C.types[N])||(M=Math.min(M,C.types[N].conversionIndex));return M}function O(C,M){if(C.hasAny){if(!M.hasAny)return 1}else if(M.hasAny)return-1;if(C.restParam){if(!M.restParam)return 1}else if(M.restParam)return-1;if(C.hasConversion){if(!M.hasConversion)return 1}else if(M.hasConversion)return-1;const N=L(C)-L(M);if(N<0)return-1;if(N>0)return 1;const P=I(C)-I(M);return P<0?-1:P>0?1:0}function b(C,M){const N=C.params,P=M.params,R=ir(N),$=ir(P),G=y(N),Z=y(P);if(G&&R.hasAny){if(!Z||!$.hasAny)return 1}else if(Z&&$.hasAny)return-1;let Y=0,U=0,Dr;for(Dr of N)Dr.hasAny&&++Y,Dr.hasConversion&&++U;let mr=0,Er=0;for(Dr of P)Dr.hasAny&&++mr,Dr.hasConversion&&++Er;if(Y!==mr)return Y-mr;if(G&&R.hasConversion){if(!Z||!$.hasConversion)return 1}else if(Z&&$.hasConversion)return-1;if(U!==Er)return U-Er;if(G){if(!Z)return 1}else if(Z)return-1;const $r=(N.length-P.length)*(G?-1:1);if($r!==0)return $r;const Ir=[];let Jr=0;for(let pe=0;pe<N.length;++pe){const ze=O(N[pe],P[pe]);Ir.push(ze),Jr+=ze}if(Jr!==0)return Jr;let Gr;for(Gr of Ir)if(Gr!==0)return Gr;return 0}function J(C){if(C.length===0)return[];const M=C.map(v);C.length>1&&M.sort((R,$)=>R.index-$.index);let N=M[0].conversionsTo;if(C.length===1)return N;N=N.concat([]);const P=new Set(C);for(let R=1;R<M.length;++R){let $;for($ of M[R].conversionsTo)P.has($.from)||(N.push($),P.add($.from))}return N}function V(C,M){let N=M;if(C.some(R=>R.hasConversion)){const R=y(C),$=C.map(T);N=function(){const Z=[],Y=R?arguments.length-1:arguments.length;for(let U=0;U<Y;U++)Z[U]=$[U](arguments[U]);return R&&(Z[Y]=arguments[Y].map($[Y])),M.apply(this,Z)}}let P=N;if(y(C)){const R=C.length-1;P=function(){return N.apply(this,j(arguments,0,R).concat([j(arguments,R)]))}}return P}function T(C){let M,N,P,R;const $=[],G=[];switch(C.types.forEach(function(Z){Z.conversion&&($.push(v(Z.conversion.from).test),G.push(Z.conversion.convert))}),G.length){case 0:return function(Y){return Y};case 1:return M=$[0],P=G[0],function(Y){return M(Y)?P(Y):Y};case 2:return M=$[0],N=$[1],P=G[0],R=G[1],function(Y){return M(Y)?P(Y):N(Y)?R(Y):Y};default:return function(Y){for(let U=0;U<G.length;U++)if($[U](Y))return G[U](Y);return Y}}}function H(C){function M(N,P,R){if(P<N.length){const $=N[P];let G=[];if($.restParam){const Z=$.types.filter(S);Z.length<$.types.length&&G.push({types:Z,name:"..."+Z.map(Y=>Y.name).join("|"),hasAny:Z.some(Y=>Y.isAny),hasConversion:!1,restParam:!0}),G.push($)}else G=$.types.map(function(Z){return{types:[Z],name:Z.name,hasAny:Z.isAny,hasConversion:Z.conversion,restParam:!1}});return pr(G,function(Z){return M(N,P+1,R.concat([Z]))})}else return[R]}return M(C,0,[])}function K(C,M){const N=Math.max(C.length,M.length);for(let Z=0;Z<N;Z++){const Y=E(C,Z),U=E(M,Z);let Dr=!1,mr;for(mr of U)if(Y.has(mr)){Dr=!0;break}if(!Dr)return!1}const P=C.length,R=M.length,$=y(C),G=y(M);return $?G?P===R:R>=P:G?P>=R:P===R}function nr(C){return C.map(M=>Tr(M)?Cr(M.referToSelf.callback):Pr(M)?fr(M.referTo.references,M.referTo.callback):M)}function k(C,M,N){const P=[];let R;for(R of C){let $=N[R];if(typeof $!="number")throw new TypeError('No definition for referenced signature "'+R+'"');if($=M[$],typeof $!="function")return!1;P.push($)}return P}function Q(C,M,N){const P=nr(C),R=new Array(P.length).fill(!1);let $=!0;for(;$;){$=!1;let G=!0;for(let Z=0;Z<P.length;++Z){if(R[Z])continue;const Y=P[Z];if(Tr(Y))P[Z]=Y.referToSelf.callback(N),P[Z].referToSelf=Y.referToSelf,R[Z]=!0,G=!1;else if(Pr(Y)){const U=k(Y.referTo.references,P,M);U?(P[Z]=Y.referTo.callback.apply(this,U),P[Z].referTo=Y.referTo,R[Z]=!0,G=!1):$=!0}}if(G&&$)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function lr(C){const M=/\bthis(\(|\.signatures\b)/;Object.keys(C).forEach(N=>{const P=C[N];if(M.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ar(C,M){if(f.createCount++,Object.keys(M).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&lr(M);const N=[],P=[],R={},$=[];let G;for(G in M){if(!Object.prototype.hasOwnProperty.call(M,G))continue;const vr=F(G);if(!vr)continue;N.forEach(function(Be){if(K(Be,vr))throw new TypeError('Conflicting signatures "'+p(Be)+'" and "'+p(vr)+'".')}),N.push(vr);const qr=P.length;P.push(M[G]);const Vi=vr.map(A);let Oe;for(Oe of H(Vi)){const Be=p(Oe);$.push({params:Oe,name:Be,fn:qr}),Oe.every(Hi=>!Hi.hasConversion)&&(R[Be]=qr)}}$.sort(b);const Z=Q(P,R,_e);let Y;for(Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&(R[Y]=Z[R[Y]]);const U=[],Dr=new Map;for(Y of $)Dr.has(Y.name)||(Y.fn=Z[Y.fn],U.push(Y),Dr.set(Y.name,Y));const mr=U[0]&&U[0].params.length<=2&&!y(U[0].params),Er=U[1]&&U[1].params.length<=2&&!y(U[1].params),$r=U[2]&&U[2].params.length<=2&&!y(U[2].params),Ir=U[3]&&U[3].params.length<=2&&!y(U[3].params),Jr=U[4]&&U[4].params.length<=2&&!y(U[4].params),Gr=U[5]&&U[5].params.length<=2&&!y(U[5].params),pe=mr&&Er&&$r&&Ir&&Jr&&Gr;for(let vr=0;vr<U.length;++vr)U[vr].test=_(U[vr].params);const ze=mr?d(U[0].params[0]):Vr,pi=Er?d(U[1].params[0]):Vr,di=$r?d(U[2].params[0]):Vr,mi=Ir?d(U[3].params[0]):Vr,gi=Jr?d(U[4].params[0]):Vr,wi=Gr?d(U[5].params[0]):Vr,yi=mr?d(U[0].params[1]):Vr,Ai=Er?d(U[1].params[1]):Vr,Fi=$r?d(U[2].params[1]):Vr,Ei=Ir?d(U[3].params[1]):Vr,Ci=Jr?d(U[4].params[1]):Vr,_i=Gr?d(U[5].params[1]):Vr;for(let vr=0;vr<U.length;++vr)U[vr].implementation=V(U[vr].params,U[vr].fn);const Bi=mr?U[0].implementation:me,Si=Er?U[1].implementation:me,Mi=$r?U[2].implementation:me,xi=Ir?U[3].implementation:me,bi=Jr?U[4].implementation:me,Ni=Gr?U[5].implementation:me,Ti=mr?U[0].params.length:-1,zi=Er?U[1].params.length:-1,Oi=$r?U[2].params.length:-1,Ii=Ir?U[3].params.length:-1,Pi=Jr?U[4].params.length:-1,$i=Gr?U[5].params.length:-1,qi=pe?6:0,Ri=U.length,Li=U.map(vr=>vr.test),Ui=U.map(vr=>vr.implementation),Zi=function(){for(let qr=qi;qr<Ri;qr++)if(Li[qr](arguments))return Ui[qr].apply(this,arguments);return f.onMismatch(C,arguments,U)};function _e(vr,qr){return arguments.length===Ti&&ze(vr)&&yi(qr)?Bi.apply(this,arguments):arguments.length===zi&&pi(vr)&&Ai(qr)?Si.apply(this,arguments):arguments.length===Oi&&di(vr)&&Fi(qr)?Mi.apply(this,arguments):arguments.length===Ii&&mi(vr)&&Ei(qr)?xi.apply(this,arguments):arguments.length===Pi&&gi(vr)&&Ci(qr)?bi.apply(this,arguments):arguments.length===$i&&wi(vr)&&_i(qr)?Ni.apply(this,arguments):Zi.apply(this,arguments)}try{Object.defineProperty(_e,"name",{value:C})}catch{}return _e.signatures=R,_e._typedFunctionData={signatures:U,signatureMap:Dr},_e}function tr(C,M,N){throw z(C,M,N)}function or(C){return j(C,0,C.length-1)}function ir(C){return C[C.length-1]}function j(C,M,N){return Array.prototype.slice.call(C,M,N)}function Ar(C,M){for(let N=0;N<C.length;N++)if(M(C[N]))return C[N]}function pr(C,M){return Array.prototype.concat.apply([],C.map(M))}function ur(){const C=or(arguments).map(N=>p(F(N))),M=ir(arguments);if(typeof M!="function")throw new TypeError("Callback function expected as last argument");return fr(C,M)}function fr(C,M){return{referTo:{references:C,callback:M}}}function Cr(C){if(typeof C!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:C}}}function Pr(C){return C&&typeof C.referTo=="object"&&Array.isArray(C.referTo.references)&&typeof C.referTo.callback=="function"}function Tr(C){return C&&typeof C.referToSelf=="object"&&typeof C.referToSelf.callback=="function"}function sr(C,M){if(!C)return M;if(M&&M!==C){const N=new Error("Function names do not match (expected: "+C+", actual: "+M+")");throw N.data={actual:M,expected:C},N}return C}function zr(C){let M;for(const N in C)Object.prototype.hasOwnProperty.call(C,N)&&(s(C[N])||typeof C[N].signature=="string")&&(M=sr(M,C[N].name));return M}function Hr(C,M){let N;for(N in M)if(Object.prototype.hasOwnProperty.call(M,N)){if(N in C&&M[N]!==C[N]){const P=new Error('Signature "'+N+'" is defined twice');throw P.data={signature:N,sourceFunction:M[N],destFunction:C[N]},P}C[N]=M[N]}}const ft=f;f=function(C){const M=typeof C=="string",N=M?1:0;let P=M?C:"";const R={};for(let $=N;$<arguments.length;++$){const G=arguments[$];let Z={},Y;if(typeof G=="function"?(Y=G.name,typeof G.signature=="string"?Z[G.signature]=G:s(G)&&(Z=G.signatures)):r(G)&&(Z=G,M||(Y=zr(G))),Object.keys(Z).length===0){const U=new TypeError("Argument to 'typed' at index "+$+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw U.data={index:$,argument:G},U}M||(P=sr(P,Y)),Hr(R,Z)}return ar(P||"",R)},f.create=Sn,f.createCount=ft.createCount,f.onMismatch=tr,f.throwMismatchError=tr,f.createError=z,f.clear=D,f.clearConversions=o,f.addTypes=l,f._findType=v,f.referTo=ur,f.referToSelf=Cr,f.convert=c,f.findSignature=h,f.find=g,f.isTypedFunction=s,f.warnAgainstDeprecatedThis=!0,f.addType=function(C,M){let N="any";M!==!1&&i.has("Object")&&(N="Object"),f.addTypes([C],N)};function Ce(C){if(!C||typeof C.from!="string"||typeof C.to!="string"||typeof C.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(C.to===C.from)throw new SyntaxError('Illegal to define conversion from "'+C.from+'" to itself.')}return f.addConversion=function(C){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ce(C);const N=v(C.to),P=N.conversionsTo.find(R=>R.from===C.from);if(P)if(M&&M.override)f.removeConversion({from:P.from,to:C.to,convert:P.convert});else throw new Error('There is already a conversion from "'+C.from+'" to "'+N.name+'"');N.conversionsTo.push({from:C.from,convert:C.convert,index:a++})},f.addConversions=function(C,M){C.forEach(N=>f.addConversion(N,M))},f.removeConversion=function(C){Ce(C);const M=v(C.to),N=Ar(M.conversionsTo,R=>R.from===C.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+C.from+" to "+C.to);if(N.convert!==C.convert)throw new Error("Conversion to remove does not match existing conversion");const P=M.conversionsTo.indexOf(N);M.conversionsTo.splice(P,1)},f.resolve=function(C,M){if(!s(C))throw new TypeError(qt);const N=C._typedFunctionData.signatures;for(let P=0;P<N.length;++P)if(N[P].test(M))return N[P];return null},f}const Rt=Sn();function Br(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function vt(r,e,t){var i={2:"0b",8:"0o",16:"0x"},n=i[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Br(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Br(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var f="";return r<0&&(r=-r,f="-"),"".concat(f).concat(n).concat(r.toString(e)).concat(a)}function Dt(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:i,wordSize:n}=Mn(e);switch(t){case"fixed":return Tu(r,i);case"exponential":return xn(r,i);case"engineering":return Nu(r,i);case"bin":return vt(r,2,n);case"oct":return vt(r,8,n);case"hex":return vt(r,16,n);case"auto":return zu(r,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Mn(r){var e="auto",t,i;if(r!==void 0)if(gr(r))t=r;else if(br(r))t=r.toNumber();else if(Et(r))r.precision!==void 0&&(t=Lt(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(i=Lt(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:i}}function We(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],i=e[2],n=parseFloat(e[4]||"0"),a=i.indexOf(".");n+=a!==-1?a-1:i.length-1;var f=i.replace(".","").replace(/^0*/,function(v){return n-=v.length,""}).replace(/0*$/,"").split("").map(function(v){return parseInt(v)});return f.length===0&&(f.push(0),n++),{sign:t,coefficients:f,exponent:n}}function Nu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=We(r),i=ke(t,e),n=i.exponent,a=i.coefficients,f=n%3===0?n:n<0?n-3-n%3:n-n%3;if(gr(e))for(;e>a.length||n-f+1>a.length;)a.push(0);else for(var v=Math.abs(n-f)-(a.length-1),l=0;l<v;l++)a.push(0);for(var D=Math.abs(n-f),o=1;D>0;)o++,D--;var u=a.slice(o).join(""),s=gr(e)&&u.length||u.match(/[1-9]/)?"."+u:"",h=a.slice(0,o).join("")+s+"e"+(n>=0?"+":"")+f.toString();return i.sign+h}function Tu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=We(r),i=typeof e=="number"?ke(t,t.exponent+1+e):t,n=i.coefficients,a=i.exponent+1,f=a+(e||0);return n.length<f&&(n=n.concat(ye(f-n.length))),a<0&&(n=ye(-a+1).concat(n),a=1),a<n.length&&n.splice(a,0,a===0?"0.":"."),i.sign+n.join("")}function xn(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=We(r),i=e?ke(t,e):t,n=i.coefficients,a=i.exponent;n.length<e&&(n=n.concat(ye(e-n.length)));var f=n.shift();return i.sign+f+(n.length>0?"."+n.join(""):"")+"e"+(a>=0?"+":"")+a}function zu(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var i=Ut(t==null?void 0:t.lowerExp,-3),n=Ut(t==null?void 0:t.upperExp,5),a=We(r),f=e?ke(a,e):a;if(f.exponent<i||f.exponent>=n)return xn(r,e);var v=f.coefficients,l=f.exponent;v.length<e&&(v=v.concat(ye(e-v.length))),v=v.concat(ye(l-v.length+1+(v.length<e?e-v.length:0))),v=ye(-l).concat(v);var D=l>0?l:0;return D<v.length-1&&v.splice(D+1,0,"."),f.sign+v.join("")}function ke(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),t.exponent++,a++),a--,i[a]++}}return t}function ye(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function Ou(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function ve(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),i)}function Lt(r,e){if(gr(r))return r;if(br(r))return r.toNumber();e()}function Ut(r,e){return gr(r)?r:br(r)?r.toNumber():e}function X(r,e,t,i){function n(a){var f=Mu(a,e.map($u));return Iu(r,e,a),t(f)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Iu(r,e,t){var i=e.filter(a=>!Pu(a)).every(a=>t[a]!==void 0);if(!i){var n=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Pu(r){return r&&r[0]==="?"}function $u(r){return r&&r[0]==="?"?r.slice(1):r}function qu(r,e){if(Nn(r)&&bn(r,e))return r[e];throw typeof r[e]=="function"&&Uu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Ru(r,e,t){if(Nn(r)&&bn(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function Lu(r,e){return e in r}function bn(r,e){return!r||typeof r!="object"?!1:Se(Zu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Uu(r,e){return r==null||typeof r[e]!="function"||Se(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Se(Vu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Nn(r){return typeof r=="object"&&r&&r.constructor===Object}var Zu={length:!0,name:!0},Vu={toString:!0,valueOf:!0,toLocaleString:!0};class Hu{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return qu(this.wrappedObject,e)}set(e,t){return Ru(this.wrappedObject,e,t),this}has(e){return Lu(this.wrappedObject,e)}entries(){return Ju(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Ju(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function Gu(r){return r?r instanceof Map||r instanceof Hu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Tn=function(){return Tn=Rt.create,Rt},Yu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ku=X("typed",Yu,function(e){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:a}=e,f=Tn();return f.clear(),f.addTypes([{name:"number",test:gr},{name:"Complex",test:Fn},{name:"BigNumber",test:br},{name:"bigint",test:ji},{name:"Fraction",test:En},{name:"Unit",test:Cn},{name:"identifier",test:v=>re&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(v)},{name:"string",test:re},{name:"Chain",test:_u},{name:"Array",test:wr},{name:"Matrix",test:Mr},{name:"DenseMatrix",test:_n},{name:"SparseMatrix",test:Bn},{name:"Range",test:ru},{name:"Index",test:Ft},{name:"boolean",test:eu},{name:"ResultSet",test:tu},{name:"Help",test:nu},{name:"function",test:iu},{name:"Date",test:uu},{name:"RegExp",test:au},{name:"null",test:ou},{name:"undefined",test:su},{name:"AccessorNode",test:fu},{name:"ArrayNode",test:cu},{name:"AssignmentNode",test:lu},{name:"BlockNode",test:vu},{name:"ConditionalNode",test:hu},{name:"ConstantNode",test:Du},{name:"FunctionNode",test:du},{name:"FunctionAssignmentNode",test:pu},{name:"IndexNode",test:mu},{name:"Node",test:gu},{name:"ObjectNode",test:wu},{name:"OperatorNode",test:yu},{name:"ParenthesisNode",test:Au},{name:"RangeNode",test:Fu},{name:"RelationalNode",test:Eu},{name:"SymbolNode",test:Cu},{name:"Map",test:Gu},{name:"Object",test:Et}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||Pe(l),Ou(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return i||$e(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||$e(l),new i(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||Pe(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||qe(l),new a(l.toString())}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||$e(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||qe(l);var D=new a(l);if(D.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return D}},{from:"string",to:"number",convert:function(l){var D=Number(l);if(isNaN(D))throw new Error('Cannot convert "'+l+'" to a number');return D}},{from:"string",to:"BigNumber",convert:function(l){t||Pe(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||qe(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||$e(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||Pe(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||qe(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||Xu(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),f.onMismatch=(v,l,D)=>{var o=f.createError(v,l,D);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&Ue(l[0])&&D.some(s=>!s.params.includes(","))){var u=new TypeError("Function '".concat(v,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(v,")'."));throw u.data=o.data,u}throw o},f.onMismatch=(v,l,D)=>{var o=f.createError(v,l,D);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&Ue(l[0])&&D.some(s=>!s.params.includes(","))){var u=new TypeError("Function '".concat(v,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(v,")'."));throw u.data=o.data,u}throw o},f});function Pe(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function $e(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Xu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function qe(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ge=9e15,se=1e9,pt="0123456789abcdef",Ze="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ve="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",dt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ge,maxE:ge,crypto:!1},zn,ne,er=!0,je="[DecimalError] ",oe=je+"Invalid argument: ",On=je+"Precision limit exceeded",In=je+"crypto unavailable",Pn="[object Decimal]",Or=Math.floor,_r=Math.pow,Qu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Wu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ku=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,$n=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr=1e7,rr=7,ju=9007199254740991,ra=Ze.length-1,mt=Ve.length-1,q={toStringTag:Pn};q.absoluteValue=q.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),W(r)};q.ceil=function(){return W(new this.constructor(this),this.e+1,2)};q.clampedTo=q.clamp=function(r,e){var t,i=this,n=i.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(oe+e);return t=i.cmp(r),t<0?r:i.cmp(e)>0?e:new n(i)};q.comparedTo=q.cmp=function(r){var e,t,i,n,a=this,f=a.d,v=(r=new a.constructor(r)).d,l=a.s,D=r.s;if(!f||!v)return!l||!D?NaN:l!==D?l:f===v?0:!f^l<0?1:-1;if(!f[0]||!v[0])return f[0]?l:v[0]?-D:0;if(l!==D)return l;if(a.e!==r.e)return a.e>r.e^l<0?1:-1;for(i=f.length,n=v.length,e=0,t=i<n?i:n;e<t;++e)if(f[e]!==v[e])return f[e]>v[e]^l<0?1:-1;return i===n?0:i>n^l<0?1:-1};q.cosine=q.cos=function(){var r,e,t=this,i=t.constructor;return t.d?t.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+rr,i.rounding=1,t=ea(i,Zn(i,t)),i.precision=r,i.rounding=e,W(ne==2||ne==3?t.neg():t,r,e,!0)):new i(1):new i(NaN)};q.cubeRoot=q.cbrt=function(){var r,e,t,i,n,a,f,v,l,D,o=this,u=o.constructor;if(!o.isFinite()||o.isZero())return new u(o);for(er=!1,a=o.s*_r(o.s*o,1/3),!a||Math.abs(a)==1/0?(t=Nr(o.d),r=o.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=_r(t,1/3),r=Or((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),i=new u(t),i.s=o.s):i=new u(a.toString()),f=(r=u.precision)+3;;)if(v=i,l=v.times(v).times(v),D=l.plus(o),i=dr(D.plus(o).times(v),D.plus(l),f+2,1),Nr(v.d).slice(0,f)===(t=Nr(i.d)).slice(0,f))if(t=t.slice(f-3,f+1),t=="9999"||!n&&t=="4999"){if(!n&&(W(v,r+1,0),v.times(v).times(v).eq(o))){i=v;break}f+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(W(i,r+1,1),e=!i.times(i).times(i).eq(o));break}return er=!0,W(i,r,u.rounding,e)};q.decimalPlaces=q.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Or(this.e/rr))*rr,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};q.dividedBy=q.div=function(r){return dr(this,new this.constructor(r))};q.dividedToIntegerBy=q.divToInt=function(r){var e=this,t=e.constructor;return W(dr(e,new t(r),0,1,1),t.precision,t.rounding)};q.equals=q.eq=function(r){return this.cmp(r)===0};q.floor=function(){return W(new this.constructor(this),this.e+1,3)};q.greaterThan=q.gt=function(r){return this.cmp(r)>0};q.greaterThanOrEqualTo=q.gte=function(r){var e=this.cmp(r);return e==1||e===0};q.hyperbolicCosine=q.cosh=function(){var r,e,t,i,n,a=this,f=a.constructor,v=new f(1);if(!a.isFinite())return new f(a.s?1/0:NaN);if(a.isZero())return v;t=f.precision,i=f.rounding,f.precision=t+Math.max(a.e,a.sd())+4,f.rounding=1,n=a.d.length,n<32?(r=Math.ceil(n/3),e=(1/et(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Fe(f,1,a.times(e),new f(1),!0);for(var l,D=r,o=new f(8);D--;)l=a.times(a),a=v.minus(l.times(o.minus(l.times(o))));return W(a,f.precision=t,f.rounding=i,!0)};q.hyperbolicSine=q.sinh=function(){var r,e,t,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(n.e,n.sd())+4,a.rounding=1,i=n.d.length,i<3)n=Fe(a,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/et(5,r)),n=Fe(a,2,n,n,!0);for(var f,v=new a(5),l=new a(16),D=new a(20);r--;)f=n.times(n),n=n.times(v.plus(f.times(l.times(f).plus(D))))}return a.precision=e,a.rounding=t,W(n,e,t,!0)};q.hyperbolicTangent=q.tanh=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,dr(t.sinh(),t.cosh(),i.precision=r,i.rounding=e)):new i(t.s)};q.inverseCosine=q.acos=function(){var r,e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,a=t.rounding;return i!==-1?i===0?e.isNeg()?Xr(t,n,a):new t(0):new t(NaN):e.isZero()?Xr(t,n+4,a).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=Xr(t,n+4,a).times(.5),t.precision=n,t.rounding=a,r.minus(e))};q.inverseHyperbolicCosine=q.acosh=function(){var r,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,er=!1,t=t.times(t).minus(1).sqrt().plus(t),er=!0,i.precision=r,i.rounding=e,t.ln()):new i(t)};q.inverseHyperbolicSine=q.asinh=function(){var r,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,er=!1,t=t.times(t).plus(1).sqrt().plus(t),er=!0,i.precision=r,i.rounding=e,t.ln())};q.inverseHyperbolicTangent=q.atanh=function(){var r,e,t,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=a.precision,e=a.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?W(new a(n),r,e,!0):(a.precision=t=i-n.e,n=dr(n.plus(1),new a(1).minus(n),t+r,1),a.precision=r+4,a.rounding=1,n=n.ln(),a.precision=r,a.rounding=e,n.times(.5))):new a(NaN)};q.inverseSine=q.asin=function(){var r,e,t,i,n=this,a=n.constructor;return n.isZero()?new a(n):(e=n.abs().cmp(1),t=a.precision,i=a.rounding,e!==-1?e===0?(r=Xr(a,t+4,i).times(.5),r.s=n.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=i,n.times(2)))};q.inverseTangent=q.atan=function(){var r,e,t,i,n,a,f,v,l,D=this,o=D.constructor,u=o.precision,s=o.rounding;if(D.isFinite()){if(D.isZero())return new o(D);if(D.abs().eq(1)&&u+4<=mt)return f=Xr(o,u+4,s).times(.25),f.s=D.s,f}else{if(!D.s)return new o(NaN);if(u+4<=mt)return f=Xr(o,u+4,s).times(.5),f.s=D.s,f}for(o.precision=v=u+10,o.rounding=1,t=Math.min(28,v/rr+2|0),r=t;r;--r)D=D.div(D.times(D).plus(1).sqrt().plus(1));for(er=!1,e=Math.ceil(v/rr),i=1,l=D.times(D),f=new o(D),n=D;r!==-1;)if(n=n.times(l),a=f.minus(n.div(i+=2)),n=n.times(l),f=a.plus(n.div(i+=2)),f.d[e]!==void 0)for(r=e;f.d[r]===a.d[r]&&r--;);return t&&(f=f.times(2<<t-1)),er=!0,W(f,o.precision=u,o.rounding=s,!0)};q.isFinite=function(){return!!this.d};q.isInteger=q.isInt=function(){return!!this.d&&Or(this.e/rr)>this.d.length-2};q.isNaN=function(){return!this.s};q.isNegative=q.isNeg=function(){return this.s<0};q.isPositive=q.isPos=function(){return this.s>0};q.isZero=function(){return!!this.d&&this.d[0]===0};q.lessThan=q.lt=function(r){return this.cmp(r)<0};q.lessThanOrEqualTo=q.lte=function(r){return this.cmp(r)<1};q.logarithm=q.log=function(r){var e,t,i,n,a,f,v,l,D=this,o=D.constructor,u=o.precision,s=o.rounding,h=5;if(r==null)r=new o(10),e=!0;else{if(r=new o(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new o(NaN);e=r.eq(10)}if(t=D.d,D.s<0||!t||!t[0]||D.eq(1))return new o(t&&!t[0]?-1/0:D.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(n=t[0];n%10===0;)n/=10;a=n!==1}if(er=!1,v=u+h,f=ae(D,v),i=e?He(o,v+10):ae(r,v),l=dr(f,i,v,1),Me(l.d,n=u,s))do if(v+=10,f=ae(D,v),i=e?He(o,v+10):ae(r,v),l=dr(f,i,v,1),!a){+Nr(l.d).slice(n+1,n+15)+1==1e14&&(l=W(l,u+1,0));break}while(Me(l.d,n+=10,s));return er=!0,W(l,u,s)};q.minus=q.sub=function(r){var e,t,i,n,a,f,v,l,D,o,u,s,h=this,g=h.constructor;if(r=new g(r),!h.d||!r.d)return!h.s||!r.s?r=new g(NaN):h.d?r.s=-r.s:r=new g(r.d||h.s!==r.s?h:NaN),r;if(h.s!=r.s)return r.s=-r.s,h.plus(r);if(D=h.d,s=r.d,v=g.precision,l=g.rounding,!D[0]||!s[0]){if(s[0])r.s=-r.s;else if(D[0])r=new g(h);else return new g(l===3?-0:0);return er?W(r,v,l):r}if(t=Or(r.e/rr),o=Or(h.e/rr),D=D.slice(),a=o-t,a){for(u=a<0,u?(e=D,a=-a,f=s.length):(e=s,t=o,f=D.length),i=Math.max(Math.ceil(v/rr),f)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=D.length,f=s.length,u=i<f,u&&(f=i),i=0;i<f;i++)if(D[i]!=s[i]){u=D[i]<s[i];break}a=0}for(u&&(e=D,D=s,s=e,r.s=-r.s),f=D.length,i=s.length-f;i>0;--i)D[f++]=0;for(i=s.length;i>a;){if(D[--i]<s[i]){for(n=i;n&&D[--n]===0;)D[n]=Qr-1;--D[n],D[i]+=Qr}D[i]-=s[i]}for(;D[--f]===0;)D.pop();for(;D[0]===0;D.shift())--t;return D[0]?(r.d=D,r.e=rt(D,t),er?W(r,v,l):r):new g(l===3?-0:0)};q.modulo=q.mod=function(r){var e,t=this,i=t.constructor;return r=new i(r),!t.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||t.d&&!t.d[0]?W(new i(t),i.precision,i.rounding):(er=!1,i.modulo==9?(e=dr(t,r.abs(),0,3,1),e.s*=r.s):e=dr(t,r,0,i.modulo,1),e=e.times(r),er=!0,t.minus(e))};q.naturalExponential=q.exp=function(){return gt(this)};q.naturalLogarithm=q.ln=function(){return ae(this)};q.negated=q.neg=function(){var r=new this.constructor(this);return r.s=-r.s,W(r)};q.plus=q.add=function(r){var e,t,i,n,a,f,v,l,D,o,u=this,s=u.constructor;if(r=new s(r),!u.d||!r.d)return!u.s||!r.s?r=new s(NaN):u.d||(r=new s(r.d||u.s===r.s?u:NaN)),r;if(u.s!=r.s)return r.s=-r.s,u.minus(r);if(D=u.d,o=r.d,v=s.precision,l=s.rounding,!D[0]||!o[0])return o[0]||(r=new s(u)),er?W(r,v,l):r;if(a=Or(u.e/rr),i=Or(r.e/rr),D=D.slice(),n=a-i,n){for(n<0?(t=D,n=-n,f=o.length):(t=o,i=a,f=D.length),a=Math.ceil(v/rr),f=a>f?a+1:f+1,n>f&&(n=f,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(f=D.length,n=o.length,f-n<0&&(n=f,t=o,o=D,D=t),e=0;n;)e=(D[--n]=D[n]+o[n]+e)/Qr|0,D[n]%=Qr;for(e&&(D.unshift(e),++i),f=D.length;D[--f]==0;)D.pop();return r.d=D,r.e=rt(D,i),er?W(r,v,l):r};q.precision=q.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(oe+r);return t.d?(e=qn(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};q.round=function(){var r=this,e=r.constructor;return W(new e(r),r.e+1,e.rounding)};q.sine=q.sin=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+rr,i.rounding=1,t=na(i,Zn(i,t)),i.precision=r,i.rounding=e,W(ne>2?t.neg():t,r,e,!0)):new i(NaN)};q.squareRoot=q.sqrt=function(){var r,e,t,i,n,a,f=this,v=f.d,l=f.e,D=f.s,o=f.constructor;if(D!==1||!v||!v[0])return new o(!D||D<0&&(!v||v[0])?NaN:v?f:1/0);for(er=!1,D=Math.sqrt(+f),D==0||D==1/0?(e=Nr(v),(e.length+l)%2==0&&(e+="0"),D=Math.sqrt(e),l=Or((l+1)/2)-(l<0||l%2),D==1/0?e="5e"+l:(e=D.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),i=new o(e)):i=new o(D.toString()),t=(l=o.precision)+3;;)if(a=i,i=a.plus(dr(f,a,t+2,1)).times(.5),Nr(a.d).slice(0,t)===(e=Nr(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(W(a,l+1,0),a.times(a).eq(f))){i=a;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(W(i,l+1,1),r=!i.times(i).eq(f));break}return er=!0,W(i,l,o.rounding,r)};q.tangent=q.tan=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,t=t.sin(),t.s=1,t=dr(t,new i(1).minus(t.times(t)).sqrt(),r+10,0),i.precision=r,i.rounding=e,W(ne==2||ne==4?t.neg():t,r,e,!0)):new i(NaN)};q.times=q.mul=function(r){var e,t,i,n,a,f,v,l,D,o=this,u=o.constructor,s=o.d,h=(r=new u(r)).d;if(r.s*=o.s,!s||!s[0]||!h||!h[0])return new u(!r.s||s&&!s[0]&&!h||h&&!h[0]&&!s?NaN:!s||!h?r.s/0:r.s*0);for(t=Or(o.e/rr)+Or(r.e/rr),l=s.length,D=h.length,l<D&&(a=s,s=h,h=a,f=l,l=D,D=f),a=[],f=l+D,i=f;i--;)a.push(0);for(i=D;--i>=0;){for(e=0,n=l+i;n>i;)v=a[n]+h[i]*s[n-i-1]+e,a[n--]=v%Qr|0,e=v/Qr|0;a[n]=(a[n]+e)%Qr|0}for(;!a[--f];)a.pop();return e?++t:a.shift(),r.d=a,r.e=rt(a,t),er?W(r,u.precision,u.rounding):r};q.toBinary=function(r,e){return Ct(this,2,r,e)};q.toDecimalPlaces=q.toDP=function(r,e){var t=this,i=t.constructor;return t=new i(t),r===void 0?t:(Rr(r,0,se),e===void 0?e=i.rounding:Rr(e,0,8),W(t,r+t.e+1,e))};q.toExponential=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=ee(i,!0):(Rr(r,0,se),e===void 0?e=n.rounding:Rr(e,0,8),i=W(new n(i),r+1,e),t=ee(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+t:t};q.toFixed=function(r,e){var t,i,n=this,a=n.constructor;return r===void 0?t=ee(n):(Rr(r,0,se),e===void 0?e=a.rounding:Rr(e,0,8),i=W(new a(n),r+n.e+1,e),t=ee(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};q.toFraction=function(r){var e,t,i,n,a,f,v,l,D,o,u,s,h=this,g=h.d,c=h.constructor;if(!g)return new c(h);if(D=t=new c(1),i=l=new c(0),e=new c(i),a=e.e=qn(g)-h.e-1,f=a%rr,e.d[0]=_r(10,f<0?rr+f:f),r==null)r=a>0?e:D;else{if(v=new c(r),!v.isInt()||v.lt(D))throw Error(oe+v);r=v.gt(e)?a>0?e:D:v}for(er=!1,v=new c(Nr(g)),o=c.precision,c.precision=a=g.length*rr*2;u=dr(v,e,0,1,1),n=t.plus(u.times(i)),n.cmp(r)!=1;)t=i,i=n,n=D,D=l.plus(u.times(n)),l=n,n=e,e=v.minus(u.times(n)),v=n;return n=dr(r.minus(t),i,0,1,1),l=l.plus(n.times(D)),t=t.plus(n.times(i)),l.s=D.s=h.s,s=dr(D,i,a,1).minus(h).abs().cmp(dr(l,t,a,1).minus(h).abs())<1?[D,i]:[l,t],c.precision=o,er=!0,s};q.toHexadecimal=q.toHex=function(r,e){return Ct(this,16,r,e)};q.toNearest=function(r,e){var t=this,i=t.constructor;if(t=new i(t),r==null){if(!t.d)return t;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Rr(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(er=!1,t=dr(t,r,0,e,1).times(r),er=!0,W(t)):(r.s=t.s,t=r),t};q.toNumber=function(){return+this};q.toOctal=function(r,e){return Ct(this,8,r,e)};q.toPower=q.pow=function(r){var e,t,i,n,a,f,v=this,l=v.constructor,D=+(r=new l(r));if(!v.d||!r.d||!v.d[0]||!r.d[0])return new l(_r(+v,D));if(v=new l(v),v.eq(1))return v;if(i=l.precision,a=l.rounding,r.eq(1))return W(v,i,a);if(e=Or(r.e/rr),e>=r.d.length-1&&(t=D<0?-D:D)<=ju)return n=Rn(l,v,t,i),r.s<0?new l(1).div(n):W(n,i,a);if(f=v.s,f<0){if(e<r.d.length-1)return new l(NaN);if(r.d[e]&1||(f=1),v.e==0&&v.d[0]==1&&v.d.length==1)return v.s=f,v}return t=_r(+v,D),e=t==0||!isFinite(t)?Or(D*(Math.log("0."+Nr(v.d))/Math.LN10+v.e+1)):new l(t+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?f/0:0):(er=!1,l.rounding=v.s=1,t=Math.min(12,(e+"").length),n=gt(r.times(ae(v,i+t)),i),n.d&&(n=W(n,i+5,1),Me(n.d,i,a)&&(e=i+10,n=W(gt(r.times(ae(v,e+t)),e),e+5,1),+Nr(n.d).slice(i+1,i+15)+1==1e14&&(n=W(n,i+1,0)))),n.s=f,er=!0,l.rounding=a,W(n,i,a))};q.toPrecision=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=ee(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Rr(r,1,se),e===void 0?e=n.rounding:Rr(e,0,8),i=W(new n(i),r,e),t=ee(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+t:t};q.toSignificantDigits=q.toSD=function(r,e){var t=this,i=t.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Rr(r,1,se),e===void 0?e=i.rounding:Rr(e,0,8)),W(new i(t),r,e)};q.toString=function(){var r=this,e=r.constructor,t=ee(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};q.truncated=q.trunc=function(){return W(new this.constructor(this),this.e+1,1)};q.valueOf=q.toJSON=function(){var r=this,e=r.constructor,t=ee(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Nr(r){var e,t,i,n=r.length-1,a="",f=r[0];if(n>0){for(a+=f,e=1;e<n;e++)i=r[e]+"",t=rr-i.length,t&&(a+=ie(t)),a+=i;f=r[e],i=f+"",t=rr-i.length,t&&(a+=ie(t))}else if(f===0)return"0";for(;f%10===0;)f/=10;return a+f}function Rr(r,e,t){if(r!==~~r||r<e||r>t)throw Error(oe+r)}function Me(r,e,t,i){var n,a,f,v;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=rr,n=0):(n=Math.ceil((e+1)/rr),e%=rr),a=_r(10,rr-e),v=r[n]%a|0,i==null?e<3?(e==0?v=v/100|0:e==1&&(v=v/10|0),f=t<4&&v==99999||t>3&&v==49999||v==5e4||v==0):f=(t<4&&v+1==a||t>3&&v+1==a/2)&&(r[n+1]/a/100|0)==_r(10,e-2)-1||(v==a/2||v==0)&&(r[n+1]/a/100|0)==0:e<4?(e==0?v=v/1e3|0:e==1?v=v/100|0:e==2&&(v=v/10|0),f=(i||t<4)&&v==9999||!i&&t>3&&v==4999):f=((i||t<4)&&v+1==a||!i&&t>3&&v+1==a/2)&&(r[n+1]/a/1e3|0)==_r(10,e-3)-1,f}function Re(r,e,t){for(var i,n=[0],a,f=0,v=r.length;f<v;){for(a=n.length;a--;)n[a]*=e;for(n[0]+=pt.indexOf(r.charAt(f++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function ea(r,e){var t,i,n;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),n=(1/et(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=Fe(r,1,e.times(n),new r(1));for(var a=t;a--;){var f=e.times(e);e=f.times(f).minus(f).times(8).plus(1)}return r.precision-=t,e}var dr=function(){function r(i,n,a){var f,v=0,l=i.length;for(i=i.slice();l--;)f=i[l]*n+v,i[l]=f%a|0,v=f/a|0;return v&&i.unshift(v),i}function e(i,n,a,f){var v,l;if(a!=f)l=a>f?1:-1;else for(v=l=0;v<a;v++)if(i[v]!=n[v]){l=i[v]>n[v]?1:-1;break}return l}function t(i,n,a,f){for(var v=0;a--;)i[a]-=v,v=i[a]<n[a]?1:0,i[a]=v*f+i[a]-n[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,a,f,v,l){var D,o,u,s,h,g,c,p,m,A,w,F,y,d,_,B,E,S,x,z,L=i.constructor,I=i.s==n.s?1:-1,O=i.d,b=n.d;if(!O||!O[0]||!b||!b[0])return new L(!i.s||!n.s||(O?b&&O[0]==b[0]:!b)?NaN:O&&O[0]==0||!b?I*0:I/0);for(l?(h=1,o=i.e-n.e):(l=Qr,h=rr,o=Or(i.e/h)-Or(n.e/h)),x=b.length,E=O.length,m=new L(I),A=m.d=[],u=0;b[u]==(O[u]||0);u++);if(b[u]>(O[u]||0)&&o--,a==null?(d=a=L.precision,f=L.rounding):v?d=a+(i.e-n.e)+1:d=a,d<0)A.push(1),g=!0;else{if(d=d/h+2|0,u=0,x==1){for(s=0,b=b[0],d++;(u<E||s)&&d--;u++)_=s*l+(O[u]||0),A[u]=_/b|0,s=_%b|0;g=s||u<E}else{for(s=l/(b[0]+1)|0,s>1&&(b=r(b,s,l),O=r(O,s,l),x=b.length,E=O.length),B=x,w=O.slice(0,x),F=w.length;F<x;)w[F++]=0;z=b.slice(),z.unshift(0),S=b[0],b[1]>=l/2&&++S;do s=0,D=e(b,w,x,F),D<0?(y=w[0],x!=F&&(y=y*l+(w[1]||0)),s=y/S|0,s>1?(s>=l&&(s=l-1),c=r(b,s,l),p=c.length,F=w.length,D=e(c,w,p,F),D==1&&(s--,t(c,x<p?z:b,p,l))):(s==0&&(D=s=1),c=b.slice()),p=c.length,p<F&&c.unshift(0),t(w,c,F,l),D==-1&&(F=w.length,D=e(b,w,x,F),D<1&&(s++,t(w,x<F?z:b,F,l))),F=w.length):D===0&&(s++,w=[0]),A[u++]=s,D&&w[0]?w[F++]=O[B]||0:(w=[O[B]],F=1);while((B++<E||w[0]!==void 0)&&d--);g=w[0]!==void 0}A[0]||A.shift()}if(h==1)m.e=o,zn=g;else{for(u=1,s=A[0];s>=10;s/=10)u++;m.e=u+o*h-1,W(m,v?a+m.e+1:a,f,g)}return m}}();function W(r,e,t,i){var n,a,f,v,l,D,o,u,s,h=r.constructor;r:if(e!=null){if(u=r.d,!u)return r;for(n=1,v=u[0];v>=10;v/=10)n++;if(a=e-n,a<0)a+=rr,f=e,o=u[s=0],l=o/_r(10,n-f-1)%10|0;else if(s=Math.ceil((a+1)/rr),v=u.length,s>=v)if(i){for(;v++<=s;)u.push(0);o=l=0,n=1,a%=rr,f=a-rr+1}else break r;else{for(o=v=u[s],n=1;v>=10;v/=10)n++;a%=rr,f=a-rr+n,l=f<0?0:o/_r(10,n-f-1)%10|0}if(i=i||e<0||u[s+1]!==void 0||(f<0?o:o%_r(10,n-f-1)),D=t<4?(l||i)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||i||t==6&&(a>0?f>0?o/_r(10,n-f):0:u[s-1])%10&1||t==(r.s<0?8:7)),e<1||!u[0])return u.length=0,D?(e-=r.e+1,u[0]=_r(10,(rr-e%rr)%rr),r.e=-e||0):u[0]=r.e=0,r;if(a==0?(u.length=s,v=1,s--):(u.length=s+1,v=_r(10,rr-a),u[s]=f>0?(o/_r(10,n-f)%_r(10,f)|0)*v:0),D)for(;;)if(s==0){for(a=1,f=u[0];f>=10;f/=10)a++;for(f=u[0]+=v,v=1;f>=10;f/=10)v++;a!=v&&(r.e++,u[0]==Qr&&(u[0]=1));break}else{if(u[s]+=v,u[s]!=Qr)break;u[s--]=0,v=1}for(a=u.length;u[--a]===0;)u.pop()}return er&&(r.e>h.maxE?(r.d=null,r.e=NaN):r.e<h.minE&&(r.e=0,r.d=[0])),r}function ee(r,e,t){if(!r.isFinite())return Un(r);var i,n=r.e,a=Nr(r.d),f=a.length;return e?(t&&(i=t-f)>0?a=a.charAt(0)+"."+a.slice(1)+ie(i):f>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):n<0?(a="0."+ie(-n-1)+a,t&&(i=t-f)>0&&(a+=ie(i))):n>=f?(a+=ie(n+1-f),t&&(i=t-n-1)>0&&(a=a+"."+ie(i))):((i=n+1)<f&&(a=a.slice(0,i)+"."+a.slice(i)),t&&(i=t-f)>0&&(n+1===f&&(a+="."),a+=ie(i))),a}function rt(r,e){var t=r[0];for(e*=rr;t>=10;t/=10)e++;return e}function He(r,e,t){if(e>ra)throw er=!0,t&&(r.precision=t),Error(On);return W(new r(Ze),e,1,!0)}function Xr(r,e,t){if(e>mt)throw Error(On);return W(new r(Ve),e,t,!0)}function qn(r){var e=r.length-1,t=e*rr+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function ie(r){for(var e="";r--;)e+="0";return e}function Rn(r,e,t,i){var n,a=new r(1),f=Math.ceil(i/rr+4);for(er=!1;;){if(t%2&&(a=a.times(e),Vt(a.d,f)&&(n=!0)),t=Or(t/2),t===0){t=a.d.length-1,n&&a.d[t]===0&&++a.d[t];break}e=e.times(e),Vt(e.d,f)}return er=!0,a}function Zt(r){return r.d[r.d.length-1]&1}function Ln(r,e,t){for(var i,n=new r(e[0]),a=0;++a<e.length;)if(i=new r(e[a]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function gt(r,e){var t,i,n,a,f,v,l,D=0,o=0,u=0,s=r.constructor,h=s.rounding,g=s.precision;if(!r.d||!r.d[0]||r.e>17)return new s(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(er=!1,l=g):l=e,v=new s(.03125);r.e>-2;)r=r.times(v),u+=5;for(i=Math.log(_r(2,u))/Math.LN10*2+5|0,l+=i,t=a=f=new s(1),s.precision=l;;){if(a=W(a.times(r),l,1),t=t.times(++o),v=f.plus(dr(a,t,l,1)),Nr(v.d).slice(0,l)===Nr(f.d).slice(0,l)){for(n=u;n--;)f=W(f.times(f),l,1);if(e==null)if(D<3&&Me(f.d,l-i,h,D))s.precision=l+=10,t=a=v=new s(1),o=0,D++;else return W(f,s.precision=g,h,er=!0);else return s.precision=g,f}f=v}}function ae(r,e){var t,i,n,a,f,v,l,D,o,u,s,h=1,g=10,c=r,p=c.d,m=c.constructor,A=m.rounding,w=m.precision;if(c.s<0||!p||!p[0]||!c.e&&p[0]==1&&p.length==1)return new m(p&&!p[0]?-1/0:c.s!=1?NaN:p?0:c);if(e==null?(er=!1,o=w):o=e,m.precision=o+=g,t=Nr(p),i=t.charAt(0),Math.abs(a=c.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)c=c.times(r),t=Nr(c.d),i=t.charAt(0),h++;a=c.e,i>1?(c=new m("0."+t),a++):c=new m(i+"."+t.slice(1))}else return D=He(m,o+2,w).times(a+""),c=ae(new m(i+"."+t.slice(1)),o-g).plus(D),m.precision=w,e==null?W(c,w,A,er=!0):c;for(u=c,l=f=c=dr(c.minus(1),c.plus(1),o,1),s=W(c.times(c),o,1),n=3;;){if(f=W(f.times(s),o,1),D=l.plus(dr(f,new m(n),o,1)),Nr(D.d).slice(0,o)===Nr(l.d).slice(0,o))if(l=l.times(2),a!==0&&(l=l.plus(He(m,o+2,w).times(a+""))),l=dr(l,new m(h),o,1),e==null)if(Me(l.d,o-g,A,v))m.precision=o+=g,D=f=c=dr(u.minus(1),u.plus(1),o,1),s=W(c.times(c),o,1),n=v=1;else return W(l,m.precision=w,A,er=!0);else return m.precision=w,l;l=D,n+=2}}function Un(r){return String(r.s*r.s/0)}function wt(r,e){var t,i,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,r.e=t=t-i-1,r.d=[],i=(t+1)%rr,t<0&&(i+=rr),i<n){for(i&&r.d.push(+e.slice(0,i)),n-=rr;i<n;)r.d.push(+e.slice(i,i+=rr));e=e.slice(i),i=rr-e.length}else i-=n;for(;i--;)e+="0";r.d.push(+e),er&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function ta(r,e){var t,i,n,a,f,v,l,D,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),$n.test(e))return wt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Wu.test(e))t=16,e=e.toLowerCase();else if(Qu.test(e))t=2;else if(ku.test(e))t=8;else throw Error(oe+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),f=a>=0,i=r.constructor,f&&(e=e.replace(".",""),v=e.length,a=v-a,n=Rn(i,new i(t),a,a*2)),D=Re(e,t,Qr),o=D.length-1,a=o;D[a]===0;--a)D.pop();return a<0?new i(r.s*0):(r.e=rt(D,o),r.d=D,er=!1,f&&(r=dr(r,n,v*4)),l&&(r=r.times(Math.abs(l)<54?_r(2,l):Ee.pow(2,l))),er=!0,r)}function na(r,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Fe(r,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/et(5,t)),e=Fe(r,2,e,e);for(var n,a=new r(5),f=new r(16),v=new r(20);t--;)n=e.times(e),e=e.times(a.plus(n.times(f.times(n).minus(v))));return e}function Fe(r,e,t,i,n){var a,f,v,l,D=r.precision,o=Math.ceil(D/rr);for(er=!1,l=t.times(t),v=new r(i);;){if(f=dr(v.times(l),new r(e++*e++),D,1),v=n?i.plus(f):i.minus(f),i=dr(f.times(l),new r(e++*e++),D,1),f=v.plus(i),f.d[o]!==void 0){for(a=o;f.d[a]===v.d[a]&&a--;);if(a==-1)break}a=v,v=i,i=f,f=a}return er=!0,f.d.length=o+1,f}function et(r,e){for(var t=r;--e;)t*=r;return t}function Zn(r,e){var t,i=e.s<0,n=Xr(r,r.precision,1),a=n.times(.5);if(e=e.abs(),e.lte(a))return ne=i?4:1,e;if(t=e.divToInt(n),t.isZero())ne=i?3:2;else{if(e=e.minus(t.times(n)),e.lte(a))return ne=Zt(t)?i?2:3:i?4:1,e;ne=Zt(t)?i?1:4:i?3:2}return e.minus(n).abs()}function Ct(r,e,t,i){var n,a,f,v,l,D,o,u,s,h=r.constructor,g=t!==void 0;if(g?(Rr(t,1,se),i===void 0?i=h.rounding:Rr(i,0,8)):(t=h.precision,i=h.rounding),!r.isFinite())o=Un(r);else{for(o=ee(r),f=o.indexOf("."),g?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,f>=0&&(o=o.replace(".",""),s=new h(1),s.e=o.length-f,s.d=Re(ee(s),10,n),s.e=s.d.length),u=Re(o,10,n),a=l=u.length;u[--l]==0;)u.pop();if(!u[0])o=g?"0p+0":"0";else{if(f<0?a--:(r=new h(r),r.d=u,r.e=a,r=dr(r,s,t,i,0,n),u=r.d,a=r.e,D=zn),f=u[t],v=n/2,D=D||u[t+1]!==void 0,D=i<4?(f!==void 0||D)&&(i===0||i===(r.s<0?3:2)):f>v||f===v&&(i===4||D||i===6&&u[t-1]&1||i===(r.s<0?8:7)),u.length=t,D)for(;++u[--t]>n-1;)u[t]=0,t||(++a,u.unshift(1));for(l=u.length;!u[l-1];--l);for(f=0,o="";f<l;f++)o+=pt.charAt(u[f]);if(g){if(l>1)if(e==16||e==8){for(f=e==16?4:3,--l;l%f;l++)o+="0";for(u=Re(o,n,e),l=u.length;!u[l-1];--l);for(f=1,o="1.";f<l;f++)o+=pt.charAt(u[f])}else o=o.charAt(0)+"."+o.slice(1);o=o+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(++a>l)for(a-=l;a--;)o+="0";else a<l&&(o=o.slice(0,a)+"."+o.slice(a))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return r.s<0?"-"+o:o}function Vt(r,e){if(r.length>e)return r.length=e,!0}function ia(r){return new this(r).abs()}function ua(r){return new this(r).acos()}function aa(r){return new this(r).acosh()}function oa(r,e){return new this(r).plus(e)}function sa(r){return new this(r).asin()}function fa(r){return new this(r).asinh()}function ca(r){return new this(r).atan()}function la(r){return new this(r).atanh()}function va(r,e){r=new this(r),e=new this(e);var t,i=this.precision,n=this.rounding,a=i+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Xr(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Xr(this,i,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Xr(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(dr(r,e,a,1)),e=Xr(this,a,1),this.precision=i,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(dr(r,e,a,1)),t}function ha(r){return new this(r).cbrt()}function Da(r){return W(r=new this(r),r.e+1,2)}function pa(r,e,t){return new this(r).clamp(e,t)}function da(r){if(!r||typeof r!="object")throw Error(je+"Object expected");var e,t,i,n=r.defaults===!0,a=["precision",1,se,"rounding",0,8,"toExpNeg",-ge,0,"toExpPos",0,ge,"maxE",0,ge,"minE",-ge,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],n&&(this[t]=dt[t]),(i=r[t])!==void 0)if(Or(i)===i&&i>=a[e+1]&&i<=a[e+2])this[t]=i;else throw Error(oe+t+": "+i);if(t="crypto",n&&(this[t]=dt[t]),(i=r[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(In);else this[t]=!1;else throw Error(oe+t+": "+i);return this}function ma(r){return new this(r).cos()}function ga(r){return new this(r).cosh()}function Vn(r){var e,t,i;function n(a){var f,v,l,D=this;if(!(D instanceof n))return new n(a);if(D.constructor=n,Ht(a)){D.s=a.s,er?!a.d||a.e>n.maxE?(D.e=NaN,D.d=null):a.e<n.minE?(D.e=0,D.d=[0]):(D.e=a.e,D.d=a.d.slice()):(D.e=a.e,D.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){D.s=1/a<0?-1:1,D.e=0,D.d=[0];return}if(a<0?(a=-a,D.s=-1):D.s=1,a===~~a&&a<1e7){for(f=0,v=a;v>=10;v/=10)f++;er?f>n.maxE?(D.e=NaN,D.d=null):f<n.minE?(D.e=0,D.d=[0]):(D.e=f,D.d=[a]):(D.e=f,D.d=[a]);return}else if(a*0!==0){a||(D.s=NaN),D.e=NaN,D.d=null;return}return wt(D,a.toString())}else if(l!=="string")throw Error(oe+a);return(v=a.charCodeAt(0))===45?(a=a.slice(1),D.s=-1):(v===43&&(a=a.slice(1)),D.s=1),$n.test(a)?wt(D,a):ta(D,a)}if(n.prototype=q,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=da,n.clone=Vn,n.isDecimal=Ht,n.abs=ia,n.acos=ua,n.acosh=aa,n.add=oa,n.asin=sa,n.asinh=fa,n.atan=ca,n.atanh=la,n.atan2=va,n.cbrt=ha,n.ceil=Da,n.clamp=pa,n.cos=ma,n.cosh=ga,n.div=wa,n.exp=ya,n.floor=Aa,n.hypot=Fa,n.ln=Ea,n.log=Ca,n.log10=Ba,n.log2=_a,n.max=Sa,n.min=Ma,n.mod=xa,n.mul=ba,n.pow=Na,n.random=Ta,n.round=za,n.sign=Oa,n.sin=Ia,n.sinh=Pa,n.sqrt=$a,n.sub=qa,n.sum=Ra,n.tan=La,n.tanh=Ua,n.trunc=Za,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(t=i[e++])||(r[t]=this[t]);return n.config(r),n}function wa(r,e){return new this(r).div(e)}function ya(r){return new this(r).exp()}function Aa(r){return W(r=new this(r),r.e+1,3)}function Fa(){var r,e,t=new this(0);for(er=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return er=!0,new this(1/0);t=e}return er=!0,t.sqrt()}function Ht(r){return r instanceof Ee||r&&r.toStringTag===Pn||!1}function Ea(r){return new this(r).ln()}function Ca(r,e){return new this(r).log(e)}function _a(r){return new this(r).log(2)}function Ba(r){return new this(r).log(10)}function Sa(){return Ln(this,arguments,"lt")}function Ma(){return Ln(this,arguments,"gt")}function xa(r,e){return new this(r).mod(e)}function ba(r,e){return new this(r).mul(e)}function Na(r,e){return new this(r).pow(e)}function Ta(r){var e,t,i,n,a=0,f=new this(1),v=[];if(r===void 0?r=this.precision:Rr(r,1,se),i=Math.ceil(r/rr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)n=e[a],n>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:v[a++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)n=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,a):(v.push(n%1e7),a+=4);a=i/4}else throw Error(In);else for(;a<i;)v[a++]=Math.random()*1e7|0;for(i=v[--a],r%=rr,i&&r&&(n=_r(10,rr-r),v[a]=(i/n|0)*n);v[a]===0;a--)v.pop();if(a<0)t=0,v=[0];else{for(t=-1;v[0]===0;t-=rr)v.shift();for(i=1,n=v[0];n>=10;n/=10)i++;i<rr&&(t-=rr-i)}return f.e=t,f.d=v,f}function za(r){return W(r=new this(r),r.e+1,this.rounding)}function Oa(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Ia(r){return new this(r).sin()}function Pa(r){return new this(r).sinh()}function $a(r){return new this(r).sqrt()}function qa(r,e){return new this(r).sub(e)}function Ra(){var r=0,e=arguments,t=new this(e[r]);for(er=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return er=!0,W(t,this.precision,this.rounding)}function La(r){return new this(r).tan()}function Ua(r){return new this(r).tanh()}function Za(r){return W(r=new this(r),r.e+1,1)}q[Symbol.for("nodejs.util.inspect.custom")]=q.toString;q[Symbol.toStringTag]="Decimal";var Ee=q.constructor=Vn(dt);Ze=new Ee(Ze);Ve=new Ee(Ve);var Va="BigNumber",Ha=["?on","config"],Ja=X(Va,Ha,r=>{var{on:e,config:t}=r,i=Ee.clone({precision:t.precision,modulo:Ee.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,a){n.precision!==a.precision&&i.config({precision:n.precision})}),i},{isClass:!0}),Hn={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(t){var i=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},n=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var s=Math.PI/4;if(-s>u||u>s)return Math.cos(u)-1;var h=u*u;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(u,s){var h=Math.abs(u),g=Math.abs(s);return h<3e3&&g<3e3?Math.sqrt(h*h+g*g):(h<g?(h=g,g=u/s):g=s/u,h*Math.sqrt(1+g*g))},v=function(){throw SyntaxError("Invalid Param")};function l(u,s){var h=Math.abs(u),g=Math.abs(s);return u===0?Math.log(g):s===0?Math.log(h):h<3e3&&g<3e3?Math.log(u*u+s*s)*.5:(u=u/2,s=s/2,.5*Math.log(u*u+s*s)+Math.LN2)}var D=function(u,s){var h={re:0,im:0};if(u==null)h.re=h.im=0;else if(s!==void 0)h.re=u,h.im=s;else switch(typeof u){case"object":if("im"in u&&"re"in u)h.re=u.re,h.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return o.INFINITY;h.re=u.abs*Math.cos(u.arg),h.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return o.INFINITY;h.re=u.r*Math.cos(u.phi),h.im=u.r*Math.sin(u.phi)}else u.length===2?(h.re=u[0],h.im=u[1]):v();break;case"string":h.im=h.re=0;var g=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),c=1,p=0;g===null&&v();for(var m=0;m<g.length;m++){var A=g[m];A===" "||A==="	"||A===`
`||(A==="+"?c++:A==="-"?p++:A==="i"||A==="I"?(c+p===0&&v(),g[m+1]!==" "&&!isNaN(g[m+1])?(h.im+=parseFloat((p%2?"-":"")+g[m+1]),m++):h.im+=parseFloat((p%2?"-":"")+"1"),c=p=0):((c+p===0||isNaN(A))&&v(),g[m+1]==="i"||g[m+1]==="I"?(h.im+=parseFloat((p%2?"-":"")+A),m++):h.re+=parseFloat((p%2?"-":"")+A),c=p=0))}c+p>0&&v();break;case"number":h.im=0,h.re=u;break;default:v()}return isNaN(h.re)||isNaN(h.im),h};function o(u,s){if(!(this instanceof o))return new o(u,s);var h=D(u,s);this.re=h.re,this.im=h.im}o.prototype={re:0,im:0,sign:function(){var u=this.abs();return new o(this.re/u,this.im/u)},add:function(u,s){var h=new o(u,s);return this.isInfinite()&&h.isInfinite()?o.NAN:this.isInfinite()||h.isInfinite()?o.INFINITY:new o(this.re+h.re,this.im+h.im)},sub:function(u,s){var h=new o(u,s);return this.isInfinite()&&h.isInfinite()?o.NAN:this.isInfinite()||h.isInfinite()?o.INFINITY:new o(this.re-h.re,this.im-h.im)},mul:function(u,s){var h=new o(u,s);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?o.NAN:this.isInfinite()||h.isInfinite()?o.INFINITY:h.im===0&&this.im===0?new o(this.re*h.re,0):new o(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(u,s){var h=new o(u,s);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return o.NAN;if(this.isInfinite()||h.isZero())return o.INFINITY;if(this.isZero()||h.isInfinite())return o.ZERO;u=this.re,s=this.im;var g=h.re,c=h.im,p,m;return c===0?new o(u/g,s/g):Math.abs(g)<Math.abs(c)?(m=g/c,p=g*m+c,new o((u*m+s)/p,(s*m-u)/p)):(m=c/g,p=c*m+g,new o((u+s*m)/p,(s-u*m)/p))},pow:function(u,s){var h=new o(u,s);if(u=this.re,s=this.im,h.isZero())return o.ONE;if(h.im===0){if(s===0&&u>0)return new o(Math.pow(u,h.re),0);if(u===0)switch((h.re%4+4)%4){case 0:return new o(Math.pow(s,h.re),0);case 1:return new o(0,Math.pow(s,h.re));case 2:return new o(-Math.pow(s,h.re),0);case 3:return new o(0,-Math.pow(s,h.re))}}if(u===0&&s===0&&h.re>0&&h.im>=0)return o.ZERO;var g=Math.atan2(s,u),c=l(u,s);return u=Math.exp(h.re*c-h.im*g),s=h.im*c+h.re*g,new o(u*Math.cos(s),u*Math.sin(s))},sqrt:function(){var u=this.re,s=this.im,h=this.abs(),g,c;if(u>=0){if(s===0)return new o(Math.sqrt(u),0);g=.5*Math.sqrt(2*(h+u))}else g=Math.abs(s)/Math.sqrt(2*(h-u));return u<=0?c=.5*Math.sqrt(2*(h-u)):c=Math.abs(s)/Math.sqrt(2*(h+u)),new o(g,s<0?-c:c)},exp:function(){var u=Math.exp(this.re);return this.im,new o(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,s=this.im;return new o(Math.expm1(u)*Math.cos(s)+a(s),Math.exp(u)*Math.sin(s))},log:function(){var u=this.re,s=this.im;return new o(l(u,s),Math.atan2(s,u))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,s=this.im;return new o(Math.sin(u)*i(s),Math.cos(u)*n(s))},cos:function(){var u=this.re,s=this.im;return new o(Math.cos(u)*i(s),-Math.sin(u)*n(s))},tan:function(){var u=2*this.re,s=2*this.im,h=Math.cos(u)+i(s);return new o(Math.sin(u)/h,n(s)/h)},cot:function(){var u=2*this.re,s=2*this.im,h=Math.cos(u)-i(s);return new o(-Math.sin(u)/h,n(s)/h)},sec:function(){var u=this.re,s=this.im,h=.5*i(2*s)+.5*Math.cos(2*u);return new o(Math.cos(u)*i(s)/h,Math.sin(u)*n(s)/h)},csc:function(){var u=this.re,s=this.im,h=.5*i(2*s)-.5*Math.cos(2*u);return new o(Math.sin(u)*i(s)/h,-Math.cos(u)*n(s)/h)},asin:function(){var u=this.re,s=this.im,h=new o(s*s-u*u+1,-2*u*s).sqrt(),g=new o(h.re-s,h.im+u).log();return new o(g.im,-g.re)},acos:function(){var u=this.re,s=this.im,h=new o(s*s-u*u+1,-2*u*s).sqrt(),g=new o(h.re-s,h.im+u).log();return new o(Math.PI/2-g.im,g.re)},atan:function(){var u=this.re,s=this.im;if(u===0){if(s===1)return new o(0,1/0);if(s===-1)return new o(0,-1/0)}var h=u*u+(1-s)*(1-s),g=new o((1-s*s-u*u)/h,-2*u/h).log();return new o(-.5*g.im,.5*g.re)},acot:function(){var u=this.re,s=this.im;if(s===0)return new o(Math.atan2(1,u),0);var h=u*u+s*s;return h!==0?new o(u/h,-s/h).atan():new o(u!==0?u/0:0,s!==0?-s/0:0).atan()},asec:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(0,1/0);var h=u*u+s*s;return h!==0?new o(u/h,-s/h).acos():new o(u!==0?u/0:0,s!==0?-s/0:0).acos()},acsc:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(Math.PI/2,1/0);var h=u*u+s*s;return h!==0?new o(u/h,-s/h).asin():new o(u!==0?u/0:0,s!==0?-s/0:0).asin()},sinh:function(){var u=this.re,s=this.im;return new o(n(u)*Math.cos(s),i(u)*Math.sin(s))},cosh:function(){var u=this.re,s=this.im;return new o(i(u)*Math.cos(s),n(u)*Math.sin(s))},tanh:function(){var u=2*this.re,s=2*this.im,h=i(u)+Math.cos(s);return new o(n(u)/h,Math.sin(s)/h)},coth:function(){var u=2*this.re,s=2*this.im,h=i(u)-Math.cos(s);return new o(n(u)/h,-Math.sin(s)/h)},csch:function(){var u=this.re,s=this.im,h=Math.cos(2*s)-i(2*u);return new o(-2*n(u)*Math.cos(s)/h,2*i(u)*Math.sin(s)/h)},sech:function(){var u=this.re,s=this.im,h=Math.cos(2*s)+i(2*u);return new o(2*i(u)*Math.cos(s)/h,-2*n(u)*Math.sin(s)/h)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var s=this.asin();return this.re=-this.im,this.im=u,u=s.re,s.re=-s.im,s.im=u,s},acosh:function(){var u=this.acos();if(u.im<=0){var s=u.re;u.re=-u.im,u.im=s}else{var s=u.im;u.im=-u.re,u.re=s}return u},atanh:function(){var u=this.re,s=this.im,h=u>1&&s===0,g=1-u,c=1+u,p=g*g+s*s,m=p!==0?new o((c*g-s*s)/p,(s*g+c*s)/p):new o(u!==-1?u/0:0,s!==0?s/0:0),A=m.re;return m.re=l(m.re,m.im)/2,m.im=Math.atan2(m.im,A)/2,h&&(m.im=-m.im),m},acoth:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(0,Math.PI/2);var h=u*u+s*s;return h!==0?new o(u/h,-s/h).atanh():new o(u!==0?u/0:0,s!==0?-s/0:0).atanh()},acsch:function(){var u=this.re,s=this.im;if(s===0)return new o(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var h=u*u+s*s;return h!==0?new o(u/h,-s/h).asinh():new o(u!==0?u/0:0,s!==0?-s/0:0).asinh()},asech:function(){var u=this.re,s=this.im;if(this.isZero())return o.INFINITY;var h=u*u+s*s;return h!==0?new o(u/h,-s/h).acosh():new o(u!==0?u/0:0,s!==0?-s/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var u=this.re,s=this.im,h=u*u+s*s;return new o(u/h,-s/h)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new o(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new o(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new o(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,s){var h=new o(u,s);return Math.abs(h.re-this.re)<=o.EPSILON&&Math.abs(h.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var u=this.re,s=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<o.EPSILON&&(u=0),Math.abs(s)<o.EPSILON&&(s=0),s===0?h+u:(u!==0?(h+=u,h+=" ",s<0?(s=-s,h+="-"):h+="+",h+=" "):s<0&&(s=-s,h+="-"),s!==1&&(h+=s),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o})()})(Hn);var Ga=Hn.exports;const xr=Ki(Ga);var Ya="Complex",Ka=[],Xa=X(Ya,Ka,()=>(Object.defineProperty(xr,"name",{value:"Complex"}),xr.prototype.constructor=xr,xr.prototype.type="Complex",xr.prototype.isComplex=!0,xr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},xr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},xr.prototype.format=function(r){var e="",t=this.im,i=this.re,n=Dt(this.re,r),a=Dt(this.im,r),f=gr(r)?r:r?r.precision:null;if(f!==null){var v=Math.pow(10,-f);Math.abs(i/t)<v&&(i=0),Math.abs(t/i)<v&&(t=0)}return t===0?e=n:i===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=n+" - i":e=n+" - "+a.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+a+"i",e},xr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return xr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(gr(t)){if(Cn(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),gr(i))return new xr({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},xr.prototype.valueOf=xr.prototype.toString,xr.fromJSON=function(r){return new xr(r)},xr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},xr),{isClass:!0}),Qa="Fraction",Wa=[],ka=X(Qa,Wa,()=>(Object.defineProperty(te,"name",{value:"Fraction"}),te.prototype.constructor=te,te.prototype.type="Fraction",te.prototype.isFraction=!0,te.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},te.fromJSON=function(r){return new te(r)},te),{isClass:!0}),ja="Matrix",ro=[],eo=X(ja,ro,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function ht(r,e,t){var i=r.constructor,n=new i(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Br(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function to(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=Mn(e);switch(t){case"fixed":return io(r,i);case"exponential":return Jt(r,i);case"engineering":return no(r,i);case"bin":return ht(r,2,n);case"oct":return ht(r,8,n);case"hex":return ht(r,16,n);case"auto":{var a=Gt(e==null?void 0:e.lowerExp,-3),f=Gt(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var v,l=r.toSignificantDigits(i),D=l.e;return D>=a&&D<f?v=l.toFixed():v=Jt(r,i),v.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],u=arguments[4];return o!=="."?o+u:u})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function no(r,e){var t=r.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-i)),a=n.toPrecision(e);if(a.includes("e")){var f=r.constructor;a=new f(a).toFixed()}return a+"e"+(t>=0?"+":"")+i.toString()}function Jt(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function io(r,e){return r.toFixed(e)}function Gt(r,e){return gr(r)?r:br(r)?r.toNumber():e}function Sr(r,e){var t=uo(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function uo(r,e){if(typeof r=="number")return Dt(r,e);if(br(r))return to(r,e);if(ao(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Jn(r,e);if(re(r))return Yt(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(i=>Yt(i)+": "+Sr(r[i],e));return"{"+t.join(", ")+"}"}return String(r)}function Yt(r){for(var e=String(r),t="",i=0;i<e.length;){var n=e.charAt(i);t+=n in Kt?Kt[n]:n,i++}return'"'+t+'"'}var Kt={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Jn(r,e){if(Array.isArray(r)){for(var t="[",i=r.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=Jn(r[n],e);return t+="]",t}else return Sr(r,e)}function ao(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function cr(r,e,t){if(!(this instanceof cr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}cr.prototype=new RangeError;cr.prototype.constructor=RangeError;cr.prototype.name="DimensionError";cr.prototype.isDimensionError=!0;function De(r,e,t){if(!(this instanceof De))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}De.prototype=new RangeError;De.prototype.constructor=RangeError;De.prototype.name="IndexError";De.prototype.isIndexError=!0;function Lr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Gn(r,e,t){var i,n=r.length;if(n!==e[t])throw new cr(n,e[t]);if(t<e.length-1){var a=t+1;for(i=0;i<n;i++){var f=r[i];if(!Array.isArray(f))throw new cr(e.length-1,e.length,"<");Gn(r[i],e,a)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new cr(e.length+1,e.length,">")}function Xt(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new cr(r.length,0)}else Gn(r,e,0)}function yr(r,e){if(r!==void 0){if(!gr(r)||!Br(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new De(r,e)}}function Qt(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!gr(n)||!Br(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Sr(e)+")")}),(gr(r)||br(r))&&(r=[r]);var i=t!==void 0?t:0;return yt(r,e,0,i),r}function yt(r,e,t,i){var n,a,f=r.length,v=e[t],l=Math.min(f,v);if(r.length=v,t<e.length-1){var D=t+1;for(n=0;n<l;n++)a=r[n],Array.isArray(a)||(a=[a],r[n]=a),yt(a,e,D,i);for(n=l;n<v;n++)a=[],r[n]=a,yt(a,e,D,i)}else{for(n=0;n<l;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=l;n<v;n++)r[n]=i}}function Yn(r,e){var t=so(r),i=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new cr(0,i,"!=");e=_t(e,i);var n=Kn(e);if(i!==n)throw new cr(n,i,"!=");try{return oo(t,e)}catch(a){throw a instanceof cr?new cr(n,i,"!="):a}}function _t(r,e){var t=Kn(r),i=r.slice(),n=-1,a=r.indexOf(n),f=r.indexOf(n,a+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var v=a>=0,l=e%t===0;if(v)if(l)i[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return i}function Kn(r){return r.reduce((e,t)=>e*t,1)}function oo(r,e){for(var t=r,i,n=e.length-1;n>0;n--){var a=e[n];i=[];for(var f=t.length/a,v=0;v<f;v++)i.push(t.slice(v*a,(v+1)*a));t=i}return t}function Xn(r,e,t,i){var n=i||Lr(r);if(t)for(var a=0;a<t;a++)r=[r],n.unshift(1);for(r=Qn(r,e,0);n.length<e;)n.push(1);return r}function Qn(r,e,t){var i,n;if(Array.isArray(r)){var a=t+1;for(i=0,n=r.length;i<n;i++)r[i]=Qn(r[i],e,a)}else for(var f=t;f<e;f++)r=[r];return r}function so(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Je(r,e){for(var t,i=0,n=0;n<r.length;n++){var a=r[n],f=Array.isArray(a);if(n===0&&f&&(i=a.length),f&&a.length!==i)return;var v=f?Je(a,e):e(a);if(t===void 0)t=v;else if(t!==v)return"mixed"}return t}function Wn(r,e,t,i){if(i<t){if(r.length!==e.length)throw new cr(r.length,e.length);for(var n=[],a=0;a<r.length;a++)n[a]=Wn(r[a],e[a],t,i+1);return n}else return r.concat(e)}function kn(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,i){return Wn(t,i,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function fo(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=e.map(s=>s.length),n=Math.max(...i),a=new Array(n).fill(null),f=0;f<e.length;f++)for(var v=e[f],l=i[f],D=0;D<l;D++){var o=n-l+D;v[D]>a[o]&&(a[o]=v[D])}for(var u=0;u<e.length;u++)Ge(e[u],a);return a}function Ge(r,e){for(var t=e.length,i=r.length,n=0;n<i;n++){var a=t-i+n;if(r[n]<e[a]&&r[n]>1||r[n]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(i," with size ").concat(r[n]," to size ").concat(e[a]))}}function Wt(r,e){var t=Lr(r);if(Ae(t,e))return r;Ge(t,e);var i=fo(t,e),n=i.length,a=[...Array(n-t.length).fill(1),...t],f=lo(r);t.length<n&&(f=Yn(f,a),t=Lr(f));for(var v=0;v<n;v++)t[v]<i[v]&&(f=co(f,i[v],v),t=Lr(f));return f}function co(r,e,t){return kn(...Array(e).fill(r),t)}function lo(r){return Le([],r)}function jn(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var i=(t.match(/,/g)||[]).length+1;return Math.max(e,i)},-1)}var vo="DenseMatrix",ho=["Matrix"],Do=X(vo,ho,r=>{var{Matrix:e}=r;function t(o,u){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!re(u))throw new Error("Invalid datatype: "+u);if(Mr(o))o.type==="DenseMatrix"?(this._data=Fr(o._data),this._size=Fr(o._size),this._datatype=u||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=u||o._datatype);else if(o&&wr(o.data)&&wr(o.size))this._data=o.data,this._size=o.size,Xt(this._data,this._size),this._datatype=u||o.datatype;else if(wr(o))this._data=D(o),this._size=Lr(this._data),Xt(this._data,this._size),this._datatype=u;else{if(o)throw new TypeError("Unsupported type of data ("+we(o)+")");this._data=[],this._size=[0],this._datatype=u}}t.prototype=new e,t.prototype.createDenseMatrix=function(o,u){return new t(o,u)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Je(this._data,we)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(o,u){return new t(o,u)},t.prototype.subset=function(o,u,s){switch(arguments.length){case 1:return i(this,o);case 2:case 3:return a(this,o,u,s);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(o){if(!wr(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new cr(o.length,this._size.length);for(var u=0;u<o.length;u++)yr(o[u],this._size[u]);for(var s=this._data,h=0,g=o.length;h<g;h++){var c=o[h];yr(c,s.length),s=s[c]}return s},t.prototype.set=function(o,u,s){if(!wr(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new cr(o.length,this._size.length,"<");var h,g,c,p=o.map(function(A){return A+1});l(this,p,s);var m=this._data;for(h=0,g=o.length-1;h<g;h++)c=o[h],yr(c,m.length),m=m[c];return c=o[o.length-1],yr(c,m.length),m[c]=u,this};function i(o,u){if(!Ft(u))throw new TypeError("Invalid index");var s=u.isScalar();if(s)return o.get(u.min());var h=u.size();if(h.length!==o._size.length)throw new cr(h.length,o._size.length);for(var g=u.min(),c=u.max(),p=0,m=o._size.length;p<m;p++)yr(g[p],o._size[p]),yr(c[p],o._size[p]);return new t(n(o._data,u,h.length,0),o._datatype)}function n(o,u,s,h){var g=h===s-1,c=u.dimension(h);return g?c.map(function(p){return yr(p,o.length),o[p]}).valueOf():c.map(function(p){yr(p,o.length);var m=o[p];return n(m,u,s,h+1)}).valueOf()}function a(o,u,s,h){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var g=u.size(),c=u.isScalar(),p;if(Mr(s)?(p=s.size(),s=s.valueOf()):p=Lr(s),c){if(p.length!==0)throw new TypeError("Scalar expected");o.set(u.min(),s,h)}else{if(!Ae(p,g))try{p.length===0?s=Wt([s],g):s=Wt(s,g),p=Lr(s)}catch{}if(g.length<o._size.length)throw new cr(g.length,o._size.length,"<");if(p.length<g.length){for(var m=0,A=0;g[m]===1&&p[m]===1;)m++;for(;g[m]===1;)A++,m++;s=Xn(s,g.length,A,p)}if(!Ae(g,p))throw new cr(g,p,">");var w=u.max().map(function(d){return d+1});l(o,w,h);var F=g.length,y=0;f(o._data,u,s,F,y)}return o}function f(o,u,s,h,g){var c=g===h-1,p=u.dimension(g);c?p.forEach(function(m,A){yr(m),o[m]=s[A[0]]}):p.forEach(function(m,A){yr(m),f(o[m],u,s[A[0]],h,g+1)})}t.prototype.resize=function(o,u,s){if(!Ue(o))throw new TypeError("Array or Matrix expected");var h=o.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),g=s?this.clone():this;return v(g,h,u)};function v(o,u,s){if(u.length===0){for(var h=o._data;wr(h);)h=h[0];return h}return o._size=u.slice(0),o._data=Qt(o._data,o._size,s),o}t.prototype.reshape=function(o,u){var s=u?this.clone():this;s._data=Yn(s._data,o);var h=s._size.reduce((g,c)=>g*c);return s._size=_t(o,h),s};function l(o,u,s){for(var h=o._size.slice(0),g=!1;h.length<u.length;)h.push(0),g=!0;for(var c=0,p=u.length;c<p;c++)u[c]>h[c]&&(h[c]=u[c],g=!0);g&&v(o,h,s)}t.prototype.clone=function(){var o=new t({data:Fr(this._data),size:Fr(this._size),datatype:this._datatype});return o},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(o){var u=this,s=jn(o),h=function p(m,A){return wr(m)?m.map(function(w,F){return p(w,A.concat(F))}):s===1?o(m):s===2?o(m,A):o(m,A,u)},g=h(this._data,[]),c=this._datatype!==void 0?Je(g,we):void 0;return new t(g,c)},t.prototype.forEach=function(o){var u=this,s=function h(g,c){wr(g)?g.forEach(function(p,m){h(p,c.concat(m))}):o(g,c,u)};s(this._data,[])},t.prototype[Symbol.iterator]=function*(){var o=function*u(s,h){if(wr(s))for(var g=0;g<s.length;g++)yield*u(s[g],h.concat(g));else yield{value:s,index:h}};yield*o(this._data,[])},t.prototype.rows=function(){var o=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var s=this._data;for(var h of s)o.push(new t([h],this._datatype));return o},t.prototype.columns=function(){var o=this,u=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,g=function(m){var A=h.map(w=>[w[m]]);u.push(new t(A,o._datatype))},c=0;c<s[1];c++)g(c);return u},t.prototype.toArray=function(){return Fr(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(o){return Sr(this._data,o)},t.prototype.toString=function(){return Sr(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(o){if(o){if(br(o)&&(o=o.toNumber()),!gr(o)||!Br(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var u=o>0?o:0,s=o<0?-o:0,h=this._size[0],g=this._size[1],c=Math.min(h-s,g-u),p=[],m=0;m<c;m++)p[m]=this._data[m+s][m+u];return new t({data:p,size:[c],datatype:this._datatype})},t.diagonal=function(o,u,s,h){if(!wr(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(_){if(br(_)&&(_=_.toNumber()),!gr(_)||!Br(_)||_<1)throw new Error("Size values must be positive integers");return _}),s){if(br(s)&&(s=s.toNumber()),!gr(s)||!Br(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var g=s>0?s:0,c=s<0?-s:0,p=o[0],m=o[1],A=Math.min(p-c,m-g),w;if(wr(u)){if(u.length!==A)throw new Error("Invalid value array length");w=function(B){return u[B]}}else if(Mr(u)){var F=u.size();if(F.length!==1||F[0]!==A)throw new Error("Invalid matrix length");w=function(B){return u.get([B])}}else w=function(){return u};h||(h=br(w(0))?w(0).mul(0):0);var y=[];if(o.length>0){y=Qt(y,o,h);for(var d=0;d<A;d++)y[d+c][d+g]=w(d)}return new t({data:y,size:[p,m]})},t.fromJSON=function(o){return new t(o)},t.prototype.swapRows=function(o,u){if(!gr(o)||!Br(o)||!gr(u)||!Br(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return yr(o,this._size[0]),yr(u,this._size[0]),t._swapRows(o,u,this._data),this},t._swapRows=function(o,u,s){var h=s[o];s[o]=s[u],s[u]=h};function D(o){return Mr(o)?D(o.valueOf()):wr(o)?o.map(D):o}return t},{isClass:!0});function fe(r,e,t){return r&&typeof r.map=="function"?r.map(function(i){return fe(i,e)}):e(r)}var kt="isInteger",po=["typed"],mo=X(kt,po,r=>{var{typed:e}=r;return e(kt,{number:Br,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":e.referToSelf(t=>i=>fe(i,t))})}),ri="number",Bt="number, number";function ei(r){return Math.abs(r)}ei.signature=ri;function ti(r,e){return r+e}ti.signature=Bt;function ni(r,e){return r-e}ni.signature=Bt;function ii(r,e){return r*e}ii.signature=Bt;function ui(r){return-r}ui.signature=ri;function tt(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),i))}function go(r,e,t,i){return ve(r.re,e.re,t,i)&&ve(r.im,e.im,t,i)}var nt=X("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}}),Ye="equalScalar",wo=["typed","config"],yo=X(Ye,wo,r=>{var{typed:e,config:t}=r,i=nt({typed:e});return e(Ye,{"boolean, boolean":function(a,f){return a===f},"number, number":function(a,f){return ve(a,f,t.relTol,t.absTol)},"BigNumber, BigNumber":function(a,f){return a.eq(f)||tt(a,f,t.relTol,t.absTol)},"bigint, bigint":function(a,f){return a===f},"Fraction, Fraction":function(a,f){return a.equals(f)},"Complex, Complex":function(a,f){return go(a,f,t.relTol,t.absTol)}},i)});X(Ye,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ye,{"number, number":function(n,a){return ve(n,a,t.relTol,t.absTol)}})});var Ao="SparseMatrix",Fo=["typed","equalScalar","Matrix"],Eo=X(Ao,Fo,r=>{var{typed:e,equalScalar:t,Matrix:i}=r;function n(c,p){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!re(p))throw new Error("Invalid datatype: "+p);if(Mr(c))a(this,c,p);else if(c&&wr(c.index)&&wr(c.ptr)&&wr(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=p||c.datatype;else if(wr(c))f(this,c,p);else{if(c)throw new TypeError("Unsupported type of data ("+we(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=p}}function a(c,p,m){p.type==="SparseMatrix"?(c._values=p._values?Fr(p._values):void 0,c._index=Fr(p._index),c._ptr=Fr(p._ptr),c._size=Fr(p._size),c._datatype=m||p._datatype):f(c,p.valueOf(),m||p._datatype)}function f(c,p,m){c._values=[],c._index=[],c._ptr=[],c._datatype=m;var A=p.length,w=0,F=t,y=0;if(re(m)&&(F=e.find(t,[m,m])||t,y=e.convert(0,m)),A>0){var d=0;do{c._ptr.push(c._index.length);for(var _=0;_<A;_++){var B=p[_];if(wr(B)){if(d===0&&w<B.length&&(w=B.length),d<B.length){var E=B[d];F(E,y)||(c._values.push(E),c._index.push(_))}}else d===0&&w<1&&(w=1),F(B,y)||(c._values.push(B),c._index.push(_))}d++}while(d<w)}c._ptr.push(c._index.length),c._size=[A,w]}n.prototype=new i,n.prototype.createSparseMatrix=function(c,p){return new n(c,p)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Je(this._values,we)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,p){return new n(c,p)},n.prototype.density=function(){var c=this._size[0],p=this._size[1];return c!==0&&p!==0?this._index.length/(c*p):0},n.prototype.subset=function(c,p,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return v(this,c);case 2:case 3:return l(this,c,p,m);default:throw new SyntaxError("Wrong number of arguments")}};function v(c,p){if(!Ft(p))throw new TypeError("Invalid index");var m=p.isScalar();if(m)return c.get(p.min());var A=p.size();if(A.length!==c._size.length)throw new cr(A.length,c._size.length);var w,F,y,d,_=p.min(),B=p.max();for(w=0,F=c._size.length;w<F;w++)yr(_[w],c._size[w]),yr(B[w],c._size[w]);var E=c._values,S=c._index,x=c._ptr,z=p.dimension(0),L=p.dimension(1),I=[],O=[];z.forEach(function(T,H){O[T]=H[0],I[T]=!0});var b=E?[]:void 0,J=[],V=[];return L.forEach(function(T){for(V.push(J.length),y=x[T],d=x[T+1];y<d;y++)w=S[y],I[w]===!0&&(J.push(O[w]),b&&b.push(E[y]))}),V.push(J.length),new n({values:b,index:J,ptr:V,size:A,datatype:c._datatype})}function l(c,p,m,A){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var w=p.size(),F=p.isScalar(),y;if(Mr(m)?(y=m.size(),m=m.toArray()):y=Lr(m),F){if(y.length!==0)throw new TypeError("Scalar expected");c.set(p.min(),m,A)}else{if(w.length!==1&&w.length!==2)throw new cr(w.length,c._size.length,"<");if(y.length<w.length){for(var d=0,_=0;w[d]===1&&y[d]===1;)d++;for(;w[d]===1;)_++,d++;m=Xn(m,w.length,_,y)}if(!Ae(w,y))throw new cr(w,y,">");if(w.length===1){var B=p.dimension(0);B.forEach(function(x,z){yr(x),c.set([x,0],m[z[0]],A)})}else{var E=p.dimension(0),S=p.dimension(1);E.forEach(function(x,z){yr(x),S.forEach(function(L,I){yr(L),c.set([x,L],m[z[0]][I[0]],A)})})}}return c}n.prototype.get=function(c){if(!wr(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new cr(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var p=c[0],m=c[1];yr(p,this._size[0]),yr(m,this._size[1]);var A=D(p,this._ptr[m],this._ptr[m+1],this._index);return A<this._ptr[m+1]&&this._index[A]===p?this._values[A]:0},n.prototype.set=function(c,p,m){if(!wr(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new cr(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=c[0],w=c[1],F=this._size[0],y=this._size[1],d=t,_=0;re(this._datatype)&&(d=e.find(t,[this._datatype,this._datatype])||t,_=e.convert(0,this._datatype)),(A>F-1||w>y-1)&&(s(this,Math.max(A+1,F),Math.max(w+1,y),m),F=this._size[0],y=this._size[1]),yr(A,F),yr(w,y);var B=D(A,this._ptr[w],this._ptr[w+1],this._index);return B<this._ptr[w+1]&&this._index[B]===A?d(p,_)?o(B,w,this._values,this._index,this._ptr):this._values[B]=p:d(p,_)||u(B,A,w,p,this._values,this._index,this._ptr),this};function D(c,p,m,A){if(m-p===0)return m;for(var w=p;w<m;w++)if(A[w]===c)return w;return p}function o(c,p,m,A,w){m.splice(c,1),A.splice(c,1);for(var F=p+1;F<w.length;F++)w[F]--}function u(c,p,m,A,w,F,y){w.splice(c,0,A),F.splice(c,0,p);for(var d=m+1;d<y.length;d++)y[d]++}n.prototype.resize=function(c,p,m){if(!Ue(c))throw new TypeError("Array or Matrix expected");var A=c.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(F){if(!gr(F)||!Br(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Sr(A)+")")});var w=m?this.clone():this;return s(w,A[0],A[1],p)};function s(c,p,m,A){var w=A||0,F=t,y=0;re(c._datatype)&&(F=e.find(t,[c._datatype,c._datatype])||t,y=e.convert(0,c._datatype),w=e.convert(w,c._datatype));var d=!F(w,y),_=c._size[0],B=c._size[1],E,S,x;if(m>B){for(S=B;S<m;S++)if(c._ptr[S]=c._values.length,d)for(E=0;E<_;E++)c._values.push(w),c._index.push(E);c._ptr[m]=c._values.length}else m<B&&(c._ptr.splice(m+1,B-m),c._values.splice(c._ptr[m],c._values.length),c._index.splice(c._ptr[m],c._index.length));if(B=m,p>_){if(d){var z=0;for(S=0;S<B;S++){c._ptr[S]=c._ptr[S]+z,x=c._ptr[S+1]+z;var L=0;for(E=_;E<p;E++,L++)c._values.splice(x+L,0,w),c._index.splice(x+L,0,E),z++}c._ptr[B]=c._values.length}}else if(p<_){var I=0;for(S=0;S<B;S++){c._ptr[S]=c._ptr[S]-I;var O=c._ptr[S],b=c._ptr[S+1]-I;for(x=O;x<b;x++)E=c._index[x],E>p-1&&(c._values.splice(x,1),c._index.splice(x,1),I++)}c._ptr[S]=c._values.length}return c._size[0]=p,c._size[1]=m,c}n.prototype.reshape=function(c,p){if(!wr(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(T){if(!gr(T)||!Br(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Sr(c)+")")});var m=this._size[0]*this._size[1];c=_t(c,m);var A=c[0]*c[1];if(m!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=p?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return w;for(var F=[],y=0;y<w._ptr.length;y++)for(var d=0;d<w._ptr[y+1]-w._ptr[y];d++)F.push(y);for(var _=w._values.slice(),B=w._index.slice(),E=0;E<w._index.length;E++){var S=B[E],x=F[E],z=S*w._size[1]+x;F[E]=z%c[1],B[E]=Math.floor(z/c[1])}w._values.length=0,w._index.length=0,w._ptr.length=c[1]+1,w._size=c.slice();for(var L=0;L<w._ptr.length;L++)w._ptr[L]=0;for(var I=0;I<_.length;I++){var O=B[I],b=F[I],J=_[I],V=D(O,w._ptr[b],w._ptr[b+1],w._index);u(V,O,b,J,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var c=new n({values:this._values?Fr(this._values):void 0,index:Fr(this._index),ptr:Fr(this._ptr),size:Fr(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c,p){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,A=this._size[0],w=this._size[1],F=jn(c),y=function(_,B,E){return F===1?c(_):F===2?c(_,[B,E]):c(_,[B,E],m)};return h(this,0,A-1,0,w-1,y,p)};function h(c,p,m,A,w,F,y){var d=[],_=[],B=[],E=t,S=0;re(c._datatype)&&(E=e.find(t,[c._datatype,c._datatype])||t,S=e.convert(0,c._datatype));for(var x=function(k,Q,lr){k=F(k,Q,lr),E(k,S)||(d.push(k),_.push(Q))},z=A;z<=w;z++){B.push(d.length);var L=c._ptr[z],I=c._ptr[z+1];if(y)for(var O=L;O<I;O++){var b=c._index[O];b>=p&&b<=m&&x(c._values[O],b-p,z-A)}else{for(var J={},V=L;V<I;V++){var T=c._index[V];J[T]=c._values[V]}for(var H=p;H<=m;H++){var K=H in J?J[H]:0;x(K,H-p,z-A)}}}return B.push(d.length),new n({values:d,index:_,ptr:B,size:[m-p+1,w-A+1]})}n.prototype.forEach=function(c,p){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,A=this._size[0],w=this._size[1],F=0;F<w;F++){var y=this._ptr[F],d=this._ptr[F+1];if(p)for(var _=y;_<d;_++){var B=this._index[_];c(this._values[_],[B,F],m)}else{for(var E={},S=y;S<d;S++){var x=this._index[S];E[x]=this._values[S]}for(var z=0;z<A;z++){var L=z in E?E[z]:0;c(L,[z,F],m)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],p=0;p<c;p++)for(var m=this._ptr[p],A=this._ptr[p+1],w=m;w<A;w++){var F=this._index[w];yield{value:this._values[w],index:[F,p]}}},n.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)};function g(c,p,m,A,w){var F=A[0],y=A[1],d=[],_,B;for(_=0;_<F;_++)for(d[_]=[],B=0;B<y;B++)d[_][B]=0;for(B=0;B<y;B++)for(var E=m[B],S=m[B+1],x=E;x<S;x++)_=p[x],d[_][B]=c?w?Fr(c[x]):c[x]:1;return d}return n.prototype.format=function(c){for(var p=this._size[0],m=this._size[1],A=this.density(),w="Sparse Matrix ["+Sr(p,c)+" x "+Sr(m,c)+"] density: "+Sr(A,c)+`
`,F=0;F<m;F++)for(var y=this._ptr[F],d=this._ptr[F+1],_=y;_<d;_++){var B=this._index[_];w+=`
    (`+Sr(B,c)+", "+Sr(F,c)+") ==> "+(this._values?Sr(this._values[_],c):"X")}return w},n.prototype.toString=function(){return Sr(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(br(c)&&(c=c.toNumber()),!gr(c)||!Br(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var p=c>0?c:0,m=c<0?-c:0,A=this._size[0],w=this._size[1],F=Math.min(A-m,w-p),y=[],d=[],_=[];_[0]=0;for(var B=p;B<w&&y.length<F;B++)for(var E=this._ptr[B],S=this._ptr[B+1],x=E;x<S;x++){var z=this._index[x];if(z===B-p+m){y.push(this._values[x]),d[y.length-1]=z-m;break}}return _.push(y.length),new n({values:y,index:d,ptr:_,size:[F,1]})},n.fromJSON=function(c){return new n(c)},n.diagonal=function(c,p,m,A,w){if(!wr(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(T){if(br(T)&&(T=T.toNumber()),!gr(T)||!Br(T)||T<1)throw new Error("Size values must be positive integers");return T}),m){if(br(m)&&(m=m.toNumber()),!gr(m)||!Br(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var F=t,y=0;re(w)&&(F=e.find(t,[w,w])||t,y=e.convert(0,w));var d=m>0?m:0,_=m<0?-m:0,B=c[0],E=c[1],S=Math.min(B-_,E-d),x;if(wr(p)){if(p.length!==S)throw new Error("Invalid value array length");x=function(H){return p[H]}}else if(Mr(p)){var z=p.size();if(z.length!==1||z[0]!==S)throw new Error("Invalid matrix length");x=function(H){return p.get([H])}}else x=function(){return p};for(var L=[],I=[],O=[],b=0;b<E;b++){O.push(L.length);var J=b-d;if(J>=0&&J<S){var V=x(J);F(V,y)||(I.push(J+_),L.push(V))}}return O.push(L.length),new n({values:L,index:I,ptr:O,size:[B,E]})},n.prototype.swapRows=function(c,p){if(!gr(c)||!Br(c)||!gr(p)||!Br(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return yr(c,this._size[0]),yr(p,this._size[0]),n._swapRows(c,p,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(c,p,m,A,w){for(var F=A[c],y=A[c+1],d=F;d<y;d++)w(m[d],p[d])},n._swapRows=function(c,p,m,A,w,F){for(var y=0;y<m;y++){var d=F[y],_=F[y+1],B=D(c,d,_,w),E=D(p,d,_,w);if(B<_&&E<_&&w[B]===c&&w[E]===p){if(A){var S=A[B];A[B]=A[E],A[E]=S}continue}if(B<_&&w[B]===c&&(E>=_||w[E]!==p)){var x=A?A[B]:void 0;w.splice(E,0,p),A&&A.splice(E,0,x),w.splice(E<=B?B+1:B,1),A&&A.splice(E<=B?B+1:B,1);continue}if(E<_&&w[E]===p&&(B>=_||w[B]!==c)){var z=A?A[E]:void 0;w.splice(B,0,c),A&&A.splice(B,0,z),w.splice(B<=E?E+1:E,1),A&&A.splice(B<=E?E+1:E,1)}}},n},{isClass:!0}),Co="number",_o=["typed"];function Bo(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],n=e[3];return{input:r,radix:t,integerPart:i,fractionalPart:n}}else return null}function So(r){for(var e=parseInt(r.integerPart,r.radix),t=0,i=0;i<r.fractionalPart.length;i++){var n=parseInt(r.fractionalPart[i],r.radix);t+=n/Math.pow(r.radix,i+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var Mo=X(Co,_o,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var a=Bo(n);if(a)return So(a);var f=0,v=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);v&&(f=Number(v[2]),n=v[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(v){if(l>2**f-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(f-1)&&(l=l-2**f)}return l},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),null:function(n){return 0},"Unit, string | Unit":function(n,a){return n.toNumber(a)},"Array | Matrix":e.referToSelf(i=>n=>fe(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),xo="bignumber",bo=["typed","BigNumber"],No=X(xo,bo,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var a=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var f=a[2],v=t(a[1]),l=new t(2).pow(Number(f));if(v.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var D=new t(2).pow(Number(f)-1);return v.gte(D)?v.sub(l):v}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":e.referToSelf(i=>n=>fe(n,i))})}),To="fraction",zo=["typed","Fraction"],Oo=X(To,zo,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,a){return new t(n,a)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),Object:function(n){return new t(n)},"Array | Matrix":e.referToSelf(i=>n=>fe(n,i))})}),jt="matrix",Io=["typed","Matrix","DenseMatrix","SparseMatrix"],Po=X(jt,Io,r=>{var{typed:e,Matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(jt,{"":function(){return a([])},string:function(v){return a([],v)},"string, string":function(v,l){return a([],v,l)},Array:function(v){return a(v)},Matrix:function(v){return a(v,v.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(f,v,l){if(v==="dense"||v==="default"||v===void 0)return new i(f,l);if(v==="sparse")return new n(f,l);throw new TypeError("Unknown matrix type "+JSON.stringify(v)+".")}}),rn="unaryMinus",$o=["typed"],qo=X(rn,$o,r=>{var{typed:e}=r;return e(rn,{number:ui,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>i=>{var n=i.clone();return n.value=e.find(t,n.valueType())(i.value),n}),"Array | Matrix":e.referToSelf(t=>i=>fe(i,t))})}),en="abs",Ro=["typed"],Lo=X(en,Ro,r=>{var{typed:e}=r;return e(en,{number:ei,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>i=>fe(i,t))})}),tn="addScalar",Uo=["typed"],Zo=X(tn,Uo,r=>{var{typed:e}=r;return e(tn,{"number, number":ti,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(t,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),nn="subtractScalar",Vo=["typed"],Ho=X(nn,Vo,r=>{var{typed:e}=r;return e(nn,{"number, number":ni,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(t,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),Jo="matAlgo11xS0s",Go=["typed","equalScalar"],Yo=X(Jo,Go,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,f,v){var l=n._values,D=n._index,o=n._ptr,u=n._size,s=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=u[0],g=u[1],c,p=t,m=0,A=f;typeof s=="string"&&(c=s,p=e.find(t,[c,c]),m=e.convert(0,c),a=e.convert(a,c),A=e.find(f,[c,c]));for(var w=[],F=[],y=[],d=0;d<g;d++){y[d]=F.length;for(var _=o[d],B=o[d+1],E=_;E<B;E++){var S=D[E],x=v?A(a,l[E]):A(l[E],a);p(x,m)||(F.push(S),w.push(x))}}return y[g]=F.length,n.createSparseMatrix({values:w,index:F,ptr:y,size:[h,g],datatype:c})}}),Ko="matAlgo12xSfs",Xo=["typed","DenseMatrix"],it=X(Ko,Xo,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,a,f,v){var l=n._values,D=n._index,o=n._ptr,u=n._size,s=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=u[0],g=u[1],c,p=f;typeof s=="string"&&(c=s,a=e.convert(a,c),p=e.find(f,[c,c]));for(var m=[],A=[],w=[],F=0;F<g;F++){for(var y=F+1,d=o[F],_=o[F+1],B=d;B<_;B++){var E=D[B];A[E]=l[B],w[E]=y}for(var S=0;S<h;S++)F===0&&(m[S]=[]),w[S]===y?m[S][F]=v?p(a,A[S]):p(A[S],a):m[S][F]=v?p(a,0):p(0,a)}return new t({data:m,size:[h,g],datatype:c})}}),Qo="matAlgo14xDs",Wo=["typed"],ai=X(Qo,Wo,r=>{var{typed:e}=r;return function(n,a,f,v){var l=n._data,D=n._size,o=n._datatype,u,s=f;typeof o=="string"&&(u=o,a=e.convert(a,u),s=e.find(f,[u,u]));var h=D.length>0?t(s,0,D,D[0],l,a,v):[];return n.createDenseMatrix({data:h,size:Fr(D),datatype:u})};function t(i,n,a,f,v,l,D){var o=[];if(n===a.length-1)for(var u=0;u<f;u++)o[u]=D?i(l,v[u]):i(v[u],l);else for(var s=0;s<f;s++)o[s]=t(i,n+1,a,a[n+1],v[s],l,D);return o}}),ko="matAlgo03xDSf",jo=["typed"],ut=X(ko,jo,r=>{var{typed:e}=r;return function(i,n,a,f){var v=i._data,l=i._size,D=i._datatype||i.getDataType(),o=n._values,u=n._index,s=n._ptr,h=n._size,g=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==h.length)throw new cr(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=l[0],p=l[1],m,A=0,w=a;typeof D=="string"&&D===g&&D!=="mixed"&&(m=D,A=e.convert(0,m),w=e.find(a,[m,m]));for(var F=[],y=0;y<c;y++)F[y]=[];for(var d=[],_=[],B=0;B<p;B++){for(var E=B+1,S=s[B],x=s[B+1],z=S;z<x;z++){var L=u[z];d[L]=f?w(o[z],v[L][B]):w(v[L][B],o[z]),_[L]=E}for(var I=0;I<c;I++)_[I]===E?F[I][B]=d[I]:F[I][B]=f?w(A,v[I][B]):w(v[I][B],A)}return i.createDenseMatrix({data:F,size:[c,p],datatype:D===i._datatype&&g===n._datatype?m:void 0})}}),rs="matAlgo05xSfSf",es=["typed","equalScalar"],ts=X(rs,es,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,f){var v=n._values,l=n._index,D=n._ptr,o=n._size,u=n._datatype||n._data===void 0?n._datatype:n.getDataType(),s=a._values,h=a._index,g=a._ptr,c=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(o.length!==c.length)throw new cr(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var m=o[0],A=o[1],w,F=t,y=0,d=f;typeof u=="string"&&u===p&&u!=="mixed"&&(w=u,F=e.find(t,[w,w]),y=e.convert(0,w),d=e.find(f,[w,w]));var _=v&&s?[]:void 0,B=[],E=[],S=_?[]:void 0,x=_?[]:void 0,z=[],L=[],I,O,b,J;for(O=0;O<A;O++){E[O]=B.length;var V=O+1;for(b=D[O],J=D[O+1];b<J;b++)I=l[b],B.push(I),z[I]=V,S&&(S[I]=v[b]);for(b=g[O],J=g[O+1];b<J;b++)I=h[b],z[I]!==V&&B.push(I),L[I]=V,x&&(x[I]=s[b]);if(_)for(b=E[O];b<B.length;){I=B[b];var T=z[I],H=L[I];if(T===V||H===V){var K=T===V?S[I]:y,nr=H===V?x[I]:y,k=d(K,nr);F(k,y)?B.splice(b,1):(_.push(k),b++)}}}return E[A]=B.length,n.createSparseMatrix({values:_,index:B,ptr:E,size:[m,A],datatype:u===n._datatype&&p===a._datatype?w:void 0})}}),ns="matAlgo13xDD",is=["typed"],us=X(ns,is,r=>{var{typed:e}=r;return function(n,a,f){var v=n._data,l=n._size,D=n._datatype,o=a._data,u=a._size,s=a._datatype,h=[];if(l.length!==u.length)throw new cr(l.length,u.length);for(var g=0;g<l.length;g++){if(l[g]!==u[g])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");h[g]=l[g]}var c,p=f;typeof D=="string"&&D===s&&(c=D,p=e.find(f,[c,c]));var m=h.length>0?t(p,0,h,h[0],v,o):[];return n.createDenseMatrix({data:m,size:h,datatype:c})};function t(i,n,a,f,v,l){var D=[];if(n===a.length-1)for(var o=0;o<f;o++)D[o]=i(v[o],l[o]);else for(var u=0;u<f;u++)D[u]=t(i,n+1,a,a[n+1],v[u],l[u]);return D}}),as="broadcast",os=["concat"],ss=X(as,os,r=>{var{concat:e}=r;return function(n,a){var f=Math.max(n._size.length,a._size.length);if(n._size.length===a._size.length&&n._size.every((g,c)=>g===a._size[c]))return[n,a];for(var v=t(n._size,f,0),l=t(a._size,f,0),D=[],o=0;o<f;o++)D[o]=Math.max(v[o],l[o]);Ge(v,D),Ge(l,D);var u=n.clone(),s=a.clone();u._size.length<f?u.reshape(t(u._size,f,1)):s._size.length<f&&s.reshape(t(s._size,f,1));for(var h=0;h<f;h++)u._size[h]<D[h]&&(u=i(u,D[h],h)),s._size[h]<D[h]&&(s=i(s,D[h],h));return[u,s]};function t(n,a,f){return[...Array(a-n.length).fill(f),...n]}function i(n,a,f){return e(...Array(a).fill(n),f)}}),fs="matrixAlgorithmSuite",cs=["typed","matrix","concat"],xe=X(fs,cs,r=>{var{typed:e,matrix:t,concat:i}=r,n=us({typed:e}),a=ai({typed:e}),f=ss({concat:i});return function(l){var D=l.elop,o=l.SD||l.DS,u;D?(u={"DenseMatrix, DenseMatrix":(c,p)=>n(...f(c,p),D),"Array, Array":(c,p)=>n(...f(t(c),t(p)),D).valueOf(),"Array, DenseMatrix":(c,p)=>n(...f(t(c),p),D),"DenseMatrix, Array":(c,p)=>n(...f(c,t(p)),D)},l.SS&&(u["SparseMatrix, SparseMatrix"]=(c,p)=>l.SS(...f(c,p),D,!1)),l.DS&&(u["DenseMatrix, SparseMatrix"]=(c,p)=>l.DS(...f(c,p),D,!1),u["Array, SparseMatrix"]=(c,p)=>l.DS(...f(t(c),p),D,!1)),o&&(u["SparseMatrix, DenseMatrix"]=(c,p)=>o(...f(p,c),D,!0),u["SparseMatrix, Array"]=(c,p)=>o(...f(t(p),c),D,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(c=>(p,m)=>n(...f(p,m),c)),"Array, Array":e.referToSelf(c=>(p,m)=>n(...f(t(p),t(m)),c).valueOf()),"Array, DenseMatrix":e.referToSelf(c=>(p,m)=>n(...f(t(p),m),c)),"DenseMatrix, Array":e.referToSelf(c=>(p,m)=>n(...f(p,t(m)),c))},l.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(c=>(p,m)=>l.SS(...f(p,m),c,!1))),l.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(c=>(p,m)=>l.DS(...f(p,m),c,!1)),u["Array, SparseMatrix"]=e.referToSelf(c=>(p,m)=>l.DS(...f(t(p),m),c,!1))),o&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(c=>(p,m)=>o(...f(m,p),c,!0)),u["SparseMatrix, Array"]=e.referToSelf(c=>(p,m)=>o(...f(t(m),p),c,!0))));var s=l.scalar||"any",h=l.Ds||l.Ss;h&&(D?(u["DenseMatrix,"+s]=(c,p)=>a(c,p,D,!1),u[s+", DenseMatrix"]=(c,p)=>a(p,c,D,!0),u["Array,"+s]=(c,p)=>a(t(c),p,D,!1).valueOf(),u[s+", Array"]=(c,p)=>a(t(p),c,D,!0).valueOf()):(u["DenseMatrix,"+s]=e.referToSelf(c=>(p,m)=>a(p,m,c,!1)),u[s+", DenseMatrix"]=e.referToSelf(c=>(p,m)=>a(m,p,c,!0)),u["Array,"+s]=e.referToSelf(c=>(p,m)=>a(t(p),m,c,!1).valueOf()),u[s+", Array"]=e.referToSelf(c=>(p,m)=>a(t(m),p,c,!0).valueOf())));var g=l.sS!==void 0?l.sS:l.Ss;return D?(l.Ss&&(u["SparseMatrix,"+s]=(c,p)=>l.Ss(c,p,D,!1)),g&&(u[s+", SparseMatrix"]=(c,p)=>g(p,c,D,!0))):(l.Ss&&(u["SparseMatrix,"+s]=e.referToSelf(c=>(p,m)=>l.Ss(p,m,c,!1))),g&&(u[s+", SparseMatrix"]=e.referToSelf(c=>(p,m)=>g(m,p,c,!0)))),D&&D.signatures&&Su(u,D.signatures),u}}),ls="matAlgo01xDSid",vs=["typed"],oi=X(ls,vs,r=>{var{typed:e}=r;return function(i,n,a,f){var v=i._data,l=i._size,D=i._datatype||i.getDataType(),o=n._values,u=n._index,s=n._ptr,h=n._size,g=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==h.length)throw new cr(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=l[0],p=l[1],m=typeof D=="string"&&D!=="mixed"&&D===g?D:void 0,A=m?e.find(a,[m,m]):a,w,F,y=[];for(w=0;w<c;w++)y[w]=[];var d=[],_=[];for(F=0;F<p;F++){for(var B=F+1,E=s[F],S=s[F+1],x=E;x<S;x++)w=u[x],d[w]=f?A(o[x],v[w][F]):A(v[w][F],o[x]),_[w]=B;for(w=0;w<c;w++)_[w]===B?y[w][F]=d[w]:y[w][F]=v[w][F]}return i.createDenseMatrix({data:y,size:[c,p],datatype:D===i._datatype&&g===n._datatype?m:void 0})}}),hs="matAlgo04xSidSid",Ds=["typed","equalScalar"],ps=X(hs,Ds,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,f){var v=n._values,l=n._index,D=n._ptr,o=n._size,u=n._datatype||n._data===void 0?n._datatype:n.getDataType(),s=a._values,h=a._index,g=a._ptr,c=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(o.length!==c.length)throw new cr(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var m=o[0],A=o[1],w,F=t,y=0,d=f;typeof u=="string"&&u===p&&u!=="mixed"&&(w=u,F=e.find(t,[w,w]),y=e.convert(0,w),d=e.find(f,[w,w]));var _=v&&s?[]:void 0,B=[],E=[],S=v&&s?[]:void 0,x=v&&s?[]:void 0,z=[],L=[],I,O,b,J,V;for(O=0;O<A;O++){E[O]=B.length;var T=O+1;for(J=D[O],V=D[O+1],b=J;b<V;b++)I=l[b],B.push(I),z[I]=T,S&&(S[I]=v[b]);for(J=g[O],V=g[O+1],b=J;b<V;b++)if(I=h[b],z[I]===T){if(S){var H=d(S[I],s[b]);F(H,y)?z[I]=null:S[I]=H}}else B.push(I),L[I]=T,x&&(x[I]=s[b]);if(S&&x)for(b=E[O];b<B.length;)I=B[b],z[I]===T?(_[b]=S[I],b++):L[I]===T?(_[b]=x[I],b++):B.splice(b,1)}return E[A]=B.length,n.createSparseMatrix({values:_,index:B,ptr:E,size:[m,A],datatype:u===n._datatype&&p===a._datatype?w:void 0})}}),ds="matAlgo10xSids",ms=["typed","DenseMatrix"],si=X(ds,ms,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,a,f,v){var l=n._values,D=n._index,o=n._ptr,u=n._size,s=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=u[0],g=u[1],c,p=f;typeof s=="string"&&(c=s,a=e.convert(a,c),p=e.find(f,[c,c]));for(var m=[],A=[],w=[],F=0;F<g;F++){for(var y=F+1,d=o[F],_=o[F+1],B=d;B<_;B++){var E=D[B];A[E]=l[B],w[E]=y}for(var S=0;S<h;S++)F===0&&(m[S]=[]),w[S]===y?m[S][F]=v?p(a,A[S]):p(A[S],a):m[S][F]=a}return new t({data:m,size:[h,g],datatype:c})}}),gs="multiplyScalar",ws=["typed"],ys=X(gs,ws,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":ii,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),un="multiply",As=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Fs=X(un,As,r=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:a,dot:f}=r,v=Yo({typed:e,equalScalar:a}),l=ai({typed:e});function D(y,d){switch(y.length){case 1:switch(d.length){case 1:if(y[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(y[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+d[0]+")");break;case 2:if(y[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function o(y,d,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return f(y,d)}function u(y,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return s(y,d)}function s(y,d){var _=y._data,B=y._size,E=y._datatype||y.getDataType(),S=d._data,x=d._size,z=d._datatype||d.getDataType(),L=B[0],I=x[1],O,b=i,J=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&(O=E,b=e.find(i,[O,O]),J=e.find(n,[O,O]));for(var V=[],T=0;T<I;T++){for(var H=J(_[0],S[0][T]),K=1;K<L;K++)H=b(H,J(_[K],S[K][T]));V[T]=H}return y.createDenseMatrix({data:V,size:[I],datatype:E===y._datatype&&z===d._datatype?O:void 0})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":A}),g=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":p,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":F});function c(y,d){var _=y._data,B=y._size,E=y._datatype||y.getDataType(),S=d._data,x=d._datatype||d.getDataType(),z=B[0],L=B[1],I,O=i,b=n;E&&x&&E===x&&typeof E=="string"&&E!=="mixed"&&(I=E,O=e.find(i,[I,I]),b=e.find(n,[I,I]));for(var J=[],V=0;V<z;V++){for(var T=_[V],H=b(T[0],S[0]),K=1;K<L;K++)H=O(H,b(T[K],S[K]));J[V]=H}return y.createDenseMatrix({data:J,size:[z],datatype:E===y._datatype&&x===d._datatype?I:void 0})}function p(y,d){var _=y._data,B=y._size,E=y._datatype||y.getDataType(),S=d._data,x=d._size,z=d._datatype||d.getDataType(),L=B[0],I=B[1],O=x[1],b,J=i,V=n;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(b=E,J=e.find(i,[b,b]),V=e.find(n,[b,b]));for(var T=[],H=0;H<L;H++){var K=_[H];T[H]=[];for(var nr=0;nr<O;nr++){for(var k=V(K[0],S[0][nr]),Q=1;Q<I;Q++)k=J(k,V(K[Q],S[Q][nr]));T[H][nr]=k}}return y.createDenseMatrix({data:T,size:[L,O],datatype:E===y._datatype&&z===d._datatype?b:void 0})}function m(y,d){var _=y._data,B=y._size,E=y._datatype||y.getDataType(),S=d._values,x=d._index,z=d._ptr,L=d._size,I=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=B[0],b=L[1],J,V=i,T=n,H=a,K=0;E&&I&&E===I&&typeof E=="string"&&E!=="mixed"&&(J=E,V=e.find(i,[J,J]),T=e.find(n,[J,J]),H=e.find(a,[J,J]),K=e.convert(0,J));for(var nr=[],k=[],Q=[],lr=d.createSparseMatrix({values:nr,index:k,ptr:Q,size:[O,b],datatype:E===y._datatype&&I===d._datatype?J:void 0}),ar=0;ar<b;ar++){Q[ar]=k.length;var tr=z[ar],or=z[ar+1];if(or>tr)for(var ir=0,j=0;j<O;j++){for(var Ar=j+1,pr=void 0,ur=tr;ur<or;ur++){var fr=x[ur];ir!==Ar?(pr=T(_[j][fr],S[ur]),ir=Ar):pr=V(pr,T(_[j][fr],S[ur]))}ir===Ar&&!H(pr,K)&&(k.push(j),nr.push(pr))}}return Q[b]=k.length,lr}function A(y,d){var _=y._values,B=y._index,E=y._ptr,S=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var x=d._data,z=d._datatype||d.getDataType(),L=y._size[0],I=d._size[0],O=[],b=[],J=[],V,T=i,H=n,K=a,nr=0;S&&z&&S===z&&typeof S=="string"&&S!=="mixed"&&(V=S,T=e.find(i,[V,V]),H=e.find(n,[V,V]),K=e.find(a,[V,V]),nr=e.convert(0,V));var k=[],Q=[];J[0]=0;for(var lr=0;lr<I;lr++){var ar=x[lr];if(!K(ar,nr))for(var tr=E[lr],or=E[lr+1],ir=tr;ir<or;ir++){var j=B[ir];Q[j]?k[j]=T(k[j],H(ar,_[ir])):(Q[j]=!0,b.push(j),k[j]=H(ar,_[ir]))}}for(var Ar=b.length,pr=0;pr<Ar;pr++){var ur=b[pr];O[pr]=k[ur]}return J[1]=b.length,y.createSparseMatrix({values:O,index:b,ptr:J,size:[L,1],datatype:S===y._datatype&&z===d._datatype?V:void 0})}function w(y,d){var _=y._values,B=y._index,E=y._ptr,S=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var x=d._data,z=d._datatype||d.getDataType(),L=y._size[0],I=d._size[0],O=d._size[1],b,J=i,V=n,T=a,H=0;S&&z&&S===z&&typeof S=="string"&&S!=="mixed"&&(b=S,J=e.find(i,[b,b]),V=e.find(n,[b,b]),T=e.find(a,[b,b]),H=e.convert(0,b));for(var K=[],nr=[],k=[],Q=y.createSparseMatrix({values:K,index:nr,ptr:k,size:[L,O],datatype:S===y._datatype&&z===d._datatype?b:void 0}),lr=[],ar=[],tr=0;tr<O;tr++){k[tr]=nr.length;for(var or=tr+1,ir=0;ir<I;ir++){var j=x[ir][tr];if(!T(j,H))for(var Ar=E[ir],pr=E[ir+1],ur=Ar;ur<pr;ur++){var fr=B[ur];ar[fr]!==or?(ar[fr]=or,nr.push(fr),lr[fr]=V(j,_[ur])):lr[fr]=J(lr[fr],V(j,_[ur]))}}for(var Cr=k[tr],Pr=nr.length,Tr=Cr;Tr<Pr;Tr++){var sr=nr[Tr];K[Tr]=lr[sr]}}return k[O]=nr.length,Q}function F(y,d){var _=y._values,B=y._index,E=y._ptr,S=y._datatype||y._data===void 0?y._datatype:y.getDataType(),x=d._values,z=d._index,L=d._ptr,I=d._datatype||d._data===void 0?d._datatype:d.getDataType(),O=y._size[0],b=d._size[1],J=_&&x,V,T=i,H=n;S&&I&&S===I&&typeof S=="string"&&S!=="mixed"&&(V=S,T=e.find(i,[V,V]),H=e.find(n,[V,V]));for(var K=J?[]:void 0,nr=[],k=[],Q=y.createSparseMatrix({values:K,index:nr,ptr:k,size:[O,b],datatype:S===y._datatype&&I===d._datatype?V:void 0}),lr=J?[]:void 0,ar=[],tr,or,ir,j,Ar,pr,ur,fr,Cr=0;Cr<b;Cr++){k[Cr]=nr.length;var Pr=Cr+1;for(Ar=L[Cr],pr=L[Cr+1],j=Ar;j<pr;j++)if(fr=z[j],J)for(or=E[fr],ir=E[fr+1],tr=or;tr<ir;tr++)ur=B[tr],ar[ur]!==Pr?(ar[ur]=Pr,nr.push(ur),lr[ur]=H(x[j],_[tr])):lr[ur]=T(lr[ur],H(x[j],_[tr]));else for(or=E[fr],ir=E[fr+1],tr=or;tr<ir;tr++)ur=B[tr],ar[ur]!==Pr&&(ar[ur]=Pr,nr.push(ur));if(J)for(var Tr=k[Cr],sr=nr.length,zr=Tr;zr<sr;zr++){var Hr=nr[zr];K[zr]=lr[Hr]}}return k[b]=nr.length,Q}return e(un,n,{"Array, Array":e.referTo("Matrix, Matrix",y=>(d,_)=>{D(Lr(d),Lr(_));var B=y(t(d),t(_));return Mr(B)?B.valueOf():B}),"Matrix, Matrix":function(d,_){var B=d.size(),E=_.size();return D(B,E),B.length===1?E.length===1?o(d,_,B[0]):u(d,_):E.length===1?h(d,_):g(d,_)},"Matrix, Array":e.referTo("Matrix,Matrix",y=>(d,_)=>y(d,t(_))),"Array, Matrix":e.referToSelf(y=>(d,_)=>y(t(d,_.storage()),_)),"SparseMatrix, any":function(d,_){return v(d,_,n,!1)},"DenseMatrix, any":function(d,_){return l(d,_,n,!1)},"any, SparseMatrix":function(d,_){return v(_,d,n,!0)},"any, DenseMatrix":function(d,_){return l(_,d,n,!0)},"Array, any":function(d,_){return l(t(d),_,n,!1).valueOf()},"any, Array":function(d,_){return l(t(_),d,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(y=>(d,_,B)=>{for(var E=y(d,_),S=0;S<B.length;S++)E=y(E,B[S]);return E})})}),an="subtract",Es=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Cs=X(an,Es,r=>{var{typed:e,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:a,DenseMatrix:f,concat:v}=r,l=oi({typed:e}),D=ut({typed:e}),o=ts({typed:e,equalScalar:i}),u=si({typed:e,DenseMatrix:f}),s=it({typed:e,DenseMatrix:f}),h=xe({typed:e,matrix:t,concat:v});return e(an,{"any, any":n},h({elop:n,SS:o,DS:l,SD:D,Ss:s,sS:u}))}),_s="matAlgo07xSSf",Bs=["typed","DenseMatrix"],St=X(_s,Bs,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,f,v){var l=a._size,D=a._datatype||a._data===void 0?a._datatype:a.getDataType(),o=f._size,u=f._datatype||f._data===void 0?f._datatype:f.getDataType();if(l.length!==o.length)throw new cr(l.length,o.length);if(l[0]!==o[0]||l[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");var s=l[0],h=l[1],g,c=0,p=v;typeof D=="string"&&D===u&&D!=="mixed"&&(g=D,c=e.convert(0,g),p=e.find(v,[g,g]));var m,A,w=[];for(m=0;m<s;m++)w[m]=[];var F=[],y=[],d=[],_=[];for(A=0;A<h;A++){var B=A+1;for(i(a,A,d,F,B),i(f,A,_,y,B),m=0;m<s;m++){var E=d[m]===B?F[m]:c,S=_[m]===B?y[m]:c;w[m][A]=p(E,S)}}return new t({data:w,size:[s,h],datatype:D===a._datatype&&u===f._datatype?g:void 0})};function i(n,a,f,v,l){for(var D=n._values,o=n._index,u=n._ptr,s=u[a],h=u[a+1];s<h;s++){var g=o[s];f[g]=l,v[g]=D[s]}}}),on="conj",Ss=["typed"],Ms=X(on,Ss,r=>{var{typed:e}=r;return e(on,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>fe(i,t))})}),sn="concat",xs=["typed","matrix","isInteger"],bs=X(sn,xs,r=>{var{typed:e,matrix:t,isInteger:i}=r;return e(sn,{"...Array | Matrix | number | BigNumber":function(a){var f,v=a.length,l=-1,D,o=!1,u=[];for(f=0;f<v;f++){var s=a[f];if(Mr(s)&&(o=!0),gr(s)||br(s)){if(f!==v-1)throw new Error("Dimension must be specified as last argument");if(D=l,l=s.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||f>0&&l>D)throw new De(l,D+1)}else{var h=Fr(s).valueOf(),g=Lr(h);if(u[f]=h,D=l,l=g.length-1,f>0&&l!==D)throw new cr(D+1,l+1)}}if(u.length===0)throw new SyntaxError("At least one matrix expected");for(var c=u.shift();u.length;)c=kn(c,u.shift(),l);return o?t(c):c},"...string":function(a){return a.join("")}})});function Ns(){throw new Error('No "bignumber" implementation available')}function Ts(){throw new Error('No "fraction" implementation available')}function zs(){throw new Error('No "matrix" implementation available')}var fn="size",Os=["typed","config","?matrix"],Is=X(fn,Os,r=>{var{typed:e,config:t,matrix:i}=r;return e(fn,{Matrix:function(a){return a.create(a.size())},Array:Lr,string:function(a){return t.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:i?i([]):zs()}})}),cn="transpose",Ps=["typed","matrix"],$s=X(cn,Ps,r=>{var{typed:e,matrix:t}=r;return e(cn,{Array:f=>i(t(f)).valueOf(),Matrix:i,any:Fr});function i(f){var v=f.size(),l;switch(v.length){case 1:l=f.clone();break;case 2:{var D=v[0],o=v[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Sr(v)+")");switch(f.storage()){case"dense":l=n(f,D,o);break;case"sparse":l=a(f,D,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Sr(v)+")")}return l}function n(f,v,l){for(var D=f._data,o=[],u,s=0;s<l;s++){u=o[s]=[];for(var h=0;h<v;h++)u[h]=Fr(D[h][s])}return f.createDenseMatrix({data:o,size:[l,v],datatype:f._datatype})}function a(f,v,l){for(var D=f._values,o=f._index,u=f._ptr,s=D?[]:void 0,h=[],g=[],c=[],p=0;p<v;p++)c[p]=0;var m,A,w;for(m=0,A=o.length;m<A;m++)c[o[m]]++;for(var F=0,y=0;y<v;y++)g.push(F),F+=c[y],c[y]=g[y];for(g.push(F),w=0;w<l;w++)for(var d=u[w],_=u[w+1],B=d;B<_;B++){var E=c[o[B]]++;h[E]=w,D&&(s[E]=Fr(D[B]))}return f.createSparseMatrix({values:s,index:h,ptr:g,size:[l,v],datatype:f._datatype})}}),qs="numeric",Rs=["number","?bignumber","?fraction"],Ls=X(qs,Rs,r=>{var{number:e,bignumber:t,fraction:i}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:f=>e(f),BigNumber:t?f=>t(f):Ns,bigint:f=>BigInt(f),Fraction:i?f=>i(f):Ts};return function(v){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",D=arguments.length>2?arguments[2]:void 0;if(D!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=we(v);if(!(o in n))throw new TypeError("Cannot convert "+v+' of type "'+o+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+v+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===o?v:a[l](v)}}),ln="divideScalar",Us=["typed","numeric"],Zs=X(ln,Us,r=>{var{typed:e,numeric:t}=r;return e(ln,{"number, number":function(n,a){return n/a},"Complex, Complex":function(n,a){return n.div(a)},"BigNumber, BigNumber":function(n,a){return n.div(a)},"bigint, bigint":function(n,a){return n/a},"Fraction, Fraction":function(n,a){return n.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})});function Mt(r){var{DenseMatrix:e}=r;return function(i,n,a){var f=i.size();if(f.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Sr(f)+")");var v=f[0],l=f[1];if(v!==l)throw new RangeError("Matrix must be square (size: "+Sr(f)+")");var D=[];if(Mr(n)){var o=n.size(),u=n._data;if(o.length===1){if(o[0]!==v)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var s=0;s<v;s++)D[s]=[u[s]];return new e({data:D,size:[v,1],datatype:n._datatype})}if(o.length===2){if(o[0]!==v||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(_n(n)){if(a){D=[];for(var h=0;h<v;h++)D[h]=[u[h][0]];return new e({data:D,size:[v,1],datatype:n._datatype})}return n}if(Bn(n)){for(var g=0;g<v;g++)D[g]=[0];for(var c=n._values,p=n._index,m=n._ptr,A=m[1],w=m[0];w<A;w++){var F=p[w];D[F][0]=c[w]}return new e({data:D,size:[v,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(wr(n)){var y=Lr(n);if(y.length===1){if(y[0]!==v)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<v;d++)D[d]=[n[d]];return new e({data:D,size:[v,1]})}if(y.length===2){if(y[0]!==v||y[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<v;_++)D[_]=[n[_][0]];return new e({data:D,size:[v,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var vn="lsolve",Vs=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Hs=X(vn,Vs,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:f,DenseMatrix:v}=r,l=Mt({DenseMatrix:v});return e(vn,{"SparseMatrix, Array | Matrix":function(s,h){return o(s,h)},"DenseMatrix, Array | Matrix":function(s,h){return D(s,h)},"Array, Array | Matrix":function(s,h){var g=t(s),c=D(g,h);return c.valueOf()}});function D(u,s){s=l(u,s,!0);for(var h=s._data,g=u._size[0],c=u._size[1],p=[],m=u._data,A=0;A<c;A++){var w=h[A][0]||0,F=void 0;if(f(w,0))F=0;else{var y=m[A][A];if(f(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,y);for(var d=A+1;d<g;d++)h[d]=[a(h[d][0]||0,n(F,m[d][A]))]}p[A]=[F]}return new v({data:p,size:[g,1]})}function o(u,s){s=l(u,s,!0);for(var h=s._data,g=u._size[0],c=u._size[1],p=u._values,m=u._index,A=u._ptr,w=[],F=0;F<c;F++){var y=h[F][0]||0;if(f(y,0))w[F]=[0];else{for(var d=0,_=[],B=[],E=A[F],S=A[F+1],x=E;x<S;x++){var z=m[x];z===F?d=p[x]:z>F&&(_.push(p[x]),B.push(z))}if(f(d,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=i(y,d),I=0,O=B.length;I<O;I++){var b=B[I];h[b]=[a(h[b][0]||0,n(L,_[I]))]}w[F]=[L]}}return new v({data:w,size:[g,1]})}}),hn="usolve",Js=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Gs=X(hn,Js,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:f,DenseMatrix:v}=r,l=Mt({DenseMatrix:v});return e(hn,{"SparseMatrix, Array | Matrix":function(s,h){return o(s,h)},"DenseMatrix, Array | Matrix":function(s,h){return D(s,h)},"Array, Array | Matrix":function(s,h){var g=t(s),c=D(g,h);return c.valueOf()}});function D(u,s){s=l(u,s,!0);for(var h=s._data,g=u._size[0],c=u._size[1],p=[],m=u._data,A=c-1;A>=0;A--){var w=h[A][0]||0,F=void 0;if(f(w,0))F=0;else{var y=m[A][A];if(f(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,y);for(var d=A-1;d>=0;d--)h[d]=[a(h[d][0]||0,n(F,m[d][A]))]}p[A]=[F]}return new v({data:p,size:[g,1]})}function o(u,s){s=l(u,s,!0);for(var h=s._data,g=u._size[0],c=u._size[1],p=u._values,m=u._index,A=u._ptr,w=[],F=c-1;F>=0;F--){var y=h[F][0]||0;if(f(y,0))w[F]=[0];else{for(var d=0,_=[],B=[],E=A[F],S=A[F+1],x=S-1;x>=E;x--){var z=m[x];z===F?d=p[x]:z<F&&(_.push(p[x]),B.push(z))}if(f(d,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=i(y,d),I=0,O=B.length;I<O;I++){var b=B[I];h[b]=[a(h[b][0],n(L,_[I]))]}w[F]=[L]}}return new v({data:w,size:[g,1]})}}),Ke="smaller",Ys=["typed","config","matrix","DenseMatrix","concat"],Ks=X(Ke,Ys,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:a}=r,f=ut({typed:e}),v=St({typed:e,DenseMatrix:n}),l=it({typed:e,DenseMatrix:n}),D=xe({typed:e,matrix:i,concat:a}),o=nt({typed:e});return e(Ke,Xs({typed:e,config:t}),{"boolean, boolean":(u,s)=>u<s,"BigNumber, BigNumber":function(s,h){return s.lt(h)&&!tt(s,h,t.relTol,t.absTol)},"bigint, bigint":(u,s)=>u<s,"Fraction, Fraction":(u,s)=>u.compare(s)===-1,"Complex, Complex":function(s,h){throw new TypeError("No ordering relation is defined for complex numbers")}},o,D({SS:v,DS:f,Ss:l}))}),Xs=X(Ke,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ke,{"number, number":function(n,a){return n<a&&!ve(n,a,t.relTol,t.absTol)}})}),Xe="larger",Qs=["typed","config","matrix","DenseMatrix","concat"],Ws=X(Xe,Qs,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:a}=r,f=ut({typed:e}),v=St({typed:e,DenseMatrix:n}),l=it({typed:e,DenseMatrix:n}),D=xe({typed:e,matrix:i,concat:a}),o=nt({typed:e});return e(Xe,ks({typed:e,config:t}),{"boolean, boolean":(u,s)=>u>s,"BigNumber, BigNumber":function(s,h){return s.gt(h)&&!tt(s,h,t.relTol,t.absTol)},"bigint, bigint":(u,s)=>u>s,"Fraction, Fraction":(u,s)=>u.compare(s)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,D({SS:v,DS:f,Ss:l}))}),ks=X(Xe,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Xe,{"number, number":function(n,a){return n>a&&!ve(n,a,t.relTol,t.absTol)}})}),Qe="largerEq",js=["typed","config","matrix","DenseMatrix","concat"],rf=X(Qe,js,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:a}=r,f=ut({typed:e}),v=St({typed:e,DenseMatrix:n}),l=it({typed:e,DenseMatrix:n}),D=xe({typed:e,matrix:i,concat:a}),o=nt({typed:e});return e(Qe,ef({typed:e,config:t}),{"boolean, boolean":(u,s)=>u>=s,"BigNumber, BigNumber":function(s,h){return s.gte(h)||tt(s,h,t.relTol,t.absTol)},"bigint, bigint":function(s,h){return s>=h},"Fraction, Fraction":(u,s)=>u.compare(s)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,D({SS:v,DS:f,Ss:l}))}),ef=X(Qe,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Qe,{"number, number":function(n,a){return n>=a||ve(n,a,t.relTol,t.absTol)}})}),tf="FibonacciHeap",nf=["smaller","larger"],uf=X(tf,nf,r=>{var{smaller:e,larger:t}=r,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(o,u){var s={key:o,value:u,degree:0};if(this._minimum){var h=this._minimum;s.left=h,s.right=h.right,h.right=s,s.right.left=s,e(o,h.key)&&(this._minimum=s)}else s.left=s,s.right=s,this._minimum=s;return this._size++,s},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var u=this._minimum,s=o.degree,h=o.child;s>0;){var g=h.right;h.left.right=h.right,h.right.left=h.left,h.left=u,h.right=u.right,u.right=h,h.right.left=h,h.parent=null,h=g,s--}return o.left.right=o.right,o.right.left=o.left,o===o.right?u=null:(u=o.right,u=D(u,this._size)),this._size--,this._minimum=u,o},n.prototype.remove=function(o){this._minimum=a(this._minimum,o,-1),this.extractMinimum()};function a(o,u,s){u.key=s;var h=u.parent;return h&&e(u.key,h.key)&&(f(o,u,h),v(o,h)),e(u.key,o.key)&&(o=u),o}function f(o,u,s){u.left.right=u.right,u.right.left=u.left,s.degree--,s.child===u&&(s.child=u.right),s.degree===0&&(s.child=null),u.left=o,u.right=o.right,o.right=u,u.right.left=u,u.parent=null,u.mark=!1}function v(o,u){var s=u.parent;s&&(u.mark?(f(o,u,s),v(s)):u.mark=!0)}var l=function(u,s){u.left.right=u.right,u.right.left=u.left,u.parent=s,s.child?(u.left=s.child,u.right=s.child.right,s.child.right=u,u.right.left=u):(s.child=u,u.right=u,u.left=u),s.degree++,u.mark=!1};function D(o,u){var s=Math.floor(Math.log(u)*i)+1,h=new Array(s),g=0,c=o;if(c)for(g++,c=c.right;c!==o;)g++,c=c.right;for(var p;g>0;){for(var m=c.degree,A=c.right;p=h[m],!!p;){if(t(c.key,p.key)){var w=p;p=c,c=w}l(p,c),h[m]=null,m++}h[m]=c,c=A,g--}o=null;for(var F=0;F<s;F++)p=h[F],p&&(o?(p.left.right=p.right,p.right.left=p.left,p.left=o,p.right=o.right,o.right=p,p.right.left=p,e(p.key,o.key)&&(o=p)):o=p);return o}return n},{isClass:!0}),af="Spa",of=["addScalar","equalScalar","FibonacciHeap"],sf=X(af,of,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(a,f){if(this._values[a])this._values[a].value=f;else{var v=this._heap.insert(a,f);this._values[a]=v}},n.prototype.get=function(a){var f=this._values[a];return f?f.value:0},n.prototype.accumulate=function(a,f){var v=this._values[a];v?v.value=e(v.value,f):(v=this._heap.insert(a,f),this._values[a]=v)},n.prototype.forEach=function(a,f,v){var l=this._heap,D=this._values,o=[],u=l.extractMinimum();for(u&&o.push(u);u&&u.key<=f;)u.key>=a&&(t(u.value,0)||v(u.key,u.value,this)),u=l.extractMinimum(),u&&o.push(u);for(var s=0;s<o.length;s++){var h=o[s];u=l.insert(h.key,h.value),D[u.key]=u}},n.prototype.swap=function(a,f){var v=this._values[a],l=this._values[f];if(!v&&l)v=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=v,this._values[f]=void 0;else if(v&&!l)l=this._heap.insert(f,v.value),this._heap.remove(v),this._values[f]=l,this._values[a]=void 0;else if(v&&l){var D=v.value;v.value=l.value,l.value=D}},n},{isClass:!0}),Dn="add",ff=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],cf=X(Dn,ff,r=>{var{typed:e,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:a,SparseMatrix:f,concat:v}=r,l=oi({typed:e}),D=ps({typed:e,equalScalar:n}),o=si({typed:e,DenseMatrix:a}),u=xe({typed:e,matrix:t,concat:v});return e(Dn,{"any, any":i,"any, any, ...any":e.referToSelf(s=>(h,g,c)=>{for(var p=s(h,g),m=0;m<c.length;m++)p=s(p,c[m]);return p})},u({elop:i,DS:l,SS:D,Ss:o}))}),pn="dot",lf=["typed","addScalar","multiplyScalar","conj","size"],vf=X(pn,lf,r=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:n,size:a}=r;return e(pn,{"Array | DenseMatrix, Array | DenseMatrix":v,"SparseMatrix, SparseMatrix":l});function f(o,u){var s=D(o),h=D(u),g,c;if(s.length===1)g=s[0];else if(s.length===2&&s[1]===1)g=s[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");if(h.length===1)c=h[0];else if(h.length===2&&h[1]===1)c=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(g!==c)throw new RangeError("Vectors must have equal length ("+g+" != "+c+")");if(g===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return g}function v(o,u){var s=f(o,u),h=Mr(o)?o._data:o,g=Mr(o)?o._datatype||o.getDataType():void 0,c=Mr(u)?u._data:u,p=Mr(u)?u._datatype||u.getDataType():void 0,m=D(o).length===2,A=D(u).length===2,w=t,F=i;if(g&&p&&g===p&&typeof g=="string"&&g!=="mixed"){var y=g;w=e.find(t,[y,y]),F=e.find(i,[y,y])}if(!m&&!A){for(var d=F(n(h[0]),c[0]),_=1;_<s;_++)d=w(d,F(n(h[_]),c[_]));return d}if(!m&&A){for(var B=F(n(h[0]),c[0][0]),E=1;E<s;E++)B=w(B,F(n(h[E]),c[E][0]));return B}if(m&&!A){for(var S=F(n(h[0][0]),c[0]),x=1;x<s;x++)S=w(S,F(n(h[x][0]),c[x]));return S}if(m&&A){for(var z=F(n(h[0][0]),c[0][0]),L=1;L<s;L++)z=w(z,F(n(h[L][0]),c[L][0]));return z}}function l(o,u){f(o,u);for(var s=o._index,h=o._values,g=u._index,c=u._values,p=0,m=t,A=i,w=0,F=0;w<s.length&&F<g.length;){var y=s[w],d=g[F];if(y<d){w++;continue}if(y>d){F++;continue}y===d&&(p=m(p,A(h[w],c[F])),w++,F++)}return p}function D(o){return Mr(o)?o.size():a(o)}}),dn="lup",hf=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Df=X(dn,hf,r=>{var{typed:e,matrix:t,abs:i,addScalar:n,divideScalar:a,multiplyScalar:f,subtractScalar:v,larger:l,equalScalar:D,unaryMinus:o,DenseMatrix:u,SparseMatrix:s,Spa:h}=r;return e(dn,{DenseMatrix:function(m){return g(m)},SparseMatrix:function(m){return c(m)},Array:function(m){var A=t(m),w=g(A);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function g(p){var m=p._size[0],A=p._size[1],w=Math.min(m,A),F=Fr(p._data),y=[],d=[m,w],_=[],B=[w,A],E,S,x,z=[];for(E=0;E<m;E++)z[E]=E;for(S=0;S<A;S++){if(S>0)for(E=0;E<m;E++){var L=Math.min(E,S),I=0;for(x=0;x<L;x++)I=n(I,f(F[E][x],F[x][S]));F[E][S]=v(F[E][S],I)}var O=S,b=0,J=0;for(E=S;E<m;E++){var V=F[E][S],T=i(V);l(T,b)&&(O=E,b=T,J=V)}if(S!==O&&(z[S]=[z[O],z[O]=z[S]][0],u._swapRows(S,O,F)),S<m)for(E=S+1;E<m;E++){var H=F[E][S];D(H,0)||(F[E][S]=a(F[E][S],J))}}for(S=0;S<A;S++)for(E=0;E<m;E++){if(S===0&&(E<A&&(_[E]=[]),y[E]=[]),E<S){E<A&&(_[E][S]=F[E][S]),S<m&&(y[E][S]=0);continue}if(E===S){E<A&&(_[E][S]=F[E][S]),S<m&&(y[E][S]=1);continue}E<A&&(_[E][S]=0),S<m&&(y[E][S]=F[E][S])}var K=new u({data:y,size:d}),nr=new u({data:_,size:B}),k=[];for(E=0,w=z.length;E<w;E++)k[z[E]]=E;return{L:K,U:nr,p:k,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function c(p){var m=p._size[0],A=p._size[1],w=Math.min(m,A),F=p._values,y=p._index,d=p._ptr,_=[],B=[],E=[],S=[m,w],x=[],z=[],L=[],I=[w,A],O,b,J,V=[],T=[];for(O=0;O<m;O++)V[O]=O,T[O]=O;var H=function(k,Q){var lr=T[k],ar=T[Q];V[lr]=Q,V[ar]=k,T[k]=ar,T[Q]=lr},K=function(){var k=new h;b<m&&(E.push(_.length),_.push(1),B.push(b)),L.push(x.length);var Q=d[b],lr=d[b+1];for(J=Q;J<lr;J++)O=y[J],k.set(V[O],F[J]);b>0&&k.forEach(0,b-1,function(ir,j){s._forEachRow(ir,_,B,E,function(Ar,pr){Ar>ir&&k.accumulate(Ar,o(f(pr,j)))})});var ar=b,tr=k.get(b),or=i(tr);k.forEach(b+1,m-1,function(ir,j){var Ar=i(j);l(Ar,or)&&(ar=ir,or=Ar,tr=j)}),b!==ar&&(s._swapRows(b,ar,S[1],_,B,E),s._swapRows(b,ar,I[1],x,z,L),k.swap(b,ar),H(b,ar)),k.forEach(0,m-1,function(ir,j){ir<=b?(x.push(j),z.push(ir)):(j=a(j,tr),D(j,0)||(_.push(j),B.push(ir)))})};for(b=0;b<A;b++)K();return L.push(x.length),E.push(_.length),{L:new s({values:_,index:B,ptr:E,size:S}),U:new s({values:x,index:z,ptr:L,size:I}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function pf(r,e,t,i){for(var n=r._values,a=r._index,f=r._ptr,v=r._size,l=r._datatype,D=v[0],o=v[1],u=i&&r._values?[]:null,s=[],h=[],g=0,c=0;c<o;c++){h[c]=g;for(var p=t?t[c]:c,m=f[p],A=f[p+1],w=m;w<A;w++){var F=e?e[a[w]]:a[w];s[g]=F,u&&(u[g]=n[w]),g++}}return h[o]=g,r.createSparseMatrix({values:u,index:s,ptr:h,size:[D,o],datatype:l})}function fi(r,e,t,i,n,a,f){var v=0;for(t[f]=r;v>=0;){var l=t[f+v],D=t[i+l];D===-1?(v--,a[e++]=l):(t[i+l]=t[n+D],++v,t[f+v]=D)}return e}function df(r,e){if(!r)return null;var t=0,i,n=[],a=[],f=0,v=e,l=2*e;for(i=0;i<e;i++)a[f+i]=-1;for(i=e-1;i>=0;i--)r[i]!==-1&&(a[v+i]=a[f+r[i]],a[f+r[i]]=i);for(i=0;i<e;i++)r[i]===-1&&(t=fi(i,t,a,f,v,n,l));return n}function mf(r,e){if(!r)return null;var t=r._index,i=r._ptr,n=r._size,a=n[0],f=n[1],v=[],l=[],D=0,o=f,u,s;if(e)for(u=0;u<a;u++)l[o+u]=-1;for(var h=0;h<f;h++){v[h]=-1,l[D+h]=-1;for(var g=i[h],c=i[h+1],p=g;p<c;p++){var m=t[p];for(u=e?l[o+m]:m;u!==-1&&u<h;u=s)s=l[D+u],l[D+u]=h,s===-1&&(v[u]=h);e&&(l[o+m]=h)}}return v}function gf(r,e,t){for(var i=r._values,n=r._index,a=r._ptr,f=r._size,v=f[1],l=0,D=0;D<v;D++){var o=a[D];for(a[D]=l;o<a[D+1];o++)e(n[o],D,i?i[o]:1,t)&&(n[l]=n[o],i&&(i[l]=i[o]),l++)}return a[v]=l,n.splice(l,n.length-l),i&&i.splice(l,i.length-l),l}function ue(r){return-r-2}var wf="csAmd",yf=["add","multiply","transpose"],Af=X(wf,yf,r=>{var{add:e,multiply:t,transpose:i}=r;return function(o,u){if(!u||o<=0||o>3)return null;var s=u._size,h=s[0],g=s[1],c=0,p=Math.max(16,10*Math.sqrt(g));p=Math.min(g-2,p);var m=n(o,u,h,g,p);gf(m,l,null);for(var A=m._index,w=m._ptr,F=w[g],y=[],d=[],_=0,B=g+1,E=2*(g+1),S=3*(g+1),x=4*(g+1),z=5*(g+1),L=6*(g+1),I=7*(g+1),O=y,b=a(g,w,d,_,S,O,E,I,B,L,x,z),J=f(g,w,d,z,x,L,p,B,S,O,E),V=0,T,H,K,nr,k,Q,lr,ar,tr,or,ir,j,Ar,pr,ur,fr;J<g;){for(K=-1;V<g&&(K=d[S+V])===-1;V++);d[E+K]!==-1&&(O[d[E+K]]=-1),d[S+V]=d[E+K];var Cr=d[x+K],Pr=d[B+K];J+=Pr;var Tr=0;d[B+K]=-Pr;var sr=w[K],zr=Cr===0?sr:F,Hr=zr;for(nr=1;nr<=Cr+1;nr++){for(nr>Cr?(Q=K,lr=sr,ar=d[_+K]-Cr):(Q=A[sr++],lr=w[Q],ar=d[_+Q]),k=1;k<=ar;k++)T=A[lr++],!((tr=d[B+T])<=0)&&(Tr+=tr,d[B+T]=-tr,A[Hr++]=T,d[E+T]!==-1&&(O[d[E+T]]=O[T]),O[T]!==-1?d[E+O[T]]=d[E+T]:d[S+d[z+T]]=d[E+T]);Q!==K&&(w[Q]=ue(K),d[L+Q]=0)}for(Cr!==0&&(F=Hr),d[z+K]=Tr,w[K]=zr,d[_+K]=Hr-zr,d[x+K]=-2,b=v(b,c,d,L,g),or=zr;or<Hr;or++)if(T=A[or],!((ir=d[x+T])<=0)){tr=-d[B+T];var ft=b-tr;for(sr=w[T],j=w[T]+ir-1;sr<=j;sr++)Q=A[sr],d[L+Q]>=b?d[L+Q]-=tr:d[L+Q]!==0&&(d[L+Q]=d[z+Q]+ft)}for(or=zr;or<Hr;or++){for(T=A[or],j=w[T],Ar=j+d[x+T]-1,pr=j,ur=0,fr=0,sr=j;sr<=Ar;sr++)if(Q=A[sr],d[L+Q]!==0){var Ce=d[L+Q]-b;Ce>0?(fr+=Ce,A[pr++]=Q,ur+=Q):(w[Q]=ue(K),d[L+Q]=0)}d[x+T]=pr-j+1;var C=pr,M=j+d[_+T];for(sr=Ar+1;sr<M;sr++){H=A[sr];var N=d[B+H];N<=0||(fr+=N,A[pr++]=H,ur+=H)}fr===0?(w[T]=ue(K),tr=-d[B+T],Tr-=tr,Pr+=tr,J+=tr,d[B+T]=0,d[x+T]=-1):(d[z+T]=Math.min(d[z+T],fr),A[pr]=A[C],A[C]=A[j],A[j]=K,d[_+T]=pr-j+1,ur=(ur<0?-ur:ur)%g,d[E+T]=d[I+ur],d[I+ur]=T,O[T]=ur)}for(d[z+K]=Tr,c=Math.max(c,Tr),b=v(b+c,c,d,L,g),or=zr;or<Hr;or++)if(T=A[or],!(d[B+T]>=0))for(ur=O[T],T=d[I+ur],d[I+ur]=-1;T!==-1&&d[E+T]!==-1;T=d[E+T],b++){for(ar=d[_+T],ir=d[x+T],sr=w[T]+1;sr<=w[T]+ar-1;sr++)d[L+A[sr]]=b;var P=T;for(H=d[E+T];H!==-1;){var R=d[_+H]===ar&&d[x+H]===ir;for(sr=w[H]+1;R&&sr<=w[H]+ar-1;sr++)d[L+A[sr]]!==b&&(R=0);R?(w[H]=ue(T),d[B+T]+=d[B+H],d[B+H]=0,d[x+H]=-1,H=d[E+H],d[E+P]=H):(P=H,H=d[E+H])}}for(sr=zr,or=zr;or<Hr;or++)T=A[or],!((tr=-d[B+T])<=0)&&(d[B+T]=tr,fr=d[z+T]+Tr-tr,fr=Math.min(fr,g-J-tr),d[S+fr]!==-1&&(O[d[S+fr]]=T),d[E+T]=d[S+fr],O[T]=-1,d[S+fr]=T,V=Math.min(V,fr),d[z+T]=fr,A[sr++]=T);d[B+K]=Pr,(d[_+K]=sr-zr)===0&&(w[K]=-1,d[L+K]=0),Cr!==0&&(F=sr)}for(T=0;T<g;T++)w[T]=ue(w[T]);for(H=0;H<=g;H++)d[S+H]=-1;for(H=g;H>=0;H--)d[B+H]>0||(d[E+H]=d[S+w[H]],d[S+w[H]]=H);for(Q=g;Q>=0;Q--)d[B+Q]<=0||w[Q]!==-1&&(d[E+Q]=d[S+w[Q]],d[S+w[Q]]=Q);for(K=0,T=0;T<=g;T++)w[T]===-1&&(K=fi(T,K,d,S,E,y,L));return y.splice(y.length-1,1),y};function n(D,o,u,s,h){var g=i(o);if(D===1&&s===u)return e(o,g);if(D===2){for(var c=g._index,p=g._ptr,m=0,A=0;A<u;A++){var w=p[A];if(p[A]=m,!(p[A+1]-w>h))for(var F=p[A+1];w<F;w++)c[m++]=c[w]}return p[u]=m,o=i(g),t(g,o)}return t(g,o)}function a(D,o,u,s,h,g,c,p,m,A,w,F){for(var y=0;y<D;y++)u[s+y]=o[y+1]-o[y];u[s+D]=0;for(var d=0;d<=D;d++)u[h+d]=-1,g[d]=-1,u[c+d]=-1,u[p+d]=-1,u[m+d]=1,u[A+d]=1,u[w+d]=0,u[F+d]=u[s+d];var _=v(0,0,u,A,D);return u[w+D]=-2,o[D]=-1,u[A+D]=0,_}function f(D,o,u,s,h,g,c,p,m,A,w){for(var F=0,y=0;y<D;y++){var d=u[s+y];if(d===0)u[h+y]=-2,F++,o[y]=-1,u[g+y]=0;else if(d>c)u[p+y]=0,u[h+y]=-1,F++,o[y]=ue(D),u[p+D]++;else{var _=u[m+d];_!==-1&&(A[_]=y),u[w+y]=u[m+d],u[m+d]=y}}return F}function v(D,o,u,s,h){if(D<2||D+o<0){for(var g=0;g<h;g++)u[s+g]!==0&&(u[s+g]=1);D=2}return D}function l(D,o){return D!==o}});function Ff(r,e,t,i,n,a,f){var v,l,D=0,o;if(r<=e||t[i+e]<=t[n+r])return-1;t[n+r]=t[i+e];var u=t[a+r];if(t[a+r]=e,u===-1)D=1,o=r;else{for(D=2,o=u;o!==t[f+o];o=t[f+o]);for(v=u;v!==o;v=l)l=t[f+v],t[f+v]=o}return{jleaf:D,q:o}}var Ef="csCounts",Cf=["transpose"],_f=X(Ef,Cf,r=>{var{transpose:e}=r;return function(t,i,n,a){if(!t||!i||!n)return null;var f=t._size,v=f[0],l=f[1],D,o,u,s,h,g,c,p=4*l+(a?l+v+1:0),m=[],A=0,w=l,F=2*l,y=3*l,d=4*l,_=5*l+1;for(u=0;u<p;u++)m[u]=-1;var B=[],E=e(t),S=E._index,x=E._ptr;for(u=0;u<l;u++)for(o=n[u],B[o]=m[y+o]===-1?1:0;o!==-1&&m[y+o]===-1;o=i[o])m[y+o]=u;if(a){for(u=0;u<l;u++)m[n[u]]=u;for(D=0;D<v;D++){for(u=l,g=x[D],c=x[D+1],h=g;h<c;h++)u=Math.min(u,m[S[h]]);m[_+D]=m[d+u],m[d+u]=D}}for(D=0;D<l;D++)m[A+D]=D;for(u=0;u<l;u++){for(o=n[u],i[o]!==-1&&B[i[o]]--,s=a?m[d+u]:o;s!==-1;s=a?m[_+s]:-1)for(h=x[s];h<x[s+1];h++){D=S[h];var z=Ff(D,o,m,y,w,F,A);z.jleaf>=1&&B[o]++,z.jleaf===2&&B[z.q]--}i[o]!==-1&&(m[A+o]=i[o])}for(o=0;o<l;o++)i[o]!==-1&&(B[i[o]]+=B[o]);return B}}),Bf="csSqr",Sf=["add","multiply","transpose"],Mf=X(Bf,Sf,r=>{var{add:e,multiply:t,transpose:i}=r,n=Af({add:e,multiply:t,transpose:i}),a=_f({transpose:i});return function(l,D,o){var u=D._ptr,s=D._size,h=s[1],g,c={};if(c.q=n(l,D),l&&!c.q)return null;if(o){var p=l?pf(D,null,c.q,0):D;c.parent=mf(p,1);var m=df(c.parent,h);if(c.cp=a(p,c.parent,m,1),p&&c.parent&&c.cp&&f(p,c))for(c.unz=0,g=0;g<h;g++)c.unz+=c.cp[g]}else c.unz=4*u[h]+h,c.lnz=c.unz;return c};function f(v,l){var D=v._ptr,o=v._index,u=v._size,s=u[0],h=u[1];l.pinv=[],l.leftmost=[];var g=l.parent,c=l.pinv,p=l.leftmost,m=[],A=0,w=s,F=s+h,y=s+2*h,d,_,B,E,S;for(_=0;_<h;_++)m[w+_]=-1,m[F+_]=-1,m[y+_]=0;for(d=0;d<s;d++)p[d]=-1;for(_=h-1;_>=0;_--)for(E=D[_],S=D[_+1],B=E;B<S;B++)p[o[B]]=_;for(d=s-1;d>=0;d--)c[d]=-1,_=p[d],_!==-1&&(m[y+_]++===0&&(m[F+_]=d),m[A+d]=m[w+_],m[w+_]=d);for(l.lnz=0,l.m2=s,_=0;_<h;_++)if(d=m[w+_],l.lnz++,d<0&&(d=l.m2++),c[d]=_,!(--y[_]<=0)){l.lnz+=m[y+_];var x=g[_];x!==-1&&(m[y+x]===0&&(m[F+x]=m[F+_]),m[A+m[F+_]]=m[w+x],m[w+x]=m[A+d],m[y+x]+=m[y+_])}for(d=0;d<s;d++)c[d]<0&&(c[d]=_++);return!0}});function At(r,e){return r[e]<0}function ci(r,e){r[e]=ue(r[e])}function mn(r){return r<0?ue(r):r}function xf(r,e,t,i,n){var a=e._index,f=e._ptr,v=e._size,l=v[1],D,o,u,s=0;for(i[0]=r;s>=0;){r=i[s];var h=n?n[r]:r;At(f,r)||(ci(f,r),i[l+s]=h<0?0:mn(f[h]));var g=1;for(o=i[l+s],u=h<0?0:mn(f[h+1]);o<u;o++)if(D=a[o],!At(f,D)){i[l+s]=o,i[++s]=D,g=0;break}g&&(s--,i[--t]=r)}return t}function bf(r,e,t,i,n){var a=r._ptr,f=r._size,v=e._index,l=e._ptr,D=f[1],o,u,s,h=D;for(u=l[t],s=l[t+1],o=u;o<s;o++){var g=v[o];At(a,g)||(h=xf(g,r,h,i,n))}for(o=h;o<D;o++)ci(a,i[o]);return h}var Nf="csSpsolve",Tf=["divideScalar","multiply","subtract"],zf=X(Nf,Tf,r=>{var{divideScalar:e,multiply:t,subtract:i}=r;return function(a,f,v,l,D,o,u){var s=a._values,h=a._index,g=a._ptr,c=a._size,p=c[1],m=f._values,A=f._index,w=f._ptr,F,y,d,_,B=bf(a,f,v,l,o);for(F=B;F<p;F++)D[l[F]]=0;for(y=w[v],d=w[v+1],F=y;F<d;F++)D[A[F]]=m[F];for(var E=B;E<p;E++){var S=l[E],x=o?o[S]:S;if(!(x<0))for(y=g[x],d=g[x+1],D[S]=e(D[S],s[u?y:d-1]),F=u?y+1:y,_=u?d:d-1;F<_;F++){var z=h[F];D[z]=i(D[z],t(s[F],D[S]))}}return B}}),Of="csLu",If=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Pf=X(Of,If,r=>{var{abs:e,divideScalar:t,multiply:i,subtract:n,larger:a,largerEq:f,SparseMatrix:v}=r,l=zf({divideScalar:t,multiply:i,subtract:n});return function(o,u,s){if(!o)return null;var h=o._size,g=h[1],c,p=100,m=100;u&&(c=u.q,p=u.lnz||p,m=u.unz||m);var A=[],w=[],F=[],y=new v({values:A,index:w,ptr:F,size:[g,g]}),d=[],_=[],B=[],E=new v({values:d,index:_,ptr:B,size:[g,g]}),S=[],x,z,L=[],I=[];for(x=0;x<g;x++)L[x]=0,S[x]=-1,F[x+1]=0;p=0,m=0;for(var O=0;O<g;O++){F[O]=p,B[O]=m;var b=c?c[O]:O,J=l(y,o,b,I,L,S,1),V=-1,T=-1;for(z=J;z<g;z++)if(x=I[z],S[x]<0){var H=e(L[x]);a(H,T)&&(T=H,V=x)}else _[m]=S[x],d[m++]=L[x];if(V===-1||T<=0)return null;S[b]<0&&f(e(L[b]),i(T,s))&&(V=b);var K=L[V];for(_[m]=O,d[m++]=K,S[V]=O,w[p]=V,A[p++]=1,z=J;z<g;z++)x=I[z],S[x]<0&&(w[p]=x,A[p++]=t(L[x],K)),L[x]=0}for(F[g]=p,B[g]=m,z=0;z<p;z++)w[z]=S[w[z]];return A.splice(p,A.length-p),w.splice(p,w.length-p),d.splice(m,d.length-m),_.splice(m,_.length-m),{L:y,U:E,pinv:S}}}),gn="slu",$f=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],qf=X(gn,$f,r=>{var{typed:e,abs:t,add:i,multiply:n,transpose:a,divideScalar:f,subtract:v,larger:l,largerEq:D,SparseMatrix:o}=r,u=Mf({add:i,multiply:n,transpose:a}),s=Pf({abs:t,divideScalar:f,multiply:n,subtract:v,larger:l,largerEq:D,SparseMatrix:o});return e(gn,{"SparseMatrix, number, number":function(g,c,p){if(!Br(c)||c<0||c>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(p<0||p>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var m=u(c,g,!1),A=s(g,m,p);return{L:A.L,U:A.U,p:A.pinv,q:m.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function wn(r,e){var t,i=e.length,n=[];if(r)for(t=0;t<i;t++)n[r[t]]=e[t];else for(t=0;t<i;t++)n[t]=e[t];return n}var yn="lusolve",Rf=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Lf=X(yn,Rf,r=>{var{typed:e,matrix:t,lup:i,slu:n,usolve:a,lsolve:f,DenseMatrix:v}=r,l=Mt({DenseMatrix:v});return e(yn,{"Array, Array | Matrix":function(s,h){s=t(s);var g=i(s),c=o(g.L,g.U,g.p,null,h);return c.valueOf()},"DenseMatrix, Array | Matrix":function(s,h){var g=i(s);return o(g.L,g.U,g.p,null,h)},"SparseMatrix, Array | Matrix":function(s,h){var g=i(s);return o(g.L,g.U,g.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(s,h,g,c){var p=n(s,g,c);return o(p.L,p.U,p.p,p.q,h)},"Object, Array | Matrix":function(s,h){return o(s.L,s.U,s.p,s.q,h)}});function D(u){if(Mr(u))return u;if(wr(u))return t(u);throw new TypeError("Invalid Matrix LU decomposition")}function o(u,s,h,g,c){u=D(u),s=D(s),h&&(c=l(u,c,!0),c._data=wn(h,c._data));var p=f(u,c),m=a(s,p);return g&&(m._data=wn(g,m._data)),m}}),li=Ja({config:he}),Uf=Xa({}),vi=ka({}),xt=eo({}),Wr=Do({Matrix:xt}),hr=Ku({BigNumber:li,Complex:Uf,DenseMatrix:Wr,Fraction:vi}),hi=Lo({typed:hr}),be=Zo({typed:hr}),Zf=Ms({typed:hr}),ce=yo({config:he,typed:hr}),Vf=mo({typed:hr}),Ne=ys({typed:hr}),Hf=Mo({typed:hr}),at=Eo({Matrix:xt,equalScalar:ce,typed:hr}),ot=Ho({typed:hr}),Jf=No({BigNumber:li,typed:hr}),Di=qo({typed:hr}),Gf=Oo({Fraction:vi,typed:hr}),Ur=Po({DenseMatrix:Wr,Matrix:xt,SparseMatrix:at,typed:hr}),Yf=Ls({bignumber:Jf,fraction:Gf,number:Hf}),Kf=Is({matrix:Ur,config:he,typed:hr}),Xf=$s({matrix:Ur,typed:hr}),Te=bs({isInteger:Vf,matrix:Ur,typed:hr}),st=Zs({numeric:Yf,typed:hr}),Qf=rf({DenseMatrix:Wr,concat:Te,config:he,matrix:Ur,typed:hr}),Wf=Hs({DenseMatrix:Wr,divideScalar:st,equalScalar:ce,matrix:Ur,multiplyScalar:Ne,subtractScalar:ot,typed:hr}),kf=Ks({DenseMatrix:Wr,concat:Te,config:he,matrix:Ur,typed:hr}),jf=Cs({DenseMatrix:Wr,concat:Te,equalScalar:ce,matrix:Ur,subtractScalar:ot,typed:hr,unaryMinus:Di}),r0=Gs({DenseMatrix:Wr,divideScalar:st,equalScalar:ce,matrix:Ur,multiplyScalar:Ne,subtractScalar:ot,typed:hr}),Yr=cf({DenseMatrix:Wr,SparseMatrix:at,addScalar:be,concat:Te,equalScalar:ce,matrix:Ur,typed:hr}),e0=vf({addScalar:be,conj:Zf,multiplyScalar:Ne,size:Kf,typed:hr}),bt=Ws({DenseMatrix:Wr,concat:Te,config:he,matrix:Ur,typed:hr}),t0=Fs({addScalar:be,dot:e0,equalScalar:ce,matrix:Ur,multiplyScalar:Ne,typed:hr}),n0=qf({SparseMatrix:at,abs:hi,add:Yr,divideScalar:st,larger:bt,largerEq:Qf,multiply:t0,subtract:jf,transpose:Xf,typed:hr}),i0=uf({larger:bt,smaller:kf}),u0=sf({FibonacciHeap:i0,addScalar:be,equalScalar:ce}),a0=Df({DenseMatrix:Wr,Spa:u0,SparseMatrix:at,abs:hi,addScalar:be,divideScalar:st,equalScalar:ce,larger:bt,matrix:Ur,multiplyScalar:Ne,subtractScalar:ot,typed:hr,unaryMinus:Di}),o0=Lf({DenseMatrix:Wr,lsolve:Wf,lup:a0,matrix:Ur,slu:n0,typed:hr,usolve:r0});class s0{constructor(e=5,t=Array(e).fill(.5*Math.PI),i=Array(e).fill(0),n=-9.8){this.n=e,this.thetas=t,this.thetaDots=i,this.g=n}A(e){let t=[];for(let i=0;i<this.n;i++){let n=[];for(let a=0;a<this.n;a++)n.push((this.n-Math.max(i,a))*Math.cos(e[i]-e[a]));t.push(n)}return t}b(e,t){let i=[];for(let n=0;n<this.n;n++){let a=0;for(let f=0;f<this.n;f++)a-=(this.n-Math.max(n,f))*Math.sin(e[n]-e[f])*t[f]**2;a-=this.g*(this.n-n)*Math.sin(e[n]),i.push(a)}return i}f(e,t){let i=this.A(e),n=this.b(e,t);return[t,o0(i,n).map(a=>a[0])]}RK4(e,t,i){let n=this.f(t,i),a=this.f(Yr(t,n[0].map(o=>.5*e*o)),Yr(i,n[1].map(o=>.5*e*o))),f=this.f(Yr(t,a[0].map(o=>.5*e*o)),Yr(i,a[1].map(o=>.5*e*o))),v=this.f(Yr(t,f[0].map(o=>1*e*o)),Yr(i,f[1].map(o=>1*e*o))),l=Yr(n[0],a[0].map(o=>2*o),f[0].map(o=>2*o),v[0]).map(o=>o*e/6),D=Yr(n[1],a[1].map(o=>2*o),f[1].map(o=>2*o),v[1]).map(o=>o*e/6);return[Yr(t,l),i=Yr(i,D)]}tick(e){let t=this.RK4(e,this.thetas,this.thetaDots);this.thetas=t[0],this.thetaDots=t[1]}get coordinates(){let e=0,t=0,i=[];for(let n=0;n<this.thetas.length;n++){let a=this.thetas[n];e+=Math.sin(a),t+=Math.cos(a),i.push({x:e,y:t})}return i}}const f0={class:"absolute flex flex-wrap gap-1 w-full p-1"},c0=Kr("div",{class:"i-la-stop"},null,-1),l0=[c0],v0={key:0,class:"i-la-play"},h0={key:1,class:"i-la-pause"},D0=Kr("div",{class:"flex-1"},null,-1),p0={class:"p-2 text-xs font-mono border-1 border-dark-100 dark-border-light-300"},d0=["width","height"],m0=["x1","x2","y2","stroke"],g0=["cx","cy"],w0=["x1","y1","x2","y2","stroke-width"],y0=["fill","cx","cy","r"],C0={__name:"Pendulums",setup(r){const e=Nt(),t=ct({w:1e3,h:1e3}),i=Tt(()=>le.pcs.length);Ji(e,f=>{t.w=f[0].contentRect.width,t.h=f[0].contentRect.height});const n=ct([]);for(let f=0;f<2;f++)n[f]=a(-f);function a(f=0){const v=ct({}),l=Tt(()=>new s0(le.pcs.length,Array(le.pcs.length).fill(1).map(()=>Math.PI+Math.random()*Math.PI/2),Array(le.pcs.length).fill(1).map(()=>-Math.random()*2))),D=Nt([]);return zt(()=>de.ticks,(o,u)=>{o<u&&(o=u+1),l.value.tick((o-u)*5e-4),D.value=l.value.coordinates}),zt(D,(o,u)=>{o.forEach((s,h)=>{var g;if(s.x*((g=u==null?void 0:u[h])==null?void 0:g.x)<0){const c=le.full.notes[h];setTimeout(()=>{const p=Xi.midi(c);v[c]=!0,Ot(c.slice(0,-1),parseInt(c.slice(-1))-4+f,!1,1,.5),Qi(p+f*12,{attack:1}),setTimeout(()=>{v[c]=!1,Ot(c.slice(0,-1),parseInt(c.slice(-1))-4+f,!0),Wi(p+f*12)},120)},2)}})}),{coords:D,n:i,active:v}}return(f,v)=>(kr(),jr(Ie,null,[Kr("div",f0,[Kr("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:v[0]||(v[0]=l=>Zr(de).stopped=!0)},l0),Kr("button",{class:"p-2 border-1 border-dark-100 dark-border-light-300",onClick:v[1]||(v[1]=l=>Zr(de).playing=!Zr(de).playing)},[Zr(de).playing?(kr(),jr("div",h0)):(kr(),jr("div",v0))]),D0,Kr("div",p0,Gi(Zr(de).ticks),1)]),(kr(),jr("svg",{class:"select-none min-h-100svh min-w-full",id:"metronome",ref_key:"svg",ref:e,version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},[Kr("rect",{width:t.w,height:t.h,stroke:"white",fill:"#2222"},null,8,d0),Kr("line",{class:"transition",x1:t.w/2,x2:t.w/2,y1:0,y2:t.h,stroke:Zr(It).note.velocity>0?Zr(Pt)(Zr(It).note.pitch):"#999"},null,8,m0),Kr("circle",{cx:t.w/2,cy:t.h/10,r:8,fill:"currentColor"},null,8,g0),(kr(!0),jr(Ie,null,lt(n,(l,D)=>(kr(),jr("g",{key:l},[(kr(!0),jr(Ie,null,lt(l.coords,(o,u)=>(kr(),jr("g",{key:o},[Kr("line",{x1:u===0?t.w/2:t.w/2+l.coords[u-1].x*t.h/(i.value+1),y1:u===0?t.h/10:t.h/10-l.coords[u-1].y*t.h/(i.value+1),x2:t.w/2+o.x*t.h/(i.value+1),y2:t.h/10-o.y*t.h/(i.value+1),"stroke-width":(D*2+1)*2,stroke:"currentColor"},null,8,w0)]))),128)),(kr(!0),jr(Ie,null,lt(l.coords,(o,u)=>(kr(),jr("g",{key:o},[Kr("circle",{style:Yi([{"transform-origin":"center","transform-box":"fill-box",transition:"transform 1s ease-in-out"},{transform:`scale(${l.active[Zr(le).full.notes[u]]?2:1})`}]),fill:Zr(Pt)(Zr(ki)[Zr(le).pcs[u]],4),cx:t.w/2+o.x*t.h/(i.value+1),cy:t.h/10-o.y*t.h/(i.value+1),r:(D+1)*10},null,12,y0)]))),128))]))),128))],512))],64))}};export{C0 as default};
