import{_ as B}from"./ControlStart.Dc--nehP.js";import{aE as S,c as I}from"./theme.DBGtJYKy.js";import{q as N,c as T,x as n,y as c,E as o,M as q,N as E,ac as F,I as M,A as e,F as k,B as w,G as l,H as v,K as P,L as V}from"./framework.BVi3ytxD.js";const f=d=>(P("data-v-aa3e377e"),d=d(),V(),d),$={class:"fullscreen-container overflow-clip",id:"screen"},A=["opacity"],G={id:"grad",x1:"0",x2:"0",y1:"0",y2:"1"},H=["stop-color"],L=["stop-color"],X=["stop-color"],D=["stop-color"],K=f(()=>e("rect",{width:"400",height:"300",rx:"5",fill:"url(#grad)"},null,-1)),R=["x1","x2","y2"],j=f(()=>e("line",{stroke:"gray",opacity:"0.7","stroke-linecap":"round","stroke-width":"1",x1:200,x2:200,y1:20,y2:80},null,-1)),J={style:{"user-select":"none",transition:"all 300ms ease"},fill:"gray","font-family":"Commissioner, sans-serif","font-size":"6px","text-anchor":"middle","dominant-baseline":"middle",x:"200",y:"10"},O=f(()=>e("line",{stroke:"black","stroke-linecap":"round","stroke-width":"2",x1:200,x2:200,y1:20,y2:80},null,-1)),Q=[O],U={style:{"user-select":"none",transition:"all 300ms ease"},fill:"black","font-family":"Commissioner, sans-serif","font-size":"12px","text-anchor":"middle","dominant-baseline":"middle",x:"200",y:"94"},W={style:{"user-select":"none",transition:"all 300ms ease"},fill:"black","font-family":"Commissioner, sans-serif","font-size":"3rem","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:"200",y:"140"},Y={style:{"user-select":"none",transition:"all 300ms ease"},fill:"black","font-family":"Commissioner, sans-serif","font-size":"1rem","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:"200",y:"180"},Z={__name:"PitchTuner",setup(d){const{init:b,tuner:t}=S(),u=T(()=>{var i,r;const a=z((i=t.note)==null?void 0:i.frequency);if(!a)return"#333";const m=(r=t.note)==null?void 0:r.octave;return I(a,m)});function C(){b()}function z(a){return 12*(Math.log(a/t.middleA)/Math.log(2))%12}return(a,m)=>{var i,r,y,h,x,g;const _=B;return n(),c("div",$,[o(t).running?M("",!0):(n(),q(_,{key:0,class:"absolute z-20",onClick:m[0]||(m[0]=s=>C())},{default:E(()=>[F("Start tuner")]),_:1})),(n(),c("svg",{class:"w-full min-h-full",id:"tuner",opacity:o(t).running?1:.3,version:"1.1",baseProfile:"full",viewBox:"0 0 400 300",xmlns:"http://www.w3.org/2000/svg"},[e("defs",null,[e("linearGradient",G,[e("stop",{"stop-color":u.value,"stop-opacity":"1",offset:"0%"},null,8,H),e("stop",{"stop-color":u.value,"stop-opacity":"1",offset:"30%"},null,8,L),e("stop",{"stop-color":u.value,"stop-opacity":"0.8",offset:"60%"},null,8,X),e("stop",{"stop-color":u.value,"stop-opacity":"0.2",offset:"100%"},null,8,D)])]),K,(n(!0),c(k,null,w(o(t).spec.slice(0,100),(s,p)=>(n(),c("line",{key:p,style:{transition:"all 200ms ease"},stroke:"white","stroke-linecap":"round","stroke-width":"2",x1:p*4,y1:300,x2:p*4,y2:300-s},null,8,R))),128)),(n(),c(k,null,w(11,s=>e("g",{key:s,style:v({transform:`translateX(${40*(s-6)}px)`})},[j,e("text",J,l((s-6)*10),1)],4)),64)),e("g",{class:"meter",style:v([{"user-select":"none",transition:"all 600ms ease"},{transform:`translateX(${5*((i=o(t).note)==null?void 0:i.cents)}px)`}])},Q,4),e("text",U,l(((r=o(t).note)==null?void 0:r.cents)>0?"+":"")+l((y=o(t).note)==null?void 0:y.cents),1),e("text",W,l((h=o(t).note)==null?void 0:h.name)+l((x=o(t).note)==null?void 0:x.octave),1),e("text",Y,l((g=o(t).note)==null?void 0:g.frequency.toFixed(2))+" Hz",1)],8,A))])}}},se=N(Z,[["__scopeId","data-v-aa3e377e"]]);export{se as default};
