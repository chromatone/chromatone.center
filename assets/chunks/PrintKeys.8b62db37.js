import{_ as A,P as T,i as H,v as l,b as a,F as o,B as b,a as v,y as S,A as C,c as M,T as D,Z as $,g as V,r as x,N as c,X as m,H as B,w as I,E,z as L}from"./framework.7e747cd7.js";import{_ as O}from"./svg.af3016f3.js";import{g as R,n as p}from"./colors.abbc28c6.js";import{r as F}from"./calculations.3384a913.js";import{a as N,b as k,n as w,f as Z}from"./theory.61e5aadb.js";import{w as g}from"./index.654bd828.js";const z=e=>(C("data-v-0f3e76b5"),e=e(),M(),e),j=z(()=>o("div",{class:"i-la-file-download"},null,-1)),U=z(()=>o("div",{class:"text-xs font-bold"},"PDF",-1)),X=[j,U],q=["download","href"],G={__name:"pdf",props:{svg:{type:String},x:{type:Number},y:{type:Number},width:{type:Number,default:210},height:{type:Number,default:297}},setup(e){const d=e,n=T(""),i=H({file:d.file||d.svg,url:""});async function u(_){let{x:r,y:s,width:h,height:t}=d,f=document.getElementById(_);console.log(f);const{jsPDF:y}=await S(()=>import("./jspdf.es.min.c6867519.js").then(K=>K.a),["assets/chunks/jspdf.es.min.c6867519.js","assets/chunks/framework.7e747cd7.js"]);await S(()=>import("./svg2pdf.es.min.99bc5246.js"),["assets/chunks/svg2pdf.es.min.99bc5246.js","assets/chunks/commonjsHelpers.de833af9.js","assets/chunks/jspdf.es.min.c6867519.js","assets/chunks/framework.7e747cd7.js"]);const P=new y;P.svg(f,{x:r,y:s,width:h,height:t}).then(()=>{P.save("myPDF.pdf")})}return(_,r)=>(l(),a(v,null,[o("div",{class:"snapshot",onClick:r[0]||(r[0]=s=>u(e.svg))},X),i.url?(l(),a("a",{key:0,ref_key:"anchor",ref:n,target:"_blank",download:i.file,href:i.url},null,8,q)):b("",!0)],64))}},J=A(G,[["__scopeId","data-v-0f3e76b5"]]),Q={class:"flex flex-wrap items-center gap-4 bg-light-900 dark-bg-dark-300 rounded-lg shadow-lg max-w-55ch ml-5 p-4"},W=o("div",{class:"text-lg font-bold"},"Download file:",-1),$t={__name:"buttons",props:{svg:{type:String,default:""},password:{type:String,default:"printable-papers"}},setup(e){const d=T("");return(n,i)=>{const u=O,_=J;return l(),a("div",Q,[W,d.value==e.password?(l(),a(v,{key:0},[D(u,{svg:e.svg},null,8,["svg"]),D(_,{svg:e.svg},null,8,["svg"])],64)):$((l(),a("input",{key:1,class:"rounded dark-bg-dark-800 p-1","onUpdate:modelValue":i[0]||(i[0]=r=>d.value=r),placeholder:"Paste your download code"},null,512)),[[V,d.value]])])}}};const Y=e=>(C("data-v-16475b75"),e=e(),M(),e),tt=Y(()=>o("defs",null,[o("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[o("feDropShadow",{dx:"0",dy:"3",stdDeviation:"4","flood-color":"#2225"})])],-1)),et=["fill"],st={"font-weight":"bold",fill:"white","text-anchor":"middle",x:"350",y:"-50","font-size":"90"},ot={class:"white"},nt=["transform","onMousedown"],lt=["fill"],at=["fill"],it=["fill"],rt=["font-weight"],ct={class:"black"},dt=["transform","onMousedown"],ut=["fill","data-check"],ht=["fill","stroke"],_t=["fill","font-weight"],ft={y:"165",x:"42"},pt={y:"50",x:"42"},mt={__name:"PrintKeys",props:{chroma:{type:String,default:"100000000000"},letters:{type:Boolean,defualt:!1},pitch:{type:Number,default:0},scale:{type:String},type:{tyoe:String},roman:{type:String,default:""},title:{type:Boolean,default:!0},playAll:{type:Boolean,default:!1}},emits:["update:pitch"],setup(e,{emit:d}){const n=e,i=H({white:[3,5,7,8,10,0,2],black:[4,6,null,9,11,1],chroma:x(()=>F(n.chroma.split(""),-n.pitch)),scale:x(()=>F(R.chroma.split(""),-n.pitch)),title:x(()=>{var s,h;return(s=N.get(n.chroma))!=null&&s.empty?(h=k.get(n.chroma))!=null&&h.empty?"":k.get(n.chroma).aliases[0]:N.get(n.chroma).aliases[0]})});function u(s){return s!=null&&i.chroma[s]=="1"}function _(s){return n.scale&&s!=null&&i.chroma[s]=="1"}function r(s,h){return s==null?"transparent":s==n.pitch?g(p(s,3)).toHex():u(s)&&!h?g(p(s,3.5)).toHex():w[s].length!=2?"#eee":"#999"}return(s,h)=>(l(),a("svg",{class:L(["w-full mt-2",{letters:e.letters}]),id:"chroma-keys",version:"1.1",baseProfile:"full",viewBox:"-10 -150 720 500",xmlns:"http://www.w3.org/2000/svg","font-weight":"200","font-size":"40","text-anchor":"middle","dominant-baseline":"middle"},[tt,o("rect",{y:"-150",width:"710",height:"500",rx:"60",fill:c(g)(c(p)(e.pitch,1,2,1)).toHex()},null,8,et),o("text",st,m(c(w)[e.pitch])+m(e.type),1),o("g",ot,[(l(!0),a(v,null,B(i.white,(t,f)=>(l(),a("g",{class:"key",key:t,transform:`translate(${f*94+30} 30)`,onMousedown:I(y=>s.$emit("update:pitch",t),["stop"])},[o("rect",{class:"transition-all duration-300 ease-out",width:"90",height:"290",rx:"45",fill:r(t,!0),style:{filter:"url(#shadowButton)"}},null,8,lt),o("circle",{class:"transition-all duration-300 ease-out",cy:"245",cx:"45",r:"45",fill:r(t)},null,8,at),$(o("text",{class:"pointer-events-none",y:"250",x:"45",fill:c(g)(c(p)(t)).isDark()?"white":"black"},[o("tspan",{"font-weight":t==e.pitch?800:200},m(c(w)[t]),9,rt)],8,it),[[E,u(t)]])],40,nt))),128))]),o("g",ct,[(l(!0),a(v,null,B(i.black,(t,f)=>(l(),a("g",{class:"key",key:t,transform:`translate(${f*95+80} 10)`,onMousedown:I(y=>s.$emit("update:pitch",t),["stop"])},[t?(l(),a("rect",{key:0,class:"transition-all duration-300 ease-out",width:"80",height:"200",rx:"40",style:{filter:"url(#shadowButton)"},fill:r(t,!0),"data-check":t},null,8,ut)):b("",!0),t?(l(),a("circle",{key:1,class:"transition-all duration-300 ease-out",cy:"160",cx:"40",r:"40",fill:r(t),"stroke-width":"8",stroke:_(t)?c(p)(t,3):"transparent"},null,8,ht)):b("",!0),$(o("text",{class:"pointer-events-none",fill:c(g)(c(p)(t)).isDark()?"white":"black","font-weight":t==e.pitch?800:200},[o("tspan",ft,m(c(w)[t]),1),o("tspan",pt,m(c(Z)[t]),1)],8,_t),[[E,u(t)]])],40,dt))),128))])],2))}},Pt=A(mt,[["__scopeId","data-v-16475b75"]]);export{Pt as P,$t as _};
