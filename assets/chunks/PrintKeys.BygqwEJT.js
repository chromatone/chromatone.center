const __vite__fileDeps=["assets/chunks/jspdf.es.min.7mKWUrUA.js","assets/chunks/framework.De1wmbud.js","assets/chunks/svg2pdf.es.min.C6togvft.js","assets/chunks/theme.DaHGH2Mp.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as E,r as M,b as V,e as n,f as l,g as o,p as b,F as v,I as D,y as z,z as A,a0 as P,j as S,Z as T,c as y,k as c,l as m,h as B,$ as I,v as N,n as K}from"./framework.De1wmbud.js";import{_ as O}from"./SaveSvg.DNsDVhhY.js";import{r as k,g as R,l as F,o as C,w as g,n as _,e as w,Y as U}from"./theme.DaHGH2Mp.js";const j=e=>(z("data-v-b613853d"),e=e(),A(),e),Y=j(()=>o("div",{class:"i-la-file-download"},null,-1)),Z=j(()=>o("div",{class:"text-xs font-bold"},"PDF",-1)),q=[Y,Z],G=["download","href"],J={__name:"SavePdf",props:{svg:{type:String},x:{type:Number},y:{type:Number},width:{type:Number,default:210},height:{type:Number,default:297}},setup(e){const d=e,a=M(""),i=V({file:d.file||d.svg,url:""});async function u(f){let{x:r,y:s,width:h,height:t}=d,p=document.getElementById(f);console.log(p);const{jsPDF:x}=await D(async()=>{const{jsPDF:H}=await import("./jspdf.es.min.7mKWUrUA.js").then(L=>L.a);return{jsPDF:H}},__vite__mapDeps([0,1]));await D(()=>import("./svg2pdf.es.min.C6togvft.js"),__vite__mapDeps([2,3,1,0]));const $=new x;$.svg(p,{x:r,y:s,width:h,height:t}).then(()=>{$.save("myPDF.pdf")})}return(f,r)=>(n(),l(v,null,[o("div",{class:"snapshot",onClick:r[0]||(r[0]=s=>u(e.svg))},q),i.url?(n(),l("a",{key:0,ref_key:"anchor",ref:a,target:"_blank",download:i.file,href:i.url},null,8,G)):b("",!0)],64))}},Q=E(J,[["__scopeId","data-v-b613853d"]]),W={class:"flex flex-wrap items-center gap-4 bg-light-900 dark-bg-dark-300 rounded-lg shadow-lg max-w-55ch ml-5 p-4"},X=o("div",{class:"text-lg font-bold"},"Download file:",-1),yt={__name:"SaveButtons",props:{svg:{type:String,default:""},password:{type:String,default:"printable-papers"}},setup(e){const d=M("");return(a,i)=>{const u=O,f=Q;return n(),l("div",W,[X,d.value==e.password?(n(),l(v,{key:0},[P(u,{svg:e.svg},null,8,["svg"]),P(f,{svg:e.svg},null,8,["svg"])],64)):S((n(),l("input",{key:1,class:"rounded dark-bg-dark-800 p-1","onUpdate:modelValue":i[0]||(i[0]=r=>d.value=r),placeholder:"Paste your download code"},null,512)),[[T,d.value]])])}}},tt=e=>(z("data-v-f79ef5ca"),e=e(),A(),e),et=tt(()=>o("defs",null,[o("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[o("feDropShadow",{dx:"0",dy:"3",stdDeviation:"4","flood-color":"#2225"})])],-1)),st=["fill"],ot={"font-weight":"bold",fill:"white","text-anchor":"middle",x:"350",y:"-50","font-size":"90"},at={class:"white"},nt=["transform","onMousedown"],lt=["fill"],it=["fill"],rt=["fill"],ct=["font-weight"],dt={class:"black"},ut=["transform","onMousedown"],ht=["fill","data-check"],ft=["fill","stroke"],pt=["fill","font-weight"],_t={y:"165",x:"42"},mt={y:"50",x:"42"},gt={__name:"PrintKeys",props:{chroma:{type:String,default:"100000000000"},letters:{type:Boolean,defualt:!1},pitch:{type:Number,default:0},scale:{type:String},type:{tyoe:String},roman:{type:String,default:""},title:{type:Boolean,default:!0},playAll:{type:Boolean,default:!1}},emits:["update:pitch"],setup(e,{emit:d}){const a=e,i=V({white:[3,5,7,8,10,0,2],black:[4,6,null,9,11,1],chroma:y(()=>k(a.chroma.split(""),-a.pitch)),scale:y(()=>k(R.chroma.split(""),-a.pitch)),title:y(()=>{var s,h;return(s=F.get(a.chroma))!=null&&s.empty?(h=C.get(a.chroma))!=null&&h.empty?"":C.get(a.chroma).aliases[0]:F.get(a.chroma).aliases[0]})});function u(s){return s!=null&&i.chroma[s]=="1"}function f(s){return a.scale&&s!=null&&i.chroma[s]=="1"}function r(s,h){return s==null?"transparent":s==a.pitch?g(_(s,3)).toHex():u(s)&&!h?g(_(s,3.5)).toHex():w[s].length!=2?"#eee":"#999"}return(s,h)=>(n(),l("svg",{class:K(["w-full mt-2",{letters:e.letters}]),id:"chroma-keys",version:"1.1",baseProfile:"full",viewBox:"-10 -150 720 500",xmlns:"http://www.w3.org/2000/svg","font-weight":"200","font-size":"40","text-anchor":"middle","dominant-baseline":"middle"},[et,o("rect",{y:"-150",width:"710",height:"500",rx:"60",fill:c(g)(c(_)(e.pitch,1,2,1)).toHex()},null,8,st),o("text",ot,m(c(w)[e.pitch])+m(e.type),1),o("g",at,[(n(!0),l(v,null,B(i.white,(t,p)=>(n(),l("g",{class:"key",key:t,transform:`translate(${p*94+30} 30)`,onMousedown:I(x=>s.$emit("update:pitch",t),["stop"])},[o("rect",{class:"transition-all duration-300 ease-out",width:"90",height:"290",rx:"45",fill:r(t,!0),style:{filter:"url(#shadowButton)"}},null,8,lt),o("circle",{class:"transition-all duration-300 ease-out",cy:"245",cx:"45",r:"45",fill:r(t)},null,8,it),S(o("text",{class:"pointer-events-none",y:"250",x:"45",fill:c(g)(c(_)(t)).isDark()?"white":"black"},[o("tspan",{"font-weight":t==e.pitch?800:200},m(c(w)[t]),9,ct)],8,rt),[[N,u(t)]])],40,nt))),128))]),o("g",dt,[(n(!0),l(v,null,B(i.black,(t,p)=>(n(),l("g",{class:"key",key:t,transform:`translate(${p*95+80} 10)`,onMousedown:I(x=>s.$emit("update:pitch",t),["stop"])},[t?(n(),l("rect",{key:0,class:"transition-all duration-300 ease-out",width:"80",height:"200",rx:"40",style:{filter:"url(#shadowButton)"},fill:r(t,!0),"data-check":t},null,8,ht)):b("",!0),t?(n(),l("circle",{key:1,class:"transition-all duration-300 ease-out",cy:"160",cx:"40",r:"40",fill:r(t),"stroke-width":"8",stroke:f(t)?c(_)(t,3):"transparent"},null,8,ft)):b("",!0),S(o("text",{class:"pointer-events-none",fill:c(g)(c(_)(t)).isDark()?"white":"black","font-weight":t==e.pitch?800:200},[o("tspan",_t,m(c(w)[t]),1),o("tspan",mt,m(c(U)[t]),1)],8,pt),[[N,u(t)]])],40,ut))),128))])],2))}},bt=E(gt,[["__scopeId","data-v-f79ef5ca"]]);export{bt as P,yt as _};
