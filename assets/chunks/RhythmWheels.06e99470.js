import{Q as w,i as _,r as v,j as k,v as s,b as l,a as y,H as g,T as d,N as e,Z as C,F as n,P as b,C as N}from"./framework.7e747cd7.js";import"./midi.290fabf9.js";import{t as $}from"./tempo.fceb0f15.js";import{u as j}from"./sequence.5b4cde29.js";import{j as D}from"./colors.abbc28c6.js";import{_ as P}from"./ring.ed44469c.js";import"./tuner.f1245b29.js";import"./audio.170dbcbf.js";import"./loop.dc25aa47.js";import"./mic.967a994c.js";import"./Midi.1f918097.js";import"./noise.0a2eacbf.js";import"./index.83aed4fc.js";import"./synth.220fb0dd.js";import"./theory.61e5aadb.js";import{C as W}from"./CircleCenter.98fc27fd.js";import"./index.c0ca431c.js";import"./index.0b97d2b2.js";import"./commonjsHelpers.de833af9.js";import"./index.b30cd6d2.js";import"./calculations.3384a913.js";import"./index.b77db23e.js";import"./Loop.b192c9c2.js";import"./Sequence.a9c1c185.js";import"./UserMedia.4741de0f.js";import"./index.654bd828.js";import"./midiRender.6c0c3f09.js";import"./Subtract.f0fef764.js";import"./OnePoleFilter.2d0525f8.js";import"./FFT.4a41ae6b.js";import"./BitCrusher.884c5bbc.js";import"./Filter.2b531c53.js";import"./AutoPanner.94a306f8.js";import"./Scale.7b617051.js";import"./PingPongDelay.38a34857.js";import"./MonoSynth.4cac63d2.js";import"./index.86652af6.js";import"./state.181c131c.js";const q=["transform"],A=["y1","y2"],B=w({__name:"RhythmWheel",props:{order:{type:Number,default:0},total:{type:Number,default:1},maxNum:{type:Number,default:64}},setup(o){const r=o;new Array(r.maxNum).fill(!1).map((m,u)=>({num:u,active:m})),_({radius:v(()=>450/r.total*r.order)});const c=v(()=>250+r.order*250/r.total),{seq:t}=j({over:8,under:8,sound:r.order==1?"A":"E",volume:1},r.order,"wheel");let p=t.meter.over;function a({delta:m}){p+=(m[0]-m[1])/20,t.meter.over=Math.floor(p)}return(m,u)=>{const f=P,x=k("drag");return s(),l("g",{class:"wheel",onDblclick:u[0]||(u[0]=h=>e(t).mutes.fill(!!e(t).mutes[0])),transform:`rotate(${-e(t).progress*360})`},[(s(!0),l(y,null,g(e(t).steps,(h,i)=>(s(),l("g",{class:"sector",key:h},[d(f,{cx:0,cy:0,onClick:T=>e(t).mutes[i]=!e(t).mutes[i],from:i/e(t).meter.over*360,to:(i+1)/e(t).meter.over*360,fill:e(D)(i+e($).pitch/12*e(t).meter.over,e(t).meter.over,1,e(t).mutes[i]?.2:1),radius:c.value,thickness:250/o.total},null,8,["onClick","from","to","fill","radius","thickness"])]))),128)),C(d(f,{cx:0,cy:0,from:0,to:359.9,fill:"gray",radius:c.value,thickness:50},null,8,["radius"]),[[x,a]]),n("line",{y1:-450/o.total*o.order,y2:-450/o.total*(o.order+1),stroke:"currentColor","stroke-width":"4"},null,8,A)],40,q)}}});_((()=>[{num:4,den:4},{num:16,den:16}])());const F={class:"flex flex-col items-center w-full relative pb-12 p-4 fullscreen-container rounded-3xl",id:"screen"},H={class:"w-full max-h-90vh",id:"metronome",version:"1.1",baseProfile:"full",viewBox:"-500 -500 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},R=n("defs",null,[n("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[n("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})])],-1),S=n("line",{y2:-450,"stroke-width":"4","stroke-linecap":"round",stroke:"currentColor"},null,-1),Ct={__name:"RhythmWheels",setup(o){const r=b(2);return(c,t)=>(s(),l("div",F,[(s(),l("svg",H,[R,(s(!0),l(y,null,g(r.value,(p,a)=>(s(),N(B,{key:a,order:a,total:r.value},null,8,["order","total"]))),128)),S,d(W)]))]))}};export{Ct as default};
