import{b9 as C,ba as G}from"./theme.DzoFRFET.js";import{d as _,y as X,z as Y,B as e,G as s,u as t,H as Z}from"./framework.BhJJX2Rg.js";const H={class:"p-4 flex flex-col gap-2"},I={class:"flex flex-wrap"},L={class:"p-2 top-4"},N={class:"p-2"},P={class:"flex flex-wrap gap-2"},J={class:"flex flex-col flex-1"},K={class:"flex-1"},Q={class:"flex-1"},T={class:"flex-1"},U={class:"flex flex-col flex-1"},W={class:"flex-1"},V={class:"flex-1"},ee={class:"flex-1"},se={class:"flex flex-col flex-1"},te={class:"flex-1"},oe={class:"flex-1"},ae={class:"flex-1"},ce={class:"flex flex-col flex-1"},ie={class:"flex-1"},le={class:"flex-1"},ne={class:"flex-1"},O=.9,de=10,he={__name:"Sensors",setup(xe){const{acceleration:c,accelerationIncludingGravity:_e,rotationRate:d,interval:ve}=C(),{isAbsolute:j,alpha:v,beta:f,gamma:r}=G();function q(){var o;(o=DeviceMotionEvent==null?void 0:DeviceMotionEvent.requestPermission)==null||o.call(DeviceMotionEvent)}_(o=>o?Object.assign({},...["x","y","z"].map(a=>({[a]:O*o[a]+(1-O)*c.value[a]}))):c.value);const x=_(o=>{const a=((o==null?void 0:o.buffer)||[]).concat(c.value).slice(-de);return Object.assign({},...["x","y","z"].map(i=>({[i]:a.reduce((l,n)=>l+n[i],0)/a.length})),{buffer:a})}),h=_(()=>Math.sqrt(["x","y","z"].reduce((o,a)=>o+c.value[a]**2,0)));return(o,a)=>{var i,l,n,u,p,m,b,g,F,y,z,A,R,B,S,k,w,D,$,E,M;return X(),Y("div",H,[e("div",I,[e("button",{class:"text-button",onClick:q},"Activate "),e("div",L,s(t(j)?"ABS":"REL"),1),e("div",N,s(h.value.toFixed(2)),1)]),e("div",P,[e("div",J,[e("div",K,"X: "+s((l=(i=t(c))==null?void 0:i.x)==null?void 0:l.toFixed(2)),1),e("div",Q,"Y: "+s((u=(n=t(c))==null?void 0:n.y)==null?void 0:u.toFixed(2)),1),e("div",T,"Z: "+s((m=(p=t(c))==null?void 0:p.z)==null?void 0:m.toFixed(2)),1)]),e("div",U,[e("div",W,"av-X: "+s((g=(b=x.value)==null?void 0:b.x)==null?void 0:g.toFixed(2)),1),e("div",V,"av-Y: "+s((y=(F=x.value)==null?void 0:F.y)==null?void 0:y.toFixed(2)),1),e("div",ee,"av-Z: "+s((A=(z=x.value)==null?void 0:z.z)==null?void 0:A.toFixed(2)),1)]),e("div",se,[e("div",te,"R-alpha: "+s((B=(R=t(d))==null?void 0:R.alpha)==null?void 0:B.toFixed(2)),1),e("div",oe,"R-beta: "+s((k=(S=t(d))==null?void 0:S.beta)==null?void 0:k.toFixed(2)),1),e("div",ae,"R-gamma: "+s((D=(w=t(d))==null?void 0:w.gamma)==null?void 0:D.toFixed(2)),1)]),e("div",ce,[e("div",ie,"alpha: "+s(($=t(v))==null?void 0:$.toFixed(2)),1),e("div",le,"beta: "+s((E=t(f))==null?void 0:E.toFixed(2)),1),e("div",ne,"gamma: "+s((M=t(r))==null?void 0:M.toFixed(2)),1)])]),e("div",{class:"flex-1 p-40",style:Z({borderRadius:`${h.value*10}px`,backgroundColor:`hsl(${t(v)}deg ${50+50*t(f)/180}% ${50+50*t(r)/90}%)`})},null,4)])}}};export{he as default};
