import{aT as C,aU as X,G as _,q as Y,f as Z,s as e,z as s,u as t,v as G}from"./framework.D01lOa8K.js";const L={class:"p-4 flex flex-col gap-2"},N={class:"flex flex-wrap"},P={class:"p-2 top-4"},T={class:"p-2"},U={class:"flex flex-wrap gap-2"},H={class:"flex flex-col flex-1"},I={class:"flex-1"},J={class:"flex-1"},K={class:"flex-1"},Q={class:"flex flex-col flex-1"},W={class:"flex-1"},V={class:"flex-1"},ee={class:"flex-1"},se={class:"flex flex-col flex-1"},te={class:"flex-1"},oe={class:"flex-1"},ae={class:"flex-1"},ce={class:"flex flex-col flex-1"},le={class:"flex-1"},ie={class:"flex-1"},de={class:"flex-1"},O=.9,_e={__name:"Sensors",setup(ne){const{acceleration:c,rotationRate:n}=C(),{isAbsolute:j,alpha:v,beta:f,gamma:r}=X();function w(){var o;(o=DeviceMotionEvent==null?void 0:DeviceMotionEvent.requestPermission)==null||o.call(DeviceMotionEvent)}_(o=>o?Object.assign({},...["x","y","z"].map(a=>({[a]:O*o[a]+(1-O)*c.value[a]}))):c.value);const x=_(o=>{const a=((o==null?void 0:o.buffer)||[]).concat(c.value).slice(-10);return Object.assign({},...["x","y","z"].map(l=>({[l]:a.reduce((i,d)=>i+d[l],0)/a.length})),{buffer:a})}),h=_(()=>Math.sqrt(["x","y","z"].reduce((o,a)=>o+c.value[a]**2,0)));return(o,a)=>{var l,i,d,u,p,m,b,g,F,y,z,A,R,k,B,D,S,$,q,E,M;return Z(),Y("div",L,[e("div",N,[e("button",{class:"text-button",onClick:w},"Activate "),e("div",P,s(t(j)?"ABS":"REL"),1),e("div",T,s(h.value.toFixed(2)),1)]),e("div",U,[e("div",H,[e("div",I,"X: "+s((i=(l=t(c))==null?void 0:l.x)==null?void 0:i.toFixed(2)),1),e("div",J,"Y: "+s((u=(d=t(c))==null?void 0:d.y)==null?void 0:u.toFixed(2)),1),e("div",K,"Z: "+s((m=(p=t(c))==null?void 0:p.z)==null?void 0:m.toFixed(2)),1)]),e("div",Q,[e("div",W,"av-X: "+s((g=(b=x.value)==null?void 0:b.x)==null?void 0:g.toFixed(2)),1),e("div",V,"av-Y: "+s((y=(F=x.value)==null?void 0:F.y)==null?void 0:y.toFixed(2)),1),e("div",ee,"av-Z: "+s((A=(z=x.value)==null?void 0:z.z)==null?void 0:A.toFixed(2)),1)]),e("div",se,[e("div",te,"R-alpha: "+s((k=(R=t(n))==null?void 0:R.alpha)==null?void 0:k.toFixed(2)),1),e("div",oe,"R-beta: "+s((D=(B=t(n))==null?void 0:B.beta)==null?void 0:D.toFixed(2)),1),e("div",ae,"R-gamma: "+s(($=(S=t(n))==null?void 0:S.gamma)==null?void 0:$.toFixed(2)),1)]),e("div",ce,[e("div",le,"alpha: "+s((q=t(v))==null?void 0:q.toFixed(2)),1),e("div",ie,"beta: "+s((E=t(f))==null?void 0:E.toFixed(2)),1),e("div",de,"gamma: "+s((M=t(r))==null?void 0:M.toFixed(2)),1)])]),e("div",{class:"flex-1 p-40",style:G({borderRadius:`${h.value*10}px`,backgroundColor:`hsl(${t(v)}deg ${50+50*t(f)/180}% ${50+50*t(r)/90}%)`})},null,4)])}}};export{_e as default};
