import{aV as C,aW as X,c as _,f as Y,g as Z,h as e,m as s,l as t,p as G}from"./framework.D4K5LW16.js";const I={class:"p-4 flex flex-col gap-2"},L={class:"flex flex-wrap"},N={class:"p-2 top-4"},P={class:"p-2"},W={class:"flex flex-wrap gap-2"},H={class:"flex flex-col flex-1"},J={class:"flex-1"},K={class:"flex-1"},Q={class:"flex-1"},T={class:"flex flex-col flex-1"},U={class:"flex-1"},V={class:"flex-1"},ee={class:"flex-1"},se={class:"flex flex-col flex-1"},te={class:"flex-1"},oe={class:"flex-1"},ae={class:"flex-1"},ce={class:"flex flex-col flex-1"},le={class:"flex-1"},ie={class:"flex-1"},ne={class:"flex-1"},O=.9,de=10,re={__name:"Sensors",setup(xe){const{acceleration:c,accelerationIncludingGravity:_e,rotationRate:d,interval:ve}=C(),{isAbsolute:j,alpha:v,beta:f,gamma:r}=X();function q(){var o;(o=DeviceMotionEvent==null?void 0:DeviceMotionEvent.requestPermission)==null||o.call(DeviceMotionEvent)}_(o=>o?Object.assign({},...["x","y","z"].map(a=>({[a]:O*o[a]+(1-O)*c.value[a]}))):c.value);const x=_(o=>{const a=((o==null?void 0:o.buffer)||[]).concat(c.value).slice(-de);return Object.assign({},...["x","y","z"].map(l=>({[l]:a.reduce((i,n)=>i+n[l],0)/a.length})),{buffer:a})}),h=_(()=>Math.sqrt(["x","y","z"].reduce((o,a)=>o+c.value[a]**2,0)));return(o,a)=>{var l,i,n,p,u,m,g,b,F,y,z,A,R,S,k,w,B,D,$,E,M;return Y(),Z("div",I,[e("div",L,[e("button",{class:"text-button",onClick:q},"Activate "),e("div",N,s(t(j)?"ABS":"REL"),1),e("div",P,s(h.value.toFixed(2)),1)]),e("div",W,[e("div",H,[e("div",J,"X: "+s((i=(l=t(c))==null?void 0:l.x)==null?void 0:i.toFixed(2)),1),e("div",K,"Y: "+s((p=(n=t(c))==null?void 0:n.y)==null?void 0:p.toFixed(2)),1),e("div",Q,"Z: "+s((m=(u=t(c))==null?void 0:u.z)==null?void 0:m.toFixed(2)),1)]),e("div",T,[e("div",U,"av-X: "+s((b=(g=x.value)==null?void 0:g.x)==null?void 0:b.toFixed(2)),1),e("div",V,"av-Y: "+s((y=(F=x.value)==null?void 0:F.y)==null?void 0:y.toFixed(2)),1),e("div",ee,"av-Z: "+s((A=(z=x.value)==null?void 0:z.z)==null?void 0:A.toFixed(2)),1)]),e("div",se,[e("div",te,"R-alpha: "+s((S=(R=t(d))==null?void 0:R.alpha)==null?void 0:S.toFixed(2)),1),e("div",oe,"R-beta: "+s((w=(k=t(d))==null?void 0:k.beta)==null?void 0:w.toFixed(2)),1),e("div",ae,"R-gamma: "+s((D=(B=t(d))==null?void 0:B.gamma)==null?void 0:D.toFixed(2)),1)]),e("div",ce,[e("div",le,"alpha: "+s(($=t(v))==null?void 0:$.toFixed(2)),1),e("div",ie,"beta: "+s((E=t(f))==null?void 0:E.toFixed(2)),1),e("div",ne,"gamma: "+s((M=t(r))==null?void 0:M.toFixed(2)),1)])]),e("div",{class:"flex-1 p-40",style:G({borderRadius:`${h.value*10}px`,backgroundColor:`hsl(${t(v)}deg ${50+50*t(f)/180}% ${50+50*t(r)/90}%)`})},null,4)])}}};export{re as default};
