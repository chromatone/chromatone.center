import{be as C,bf as X}from"./theme.C1cSeBFq.js";import{d as _,v as Y,x as Z,z as e,D as s,u as t,E as G}from"./framework.BMHKg3V0.js";const I={class:"p-4 flex flex-col gap-2"},L={class:"flex flex-wrap"},N={class:"p-2 top-4"},P={class:"p-2"},H={class:"flex flex-wrap gap-2"},J={class:"flex flex-col flex-1"},K={class:"flex-1"},Q={class:"flex-1"},T={class:"flex-1"},U={class:"flex flex-col flex-1"},W={class:"flex-1"},V={class:"flex-1"},ee={class:"flex-1"},se={class:"flex flex-col flex-1"},te={class:"flex-1"},oe={class:"flex-1"},ae={class:"flex-1"},ce={class:"flex flex-col flex-1"},ie={class:"flex-1"},le={class:"flex-1"},ne={class:"flex-1"},O=.9,de=10,he={__name:"Sensors",setup(xe){const{acceleration:c,accelerationIncludingGravity:_e,rotationRate:d,interval:ve}=C(),{isAbsolute:j,alpha:v,beta:f,gamma:r}=X();function q(){DeviceMotionEvent.requestPermission()}_(a=>a?Object.assign({},...["x","y","z"].map(o=>({[o]:O*a[o]+(1-O)*c.value[o]}))):c.value);const x=_(a=>{const o=((a==null?void 0:a.buffer)||[]).concat(c.value).slice(-de);return Object.assign({},...["x","y","z"].map(i=>({[i]:o.reduce((l,n)=>l+n[i],0)/o.length})),{buffer:o})}),h=_(()=>Math.sqrt(["x","y","z"].reduce((a,o)=>a+c.value[o]**2,0)));return(a,o)=>{var i,l,n,u,p,m,b,g,F,y,z,A,R,D,S,k,w,B,E,$,M;return Y(),Z("div",I,[e("div",L,[e("button",{class:"text-button",onClick:q},"Activate "),e("div",N,s(t(j)?"ABS":"REL"),1),e("div",P,s(h.value.toFixed(2)),1)]),e("div",H,[e("div",J,[e("div",K,"X: "+s((l=(i=t(c))==null?void 0:i.x)==null?void 0:l.toFixed(2)),1),e("div",Q,"Y: "+s((u=(n=t(c))==null?void 0:n.y)==null?void 0:u.toFixed(2)),1),e("div",T,"Z: "+s((m=(p=t(c))==null?void 0:p.z)==null?void 0:m.toFixed(2)),1)]),e("div",U,[e("div",W,"av-X: "+s((g=(b=x.value)==null?void 0:b.x)==null?void 0:g.toFixed(2)),1),e("div",V,"av-Y: "+s((y=(F=x.value)==null?void 0:F.y)==null?void 0:y.toFixed(2)),1),e("div",ee,"av-Z: "+s((A=(z=x.value)==null?void 0:z.z)==null?void 0:A.toFixed(2)),1)]),e("div",se,[e("div",te,"R-alpha: "+s((D=(R=t(d))==null?void 0:R.alpha)==null?void 0:D.toFixed(2)),1),e("div",oe,"R-beta: "+s((k=(S=t(d))==null?void 0:S.beta)==null?void 0:k.toFixed(2)),1),e("div",ae,"R-gamma: "+s((B=(w=t(d))==null?void 0:w.gamma)==null?void 0:B.toFixed(2)),1)]),e("div",ce,[e("div",ie,"alpha: "+s((E=t(v))==null?void 0:E.toFixed(2)),1),e("div",le,"beta: "+s(($=t(f))==null?void 0:$.toFixed(2)),1),e("div",ne,"gamma: "+s((M=t(r))==null?void 0:M.toFixed(2)),1)])]),e("div",{class:"flex-1 p-40",style:G({borderRadius:`${h.value*10}px`,backgroundColor:`hsl(${t(v)}deg ${50+50*t(f)/180}% ${50+50*t(r)/90}%)`})},null,4)])}}};export{he as default};
