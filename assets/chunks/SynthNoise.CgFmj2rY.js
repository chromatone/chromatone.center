import{_ as E}from"./ControlChoose.D4zFcnAf.js";import{u as B,a1 as P,bB as D,a2 as q,aR as I,a7 as A,bC as z,a8 as G,I as Q,bD as M,b2 as N,as as H}from"./theme.CgSqoG0K.js";import{z as C,B as k,C as O,E as f,J as W,U as r,D as Y,a as $,w as x,y as j,R as a,u as l,i as J,F as K,G as X}from"./framework.B_b_ZswS.js";const Z={__name:"ControlPush",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"BTN"}},emits:["update:modelValue"],setup(V,{emit:i}){const s=i;function u(d){s("update:modelValue",d)}return(d,n)=>(k(),O("div",{class:Y(["btn",{active:V.modelValue}]),onMousedown:n[6]||(n[6]=r(p=>u(!0),["self"])),onMouseup:n[7]||(n[7]=r(p=>u(!1),["self"])),onTouchstart:n[8]||(n[8]=r(p=>u(!0),["self"])),onTouchend:n[9]||(n[9]=r(p=>u(!0),["self"])),onTouchcancel:n[10]||(n[10]=r(p=>u(!1),["self"]))},[f("div",{class:"mb-5",onMousedown:n[0]||(n[0]=r(p=>u(!0),["self"])),onMouseup:n[1]||(n[1]=r(p=>u(!1),["self"])),onTouchstart:n[2]||(n[2]=r(p=>u(!0),["self"])),onTouchend:n[3]||(n[3]=r(p=>u(!0),["self"])),onTouchcancel:n[4]||(n[4]=r(p=>u(!1),["self"]))},W(V.title),33),f("div",{class:"toggle",onClickCapture:n[5]||(n[5]=r(p=>u(!V.modelValue),["stop"]))},n[11]||(n[11]=[f("div",{class:"toggler"},null,-1)]),32)],34))}},c=C(Z,[["__scopeId","data-v-ada6e431"]]),_={brown:"brown",pink:"pink",white:"white"},h={lowpass:"LP",highpass:"HP",bandpass:"BP"},ee={sine:"SIN",triangle:"TRI",square:"SQR",sawtooth:"SAW"},g=B("noise-options",{noise:{type:"pink"},envelope:{attack:.1,decay:.1,sustain:.9,release:1},volume:1}),U=B("filter-options",{on:!1,play:!1,volume:.5,baseFrequency:50,depth:.1,frequency:1,octaves:2,wet:1,type:"sine",filter:{Q:1,type:"lowpass"}}),b=B("panner-options",{on:!1,play:!1,wet:1,frequency:1,depth:1,volume:1}),F=B("bit-options",{on:!1,bits:16,wet:1,volume:1});function le(){const V=$(!1),i=$([]),s=$([]),{channel:u}=P("noise"),d=new D({size:512,smoothing:.2}).connect(u);for(let t=0;t<32;t++)s.value[t]=d.getFrequencyOfIndex(t);const n=new q(g.value.volume).connect(d),p=new q(U.value.volume).connect(d),v=new q(b.value.volume).connect(d),w=new q(F.value.volume).connect(d),y=new I(b.value).connect(v),S=new A(F.value).connect(w).connect(y),T=new z(U.value).connect(p).connect(S),e=new G(g.value).connect(n).connect(T);return Q(()=>{let t=d.getValue();for(let m=0;m<32;m++)i.value[m]=M(t[m])*10}),N("a",t=>{t.preventDefault(),V.value=!0},{eventName:"keydown"}),N("a",()=>{V.value=!1},{eventName:"keyup"}),x(V,t=>{t?e.triggerAttack():e.triggerRelease()}),x(g.value,()=>{e.set(g.value)}),x(()=>g.value.volume,t=>{n.gain.rampTo(t,1)}),j(()=>{e.triggerRelease()}),x(U.value,t=>{t.play?T.start():T.stop(),t.on?p.gain.rampTo(U.value.volume,.2):p.gain.rampTo(0,.2),T.set(t)}),x(b.value,t=>{t.play?y.start():y.stop(),t.on?v.gain.rampTo(b.value.volume,.2):v.gain.rampTo(0,.2),y.set(t)}),x(F.value,t=>{t.on?w.gain.rampTo(F.value.volume,.2):w.gain.rampTo(0,.2),S.set(t)}),{options:g,filterOptions:U,pannerOptions:b,crusherOptions:F,active:V,fftData:i,fftFreq:s,types:_,filterTypes:h,filterLFOTypes:ee}}const oe={class:"flex flex-wrap gap-4 m-4"},ne={class:"row is-group gap-2 select-none"},te={class:"is-group flex flex-wrap p-1"},ae={class:"w-8rem border-1 rounded-lg m-1",version:"1.1",baseProfile:"full",viewBox:"0 0 32 10",xmlns:"http://www.w3.org/2000/svg"},se=["x1","x2","y1","title"],ue={class:"row is-group gap-2"},me={class:"flex flex-wrap gap-2"},de={class:"flex flex-wrap gap-2"},ie={class:"row is-group gap-2"},pe={class:"row is-group gap-2"},re={__name:"SynthNoise",setup(V){const{options:i,filterOptions:s,pannerOptions:u,crusherOptions:d,active:n,fftData:p,fftFreq:v,types:w,filterTypes:y,filterLFOTypes:S}=le();return(T,e)=>{const t=c,m=H,L=E;return k(),O("div",oe,[f("div",ne,[a(t,{modelValue:l(n),"onUpdate:modelValue":e[0]||(e[0]=o=>J(n)?n.value=o:null),title:"NOISE"},null,8,["modelValue"]),a(m,{modelValue:l(i).volume,"onUpdate:modelValue":e[1]||(e[1]=o=>l(i).volume=o),min:0,max:1,step:.01,param:"DRY"},null,8,["modelValue"]),a(L,{modelValue:l(i).noise.type,"onUpdate:modelValue":e[2]||(e[2]=o=>l(i).noise.type=o),variants:l(w)},null,8,["modelValue","variants"]),f("div",te,[a(m,{modelValue:l(i).envelope.attack,"onUpdate:modelValue":e[3]||(e[3]=o=>l(i).envelope.attack=o),min:.005,max:4,step:.01,param:"ATT"},null,8,["modelValue"]),a(m,{modelValue:l(i).envelope.decay,"onUpdate:modelValue":e[4]||(e[4]=o=>l(i).envelope.decay=o),min:.005,max:6,step:.01,param:"DEC"},null,8,["modelValue"]),a(m,{modelValue:l(i).envelope.sustain,"onUpdate:modelValue":e[5]||(e[5]=o=>l(i).envelope.sustain=o),min:.005,max:1,step:.01,param:"SUS"},null,8,["modelValue"]),a(m,{modelValue:l(i).envelope.release,"onUpdate:modelValue":e[6]||(e[6]=o=>l(i).envelope.release=o),min:.005,max:10,step:.01,param:"REL"},null,8,["modelValue"])]),(k(),O("svg",ae,[(k(!0),O(K,null,X(l(v),(o,R)=>(k(),O("line",{key:o,"stroke-width":"1",stroke:"gray",x1:R,x2:R,y2:10,y1:10-l(p)[R]*50,title:l(v)[R]},null,8,se))),128))]))]),f("div",ue,[f("div",me,[a(t,{modelValue:l(s).on,"onUpdate:modelValue":e[7]||(e[7]=o=>l(s).on=o),title:"FILTER"},null,8,["modelValue"]),a(m,{modelValue:l(s).volume,"onUpdate:modelValue":e[8]||(e[8]=o=>l(s).volume=o),param:"VOL",min:0,max:1,step:.01,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(s).baseFrequency,"onUpdate:modelValue":e[9]||(e[9]=o=>l(s).baseFrequency=o),param:"FREQ",min:10,max:999,step:1,fixed:0,unit:"hz"},null,8,["modelValue"]),a(m,{modelValue:l(s).octaves,"onUpdate:modelValue":e[10]||(e[10]=o=>l(s).octaves=o),param:"OCT",min:.1,max:7,step:.1,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(s).filter.Q,"onUpdate:modelValue":e[11]||(e[11]=o=>l(s).filter.Q=o),param:"Q",min:.1,max:20,step:.1,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(s).wet,"onUpdate:modelValue":e[12]||(e[12]=o=>l(s).wet=o),param:"WET",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"]),a(L,{modelValue:l(s).filter.type,"onUpdate:modelValue":e[13]||(e[13]=o=>l(s).filter.type=o),variants:l(y)},null,8,["modelValue","variants"])]),f("div",de,[a(t,{modelValue:l(s).play,"onUpdate:modelValue":e[14]||(e[14]=o=>l(s).play=o),title:"PLAY"},null,8,["modelValue"]),a(m,{modelValue:l(s).frequency,"onUpdate:modelValue":e[15]||(e[15]=o=>l(s).frequency=o),param:"LFO",min:.01,max:4,step:.01,fixed:2,unit:"hz"},null,8,["modelValue"]),a(m,{modelValue:l(s).depth,"onUpdate:modelValue":e[16]||(e[16]=o=>l(s).depth=o),param:"DPTH",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"]),a(L,{modelValue:l(s).type,"onUpdate:modelValue":e[17]||(e[17]=o=>l(s).type=o),variants:l(S)},null,8,["modelValue","variants"])])]),f("div",ie,[a(t,{modelValue:l(d).on,"onUpdate:modelValue":e[18]||(e[18]=o=>l(d).on=o),title:"BITCRUSHER"},null,8,["modelValue"]),a(m,{modelValue:l(d).volume,"onUpdate:modelValue":e[19]||(e[19]=o=>l(d).volume=o),param:"VOL",min:.01,max:1,step:.01,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(d).bits,"onUpdate:modelValue":e[20]||(e[20]=o=>l(d).bits=o),param:"BITS",min:1,max:16,step:.01,fixed:2},null,8,["modelValue"]),a(m,{modelValue:l(d).wet,"onUpdate:modelValue":e[21]||(e[21]=o=>l(d).wet=o),param:"WET",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"])]),f("div",pe,[a(t,{modelValue:l(u).on,"onUpdate:modelValue":e[22]||(e[22]=o=>l(u).on=o),title:"PAN"},null,8,["modelValue"]),a(t,{modelValue:l(u).play,"onUpdate:modelValue":e[23]||(e[23]=o=>l(u).play=o),title:"PLAY"},null,8,["modelValue"]),a(m,{modelValue:l(u).volume,"onUpdate:modelValue":e[24]||(e[24]=o=>l(u).volume=o),param:"VOL",min:.01,max:1,step:.01,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(u).frequency,"onUpdate:modelValue":e[25]||(e[25]=o=>l(u).frequency=o),param:"LFO",min:.01,max:4,step:.01,fixed:2,unit:"hz"},null,8,["modelValue"]),a(m,{modelValue:l(u).depth,"onUpdate:modelValue":e[26]||(e[26]=o=>l(u).depth=o),param:"DPTH",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"]),a(m,{modelValue:l(u).wet,"onUpdate:modelValue":e[27]||(e[27]=o=>l(u).wet=o),param:"WET",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"])])])}}},ye=C(re,[["__scopeId","data-v-3db0743f"]]);export{ye as default};
