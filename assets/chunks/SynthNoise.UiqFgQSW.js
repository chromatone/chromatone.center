import{_ as E}from"./ControlChoose.BzYZvXM5.js";import{Z as A,bd as C,$,aK as I,a4 as D,be as z,a5 as G,bf as Q,am as M}from"./theme.8II__EJw.js";import{q as R,x as k,y as O,A as f,G as H,S as r,z as W,u as L,r as N,g as Y,h as P,d as y,k as j,P as a,E as l,V as K,F as Z,B as J}from"./framework.Bh6q1hI4.js";const X={__name:"ControlPush",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"BTN"}},emits:["update:modelValue"],setup(V,{emit:i}){const s=i;function u(d){s("update:modelValue",d)}return(d,n)=>(k(),O("div",{class:W(["btn",{active:V.modelValue}]),onMousedown:n[6]||(n[6]=r(p=>u(!0),["self"])),onMouseup:n[7]||(n[7]=r(p=>u(!1),["self"])),onTouchstart:n[8]||(n[8]=r(p=>u(!0),["self"])),onTouchend:n[9]||(n[9]=r(p=>u(!0),["self"])),onTouchcancel:n[10]||(n[10]=r(p=>u(!1),["self"]))},[f("div",{class:"mb-5",onMousedown:n[0]||(n[0]=r(p=>u(!0),["self"])),onMouseup:n[1]||(n[1]=r(p=>u(!1),["self"])),onTouchstart:n[2]||(n[2]=r(p=>u(!0),["self"])),onTouchend:n[3]||(n[3]=r(p=>u(!0),["self"])),onTouchcancel:n[4]||(n[4]=r(p=>u(!1),["self"]))},H(V.title),33),f("div",{class:"toggle",onClickCapture:n[5]||(n[5]=r(p=>u(!V.modelValue),["stop"]))},n[11]||(n[11]=[f("div",{class:"toggler"},null,-1)]),32)],34))}},c=R(X,[["__scopeId","data-v-ada6e431"]]),_={brown:"brown",pink:"pink",white:"white"},h={lowpass:"LP",highpass:"HP",bandpass:"BP"},ee={sine:"SIN",triangle:"TRI",square:"SQR",sawtooth:"SAW"},g=L("noise-options",{noise:{type:"pink"},envelope:{attack:.1,decay:.1,sustain:.9,release:1},volume:1}),U=L("filter-options",{on:!1,play:!1,volume:.5,baseFrequency:50,depth:.1,frequency:1,octaves:2,wet:1,type:"sine",filter:{Q:1,type:"lowpass"}}),b=L("panner-options",{on:!1,play:!1,wet:1,frequency:1,depth:1,volume:1}),F=L("bit-options",{on:!1,bits:16,wet:1,volume:1});function le(){const V=N(!1),i=N([]),s=N([]),{channel:u}=A("noise"),d=new C({size:512,smoothing:.2}).connect(u);for(let t=0;t<32;t++)s.value[t]=d.getFrequencyOfIndex(t);const n=new $(g.value.volume).connect(d),p=new $(U.value.volume).connect(d),v=new $(b.value.volume).connect(d),w=new $(F.value.volume).connect(d),x=new I(b.value).connect(v),S=new D(F.value).connect(w).connect(x),T=new z(U.value).connect(p).connect(S),e=new G(g.value).connect(n).connect(T);return Y(()=>{let t=d.getValue();for(let m=0;m<32;m++)i.value[m]=Q(t[m])*10}),P("a",t=>{t.preventDefault(),V.value=!0},{eventName:"keydown"}),P("a",()=>{V.value=!1},{eventName:"keyup"}),y(V,t=>{t?e.triggerAttack():e.triggerRelease()}),y(g.value,()=>{e.set(g.value)}),y(()=>g.value.volume,t=>{n.gain.rampTo(t,1)}),j(()=>{e.triggerRelease()}),y(U.value,t=>{t.play?T.start():T.stop(),t.on?p.gain.rampTo(U.value.volume,.2):p.gain.rampTo(0,.2),T.set(t)}),y(b.value,t=>{t.play?x.start():x.stop(),t.on?v.gain.rampTo(b.value.volume,.2):v.gain.rampTo(0,.2),x.set(t)}),y(F.value,t=>{t.on?w.gain.rampTo(F.value.volume,.2):w.gain.rampTo(0,.2),S.set(t)}),{options:g,filterOptions:U,pannerOptions:b,crusherOptions:F,active:V,fftData:i,fftFreq:s,types:_,filterTypes:h,filterLFOTypes:ee}}const oe={class:"flex flex-wrap gap-4 m-4"},ne={class:"row is-group gap-2 select-none"},te={class:"is-group flex flex-wrap p-1"},ae={class:"w-8rem border-1 rounded-lg m-1",version:"1.1",baseProfile:"full",viewBox:"0 0 32 10",xmlns:"http://www.w3.org/2000/svg"},se=["x1","x2","y1","title"],ue={class:"row is-group gap-2"},me={class:"flex flex-wrap gap-2"},de={class:"flex flex-wrap gap-2"},ie={class:"row is-group gap-2"},pe={class:"row is-group gap-2"},re={__name:"SynthNoise",setup(V){const{options:i,filterOptions:s,pannerOptions:u,crusherOptions:d,active:n,fftData:p,fftFreq:v,types:w,filterTypes:x,filterLFOTypes:S}=le();return(T,e)=>{const t=c,m=M,B=E;return k(),O("div",oe,[f("div",ne,[a(t,{modelValue:l(n),"onUpdate:modelValue":e[0]||(e[0]=o=>K(n)?n.value=o:null),title:"NOISE"},null,8,["modelValue"]),a(m,{modelValue:l(i).volume,"onUpdate:modelValue":e[1]||(e[1]=o=>l(i).volume=o),min:0,max:1,step:.01,param:"DRY"},null,8,["modelValue"]),a(B,{modelValue:l(i).noise.type,"onUpdate:modelValue":e[2]||(e[2]=o=>l(i).noise.type=o),variants:l(w)},null,8,["modelValue","variants"]),f("div",te,[a(m,{modelValue:l(i).envelope.attack,"onUpdate:modelValue":e[3]||(e[3]=o=>l(i).envelope.attack=o),min:.005,max:4,step:.01,param:"ATT"},null,8,["modelValue"]),a(m,{modelValue:l(i).envelope.decay,"onUpdate:modelValue":e[4]||(e[4]=o=>l(i).envelope.decay=o),min:.005,max:6,step:.01,param:"DEC"},null,8,["modelValue"]),a(m,{modelValue:l(i).envelope.sustain,"onUpdate:modelValue":e[5]||(e[5]=o=>l(i).envelope.sustain=o),min:.005,max:1,step:.01,param:"SUS"},null,8,["modelValue"]),a(m,{modelValue:l(i).envelope.release,"onUpdate:modelValue":e[6]||(e[6]=o=>l(i).envelope.release=o),min:.005,max:10,step:.01,param:"REL"},null,8,["modelValue"])]),(k(),O("svg",ae,[(k(!0),O(Z,null,J(l(v),(o,q)=>(k(),O("line",{key:o,"stroke-width":"1",stroke:"gray",x1:q,x2:q,y2:10,y1:10-l(p)[q]*50,title:l(v)[q]},null,8,se))),128))]))]),f("div",ue,[f("div",me,[a(t,{modelValue:l(s).on,"onUpdate:modelValue":e[7]||(e[7]=o=>l(s).on=o),title:"FILTER"},null,8,["modelValue"]),a(m,{modelValue:l(s).volume,"onUpdate:modelValue":e[8]||(e[8]=o=>l(s).volume=o),param:"VOL",min:0,max:1,step:.01,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(s).baseFrequency,"onUpdate:modelValue":e[9]||(e[9]=o=>l(s).baseFrequency=o),param:"FREQ",min:10,max:999,step:1,fixed:0,unit:"hz"},null,8,["modelValue"]),a(m,{modelValue:l(s).octaves,"onUpdate:modelValue":e[10]||(e[10]=o=>l(s).octaves=o),param:"OCT",min:.1,max:7,step:.1,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(s).filter.Q,"onUpdate:modelValue":e[11]||(e[11]=o=>l(s).filter.Q=o),param:"Q",min:.1,max:20,step:.1,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(s).wet,"onUpdate:modelValue":e[12]||(e[12]=o=>l(s).wet=o),param:"WET",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"]),a(B,{modelValue:l(s).filter.type,"onUpdate:modelValue":e[13]||(e[13]=o=>l(s).filter.type=o),variants:l(x)},null,8,["modelValue","variants"])]),f("div",de,[a(t,{modelValue:l(s).play,"onUpdate:modelValue":e[14]||(e[14]=o=>l(s).play=o),title:"PLAY"},null,8,["modelValue"]),a(m,{modelValue:l(s).frequency,"onUpdate:modelValue":e[15]||(e[15]=o=>l(s).frequency=o),param:"LFO",min:.01,max:4,step:.01,fixed:2,unit:"hz"},null,8,["modelValue"]),a(m,{modelValue:l(s).depth,"onUpdate:modelValue":e[16]||(e[16]=o=>l(s).depth=o),param:"DPTH",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"]),a(B,{modelValue:l(s).type,"onUpdate:modelValue":e[17]||(e[17]=o=>l(s).type=o),variants:l(S)},null,8,["modelValue","variants"])])]),f("div",ie,[a(t,{modelValue:l(d).on,"onUpdate:modelValue":e[18]||(e[18]=o=>l(d).on=o),title:"BITCRUSHER"},null,8,["modelValue"]),a(m,{modelValue:l(d).volume,"onUpdate:modelValue":e[19]||(e[19]=o=>l(d).volume=o),param:"VOL",min:.01,max:1,step:.01,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(d).bits,"onUpdate:modelValue":e[20]||(e[20]=o=>l(d).bits=o),param:"BITS",min:1,max:16,step:.01,fixed:2},null,8,["modelValue"]),a(m,{modelValue:l(d).wet,"onUpdate:modelValue":e[21]||(e[21]=o=>l(d).wet=o),param:"WET",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"])]),f("div",pe,[a(t,{modelValue:l(u).on,"onUpdate:modelValue":e[22]||(e[22]=o=>l(u).on=o),title:"PAN"},null,8,["modelValue"]),a(t,{modelValue:l(u).play,"onUpdate:modelValue":e[23]||(e[23]=o=>l(u).play=o),title:"PLAY"},null,8,["modelValue"]),a(m,{modelValue:l(u).volume,"onUpdate:modelValue":e[24]||(e[24]=o=>l(u).volume=o),param:"VOL",min:.01,max:1,step:.01,fixed:1},null,8,["modelValue"]),a(m,{modelValue:l(u).frequency,"onUpdate:modelValue":e[25]||(e[25]=o=>l(u).frequency=o),param:"LFO",min:.01,max:4,step:.01,fixed:2,unit:"hz"},null,8,["modelValue"]),a(m,{modelValue:l(u).depth,"onUpdate:modelValue":e[26]||(e[26]=o=>l(u).depth=o),param:"DPTH",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"]),a(m,{modelValue:l(u).wet,"onUpdate:modelValue":e[27]||(e[27]=o=>l(u).wet=o),param:"WET",min:0,max:1,step:.1,fixed:1,unit:""},null,8,["modelValue"])])])}}},xe=R(re,[["__scopeId","data-v-3db0743f"]]);export{xe as default};
