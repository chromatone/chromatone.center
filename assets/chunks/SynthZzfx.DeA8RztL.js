import{_}from"./MidiKeys.D06klRLa.js";import{aS as d,f as h,M as y}from"./theme.D6x5ugam.js";import{b as v,c as x,o as V,Q as g,d as C,_ as T,v as i,x as p,z as Z,F as k,A as J,L as b,a6 as w,D as u,W as B}from"./framework.0GAYKUFI.js";let o;function F(){const t=v({volume:1,randomness:0,frequency:220,attack:.12,sustain:.53,release:.15,shape:1,shapeCurve:.76,slide:0,deltaSlide:0,pitchJump:0,pitchJumpTime:0,repeatTime:0,noise:.1,modulation:0,bitCrush:0,delay:0,sustainVolume:.39,decay:.02,tremolo:0}),s=x(()=>r(t));V(()=>{ZZFX.volume=.3,d.state.midi=!1}),g(()=>{d.state.midi=!0}),C(()=>h.note,e=>{l(e)});const m={volume:{min:0,max:1,default:1,step:.01},randomness:{min:0,max:1,default:.05,step:.01},frequency:{min:20,max:2e4,default:220,step:10},attack:{min:0,max:2,default:.01,step:.01},sustain:{min:0,max:2,default:.3,step:.01},release:{min:0,max:2,default:.1,step:.01},shape:{min:0,max:4,default:0,step:1},shapeCurve:{min:0,max:2,default:1,step:.01},slide:{min:-10,max:10,default:0,step:.1},deltaSlide:{min:-10,max:10,default:0,step:.1},pitchJump:{min:-10,max:10,default:0,step:.1},pitchJumpTime:{min:0,max:2,default:0,step:.01},repeatTime:{min:0,max:2,default:0,step:.01},noise:{min:0,max:1,default:0,step:.01},modulation:{min:0,max:100,default:0,step:1},bitCrush:{min:0,max:1,default:0,step:.01},delay:{min:0,max:2,default:0,step:.01},sustainVolume:{min:0,max:1,default:1,step:.01},decay:{min:0,max:2,default:.1,step:.01},tremolo:{min:0,max:1,default:0,step:.01}};async function l(e){(e==null?void 0:e.type)!="noteoff"&&((e==null?void 0:e.type)=="noteon"&&(t.frequency=Math.pow(2,(e.number-69)/12)*440),o||await T(async()=>{const{zzfx:a}=await import("./ZzFX.D8PpC89C.js");return{zzfx:a}},[]).then(({zzfx:a})=>{o=a}),o(...s.value))}function r(e){return[e.volume??1,e.randomness??.05,e.frequency??220,e.attack??0,e.sustain??0,e.release??.1,e.shape??0,e.shapeCurve??1,e.slide??0,e.deltaSlide??0,e.pitchJump??0,e.pitchJumpTime??0,e.repeatTime??0,e.noise??0,e.modulation??0,e.bitCrush??0,e.delay??0,e.sustainVolume??1,e.decay??0,e.tremolo??0]}return{sound:t,limits:m}}const S={class:"flex flex-col gap-gap-4ZZFX"},q={class:"flex flex-wrap is-group p-4 m-4"},A={__name:"SynthZzfx",setup(t){const{sound:s,limits:m}=F();return(l,r)=>{const e=y,a=_;return i(),p("div",S,[Z("div",q,[(i(!0),p(k,null,J(u(m),(c,n)=>(i(),b(e,w({ref_for:!0},c,{modelValue:u(s)[n],"onUpdate:modelValue":f=>u(s)[n]=f,param:n}),null,16,["modelValue","onUpdate:modelValue","param"]))),256))]),B(a)])}}};export{A as default};
