import{c,g as V,r as $,o as D,_ as M,C as n,D as r,F as s,a2 as g,L as l,N as O,K as A,G as _,H as x,M as q}from"./framework.BmjQO8gg.js";import{h as B,y as I,g as R,I as j,O as z,a5 as T}from"./theme.EZv__huw.js";const G={class:"flex flex-col gap-4 p-2"},H={class:"text-2xl flex gap-2"},K={key:0,class:"p-0"},U={class:"flex is-group"},J={class:"op-50 text-sm font-mono"},Q={class:"text-2xl"},X={class:"flex gap-2"},Y=s("hr",null,null,-1),Z={class:"text-xl"},ee={class:"flex gap-2 is-group p-2"},te={class:"op-50"},se={class:"flex flex-wrap gap-2 is-group p-2"},oe={class:"op-30"},ae={class:"op-50"},ue={__name:"Words",setup(le){const m=["e","i","a","o","u","y"],h=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"],y=c(()=>B.numeric([-7,13]).map(I.steps(R.full.name))),d=V([]),k=$(!1),v=j(0,0,()=>d.value.length),b=c(()=>d.value[v.value]),S=c(()=>P(b.value)),p=c(()=>C(m)),N=c(()=>m.toSorted((o,e)=>p.value[o]>=p.value[e]?-1:1)),f=c(()=>C(h)),W=c(()=>h.toSorted((o,e)=>f.value[o]>=f.value[e]?-1:1)),{once:E}=z(),L=c(()=>{let o=new T((e,u)=>{E(u.note,u.duration,e)},[{time:0,duration:"16n",note:y.value[0]}]).start("+0");return o.loop=!0,o});D(async()=>{let{default:o}=await M(async()=>{const{default:e}=await import("./index.FVA3GufJ.js");return{default:e}},[]);d.value=o,k.value=!0,w()});function w(){v.value=Math.floor(Math.random()*d.value.length)}function C(o){const e={};o.forEach(a=>e[a]=0),d.value.forEach(a=>{for(let t of a)t in e&&e[t]++});let u=Object.values(e).reduce((a,t)=>a+t,0);for(let a in e)e[a]=e[a]/u;return e}function P(o){if(!o)return[];const e=/(?<consonant>[^aeiouy]?)(?<vowel>[aeiouy]*)/g;return Array.from(o.matchAll(e)).reduce((a,t)=>{const i=t.groups.consonant,F=t.groups.vowel;return(i||F)&&a.push([i||"",F||""]),a},[])}return(o,e)=>{var u,a;return n(),r("div",G,[s("div",H,[g("WORDS "+l(L.value),1),k.value?O("",!0):(n(),r("div",K,"Loading..."))]),s("div",U,[s("button",{class:"text-button",onClick:e[0]||(e[0]=t=>v.value--)},"Prev"),s("button",{class:"text-button",onClick:e[1]||(e[1]=t=>w())},"Pick random"),s("button",{class:"text-button",onClick:e[2]||(e[2]=t=>v.value++)},"Next")]),s("div",J,l(A(v))+"/"+l((u=d.value)==null?void 0:u.length),1),s("div",Q,l(b.value),1),s("div",X,[(n(!0),r(_,null,x(S.value,t=>(n(),r("div",{class:"p-0 flex gap-2px",key:t},[(n(!0),r(_,null,x(t,i=>(n(),r("div",{class:"p-0",key:i},l(i),1))),128))]))),128))]),Y,s("div",Z,"Letter frequencies in all "+l((a=d.value)==null?void 0:a.length)+" words",1),s("div",ee,[(n(!0),r(_,null,x(N.value,t=>(n(),r("div",{class:"bg-light-100 dark-bg-dark-200 p-1 text-md",key:t,style:q({flex:`${p.value[t]}`})},[g(l(t.toUpperCase())+" ",1),s("div",te,l((p.value[t]*100).toFixed())+"%",1)],4))),128))]),s("div",se,[(n(!0),r(_,null,x(W.value,(t,i)=>(n(),r("div",{class:"p-1 bg-light-100 dark-bg-dark-200",key:t,style:q({flex:`${(f.value[t]*1e3).toFixed(1)}`})},[g(l(t)+" ",1),s("div",oe,l(y.value[i]),1),s("div",ae,l((f.value[t]*100).toFixed(1))+"%",1)],4))),128))])])}}};export{ue as default};
