import{G as c,X as P,r as A,o as B,Z as L,c as r,h as u,i as a,aI as m,B as n,k as O,u as I,F as x,Q as g,l as F}from"./framework.D_pKV3Tc.js";import{aV as M,aW as R,g as j,E as z,aY as T,V as U,e as Y}from"./theme.CwSn3wWj.js";const G={class:"flex flex-col gap-4 p-2"},Q={class:"text-2xl flex gap-2"},X={key:0,class:"p-0"},Z={class:"flex is-group"},H={class:"op-50 text-sm font-mono"},J={class:"text-2xl"},K={class:"flex gap-2"},ee={class:"text-xl"},te={class:"flex gap-2 is-group p-2"},se={class:"op-50"},oe={class:"flex flex-wrap gap-2 is-group p-2"},ae={class:"op-30"},ne={class:"op-50"},ce={__name:"Words",setup(le){const h=["e","i","a","o","u","y"],k=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"],y=c(()=>M([-7,8]).map(R(j.full.name))),i=P([]),w=A(!1),v=z(0,0,()=>i.value.length),_=c(()=>i.value[v.value]),V=c(()=>N(_.value)),p=c(()=>S(h)),q=c(()=>h.toSorted((o,e)=>p.value[o]>=p.value[e]?-1:1)),f=c(()=>S(k)),E=c(()=>k.toSorted((o,e)=>f.value[o]>=f.value[e]?-1:1)),W=c(()=>{const o=T();let e=y.value.map((s,t)=>({time:t/4,duration:"32n",note:s})),l=new U((s,t)=>{o.schedule(()=>{Y(t.note,t.duration)},s)},e).start("0");return l.loop=!0,l.loopStart=0,l.loopEnd="4m",l});B(async()=>{let{default:o}=await L(async()=>{const{default:e}=await import("./index.FVA3GufJ.js");return{default:e}},[]);i.value=o,w.value=!0,b()});function b(){v.value=Math.floor(Math.random()*i.value.length)}function S(o){const e={};o.forEach(s=>e[s]=0),i.value.forEach(s=>{for(let t of s)t in e&&e[t]++});let l=Object.values(e).reduce((s,t)=>s+t,0);for(let s in e)e[s]=e[s]/l;return e}function N(o){if(!o)return[];const e=/(?<consonant>[^aeiouy]?)(?<vowel>[aeiouy]*)/g;return Array.from(o.matchAll(e)).reduce((s,t)=>{const d=t.groups.consonant,C=t.groups.vowel;return(d||C)&&s.push([d||"",C||""]),s},[])}const $=speechSynthesis.getVoices();function D(){const o=new SpeechSynthesisUtterance(_.value);o.voice=$[0],speechSynthesis.speak(o)}return(o,e)=>{var l,s;return r(),u("div",G,[a("div",Q,[m("WORDS "+n(W.value),1),w.value?O("",!0):(r(),u("div",X,"Loading..."))]),a("div",Z,[a("button",{class:"text-button",onClick:e[0]||(e[0]=t=>v.value--)},"Prev"),a("button",{class:"text-button",onClick:e[1]||(e[1]=t=>b())},"Pick random"),a("button",{class:"text-button",onClick:e[2]||(e[2]=t=>D())},"SAY"),a("button",{class:"text-button",onClick:e[3]||(e[3]=t=>v.value++)},"Next")]),a("div",H,n(I(v))+"/"+n((l=i.value)==null?void 0:l.length),1),a("div",J,n(_.value),1),a("div",K,[(r(!0),u(x,null,g(V.value,t=>(r(),u("div",{class:"p-0 flex gap-2px",key:t},[(r(!0),u(x,null,g(t,d=>(r(),u("div",{class:"p-0",key:d},n(d),1))),128))]))),128))]),e[4]||(e[4]=a("hr",null,null,-1)),a("div",ee,"Letter frequencies in all "+n((s=i.value)==null?void 0:s.length)+" words",1),a("div",te,[(r(!0),u(x,null,g(q.value,t=>(r(),u("div",{class:"bg-light-100 dark-bg-dark-200 p-1 text-md",key:t,style:F({flex:`${p.value[t]}`})},[m(n(t.toUpperCase())+" ",1),a("div",se,n((p.value[t]*100).toFixed())+"%",1)],4))),128))]),a("div",oe,[(r(!0),u(x,null,g(E.value,(t,d)=>(r(),u("div",{class:"p-1 bg-light-100 dark-bg-dark-200",key:t,style:F({flex:`${(f.value[t]*1e3).toFixed(1)}`})},[m(n(t)+" ",1),a("div",ae,n(y.value[d]),1),a("div",ne,n((f.value[t]*100).toFixed(1))+"%",1)],4))),128))])])}}};export{ce as default};
