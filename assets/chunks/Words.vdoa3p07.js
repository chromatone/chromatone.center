import{M as c,J as P,r as A,o as L,a0 as M,q as r,f as u,s as a,aw as _,t as O,z as l,u as z,F as f,Y as x,v as q}from"./framework.Bbwy4zmA.js";import{bc as B,bd as R,g as Y,F as j,bh as I,Y as T,e as U}from"./theme.DKUtGHOP.js";const J={class:"flex flex-col gap-4 p-2"},G={class:"text-2xl flex gap-2"},H={key:0,class:"p-0"},K={class:"flex is-group"},Q={class:"op-50 text-sm font-mono"},X={class:"text-2xl"},Z={class:"flex gap-2"},ee={class:"text-xl"},te={class:"flex gap-2 is-group p-2"},se={class:"op-50"},oe={class:"flex flex-wrap gap-2 is-group p-2"},ae={class:"op-30"},ne={class:"op-50"},ce={__name:"Words",setup(le){const m=["e","i","a","o","u","y"],h=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"],k=c(()=>B([-7,8]).map(R(Y.full.name))),i=P([]),y=A(!1),d=j(0,0,()=>i.value.length),g=c(()=>i.value[d.value]),C=c(()=>W(g.value)),v=c(()=>w(m)),E=c(()=>m.toSorted((o,e)=>v.value[o]>=v.value[e]?-1:1)),p=c(()=>w(h)),N=c(()=>h.toSorted((o,e)=>p.value[o]>=p.value[e]?-1:1)),V=c(()=>{const o=I();let e=k.value.map((s,n)=>({time:n/4,duration:"32n",note:s})),t=new T((s,n)=>{o.schedule(()=>{U(n.note,n.duration)},s)},e).start("0");return t.loop=!0,t.loopStart=0,t.loopEnd="4m",t});L(async()=>{let{default:o}=await M(async()=>{const{default:e}=await import("./index.tYSoyQ4Y.js");return{default:e}},[]);i.value=o,y.value=!0,b()});function b(){d.value=Math.floor(Math.random()*i.value.length)}function w(o){const e={};o.forEach(s=>e[s]=0),i.value.forEach(s=>{for(let n of s)n in e&&e[n]++});let t=Object.values(e).reduce((s,n)=>s+n,0);for(let s in e)e[s]=e[s]/t;return e}function W(o){if(!o)return[];const e=/(?<consonant>[^aeiouy]?)(?<vowel>[aeiouy]*)/g;return Array.from(o.matchAll(e)).reduce((s,n)=>{const S=n.groups.consonant,F=n.groups.vowel;return(S||F)&&s.push([S||"",F||""]),s},[])}const $=speechSynthesis.getVoices();function D(){const o=new SpeechSynthesisUtterance(g.value);o.voice=$[0],speechSynthesis.speak(o)}return(o,e)=>(u(),r("div",J,[a("div",G,[_("WORDS "+l(V.value),1),y.value?O("",!0):(u(),r("div",H,"Loading..."))]),a("div",K,[a("button",{class:"text-button",onClick:e[0]||(e[0]=t=>d.value--)},"Prev"),a("button",{class:"text-button",onClick:e[1]||(e[1]=t=>b())},"Pick random"),a("button",{class:"text-button",onClick:e[2]||(e[2]=t=>D())},"SAY"),a("button",{class:"text-button",onClick:e[3]||(e[3]=t=>d.value++)},"Next")]),a("div",Q,l(z(d))+"/"+l(i.value?.length),1),a("div",X,l(g.value),1),a("div",Z,[(u(!0),r(f,null,x(C.value,t=>(u(),r("div",{class:"p-0 flex gap-2px",key:t},[(u(!0),r(f,null,x(t,s=>(u(),r("div",{class:"p-0",key:s},l(s),1))),128))]))),128))]),e[4]||(e[4]=a("hr",null,null,-1)),a("div",ee,"Letter frequencies in all "+l(i.value?.length)+" words",1),a("div",te,[(u(!0),r(f,null,x(E.value,t=>(u(),r("div",{class:"bg-light-100 dark-bg-dark-200 p-1 text-md",key:t,style:q({flex:`${v.value[t]}`})},[_(l(t.toUpperCase())+" ",1),a("div",se,l((v.value[t]*100).toFixed())+"%",1)],4))),128))]),a("div",oe,[(u(!0),r(f,null,x(N.value,(t,s)=>(u(),r("div",{class:"p-1 bg-light-100 dark-bg-dark-200",key:t,style:q({flex:`${(p.value[t]*1e3).toFixed(1)}`})},[_(l(t)+" ",1),a("div",ae,l(k.value[s]),1),a("div",ne,l((p.value[t]*100).toFixed(1))+"%",1)],4))),128))])]))}};export{ce as default};
