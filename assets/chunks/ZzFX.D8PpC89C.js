function U(...h){return Q.play(...h)}const Q={volume:.3,sampleRate:44100,x:new AudioContext,play:function(...h){return this.playSamples(this.buildSamples(...h))},playSamples:function(...h){const s=this.x.createBuffer(h.length,h[0].length,this.sampleRate),o=this.x.createBufferSource();return h.map((f,g)=>s.getChannelData(g).set(f)),o.buffer=s,o.connect(this.x.destination),o.start(),o},buildSamples:function(h=1,s=.05,o=220,f=0,g=0,v=.1,l=0,D=1,z=0,P=0,B=0,Z=0,x=0,N=0,j=0,X=0,M=0,C=1,S=0,w=0){let r=Math.PI*2,n=this.sampleRate,E=O=>O>0?1:-1,G=z*=500*r/n/n,A=o*=(1+s*2*Math.random()-s)*r/n,F=[],u=0,H=0,t=0,R=1,K=0,L=0,i=0,I,b;for(f=f*n+9,S*=n,g*=n,v*=n,M*=n,P*=500*r/n**3,j*=r/n,B*=r/n,Z*=n,x=x*n|0,b=f+S+g+v+M|0;t<b;F[t++]=i)++L%(X*100|0)||(i=l?l>1?l>2?l>3?Math.sin((u%r)**3):Math.max(Math.min(Math.tan(u),1),-1):1-(2*u/r%2+2)%2:1-4*Math.abs(Math.round(u/r)-u/r):Math.sin(u),i=(x?1-w+w*Math.sin(r*t/x):1)*E(i)*Math.abs(i)**D*h*this.volume*(t<f?t/f:t<f+S?1-(t-f)/S*(1-C):t<f+S+g?C:t<b-M?(b-t-M)/v*C:0),i=M?i/2+(M>t?0:(t<b-M?1:(b-t)/M)*F[t-M|0]/2):i),I=(o+=z+=P)*Math.cos(j*H++),u+=I-I*N*(1-(Math.sin(t)+1)*1e9%2),R&&++R>Z&&(o+=B,A+=B,R=0),x&&!(++K%x)&&(o=A,z=G,R=R||1);return F},getNote:function(h=0,s=440){return s*2**(h/12)}};export{Q as ZZFX,U as zzfx};
