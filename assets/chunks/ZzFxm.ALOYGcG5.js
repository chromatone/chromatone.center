import{r as $,v as O,x as U,z as s,F as J,A as L,B as E,af as I,E as H}from"./framework.C3BURm3f.js";const N=(...v)=>{let e=A.createBufferSource(),r=A.createBuffer(v.length,v[0].length,c);return v.map((n,f)=>r.getChannelData(f).set(n)),e.buffer=r,e.connect(A.destination),e.start(),e},j=(v=1,e=.05,r=220,n=0,f=0,p=.1,x=0,i=1,t=0,a=0,o=0,h=0,m=0,k=0,_=0,S=0,d=0,C=1,M=0,B=0)=>{let u=2*Math.PI,T=t*=500*u/c**2,V=(0<_?1:-1)*u/4,D=r*=(1+2*e*Math.random()-e)*u/c,z=[],g=0,w=0,l=0,y=1,X=0,Z=0,b=0,F,P;for(n=99+c*n,M*=c,f*=c,p*=c,d*=c,a*=500*u/c**3,_*=u/c,o*=u/c,h*=c,m=c*m|0,P=n+M+f+p+d|0;l<P;z[l++]=b)++Z%(100*S|0)||(b=x?1<x?2<x?3<x?Math.sin((g%u)**3):Math.max(Math.min(Math.tan(g),1),-1):1-(2*g/u%2+2)%2:1-4*Math.abs(Math.round(g/u)-g/u):Math.sin(g),b=(m?1-B+B*Math.sin(2*Math.PI*l/m):1)*(0<b?1:-1)*Math.abs(b)**i*v*q*(l<n?l/n:l<n+M?1-(l-n)/M*(1-C):l<n+M+f?C:l<P-d?(P-l-d)/p*C:0),b=d?b/2+(d>l?0:(l<P-d?1:(P-l)/d)*z[l-d|0]/2):b),F=(r+=t+=a)*Math.sin(w*_-V),g+=F-F*k*(1-1e9*(Math.sin(l)+1)%2),w+=F-F*k*(1-1e9*(Math.sin(l)**2+1)%2),y&&++y>h&&(r+=o,D+=o,y=0),!m||++X%m||(r=D,t=T,y=y||1);return z},q=.3,c=44100,A=new(window.AudioContext||webkitAudioContext),G=(v,e,r,n=125)=>{let f,p,x,i,t,a,o,h,m,k,_,S,d,C=0,M,B=[],u=[],T=[],V=0,D=0,z=1,g={},w=c/n*60>>2;for(;z;V++)B=[z=h=S=0],r.map((l,y)=>{for(o=e[l][V]||[0,0,0],z|=!!e[l][V],M=S+(e[l][0].length-2-!h)*w,d=y==r.length-1,p=2,i=S;p<o.length+d;h=++p){for(t=o[p],m=p==o.length+d-1&&d||k!=(o[0]||0)|t|0,x=0;x<w&&h;x++>w-99&&m?_+=(_<1)/99:0)a=(1-_)*B[C++]/2||0,u[i]=(u[i]||0)-a*D+a,T[i]=(T[i++]||0)+a*D+a;t&&(_=t%1,D=o[1]||0,(t|=0)&&(B=g[[k=o[C=0]||0,t]]=g[[k,t]]||(f=[...v[k]],f[2]*=2**((t-12)/12),t>0?j(...f):[])))}S=M});return[u,T]},K=`
[[[, 0, 22, , .07, .07, 2, 0, , , .5, .01], [2, 0, 426, .01, .2, .48, , 44, , , 200, , , .1], [2, 0, 426, , .02, .2, , 44, , , 200, , , .1], [, 0, 84, , , , , .7, , , , .5, , 6.7, 1, .05], [2, 0, 4e3, , , .03, 2, 1.25, , , , , .02, 6.8, -.3, , .5], [, 0, 209, , .02, .25, 3], [, 0, 655, , , .09, 3, 1.65, , , , , .02, 3.8, -.1, , .2]], [[[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34, , , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34, , , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [5, 1, 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , 22.5, , 20.5, , , , 20.5, , , , 20.5, , 20.5, , , , 20.5, , , , 20.5, , , , 20.5, , 20.5, , , , 20.5, , 20.5, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,], [5, 1, 27.5, , , , 27.5, , , , 27.5, , 27.5, , , , 27.5, , , , 27.5, , , , 27.5, , 27.5, , , , 27.5, , 27.5, , 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , 22.5, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [5, 1, 10, , 13, , , , 15, , 17, , , , 20, , 22, , , , 20, , , , 17, , 22, , 22, , 17, , 20, , , , , , , , , , , , , , , , , , , , , , 20, , 17, , 20, , 22, , 25, , 27, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 15.26, , , , 15.26, , , , 15.26, , 15.26, , 15.26, , 15.26, , , , 15.26, , 15.26, , , , 15.26, , 15.26, , 17.26, , 20.26, , 22.26, , , , 22.26, , , , 22.26, , 17.26, , 20.26, , 22.26, , , , , , , , , , , , 17.26, , 20.26, , 17.26, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [5, 1, , , 27, , 25, , , , 27, , , , 25, , 27, , , , 25, , 22, , 20, , 22, , , , 18, , 20, , 22, , , , 22, , , , 22, , , , 22, , , , 25, , 22, , , , 25, , , , 22, , 25, , 22, ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]]], [0, 1, 2, 3, 4, 5, 4, 5, 6, 7, 6, 7, 8, 9, 8, 9, 6, 7, 6, 7, 0, 8, 9, 8, 9, 6, 7, 6, 7], 187.5, { "title": "Cuddly Demos - Main Menu", "notes": "This is a conversion of the main menu tune from the Atari ST demo 'The Cuddly Demos', by The Carebears. The original was composed by Jochen Hippel (aka. MadMax). This pattern data was taken from a MOD file - I have no idea who converted it." }]`,R={class:"p-5 flex flex-col mt-20"},Y={class:"flex items-center gap-2 p-4 sticky top-12 backdrop-blur-xl self-start"},Q=s("a",{class:"text-4xl",href:"https://github.com/keithclark/ZzFXM",target:"_blank"},"FXM",-1),W={class:"flex flex-col gap-2"},e2={class:"p-2 flex flex-col gap-2"},t2=s("div",{class:"text-xl"},"Instruments",-1),a2=["onUpdate:modelValue"],l2={class:"p-2 flex flex-col gap-2"},n2=s("div",{class:"text-xl"},"Patterns",-1),s2=["onUpdate:modelValue"],o2={class:"p-2 flex flex-col gap-2"},i2=s("div",{class:"text-xl"},"Sequence",-1),r2={class:"p-2 flex flex-col gap-2"},d2=s("div",{class:"text-xl"},"Speed",-1),u2={class:"p-2 flex flex-col gap-2"},c2=s("div",{class:"text-xl"},"Metadata",-1),f2={class:"font-mono dark-bg-dark-8 p-2 rounded-lg"},h2={__name:"ZzFxm",setup(v){const e=$(x(K)),r=$(!1);let n;async function f(){if(r.value)return;let i=G(...e.value);n=N(...i),n.loop=!0,await A.resume(),r.value=!0}async function p(){r.value&&(n.stop(),n.disconnect(),n=null,await A.suspend(),r.value=!1)}function x(i){return i=i.replace(/,\s*(?=[,\]])/g,",null").replace(new RegExp("(?<=\\[)\\s*,","g"),"null,"),i=i.replace(/(\D)\.(\d)/g,"$10.$2"),JSON.parse(i,(t,a)=>{if(a!==null)return a})}return(i,t)=>(O(),U("div",R,[s("div",Y,[Q,s("button",{class:"text-button p-8 text-xl",onClick:t[0]||(t[0]=a=>f())},"PLAY"),s("button",{class:"text-button p-8 text-xl",onClick:t[1]||(t[1]=a=>p())},"STOP")]),s("div",W,[s("div",e2,[t2,(O(!0),U(J,null,L(e.value[0],(a,o)=>E((O(),U("input",{class:"dark-bg-dark-8 p-2 rounded-lg",disabled:"",key:a,"onUpdate:modelValue":h=>e.value[0][o]=h},null,8,a2)),[[I,e.value[0][o]]])),128))]),s("div",l2,[n2,(O(!0),U(J,null,L(e.value[1],(a,o)=>E((O(),U("input",{class:"dark-bg-dark-8 p-2 rounded-lg",disabled:"",key:a,"onUpdate:modelValue":h=>e.value[1][o]=h},null,8,s2)),[[I,e.value[1][o]]])),128))]),s("div",o2,[i2,E(s("input",{class:"dark-bg-dark-8 p-2 rounded-lg",disabled:"","onUpdate:modelValue":t[2]||(t[2]=a=>e.value[2]=a)},null,512),[[I,e.value[2]]])]),s("div",r2,[d2,E(s("input",{class:"dark-bg-dark-8 p-2 rounded-lg","onUpdate:modelValue":t[3]||(t[3]=a=>e.value[3]=a)},null,512),[[I,e.value[3]]])]),s("div",u2,[c2,s("div",f2,H(e.value[4]),1)])])]))}};export{h2 as default};
