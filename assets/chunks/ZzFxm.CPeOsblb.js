import{r as A,W as X,x as c,y as d,A as l,F as w,B as D,C as L,ac as Z,G as N,af as E}from"./framework.DIQG-TE4.js";const G=(...b)=>{let v=R.createBufferSource(),e=R.createBuffer(b.length,b[0].length,x);return b.map((i,p)=>e.getChannelData(p).set(i)),v.buffer=e,v.connect(R.destination),v.start(),v},j=(b=1,v=.05,e=220,i=0,p=0,_=.1,g=0,y=1,s=0,r=0,u=0,a=0,t=0,m=0,f=0,M=0,o=0,S=1,T=0,P=0)=>{let h=2*Math.PI,F=s*=500*h/x**2,I=(0<f?1:-1)*h/4,U=e*=(1+2*v*Math.random()-v)*h/x,V=[],k=0,B=0,n=0,z=1,H=0,$=0,C=0,J,O;for(i=99+x*i,T*=x,p*=x,_*=x,o*=x,r*=500*h/x**3,f*=h/x,u*=h/x,a*=x,t=x*t|0,O=i+T+p+_+o|0;n<O;V[n++]=C)++$%(100*M|0)||(C=g?1<g?2<g?3<g?Math.sin((k%h)**3):Math.max(Math.min(Math.tan(k),1),-1):1-(2*k/h%2+2)%2:1-4*Math.abs(Math.round(k/h)-k/h):Math.sin(k),C=(t?1-P+P*Math.sin(2*Math.PI*n/t):1)*(0<C?1:-1)*Math.abs(C)**y*b*K*(n<i?n/i:n<i+T?1-(n-i)/T*(1-S):n<i+T+p?S:n<O-o?(O-n-o)/_*S:0),C=o?C/2+(o>n?0:(n<O-o?1:(O-n)/o)*V[n-o|0]/2):C),J=(e+=s+=r)*Math.sin(B*f-I),k+=J-J*m*(1-1e9*(Math.sin(n)+1)%2),B+=J-J*m*(1-1e9*(Math.sin(n)**2+1)%2),z&&++z>a&&(e+=u,U+=u,z=0),!t||++H%t||(e=U,s=F,z=z||1);return V},K=.3,x=44100,R=new(window.AudioContext||webkitAudioContext),Q=(b,v,e,i=125)=>{let p,_,g,y,s,r,u,a,t,m,f,M,o,S=0,T,P=[],h=[],F=[],I=0,U=0,V=1,k={},B=x/i*60>>2;for(;V;I++)P=[V=a=M=0],e.map((n,z)=>{for(u=v[n][I]||[0,0,0],V|=!!v[n][I],T=M+(v[n][0].length-2-!a)*B,o=z==e.length-1,_=2,y=M;_<u.length+o;a=++_){for(s=u[_],t=_==u.length+o-1&&o||m!=(u[0]||0)|s|0,g=0;g<B&&a;g++>B-99&&t?f+=(f<1)/99:0)r=(1-f)*P[S++]/2||0,h[y]=(h[y]||0)-r*U+r,F[y]=(F[y++]||0)+r*U+r;s&&(f=s%1,U=u[1]||0,(s|=0)&&(P=k[[m=u[S=0]||0,s]]=k[[m,s]]||(p=[...b[m]],p[2]*=2**((s-12)/12),s>0?j(...p):[])))}M=T});return[h,F]},W=`
[[[, 0, 22, , .07, .07, 2, 0, , , .5, .01], [2, 0, 426, .01, .2, .48, , 44, , , 200, , , .1], [2, 0, 426, , .02, .2, , 44, , , 200, , , .1], [, 0, 84, , , , , .7, , , , .5, , 6.7, 1, .05], [2, 0, 4e3, , , .03, 2, 1.25, , , , , .02, 6.8, -.3, , .5], [, 0, 209, , .02, .25, 3], [, 0, 655, , , .09, 3, 1.65, , , , , .02, 3.8, -.1, , .2]], [[[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34, , , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34, , , , , , , , , , , , 34.5, , , , , , 34, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [5, 1, 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , 22.5, , 20.5, , , , 20.5, , , , 20.5, , 20.5, , , , 20.5, , , , 20.5, , , , 20.5, , 20.5, , , , 20.5, , 20.5, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 15, , , , 15, , , , 15, , 15, , 15, , 15, , , , 15, , 15, , , , 15, , 15, , 17, , 20, , 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , , , , , , , , , 17, , 20, , 17, ,], [5, 1, 27.5, , , , 27.5, , , , 27.5, , 27.5, , , , 27.5, , , , 27.5, , , , 27.5, , 27.5, , , , 27.5, , 27.5, , 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , , , 22.5, , , , 22.5, , 22.5, , , , 22.5, , 22.5, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 22, , , , 22, , , , 22, , 17, , 20, , 22, , , , 22, , 20, , , , 22, , 20, , 17, , 22, , 20, , , , 20, , , , 20, , 17, , 20, , 20, , , , 20, , 17, , , , 20, , 17, , 20, , 22, ,], [5, 1, 10, , 13, , , , 15, , 17, , , , 20, , 22, , , , 20, , , , 17, , 22, , 22, , 17, , 20, , , , , , , , , , , , , , , , , , , , , , 20, , 17, , 20, , 22, , 25, , 27, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]], [[, -1, 15.26, , , , 15.26, , , , 15.26, , 15.26, , 15.26, , 15.26, , , , 15.26, , 15.26, , , , 15.26, , 15.26, , 17.26, , 20.26, , 22.26, , , , 22.26, , , , 22.26, , 17.26, , 20.26, , 22.26, , , , , , , , , , , , 17.26, , 20.26, , 17.26, ,], [3, -1, 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , , 25, , , , , , 25, , , , , , 25, , , , , , , , 25, , , , , , , , , , , ,], [1, 1, 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , 34.5, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,], [5, 1, , , 27, , 25, , , , 27, , , , 25, , 27, , , , 25, , 22, , 20, , 22, , , , 18, , 20, , 22, , , , 22, , , , 22, , , , 22, , , , 25, , 22, , , , 25, , , , 22, , 25, , 22, ,], [4, -1, , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, , , , 32, , 32, , , , , , 32, , , , 32, , 32, , 32, , , , 32, , , , 32, , 32, , 32, ,], [6, -1, , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , , , , , , , , , , 25, , , , , , , ,], [2, 1, , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, , , , , , , , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , , , , , 34.5, , 34.5, ,]]], [0, 1, 2, 3, 4, 5, 4, 5, 6, 7, 6, 7, 8, 9, 8, 9, 6, 7, 6, 7, 0, 8, 9, 8, 9, 6, 7, 6, 7], 187.5, { "title": "Cuddly Demos - Main Menu", "notes": "This is a conversion of the main menu tune from the Atari ST demo 'The Cuddly Demos', by The Carebears. The original was composed by Jochen Hippel (aka. MadMax). This pattern data was taken from a MOD file - I have no idea who converted it." }]`,Y={class:"p-5 flex flex-col mt-20"},q={class:"flex items-center gap-2 p-4 sticky top-12 backdrop-blur-xl self-start"},e2=l("a",{class:"text-4xl",href:"https://github.com/keithclark/ZzFXM",target:"_blank"},"FXM",-1),t2={class:"flex flex-col gap-2"},l2={class:"p-4 flex flex-col gap-2 overflow-x-scroll"},a2=l("div",{class:"text-xl sticky left-0"},"Instrument list",-1),s2={class:"p-0 flex gap-1"},n2=["title"],o2=["onUpdate:modelValue"],i2={class:"p-2 flex flex-col gap-4"},r2=l("div",{class:"text-xl"},"Pattern list",-1),u2=["onUpdate:modelValue"],c2={class:"p-2 flex flex-col gap-2"},d2=l("div",{class:"text-xl"},"Sequence",-1),p2={class:"flex gap-1 overflow-x-scroll py-2"},f2=["onUpdate:modelValue"],h2={class:"p-2 flex flex-col gap-2"},x2=l("div",{class:"text-xl"},"Speed",-1),v2={class:"p-2 flex flex-col gap-2"},m2=l("div",{class:"text-xl"},"Metadata ",-1),_2={class:"flex flex-col gap-4"},g2={class:"text-lg capitalize"},k2=["onUpdate:modelValue"],M2={__name:"ZzFxm",setup(b){const v={volume:"VOL",randomness:"RND",frequency:"FRQ",attack:"ATT",sustain:"SUS",release:"REL",shape:"SHP",shapeCurve:"SHC",slide:"SLI",deltaSlide:"DLS",pitchJump:"PJM",pitchJumpTime:"PJT",repeatTime:"RPT",noise:"NOI",modulation:"MOD",bitCrush:"BIT",delay:"DEL",sustainVolume:"SUV",decay:"DEC",tremolo:"TRM"},e=A(y(W)),i=A(!1);let p;async function _(){if(i.value)return;let s=Q(...e.value);p=G(...s),p.loop=!0,await R.resume(),i.value=!0}async function g(){i.value&&(p.stop(),p.disconnect(),p=null,await R.suspend(),i.value=!1)}function y(s){return s=s.replace(/,\s*(?=[,\]])/g,",null").replace(new RegExp("(?<=\\[)\\s*,","g"),"null,"),s=s.replace(/(\D)\.(\d)/g,"$10.$2"),JSON.parse(s,(r,u)=>{if(u!==null)return u})}return(s,r)=>{const u=X("tooltip");return c(),d("div",Y,[l("div",q,[e2,l("button",{class:"text-button p-8 text-xl",onClick:r[0]||(r[0]=a=>_())},"PLAY"),l("button",{class:"text-button p-8 text-xl",onClick:r[1]||(r[1]=a=>g())},"STOP")]),l("div",t2,[l("div",l2,[a2,l("div",s2,[(c(),d(w,null,D(v,(a,t)=>l("div",{class:"p-0",key:a},[L((c(),d("div",{class:"text-center text-sm dark-bg-dark-8 py-1 rounded-lg w-10",title:t},[Z(N(a),1)],8,n2)),[[u,t]])])),64))]),(c(!0),d(w,null,D(e.value[0],(a,t)=>(c(),d("div",{class:"p-0 flex gap-1",key:a},[(c(),d(w,null,D(20,(m,f)=>l("div",{class:"p-0",key:m},[L(l("input",{class:"text-center text-sm dark-bg-dark-8 py-1 rounded-lg w-10","onUpdate:modelValue":M=>e.value[0][t][f]=M},null,8,o2),[[E,e.value[0][t][f]]])])),64))]))),128))]),l("div",i2,[r2,(c(!0),d(w,null,D(e.value[1],(a,t)=>(c(),d("div",{class:"flex gap-1 flex-col overflow-x-scroll py-2",key:t},[(c(!0),d(w,null,D(a,(m,f)=>(c(),d("div",{class:"p-0 flex gap-1",key:f},[(c(!0),d(w,null,D(m,(M,o)=>(c(),d("div",{class:"p-0",key:o},[L(l("input",{class:"text-center text-sm dark-bg-dark-8 py-1 rounded-lg w-10","onUpdate:modelValue":S=>e.value[1][t][f][o]=S},null,8,u2),[[E,e.value[1][t][f][o]]])]))),128))]))),128))]))),128))]),l("div",c2,[d2,l("div",p2,[(c(!0),d(w,null,D(e.value[2],a=>L((c(),d("input",{class:"text-center text-sm dark-bg-dark-8 py-1 rounded-lg w-10",key:a,"onUpdate:modelValue":t=>e.value[2][a]=t},null,8,f2)),[[E,e.value[2][a]]])),128))])]),l("div",h2,[x2,L(l("input",{class:"dark-bg-dark-8 p-2 rounded-lg","onUpdate:modelValue":r[2]||(r[2]=a=>e.value[3]=a)},null,512),[[E,e.value[3]]])]),l("div",v2,[m2,l("div",_2,[(c(!0),d(w,null,D(e.value[4],(a,t)=>(c(),d("div",{class:"p-0 flex gap-2",key:t},[l("div",g2,N(t)+":",1),L(l("input",{"onUpdate:modelValue":m=>e.value[4][t]=m},null,8,k2),[[E,e.value[4][t]]])]))),128))])])])])}}};export{M2 as default};
