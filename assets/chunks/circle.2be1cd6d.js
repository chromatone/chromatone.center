import{_ as N,P as T,r as m,v as n,b as i,F as u,N as e,a as w,H as b,B as k,X as v,z,w as H}from"./framework.7e747cd7.js";import{r as P,g as d,p as B}from"./calculations.3384a913.js";import{g as $,e as D,n as f,b as C,c as y}from"./colors.fcf9eae3.js";import{w as h}from"./index.17b4cde5.js";import{a as F,b as S,n as x}from"./theory.61e5aadb.js";import{b as q}from"./synth.220fb0dd.js";const A={class:"select-none",version:"1.1",baseProfile:"full",viewBox:"-10 -10 20 20",xmlns:"http://www.w3.org/2000/svg",style:{"touch-action":"none"},"font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle"},I=["fill"],O=["x1","y1","stroke"],X=["transform","onMousedown"],j=["r","fill"],E=["fill"],G=["fill"],J=["fill"],K=["fill"],L={__name:"circle",props:{pitch:{type:Number,default:null},chroma:{type:String,default:"1001000100101"},type:{type:String,default:""},tonic:{type:Number,default:0}},setup(t){const c=t,r=T(!1),l=m(()=>c.pitch===0||c.pitch?c.pitch:$.tonic),g=m(()=>P(c.chroma.split(""),-l.value)),_=m(()=>F.get(c.chroma));m(()=>S.get(c.chroma).name);function M(p){q(B(p,2)),$.tonic=p}return(p,s)=>(n(),i("svg",A,[u("circle",{cx:"0",cy:"0",r:"8",opacity:"0.5",fill:e(D)(t.chroma,l.value).hsl},null,8,I),(n(!0),i(w,null,b(g.value,(a,o)=>(n(),i("g",{key:o},[a=="1"?(n(),i("line",{key:0,x1:e(d)(o,12,6.5,0).x,y1:e(d)(o,12,6.5,0).y,x2:"0",y2:"0","stroke-linecap":"square","stroke-width":"3.92",stroke:a=="1"?e(h)(e(f)(o,3)).toHex():"none"},null,8,O)):k("",!0)]))),128)),(n(!0),i(w,null,b(g.value,(a,o)=>(n(),i("g",{class:"cursor-pointer",key:o,transform:`translate(${e(d)(o,12,8,0).x}, ${e(d)(o,12,8,0).y})`,onMousedown:Q=>M(o)},[u("circle",{x:"0",y:"0",r:a=="1"?2:1,fill:e(h)(a=="1"?e(f)(o):e(x)[o].length!=2?"hsl(0,0%,85%)":"hsl(0,0%,60%)").toHex()},null,8,j),a=="1"?(n(),i("text",{key:0,y:"0.3","font-size":"2px","font-weight":"bold",fill:e(h)(e(f)(o)).isDark()?"white":"black"},v(e(x)[o]),9,E)):k("",!0)],40,X))),128)),u("g",{class:z(["center cursor-pointer",{pressed:r.value}]),onMousedown:s[0]||(s[0]=a=>{e(C)(t.chroma,l.value),r.value=!0}),onTouchstart:s[1]||(s[1]=H(a=>{e(C)(t.chroma,l.value),r.value=!0},["prevent","stop"])),onTouchend:s[2]||(s[2]=a=>{e(y)(t.chroma,l.value),r.value=!1}),onTouchcancel:s[3]||(s[3]=a=>{e(y)(t.chroma,l.value),r.value=!1}),onMouseup:s[4]||(s[4]=a=>{e(y)(t.chroma,l.value),r.value=!1}),onMouseleave:s[5]||(s[5]=a=>{e(y)(t.chroma,l.value),r.value=!1})},[u("circle",{cx:"0",cy:"0",r:"5",fill:t.pitch===!1?"none":e(f)(l.value,3)},null,8,G),u("text",{y:"0.3","font-size":"2px","font-weight":"bold",fill:e(h)(e(f)(l.value)).isDark()?"white":"black"},v(t.pitch===!1?"":typeof t.pitch=="string"?t.pitch:e(x)[l.value])+v(_.value.aliases[0]),9,J),u("text",{y:"3","font-size":"1.8px","font-weight":"normal",fill:e(h)(e(f)(l.value)).isDark()?"white":"black"},v(t.type),9,K)],34)]))}},ee=N(L,[["__scopeId","data-v-46905163"]]);export{ee as _};
