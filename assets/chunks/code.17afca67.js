import{r as d,j as v,v as o,b as l,a as p,H as h,Z as y,N as i,f as x,L as k,X as C}from"./framework.7e747cd7.js";import{g as N,n as $}from"./colors.fcf9eae3.js";import{n as j,i as _}from"./theory.61e5aadb.js";const w={class:"flex flex-col-reverse gap-1 bg-dark-200 bg-opacity-30 dark-bg-light-900 dark-bg-opacity-40 p-1 rounded-lg"},H=["onClick"],L="101101011010",q={__name:"code",props:{chroma:{type:String,default:"101101011010"},pitch:{type:Number,default:null},cols:{type:Number,default:4}},emits:["update:chroma"],setup(a,{emit:S}){const c=a,r=d(()=>c.pitch!=null?c.pitch:N.tonic),g=d(()=>c.chroma.match(new RegExp(`.{1,${c.cols}}`,"g")).map(e=>e.split("").map(Number))),f=(e,n)=>e.slice(0,n)+(e[n]==="1"?"0":"1")+e.slice(n+1);return(e,n)=>{const b=v("tooltip");return o(),l("div",w,[(o(!0),l(p,null,h(g.value,(u,s)=>(o(),l("div",{class:"flex gap-1",key:u},[(o(!0),l(p,null,h(u,(m,t)=>y((o(),l("div",{class:"w-6 h-6 flex flex-col items-center justify-center rounded text-xs font-bold select-none cursor-pointer",onClick:Z=>e.$emit("update:chroma",f(a.chroma,(s*a.cols+t)%12)),key:t,style:x({backgroundColor:m?i($)(r.value+s*a.cols+t):L.split("")[(r.value+s*a.cols+t)%12]=="1"?"hsla(0,0%,100%,0.5)":"hsla(0,0%,10%,0.5)",opacity:`${m==1?1:.4}`})},[k(C(i(_)[(s*4+t)%12]),1)],12,H)),[[b,`${i(j)[(r.value+s*4+t)%12]}`]])),128))]))),128))])}}};export{q as _};
