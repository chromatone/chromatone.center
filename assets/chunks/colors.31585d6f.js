import{C as jt,H as ot,i as k}from"./framework.916f0e04.js";import{k as re,w as S}from"./index.654bd828.js";import{r as kt,a as D,i as oe}from"./calculations.65ee336d.js";import{u as ie,F as ue}from"./index.318a9c78.js";import{a as At,b as Ft}from"./midi.051dff15.js";import{s as Lt,a as Ot}from"./synth.13bc9407.js";import{n as fe}from"./theory.61e5aadb.js";import{n as b,a as ce,g as se,t as le,d as he,b as de,e as Rt,f as it,i as _t,h as be,j as me,k as pe,m as ge,r as ye,l as Et,s as ve,p as we}from"./index.b30cd6d2.js";import{s as Me,f as xe,e as ke,n as Ne}from"./index.21ffc11d.js";var $e={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Bt(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),a=b(t.substring(0,e));if(a.empty){const r=b(t);return r.empty?["",t]:[r.name,""]}const n=t.substring(a.name.length+1);return[a.name,n.length?n:""]}var ze=ce;function m(t){const e=Array.isArray(t)?t:Bt(t),a=b(e[0]).name,n=se(e[1]);if(n.empty)return $e;const r=n.name,o=a?n.intervals.map(u=>le(a,u)):[],i=a?a+" "+r:r;return{...n,name:i,type:r,tonic:a,notes:o}}var Ce=he("Scale.scale","Scale.get",m);function Se(t,e={}){const a=de(t),n=b(e.tonic??t[0]??""),r=n.chroma;if(r===void 0)return[];const o=a.split("");o[r]="1";const i=Rt(r,o).join(""),u=it().find(c=>c.chroma===i),f=[];return u&&f.push(n.name+" "+u.name),e.match==="exact"||Dt(i).forEach(c=>{f.push(n.name+" "+c)}),f}function Pe(t){const e=m(t),a=_t(e.chroma);return be().filter(n=>a(n.chroma)).map(n=>n.aliases[0])}function Dt(t){const e=me(t)?t:m(t).chroma,a=pe(e);return it().filter(n=>a(n.chroma)).map(n=>n.name)}function Ie(t){const e=_t(m(t).chroma);return it().filter(a=>e(a.chroma)).map(a=>a.name)}function Tt(t){const e=t.map(r=>b(r).pc).filter(r=>r),a=e[0],n=Me(e);return Rt(n.indexOf(a),n)}function qe(t){const e=m(t);if(e.empty)return[];const a=e.tonic?e.notes:e.intervals;return ge(e.chroma).map((n,r)=>{const o=m(n).name;return o?[a[r],o]:["",""]}).filter(n=>n[0])}function He(t){const e=Array.isArray(t)?Tt(t):m(t).notes,a=e.map(n=>b(n).chroma);return n=>{const r=typeof n=="number"?b(xe(n)):b(n),o=r.height;if(o===void 0)return;const i=o%12,u=a.indexOf(i);if(u!==-1)return ke(r.name,e[u])}}function je(t){const e=He(t);return(a,n)=>{const r=b(a).height,o=b(n).height;return r===void 0||o===void 0?[]:ye(r,o).map(e).filter(i=>i)}}function Ae(t){const{intervals:e,tonic:a}=m(t),n=Et(e,a);return r=>r?n(r>0?r-1:r):""}function Fe(t){const{intervals:e,tonic:a}=m(t);return Et(e,a)}var Nt={degrees:Ae,detect:Se,extended:Dt,get:m,modeNames:qe,names:ze,rangeOf:je,reduced:Ie,scaleChords:Pe,scaleNotes:Tt,steps:Fe,tokenize:Bt,scale:Ce},Le={grad:.9,turn:360,rad:360/(2*Math.PI)},V=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},N=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=Math.pow(10,e)),Math.round(a*t)/a+0},y=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),t>a?a:t>e?t:e},W=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},X=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},ut=96.422,ft=100,ct=82.521,Oe=function(t){var e,a,n={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return a={r:X(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:X(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:X(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:t.a},{r:y(a.r,0,255),g:y(a.g,0,255),b:y(a.b,0,255),a:y(a.a)}},Re=function(t){var e=W(t.r),a=W(t.g),n=W(t.b);return function(r){return{x:y(r.x,0,ut),y:y(r.y,0,ft),z:y(r.z,0,ct),a:y(r.a)}}(function(r){return{x:1.0478112*r.x+.0228866*r.y+-.050127*r.z,y:.0295424*r.x+.9904844*r.y+-.0170491*r.z,z:-.0092345*r.x+.0150436*r.y+.7521316*r.z,a:r.a}}({x:100*(.4124564*e+.3575761*a+.1804375*n),y:100*(.2126729*e+.7151522*a+.072175*n),z:100*(.0193339*e+.119192*a+.9503041*n),a:t.a}))},j=216/24389,$=24389/27,Ut=function(t){return{l:y(t.l,0,100),c:t.c,h:(e=t.h,(e=isFinite(e)?e%360:0)>0?e:e+360),a:t.a};var e},$t=function(t){return{l:N(t.l,2),c:N(t.c,2),h:N(t.h,2),a:N(t.a,3)}},_e=function(t){var e=t.l,a=t.c,n=t.h,r=t.a,o=r===void 0?1:r;if(!V(e)||!V(a)||!V(n))return null;var i=Ut({l:Number(e),c:Number(a),h:Number(n),a:Number(o)});return Gt(i)},zt=function(t){var e=function(o){var i=Re(o),u=i.x/ut,f=i.y/ft,c=i.z/ct;return u=u>j?Math.cbrt(u):($*u+16)/116,{l:116*(f=f>j?Math.cbrt(f):($*f+16)/116)-16,a:500*(u-f),b:200*(f-(c=c>j?Math.cbrt(c):($*c+16)/116)),alpha:i.a}}(t),a=N(e.a,3),n=N(e.b,3),r=Math.atan2(n,a)/Math.PI*180;return{l:e.l,c:Math.sqrt(a*a+n*n),h:r<0?r+360:r,a:e.alpha}},Gt=function(t){return e={l:t.l,a:t.c*Math.cos(t.h*Math.PI/180),b:t.c*Math.sin(t.h*Math.PI/180),alpha:t.a},n=e.a/500+(a=(e.l+16)/116),r=a-e.b/200,Oe({x:(Math.pow(n,3)>j?Math.pow(n,3):(116*n-16)/$)*ut,y:(e.l>8?Math.pow((e.l+16)/116,3):e.l/$)*ft,z:(Math.pow(r,3)>j?Math.pow(r,3):(116*r-16)/$)*ct,a:e.alpha});var e,a,n,r},Ee=/^lch\(\s*([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)\s+([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Be=function(t){var e=Ee.exec(t);if(!e)return null;var a,n,r=Ut({l:Number(e[1]),c:Number(e[2]),h:(a=e[3],n=e[4],n===void 0&&(n="deg"),Number(a)*(Le[n]||1)),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Gt(r)};function De(t,e){t.prototype.toLch=function(){return $t(zt(this.rgba))},t.prototype.toLchString=function(){return a=$t(zt(this.rgba)),n=a.l,r=a.c,o=a.h,(i=a.a)<1?"lch("+n+"% "+r+" "+o+" / "+i+")":"lch("+n+"% "+r+" "+o+")";var a,n,r,o,i},e.string.push([Be,"lch"]),e.object.push([_e,"lch"])}var d=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),t>a?a:t>e?t:e},Y=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Z=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},st=96.422,lt=100,ht=82.521,Te=function(t){var e,a,n={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return a={r:Z(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:Z(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:Z(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:t.a},{r:d(a.r,0,255),g:d(a.g,0,255),b:d(a.b,0,255),a:d(a.a)}},Ue=function(t){var e=Y(t.r),a=Y(t.g),n=Y(t.b);return function(r){return{x:d(r.x,0,st),y:d(r.y,0,lt),z:d(r.z,0,ht),a:d(r.a)}}(function(r){return{x:1.0478112*r.x+.0228866*r.y+-.050127*r.z,y:.0295424*r.x+.9904844*r.y+-.0170491*r.z,z:-.0092345*r.x+.0150436*r.y+.7521316*r.z,a:r.a}}({x:100*(.4124564*e+.3575761*a+.1804375*n),y:100*(.2126729*e+.7151522*a+.072175*n),z:100*(.0193339*e+.119192*a+.9503041*n),a:t.a}))},A=216/24389,z=24389/27,Ct=function(t){var e=Ue(t),a=e.x/st,n=e.y/lt,r=e.z/ht;return a=a>A?Math.cbrt(a):(z*a+16)/116,{l:116*(n=n>A?Math.cbrt(n):(z*n+16)/116)-16,a:500*(a-n),b:200*(n-(r=r>A?Math.cbrt(r):(z*r+16)/116)),alpha:e.a}},Ge=function(t,e,a){var n,r=Ct(t),o=Ct(e);return function(i){var u=(i.l+16)/116,f=i.a/500+u,c=u-i.b/200;return Te({x:(Math.pow(f,3)>A?Math.pow(f,3):(116*f-16)/z)*st,y:(i.l>8?Math.pow((i.l+16)/116,3):i.l/z)*lt,z:(Math.pow(c,3)>A?Math.pow(c,3):(116*c-16)/z)*ht,a:i.alpha})}({l:d((n={l:r.l*(1-a)+o.l*a,a:r.a*(1-a)+o.a*a,b:r.b*(1-a)+o.b*a,alpha:r.alpha*(1-a)+o.alpha*a}).l,0,400),a:n.a,b:n.b,alpha:d(n.alpha)})};function Je(t){function e(a,n,r){r===void 0&&(r=5);for(var o=[],i=1/(r-1),u=0;u<=r-1;u++)o.push(a.mix(n,i*u));return o}t.prototype.mix=function(a,n){n===void 0&&(n=.5);var r=a instanceof t?a:new t(a),o=Ge(this.toRgb(),r.toRgb(),n);return new t(o)},t.prototype.tints=function(a){return e(this,"#fff",a)},t.prototype.shades=function(a){return e(this,"#000",a)},t.prototype.tones=function(a){return e(this,"#808080",a)}}function Ke(t,e){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var r in a)n[a[r]]=r;var o={};t.prototype.toName=function(i){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,f,c=n[this.toHex()];if(c)return c;if(i!=null&&i.closest){var v=this.toRgb(),P=1/0,x="black";if(!o.length)for(var I in a)o[I]=new t(a[I]).toRgb();for(var p in a){var O=(u=v,f=o[p],Math.pow(u.r-f.r,2)+Math.pow(u.g-f.g,2)+Math.pow(u.b-f.b,2));O<P&&(P=O,x=p)}return x}},e.string.push([function(i){var u=i.toLowerCase(),f=u==="transparent"?"#0000":a[u];return f?new t(f).toRgb():null},"name"])}var tt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},q=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=Math.pow(10,e)),Math.round(a*t)/a+0},h=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),t>a?a:t>e?t:e},et=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},at=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},dt=96.422,bt=100,mt=82.521,Qe=function(t){var e,a,n={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return a={r:at(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:at(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:at(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:t.a},{r:h(a.r,0,255),g:h(a.g,0,255),b:h(a.b,0,255),a:h(a.a)}},Ve=function(t){var e=et(t.r),a=et(t.g),n=et(t.b);return function(r){return{x:h(r.x,0,dt),y:h(r.y,0,bt),z:h(r.z,0,mt),a:h(r.a)}}(function(r){return{x:1.0478112*r.x+.0228866*r.y+-.050127*r.z,y:.0295424*r.x+.9904844*r.y+-.0170491*r.z,z:-.0092345*r.x+.0150436*r.y+.7521316*r.z,a:r.a}}({x:100*(.4124564*e+.3575761*a+.1804375*n),y:100*(.2126729*e+.7151522*a+.072175*n),z:100*(.0193339*e+.119192*a+.9503041*n),a:t.a}))},F=216/24389,C=24389/27,We=function(t){var e=t.l,a=t.a,n=t.b,r=t.alpha,o=r===void 0?1:r;if(!tt(e)||!tt(a)||!tt(n))return null;var i=function(u){return{l:h(u.l,0,400),a:u.a,b:u.b,alpha:h(u.alpha)}}({l:Number(e),a:Number(a),b:Number(n),alpha:Number(o)});return Xe(i)},Xe=function(t){var e=(t.l+16)/116,a=t.a/500+e,n=e-t.b/200;return Qe({x:(Math.pow(a,3)>F?Math.pow(a,3):(116*a-16)/C)*dt,y:(t.l>8?Math.pow((t.l+16)/116,3):t.l/C)*bt,z:(Math.pow(n,3)>F?Math.pow(n,3):(116*n-16)/C)*mt,a:t.alpha})};function Ye(t,e){t.prototype.toLab=function(){return n=Ve(this.rgba),o=n.y/bt,i=n.z/mt,r=(r=n.x/dt)>F?Math.cbrt(r):(C*r+16)/116,a={l:116*(o=o>F?Math.cbrt(o):(C*o+16)/116)-16,a:500*(r-o),b:200*(o-(i=i>F?Math.cbrt(i):(C*i+16)/116)),alpha:n.a},{l:q(a.l,2),a:q(a.a,2),b:q(a.b,2),alpha:q(a.alpha,3)};var a,n,r,o,i},t.prototype.delta=function(a){a===void 0&&(a="#FFF");var n=a instanceof t?a:new t(a),r=function(o,i){var u=o.l,f=o.a,c=o.b,v=i.l,P=i.a,x=i.b,I=180/Math.PI,p=Math.PI/180,O=Math.pow(Math.pow(f,2)+Math.pow(c,2),.5),Yt=Math.pow(Math.pow(P,2)+Math.pow(x,2),.5),pt=(u+v)/2,R=Math.pow((O+Yt)/2,7),gt=.5*(1-Math.pow(R/(R+Math.pow(25,7)),.5)),T=f*(1+gt),U=P*(1+gt),G=Math.pow(Math.pow(T,2)+Math.pow(c,2),.5),J=Math.pow(Math.pow(U,2)+Math.pow(x,2),.5),yt=(G+J)/2,w=T===0&&c===0?0:Math.atan2(c,T)*I,M=U===0&&x===0?0:Math.atan2(x,U)*I;w<0&&(w+=360),M<0&&(M+=360);var K=M-w,Q=Math.abs(M-w);Q>180&&M<=w?K+=360:Q>180&&M>w&&(K-=360);var g=w+M;Q<=180?g/=2:g=(w+M<360?g+360:g-360)/2;var Zt=1-.17*Math.cos(p*(g-30))+.24*Math.cos(2*p*g)+.32*Math.cos(p*(3*g+6))-.2*Math.cos(p*(4*g-63)),te=v-u,vt=J-G,wt=2*Math.sin(p*K/2)*Math.pow(G*J,.5),ee=1+.015*Math.pow(pt-50,2)/Math.pow(20+Math.pow(pt-50,2),.5),Mt=1+.045*yt,xt=1+.015*yt*Zt,ae=30*Math.exp(-1*Math.pow((g-275)/25,2)),ne=-2*Math.pow(R/(R+Math.pow(25,7)),.5)*Math.sin(2*p*ae);return Math.pow(Math.pow(te/1/ee,2)+Math.pow(vt/1/Mt,2)+Math.pow(wt/1/xt,2)+ne*vt*wt/(1*Mt*1*xt),.5)}(this.toLab(),n.toLab())/100;return h(q(r,3))},e.object.push([We,"lab"])}var _=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},l=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=Math.pow(10,e)),Math.round(a*t)/a+0},H=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),t>a?a:t>e?t:e},Jt=function(t){return{c:H(t.c,0,100),m:H(t.m,0,100),y:H(t.y,0,100),k:H(t.k,0,100),a:H(t.a)}},St=function(t){return{c:l(t.c,2),m:l(t.m,2),y:l(t.y,2),k:l(t.k,2),a:l(t.a,3)}};function Kt(t){return{r:l(255*(1-t.c/100)*(1-t.k/100)),g:l(255*(1-t.m/100)*(1-t.k/100)),b:l(255*(1-t.y/100)*(1-t.k/100)),a:t.a}}function Pt(t){var e=1-Math.max(t.r/255,t.g/255,t.b/255),a=(1-t.r/255-e)/(1-e),n=(1-t.g/255-e)/(1-e),r=(1-t.b/255-e)/(1-e);return{c:isNaN(a)?0:l(100*a),m:isNaN(n)?0:l(100*n),y:isNaN(r)?0:l(100*r),k:l(100*e),a:t.a}}function Ze(t){var e=t.c,a=t.m,n=t.y,r=t.k,o=t.a,i=o===void 0?1:o;return _(e)&&_(a)&&_(n)&&_(r)?Kt(Jt({c:Number(e),m:Number(a),y:Number(n),k:Number(r),a:Number(i)})):null}var ta=/^device-cmyk\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ea=function(t){var e=ta.exec(t);return e?Kt(Jt({c:Number(e[1])*(e[2]?1:100),m:Number(e[3])*(e[4]?1:100),y:Number(e[5])*(e[6]?1:100),k:Number(e[7])*(e[8]?1:100),a:e[9]===void 0?1:Number(e[9])/(e[10]?100:1)})):null};function aa(t,e){t.prototype.toCmyk=function(){return St(Pt(this.rgba))},t.prototype.toCmykString=function(){return a=St(Pt(this.rgba)),n=a.c,r=a.m,o=a.y,i=a.k,(u=a.a)<1?"device-cmyk("+n+"% "+r+"% "+o+"% "+i+"% / "+u+")":"device-cmyk("+n+"% "+r+"% "+o+"% "+i+"%)";var a,n,r,o,i,u},e.object.push([Ze,"cmyk"]),e.string.push([ea,"cmyk"])}var na={grad:.9,turn:360,rad:360/(2*Math.PI)},nt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},E=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=Math.pow(10,e)),Math.round(a*t)/a+0},rt=function(t,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),t>a?a:t>e?t:e},Qt=function(t){return{h:(e=t.h,(e=isFinite(e)?e%360:0)>0?e:e+360),w:rt(t.w,0,100),b:rt(t.b,0,100),a:rt(t.a)};var e},It=function(t){return{h:E(t.h),w:E(t.w),b:E(t.b),a:E(t.a,3)}},qt=function(t){return{h:function(e){var a=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(a,n,r),u=i-Math.min(a,n,r),f=u?i===a?(n-r)/u:i===n?2+(r-a)/u:4+(a-n)/u:0;return{h:60*(f<0?f+6:f),s:i?u/i*100:0,v:i/255*100,a:o}}(t).h,w:Math.min(t.r,t.g,t.b)/255*100,b:100-Math.max(t.r,t.g,t.b)/255*100,a:t.a}},Vt=function(t){return function(e){var a=e.h,n=e.s,r=e.v,o=e.a;a=a/360*6,n/=100,r/=100;var i=Math.floor(a),u=r*(1-n),f=r*(1-(a-i)*n),c=r*(1-(1-a+i)*n),v=i%6;return{r:255*[r,f,u,u,c,r][v],g:255*[c,r,r,f,u,u][v],b:255*[u,u,c,r,r,f][v],a:o}}({h:t.h,s:t.b===100?0:100-t.w/(100-t.b)*100,v:100-t.b,a:t.a})},ra=function(t){var e=t.h,a=t.w,n=t.b,r=t.a,o=r===void 0?1:r;if(!nt(e)||!nt(a)||!nt(n))return null;var i=Qt({h:Number(e),w:Number(a),b:Number(n),a:Number(o)});return Vt(i)},oa=/^hwb\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ia=function(t){var e=oa.exec(t);if(!e)return null;var a,n,r=Qt({h:(a=e[1],n=e[2],n===void 0&&(n="deg"),Number(a)*(na[n]||1)),w:Number(e[3]),b:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Vt(r)};function ua(t,e){t.prototype.toHwb=function(){return It(qt(this.rgba))},t.prototype.toHwbString=function(){return a=It(qt(this.rgba)),n=a.h,r=a.w,o=a.b,(i=a.a)<1?"hwb("+n+" "+r+"% "+o+"% / "+i+")":"hwb("+n+" "+r+"% "+o+"%)";var a,n,r,o,i},e.string.push([ia,"hwb"]),e.object.push([ra,"hwb"])}const Wt=[...fe].map((t,e)=>({name:t,pitch:e})),s=jt({tonic:ie(ot("global-tonic",0),0,11),note:k(()=>Wt[s.tonic]),chroma:ot("global-chroma","101011010101"),set:k(()=>ve.get(s.chroma)),full:k(()=>{let t=s.note.name+"4 "+s.set.name;return Nt.get(t)}),pcs:k(()=>Nt.scaleNotes(s.full.notes)),isIn:k(()=>we.isNoteIncludedIn(s.pcs))});function Xt(t="100010010000",e=s.tonic){let a=kt(t.split(""),-e),r=kt(Wt,-e).map(o=>ue(o.pitch+e+57,"midi").toNote()).filter((o,i)=>{if(a[i]=="1")return!0});return Ne.sortedNames(r)}function va(t,e){let a=Xt(t,e);a.forEach(n=>{At(n)}),Lt(a)}function wa(t,e){let a=Xt(t,e);a.forEach(n=>{Ft(n)}),Ot(a)}function Ma(t){At(t),Lt(t)}function xa(t){Ft(t),Ot(t)}re([Je,De,Ke,Ye,aa,ua]);const B=Array(12).fill(!0).map((t,e)=>S(D(e)).toHex()),L=jt({default:[...B],custom:ot("custom-colors",[...B]),isDefault:k(()=>L.custom.every((t,e)=>t==B[e])),customize:!1,reset(){L.custom=[...B]}});function fa(t=0,e=2,a=1,n=1){e+=Math.floor(t/12);const r=e-2;if(L.custom[t]!=L.default[t]){let o=S(L.custom[t]);return o=o.lighten(r*.1),o.alpha(n).toHex()}else return D(t,e,a,n)}const ca="101101011010";function ka(t,e,a="hsla(0,0%,100%,0.3)",n="hsla(0,0%,10%,0.3)"){return e==1?fa((t+(s==null?void 0:s.tonic))%12,3):ca[(t+(s==null?void 0:s.tonic))%12]=="1"?a:n}function Ht(t=0,e=12,a=1,n=20,r=60){let o=`lch(${r}% ${n} ${t*(360/e)} / ${a})`;return S(o).toHslString()}function Na(t){const e=S(t);return{dark:e.isDark(),hex:e.toHex(),rgb:e.toRgbString(),name:e.toName({closest:!0}),cmyk:e.toCmykString(),hsl:e.toHslString(),lab:e.toLab()}}function $a(t=0,e=3,a=.5,n=.8,r=.5,o=!1){return o&&(t=e-t-1),`hsla(${t*(360/e)}, ${n*100}%, ${r*100}%, ${a})`}function za(t,e,a=.3){let n=S(D(e)),r=S(Ht(e,12,1));return t.split("").forEach((o,i)=>{oe(t,e,i)&&(n=n.mix(D(i),a),r=r.mix(Ht(i,12,1),a))}),{hsl:n.toHslString(),lch:r.toHslString()}}export{xa as a,va as b,za as c,B as d,wa as e,Nt as f,s as g,ka as h,Na as i,$a as j,Ht as l,fa as n,Ma as p,L as s};
