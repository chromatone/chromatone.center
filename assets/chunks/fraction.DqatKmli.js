/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var E=2e3,s={s:1,n:0,d:1};function l(t,i){if(isNaN(t=parseInt(t,10)))throw b();return t*i}function u(t,i){if(i===0)throw L();var n=Object.create(c.prototype);n.s=t<0?-1:1,t=t<0?-t:t;var r=M(t,i);return n.n=t/r,n.d=i/r,n}function D(t){for(var i={},n=t,r=2,f=4;f<=n;){for(;n%r===0;)n/=r,i[r]=(i[r]||0)+1;f+=1+2*r++}return n!==t?n>1&&(i[n]=(i[n]||0)+1):i[t]=(i[t]||0)+1,i}var d=function(t,i){var n=0,r=1,f=1,o=0,a=0,C=0,g=1,N=1,e=0,h=1,w=1,v=1,m=1e7,y;if(t!=null)if(i!==void 0){if(n=t,r=i,f=n*r,n%1!==0||r%1!==0)throw P()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)n=t.n,r=t.d,"s"in t&&(n*=t.s);else if(0 in t)n=t[0],1 in t&&(r=t[1]);else throw b();f=n*r;break}case"number":{if(t<0&&(f=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(N=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=N);h<=m&&v<=m;)if(y=(e+w)/(h+v),t===y){h+v<=m?(n=e+w,r=h+v):v>h?(n=w,r=v):(n=e,r=h);break}else t>y?(e+=w,h+=v):(w+=e,v+=h),h>m?(n=w,r=v):(n=e,r=h);n*=N}else(isNaN(t)||isNaN(i))&&(r=n=NaN);break}case"string":{if(h=t.match(/\d+|./g),h===null)throw b();if(h[e]==="-"?(f=-1,e++):h[e]==="+"&&e++,h.length===e+1?a=l(h[e++],f):h[e+1]==="."||h[e]==="."?(h[e]!=="."&&(o=l(h[e++],f)),e++,(e+1===h.length||h[e+1]==="("&&h[e+3]===")"||h[e+1]==="'"&&h[e+3]==="'")&&(a=l(h[e],f),g=Math.pow(10,h[e].length),e++),(h[e]==="("&&h[e+2]===")"||h[e]==="'"&&h[e+2]==="'")&&(C=l(h[e+1],f),N=Math.pow(10,h[e+1].length)-1,e+=3)):h[e+1]==="/"||h[e+1]===":"?(a=l(h[e],f),g=l(h[e+2],1),e+=3):h[e+3]==="/"&&h[e+1]===" "&&(o=l(h[e],f),a=l(h[e+2],f),g=l(h[e+4],1),e+=5),h.length<=e){r=g*N,f=n=C+r*o+N*a;break}}default:throw b()}if(r===0)throw L();s.s=f<0?-1:1,s.n=Math.abs(n),s.d=Math.abs(r)};function F(t,i,n){for(var r=1;i>0;t=t*t%n,i>>=1)i&1&&(r=r*t%n);return r}function I(t,i){for(;i%2===0;i/=2);for(;i%5===0;i/=5);if(i===1)return 0;for(var n=10%i,r=1;n!==1;r++)if(n=n*10%i,r>E)return 0;return r}function O(t,i,n){for(var r=1,f=F(10,n,i),o=0;o<300;o++){if(r===f)return o;r=r*10%i,f=f*10%i}return 0}function M(t,i){if(!t)return i;if(!i)return t;for(;;){if(t%=i,!t)return i;if(i%=t,!i)return t}}function c(t,i){if(d(t,i),this instanceof c)t=M(s.d,s.n),this.s=s.s,this.n=s.n/t,this.d=s.d/t;else return u(s.s*s.n,s.d)}var L=function(){return new Error("Division by Zero")},b=function(){return new Error("Invalid argument")},P=function(){return new Error("Parameters must be integer")};c.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(t,i){return d(t,i),u(this.s*this.n*s.d+s.s*this.d*s.n,this.d*s.d)},sub:function(t,i){return d(t,i),u(this.s*this.n*s.d-s.s*this.d*s.n,this.d*s.d)},mul:function(t,i){return d(t,i),u(this.s*s.s*this.n*s.n,this.d*s.d)},div:function(t,i){return d(t,i),u(this.s*s.s*this.n*s.d,this.d*s.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(t,i){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(t===void 0)return u(this.s*this.n%this.d,1);if(d(t,i),s.n===0&&this.d===0)throw L();return u(this.s*(s.d*this.n)%(s.n*this.d),s.d*this.d)},gcd:function(t,i){return d(t,i),u(M(s.n,this.n)*M(s.d,this.d),s.d*this.d)},lcm:function(t,i){return d(t,i),s.n===0&&this.n===0?u(0,1):u(s.n*this.n,M(s.n,this.n)*M(s.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,i){return d(t,i),u(this.s*Math.round(this.n*s.d/(this.d*s.n))*s.n,s.d)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(t,i){if(d(t,i),s.d===1)return s.s<0?u(Math.pow(this.s*this.d,s.n),Math.pow(this.n,s.n)):u(Math.pow(this.s*this.n,s.n),Math.pow(this.d,s.n));if(this.s<0)return null;var n=D(this.n),r=D(this.d),f=1,o=1;for(var a in n)if(a!=="1"){if(a==="0"){f=0;break}if(n[a]*=s.n,n[a]%s.d===0)n[a]/=s.d;else return null;f*=Math.pow(a,n[a])}for(var a in r)if(a!=="1"){if(r[a]*=s.n,r[a]%s.d===0)r[a]/=s.d;else return null;o*=Math.pow(a,r[a])}return s.s<0?u(o,f):u(f,o)},equals:function(t,i){return d(t,i),this.s*this.n*s.d===s.s*s.n*this.d},compare:function(t,i){d(t,i);var n=this.s*this.n*s.d-s.s*s.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var i=this.abs(),n=i.toContinued(),r=1;r<n.length;r++){for(var f=u(n[r-1],1),o=r-2;o>=0;o--)f=f.inverse().add(n[o]);if(Math.abs(f.sub(i).valueOf())<t)return f.mul(this.s)}return this},divisible:function(t,i){return d(t,i),!(!(s.n*this.d)||this.n*s.d%(s.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var i,n="",r=this.n,f=this.d;return this.s<0&&(n+="-"),f===1?n+=r:(t&&(i=Math.floor(r/f))>0&&(n+=i,n+=" ",r%=f),n+=r,n+="/",n+=f),n},toLatex:function(t){var i,n="",r=this.n,f=this.d;return this.s<0&&(n+="-"),f===1?n+=r:(t&&(i=Math.floor(r/f))>0&&(n+=i,r%=f),n+="\\frac{",n+=r,n+="}{",n+=f,n+="}"),n},toContinued:function(){var t,i=this.n,n=this.d,r=[];if(isNaN(i)||isNaN(n))return r;do r.push(Math.floor(i/n)),t=i%n,i=n,n=t;while(i!==1);return r},toString:function(t){var i=this.n,n=this.d;if(isNaN(i)||isNaN(n))return"NaN";t=t||15;var r=I(i,n),f=O(i,n,r),o=this.s<0?"-":"";if(o+=i/n|0,i%=n,i*=10,i&&(o+="."),r){for(var a=f;a--;)o+=i/n|0,i%=n,i*=10;o+="(";for(var a=r;a--;)o+=i/n|0,i%=n,i*=10;o+=")"}else for(var a=t;i&&a--;)o+=i/n|0,i%=n,i*=10;return o}};export{c as F};
