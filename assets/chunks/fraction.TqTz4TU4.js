typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const o=BigInt(0),h=BigInt(1),E=BigInt(2),D=BigInt(5),B=BigInt(10),M=2e3,s={s:h,n:o,d:h};function y(t,n){try{t=BigInt(t)}catch{throw N()}return t*n}function m(t){return typeof t=="bigint"?t:Math.floor(t)}function g(t,n){if(n===o)throw k();const i=Object.create(F.prototype);i.s=t<o?-h:h,t=t<o?-t:t;const e=b(t,n);return i.n=t/e,i.d=n/e,i}function v(t){const n={};let i=t,e=E,f=D-h;for(;f<=i;){for(;i%e===o;)i/=e,n[e]=(n[e]||o)+h;f+=h+E*e++}return i!==t?i>1&&(n[i]=(n[i]||o)+h):n[t]=(n[t]||o)+h,n}const I=function(t,n){let i=o,e=h,f=h;if(t!=null)if(n!==void 0){if(typeof t=="bigint")i=t;else{if(isNaN(t))throw N();if(t%1!==0)throw L();i=BigInt(t)}if(typeof n=="bigint")e=n;else{if(isNaN(n))throw N();if(n%1!==0)throw L();e=BigInt(n)}f=i*e}else if(typeof t=="object"){if("d"in t&&"n"in t)i=BigInt(t.n),e=BigInt(t.d),"s"in t&&(i*=BigInt(t.s));else if(0 in t)i=BigInt(t[0]),1 in t&&(e=BigInt(t[1]));else if(typeof t=="bigint")i=t;else throw N();f=i*e}else if(typeof t=="number"){if(isNaN(t))throw N();if(t<0&&(f=-h,t=-t),t%1===0)i=BigInt(t);else if(t>0){let r=1,l=0,d=1,a=1,c=1,w=1e7;for(t>=1&&(r=10**Math.floor(1+Math.log10(t)),t/=r);d<=w&&c<=w;){let u=(l+a)/(d+c);if(t===u){d+c<=w?(i=l+a,e=d+c):c>d?(i=a,e=c):(i=l,e=d);break}else t>u?(l+=a,d+=c):(a+=l,c+=d),d>w?(i=a,e=c):(i=l,e=d)}i=BigInt(i)*BigInt(r),e=BigInt(e)}}else if(typeof t=="string"){let r=0,l=o,d=o,a=o,c=h,w=h,u=t.replace(/_/g,"").match(/\d+|./g);if(u===null)throw N();if(u[r]==="-"?(f=-h,r++):u[r]==="+"&&r++,u.length===r+1?d=y(u[r++],f):u[r+1]==="."||u[r]==="."?(u[r]!=="."&&(l=y(u[r++],f)),r++,(r+1===u.length||u[r+1]==="("&&u[r+3]===")"||u[r+1]==="'"&&u[r+3]==="'")&&(d=y(u[r],f),c=B**BigInt(u[r].length),r++),(u[r]==="("&&u[r+2]===")"||u[r]==="'"&&u[r+2]==="'")&&(a=y(u[r+1],f),w=B**BigInt(u[r+1].length)-h,r+=3)):u[r+1]==="/"||u[r+1]===":"?(d=y(u[r],f),c=y(u[r+2],h),r+=3):u[r+3]==="/"&&u[r+1]===" "&&(l=y(u[r],f),d=y(u[r+2],f),c=y(u[r+4],h),r+=5),u.length<=r)e=c*w,f=i=a+e*l+w*d;else throw N()}else if(typeof t=="bigint")i=t,f=t,e=h;else throw N();if(e===o)throw k();s.s=f<o?-h:h,s.n=i<o?-i:i,s.d=e<o?-e:e};function P(t,n,i){let e=h;for(;n>o;t=t*t%i,n>>=h)n&h&&(e=e*t%i);return e}function T(t,n){for(;n%E===o;n/=E);for(;n%D===o;n/=D);if(n===h)return o;let i=B%n,e=1;for(;i!==h;e++)if(i=i*B%n,e>M)return o;return BigInt(e)}function x(t,n,i){let e=h,f=P(B,i,n);for(let r=0;r<300;r++){if(e===f)return BigInt(r);e=e*B%n,f=f*B%n}return 0}function b(t,n){if(!t)return n;if(!n)return t;for(;;){if(t%=n,!t)return n;if(n%=t,!n)return t}}function F(t,n){if(I(t,n),this instanceof F)t=b(s.d,s.n),this.s=s.s,this.n=s.n/t,this.d=s.d/t;else return g(s.s*s.n,s.d)}var k=function(){return new Error("Division by Zero")},N=function(){return new Error("Invalid argument")},L=function(){return new Error("Parameters must be integer")};F.prototype={s:h,n:o,d:h,abs:function(){return g(this.n,this.d)},neg:function(){return g(-this.s*this.n,this.d)},add:function(t,n){return I(t,n),g(this.s*this.n*s.d+s.s*this.d*s.n,this.d*s.d)},sub:function(t,n){return I(t,n),g(this.s*this.n*s.d-s.s*this.d*s.n,this.d*s.d)},mul:function(t,n){return I(t,n),g(this.s*s.s*this.n*s.n,this.d*s.d)},div:function(t,n){return I(t,n),g(this.s*s.s*this.n*s.d,this.d*s.n)},clone:function(){return g(this.s*this.n,this.d)},mod:function(t,n){if(t===void 0)return g(this.s*this.n%this.d,h);if(I(t,n),o===s.n*this.d)throw k();return g(this.s*(s.d*this.n)%(s.n*this.d),s.d*this.d)},gcd:function(t,n){return I(t,n),g(b(s.n,this.n)*b(s.d,this.d),s.d*this.d)},lcm:function(t,n){return I(t,n),s.n===o&&this.n===o?g(o,h):g(s.n*this.n,b(s.n,this.n)*b(s.d,this.d))},inverse:function(){return g(this.s*this.d,this.n)},pow:function(t,n){if(I(t,n),s.d===h)return s.s<o?g((this.s*this.d)**s.n,this.n**s.n):g((this.s*this.n)**s.n,this.d**s.n);if(this.s<o)return null;let i=v(this.n),e=v(this.d),f=h,r=h;for(let l in i)if(l!=="1"){if(l==="0"){f=o;break}if(i[l]*=s.n,i[l]%s.d===o)i[l]/=s.d;else return null;f*=BigInt(l)**i[l]}for(let l in e)if(l!=="1"){if(e[l]*=s.n,e[l]%s.d===o)e[l]/=s.d;else return null;r*=BigInt(l)**e[l]}return s.s<o?g(r,f):g(f,r)},log:function(t,n){if(I(t,n),this.s<=o||s.s<=o)return null;const i={},e=v(s.n),f=v(s.d),r=v(this.n),l=v(this.d);for(const c in f)e[c]=(e[c]||o)-f[c];for(const c in l)r[c]=(r[c]||o)-l[c];for(const c in e)c!=="1"&&(i[c]=!0);for(const c in r)c!=="1"&&(i[c]=!0);let d=null,a=null;for(const c in i){const w=e[c]||o,u=r[c]||o;if(w===o){if(u!==o)return null;continue}let C=u,_=w;const O=b(C,_);if(C/=O,_/=O,d===null&&a===null)d=C,a=_;else if(C*a!==d*_)return null}return d!==null&&a!==null?g(d,a):null},equals:function(t,n){return I(t,n),this.s*this.n*s.d===s.s*s.n*this.d},lt:function(t,n){return I(t,n),this.s*this.n*s.d<s.s*s.n*this.d},lte:function(t,n){return I(t,n),this.s*this.n*s.d<=s.s*s.n*this.d},gt:function(t,n){return I(t,n),this.s*this.n*s.d>s.s*s.n*this.d},gte:function(t,n){return I(t,n),this.s*this.n*s.d>=s.s*s.n*this.d},compare:function(t,n){I(t,n);let i=this.s*this.n*s.d-s.s*s.n*this.d;return(o<i)-(i<o)},ceil:function(t){return t=B**BigInt(t||0),g(m(this.s*t*this.n/this.d)+(t*this.n%this.d>o&&this.s>=o?h:o),t)},floor:function(t){return t=B**BigInt(t||0),g(m(this.s*t*this.n/this.d)-(t*this.n%this.d>o&&this.s<o?h:o),t)},round:function(t){return t=B**BigInt(t||0),g(m(this.s*t*this.n/this.d)+this.s*((this.s>=o?h:o)+E*(t*this.n%this.d)>this.d?h:o),t)},roundTo:function(t,n){I(t,n);const i=this.n*s.d,e=this.d*s.n,f=i%e;let r=m(i/e);return f+f>=e&&r++,g(this.s*r*s.n,s.d)},divisible:function(t,n){return I(t,n),!(!(s.n*this.d)||this.n*s.d%(s.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let n=this.n,i=this.d;t=t||15;let e=T(n,i),f=x(n,i,e),r=this.s<o?"-":"";if(r+=m(n/i),n%=i,n*=B,n&&(r+="."),e){for(let l=f;l--;)r+=m(n/i),n%=i,n*=B;r+="(";for(let l=e;l--;)r+=m(n/i),n%=i,n*=B;r+=")"}else for(let l=t;n&&l--;)r+=m(n/i),n%=i,n*=B;return r},toFraction:function(t){let n=this.n,i=this.d,e=this.s<o?"-":"";if(i===h)e+=n;else{let f=m(n/i);t&&f>o&&(e+=f,e+=" ",n%=i),e+=n,e+="/",e+=i}return e},toLatex:function(t){let n=this.n,i=this.d,e=this.s<o?"-":"";if(i===h)e+=n;else{let f=m(n/i);t&&f>o&&(e+=f,n%=i),e+="\\frac{",e+=n,e+="}{",e+=i,e+="}"}return e},toContinued:function(){let t=this.n,n=this.d,i=[];do{i.push(m(t/n));let e=t%n;t=n,n=e}while(t!==h);return i},simplify:function(t){const n=BigInt(1/(t||.001)|0),i=this.abs(),e=i.toContinued();for(let f=1;f<e.length;f++){let r=g(e[f-1],h);for(let d=f-2;d>=0;d--)r=r.inverse().add(e[d]);let l=r.sub(i);if(l.n*n<l.d)return r.mul(this.s)}return this}};export{F};
