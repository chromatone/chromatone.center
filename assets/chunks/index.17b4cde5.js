import{n as A,t as E}from"./index.b30cd6d2.js";import{c as p,f as k}from"./midi.290fabf9.js";var V=["C","D","E","F","G","A","B"],w=t=>t.name,B=t=>t.map(A).filter(r=>!r.empty);function _(t){return t===void 0?V.slice():Array.isArray(t)?B(t).map(w):[]}var c=A,z=t=>c(t).name,J=t=>c(t).pc,K=t=>c(t).acc,Q=t=>c(t).oct,W=t=>c(t).midi,X=t=>c(t).freq,Y=t=>c(t).chroma;function Z(t){return p(t)}function tt(t){return p(k(t))}function rt(t){return p(k(t),{sharps:!0})}function nt(t){return p(t,{sharps:!0})}var l=E,et=E,D=t=>r=>l(r,t),at=D,R=t=>r=>l(t,r),ot=R;function T(t,r){return l(t,[r,0])}var st=T;function ut(t,r){return l(t,[0,r])}var F=(t,r)=>t.height-r.height,it=(t,r)=>r.height-t.height;function G(t,r){return r=r||F,B(t).sort(r).map(w)}function ht(t){return G(t,F).filter((r,n,e)=>n===0||r!==e[n-1])}var ct=t=>{const r=c(t);return r.empty?"":p(r.midi||r.chroma,{sharps:r.alt>0,pitchClass:r.midi===null})};function ft(t,r){const n=c(t);if(n.empty)return"";const e=c(r||p(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(e.empty||e.chroma!==n.chroma)return"";if(n.oct===void 0)return e.pc;const a=n.chroma-n.alt,o=e.chroma-e.alt,s=a>11||o<0?-1:a<0||o>11?1:0,i=n.oct+s;return e.pc+i}var xt={names:_,get:c,name:z,pitchClass:J,accidentals:K,octave:Q,midi:W,ascending:F,descending:it,sortedNames:G,sortedUniqNames:ht,fromMidi:Z,fromMidiSharps:nt,freq:X,fromFreq:tt,fromFreqSharps:rt,chroma:Y,transpose:l,tr:et,transposeBy:D,trBy:at,transposeFrom:R,trFrom:ot,transposeFifths:T,transposeOctaves:ut,trFifths:st,simplify:ct,enharmonic:ft},dt={grad:.9,turn:360,rad:360/(2*Math.PI)},f=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},u=function(t,r,n){return r===void 0&&(r=0),n===void 0&&(n=Math.pow(10,r)),Math.round(n*t)/n+0},h=function(t,r,n){return r===void 0&&(r=0),n===void 0&&(n=1),t>n?n:t>r?t:r},L=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},q=function(t){return{r:h(t.r,0,255),g:h(t.g,0,255),b:h(t.b,0,255),a:h(t.a)}},y=function(t){return{r:u(t.r),g:u(t.g),b:u(t.b),a:u(t.a,3)}},pt=/^#([0-9a-f]{3,8})$/i,g=function(t){var r=t.toString(16);return r.length<2?"0"+r:r},P=function(t){var r=t.r,n=t.g,e=t.b,a=t.a,o=Math.max(r,n,e),s=o-Math.min(r,n,e),i=s?o===r?(n-e)/s:o===n?2+(e-r)/s:4+(r-n)/s:0;return{h:60*(i<0?i+6:i),s:o?s/o*100:0,v:o/255*100,a}},U=function(t){var r=t.h,n=t.s,e=t.v,a=t.a;r=r/360*6,n/=100,e/=100;var o=Math.floor(r),s=e*(1-n),i=e*(1-(r-o)*n),b=e*(1-(1-r+o)*n),m=o%6;return{r:255*[e,i,s,s,b,e][m],g:255*[b,e,e,i,s,s][m],b:255*[s,s,b,e,e,i][m],a}},H=function(t){return{h:L(t.h),s:h(t.s,0,100),l:h(t.l,0,100),a:h(t.a)}},S=function(t){return{h:u(t.h),s:u(t.s),l:u(t.l),a:u(t.a,3)}},$=function(t){return U((n=(r=t).s,{h:r.h,s:(n*=((e=r.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:r.a}));var r,n,e},v=function(t){return{h:(r=P(t)).h,s:(a=(200-(n=r.s))*(e=r.v)/100)>0&&a<200?n*e/100/(a<=100?a:200-a)*100:0,l:a/2,a:r.a};var r,n,e,a},vt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,M={string:[[function(t){var r=pt.exec(t);return r?(t=r[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?u(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?u(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var r=gt.exec(t)||bt.exec(t);return r?r[2]!==r[4]||r[4]!==r[6]?null:q({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:r[7]===void 0?1:Number(r[7])/(r[8]?100:1)}):null},"rgb"],[function(t){var r=vt.exec(t)||lt.exec(t);if(!r)return null;var n,e,a=H({h:(n=r[1],e=r[2],e===void 0&&(e="deg"),Number(n)*(dt[e]||1)),s:Number(r[3]),l:Number(r[4]),a:r[5]===void 0?1:Number(r[5])/(r[6]?100:1)});return $(a)},"hsl"]],object:[[function(t){var r=t.r,n=t.g,e=t.b,a=t.a,o=a===void 0?1:a;return f(r)&&f(n)&&f(e)?q({r:Number(r),g:Number(n),b:Number(e),a:Number(o)}):null},"rgb"],[function(t){var r=t.h,n=t.s,e=t.l,a=t.a,o=a===void 0?1:a;if(!f(r)||!f(n)||!f(e))return null;var s=H({h:Number(r),s:Number(n),l:Number(e),a:Number(o)});return $(s)},"hsl"],[function(t){var r=t.h,n=t.s,e=t.v,a=t.a,o=a===void 0?1:a;if(!f(r)||!f(n)||!f(e))return null;var s=function(i){return{h:L(i.h),s:h(i.s,0,100),v:h(i.v,0,100),a:h(i.a)}}({h:Number(r),s:Number(n),v:Number(e),a:Number(o)});return U(s)},"hsv"]]},C=function(t,r){for(var n=0;n<r.length;n++){var e=r[n][0](t);if(e)return[e,r[n][1]]}return[null,void 0]},mt=function(t){return typeof t=="string"?C(t.trim(),M.string):typeof t=="object"&&t!==null?C(t,M.object):[null,void 0]},N=function(t,r){var n=v(t);return{h:n.h,s:h(n.s+100*r,0,100),l:n.l,a:n.a}},x=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},O=function(t,r){var n=v(t);return{h:n.h,s:n.s,l:h(n.l+100*r,0,100),a:n.a}},I=function(){function t(r){this.parsed=mt(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return u(x(this.rgba),2)},t.prototype.isDark=function(){return x(this.rgba)<.5},t.prototype.isLight=function(){return x(this.rgba)>=.5},t.prototype.toHex=function(){return r=y(this.rgba),n=r.r,e=r.g,a=r.b,s=(o=r.a)<1?g(u(255*o)):"","#"+g(n)+g(e)+g(a)+s;var r,n,e,a,o,s},t.prototype.toRgb=function(){return y(this.rgba)},t.prototype.toRgbString=function(){return r=y(this.rgba),n=r.r,e=r.g,a=r.b,(o=r.a)<1?"rgba("+n+", "+e+", "+a+", "+o+")":"rgb("+n+", "+e+", "+a+")";var r,n,e,a,o},t.prototype.toHsl=function(){return S(v(this.rgba))},t.prototype.toHslString=function(){return r=S(v(this.rgba)),n=r.h,e=r.s,a=r.l,(o=r.a)<1?"hsla("+n+", "+e+"%, "+a+"%, "+o+")":"hsl("+n+", "+e+"%, "+a+"%)";var r,n,e,a,o},t.prototype.toHsv=function(){return r=P(this.rgba),{h:u(r.h),s:u(r.s),v:u(r.v),a:u(r.a,3)};var r},t.prototype.invert=function(){return d({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},t.prototype.saturate=function(r){return r===void 0&&(r=.1),d(N(this.rgba,r))},t.prototype.desaturate=function(r){return r===void 0&&(r=.1),d(N(this.rgba,-r))},t.prototype.grayscale=function(){return d(N(this.rgba,-1))},t.prototype.lighten=function(r){return r===void 0&&(r=.1),d(O(this.rgba,r))},t.prototype.darken=function(r){return r===void 0&&(r=.1),d(O(this.rgba,-r))},t.prototype.rotate=function(r){return r===void 0&&(r=15),this.hue(this.hue()+r)},t.prototype.alpha=function(r){return typeof r=="number"?d({r:(n=this.rgba).r,g:n.g,b:n.b,a:r}):u(this.rgba.a,3);var n},t.prototype.hue=function(r){var n=v(this.rgba);return typeof r=="number"?d({h:r,s:n.s,l:n.l,a:n.a}):u(n.h)},t.prototype.isEqual=function(r){return this.toHex()===d(r).toHex()},t}(),d=function(t){return t instanceof I?t:new I(t)},j=[],Mt=function(t){t.forEach(function(r){j.indexOf(r)<0&&(r(I,M),j.push(r))})};export{ft as e,Z as f,Mt as k,xt as n,ht as s,d as w};
