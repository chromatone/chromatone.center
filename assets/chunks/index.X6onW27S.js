import{af as I,ag as d,ah as O,ai as k}from"./theme.b27VEtjn.js";import{t as z,g as q,n as p,d as w,a as h,b as D,e as y,f as v}from"./index.DqntPscu.js";var f={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function l(t){const[e,r,n,s]=z(t);return e===""?["",t]:e==="A"&&s==="ug"?["","aug"]:[e+r,n+s]}function a(t){if(t==="")return f;if(Array.isArray(t)&&t.length===2)return m(t[1],t[0]);{const[e,r]=l(t),n=m(r,e);return n.empty?m(t):n}}function m(t,e,r){const n=q(t),s=p(e||""),o=p(r||"");if(n.empty||e&&s.empty||r&&o.empty)return f;const $=w(s.pc,o.pc),i=n.intervals.indexOf($)+1;if(!o.empty&&!i)return f;const c=Array.from(n.intervals);for(let u=1;u<i;u++){const S=c[0][0],x=c[0][1],A=parseInt(S,10)+7;c.push(`${A}${x}`),c.shift()}const g=s.empty?[]:c.map(u=>h(s,u));t=n.aliases.indexOf(t)!==-1?t:n.aliases[0];const b=`${s.empty?"":s.pc}${t}${o.empty||i<=1?"":"/"+o.pc}`,C=`${e?s.pc+" ":""}${n.name}${i>1&&r?" over "+o.pc:""}`;return{...n,name:C,symbol:b,type:n.name,root:o.name,intervals:c,rootDegree:i,tonic:s.name,notes:g}}var N=D("Chord.chord","Chord.get",a);function U(t,e){const[r,n]=l(t);return r?h(r,e)+n:t}function _(t){const e=a(t),r=d(e.chroma);return O().filter(n=>r(n.chroma)).map(n=>n.name)}function j(t){const e=a(t),r=d(e.chroma);return y().filter(n=>r(n.chroma)).map(n=>e.tonic+n.aliases[0])}function B(t){const e=a(t),r=k(e.chroma);return y().filter(n=>r(n.chroma)).map(n=>e.tonic+n.aliases[0])}function E(t){const{intervals:e,tonic:r}=a(t),n=v(e,r);return s=>s?n(s>0?s-1:s):""}function F(t){const{intervals:e,tonic:r}=a(t);return v(e,r)}var J={getChord:m,get:a,detect:I,chordScales:_,extended:j,reduced:B,tokenize:l,transpose:U,degrees:E,steps:F,chord:N};export{J as c};
