import{_ as T,i as z,r as x,v as i,b as r,F as a,X as c,N as o,B as y,z as F,a as b,H as $,w as A,Z as B,E as C,J as N,s as d,f as _,A as j,c as E}from"./framework.7e747cd7.js";import{g as Z,n as u,b as J,c as m}from"./colors.abbc28c6.js";import{r as M}from"./calculations.3384a913.js";import{a as S,b as D,n as w,f as P}from"./theory.61e5aadb.js";import{w as g}from"./index.654bd828.js";const X=e=>(j("data-v-f2f6e4ab"),e=e(),E(),e),k={key:0,class:"flex justify-center my-2 px-2"},q={class:"absolute right-4"},G={class:"font-bold text-xl flex-1 text-center"},K=X(()=>a("defs",null,[a("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[a("feDropShadow",{dx:"0",dy:"3",stdDeviation:"4","flood-color":"#2225"})])],-1)),L={class:"white"},O=["transform","onMousedown"],Q=["fill"],R=["fill"],U=["fill"],V=["font-weight"],W={class:"black"},Y=["transform","onMousedown"],tt=["fill","data-check"],et=["fill","stroke"],st=["fill","font-weight"],lt={y:"176",x:"45"},ot={y:"50",x:"45"},at={__name:"keys",props:{chroma:{type:String,default:"100000000000"},letters:{type:Boolean,defualt:!1},pitch:{type:Number,default:0},scale:{type:String},roman:{type:String,default:""},title:{type:Boolean,default:!0},playAll:{type:Boolean,default:!1}},emits:["update:pitch"],setup(e,{emit:nt}){const n=e,h=z({white:[3,5,7,8,10,0,2],black:[4,6,null,9,11,1],chroma:x(()=>M(n.chroma.split(""),-n.pitch)),scale:x(()=>M(Z.chroma.split(""),-n.pitch)),title:x(()=>{var s,l;return(s=S.get(n.chroma))!=null&&s.empty?(l=D.get(n.chroma))!=null&&l.empty?"":D.get(n.chroma).aliases[0]:S.get(n.chroma).aliases[0]})});function p(s){return s!=null&&h.chroma[s]=="1"}function H(s){return n.scale&&s!=null&&h.chroma[s]=="1"}function f(s,l){return s==null?"transparent":s==n.pitch?g(u(s,4)).toHex():p(s)&&!l?g(u(s,3.5)).toHex():w[s].length!=2?"#eee":"#999"}return(s,l)=>(i(),r("div",{class:"flex flex-col m-1 rounded-2xl cursor-pointer transition-all duration-300 ease relative select-none touch-none px-2",onMousedown:l[0]||(l[0]=t=>e.playAll&&d(o(J)(e.chroma,e.pitch))),onTouchend:l[1]||(l[1]=t=>e.playAll&&d(o(m)(e.chroma,e.pitch))),onTouchcancel:l[2]||(l[2]=t=>e.playAll&&d(o(m)(e.chroma,e.pitch))),onMouseup:l[3]||(l[3]=t=>e.playAll&&d(o(m)(e.chroma,e.pitch))),onMouseleave:l[4]||(l[4]=t=>e.playAll&&d(o(m)(e.chroma,e.pitch))),style:_({backgroundColor:o(u)(e.pitch,2,1,.5)})},[e.title?(i(),r("div",k,[a("div",q,c(e.roman),1),a("div",G,c(o(w)[e.pitch])+c(h.title),1)])):y("",!0),(i(),r("svg",{class:F(["w-full mt-2",{letters:e.letters}]),id:"chroma-keys",version:"1.1",baseProfile:"full",viewBox:"-10 -20 720 360",xmlns:"http://www.w3.org/2000/svg","font-family":"Commissioner, sans-serif","font-weight":"200","font-size":"40","text-anchor":"middle","dominant-baseline":"middle"},[K,a("g",L,[(i(!0),r(b,null,$(h.white,(t,v)=>(i(),r("g",{class:"key",key:t,transform:`translate(${v*100+5} 30)`,onMousedown:A(I=>s.$emit("update:pitch",t),["stop"])},[a("rect",{class:"transition-all duration-300 ease-out",width:"90",height:"290",rx:"45",fill:f(t,!0),style:{filter:"url(#shadowButton)"}},null,8,Q),a("circle",{class:"transition-all duration-300 ease-out",cy:"245",cx:"45",r:"45",fill:f(t)},null,8,R),B(a("text",{class:"pointer-events-none",y:"250",x:"45",fill:o(g)(o(u)(t)).isDark()?"white":"black"},[a("tspan",{"font-weight":t==e.pitch?800:200},c(o(w)[t]),9,V)],8,U),[[C,p(t)]])],40,O))),128))]),a("g",W,[(i(!0),r(b,null,$(h.black,(t,v)=>(i(),r("g",{class:"key",key:t,transform:`translate(${v*100+55} -10)`,onMousedown:A(I=>s.$emit("update:pitch",t),["stop"])},[t?(i(),r("rect",{key:0,class:"transition-all duration-300 ease-out",width:"90",height:"220",rx:"45",style:{filter:"url(#shadowButton)"},fill:f(t,!0),"data-check":t},null,8,tt)):y("",!0),t?(i(),r("circle",{key:1,class:"transition-all duration-300 ease-out",cy:"175",cx:"45",r:"45",fill:f(t),"stroke-width":"8",stroke:H(t)?o(u)(t,3):"transparent"},null,8,et)):y("",!0),B(a("text",{class:"pointer-events-none",fill:o(g)(o(u)(t)).isDark()?"white":"black","font-weight":t==e.pitch?800:200},[a("tspan",lt,c(o(w)[t]),1),a("tspan",ot,c(o(P)[t]),1)],8,st),[[C,p(t)]])],40,Y))),128))])],2)),N(s.$slots,"default",{},void 0,!0)],36))}},dt=T(at,[["__scopeId","data-v-f2f6e4ab"]]);export{dt as _};
