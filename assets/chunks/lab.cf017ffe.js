import{_ as O}from"./svg-info.f6199913.js";import{r as d,i as R,k as j,j as S,v as l,b as i,f as D,F as e,a as w,H as m,N as s,Z as _,z as T,T as $,O as E,$ as M,X as f}from"./framework.7e747cd7.js";import{w as x}from"./index.654bd828.js";import{b as p}from"./index.c0ca431c.js";import{u as y}from"./index.0b97d2b2.js";const Z={id:"gray",x1:"0",x2:"0",y1:"0",y2:"1"},q=["stop-color","offset"],I={id:"green-red",x1:"0",x2:"1",y1:"0",y2:"0"},P=["stop-color","offset"],U={id:"blue-yellow",x1:"0",x2:"0",y1:"0",y2:"1"},X=["stop-color","offset"],J={id:"square"},K=["x","y","rx","width","height","onMousedown","fill","stroke"],Q={class:"cursor-pointer",id:"current"},V=["fill"],W={class:"cursor-pointer",id:"b-range"},Y={id:"b",x:"-15",y:"0",width:"10",height:"100",fill:"url(#blue-yellow)"},tt=["transform"],et=e("line",{x1:"-15",x2:"-5",stroke:"currentColor","stroke-linecap":"round"},null,-1),ot=e("line",{x1:"-15",x2:"100",stroke:"currentColor","stroke-linecap":"round","stroke-width":"0.1px"},null,-1),rt={fill:"currentColor","font-size":"3px",x:"-10",y:"-4","font-weight":"bold"},st={class:"cursor-pointer",id:"l-range"},nt={id:"l",x:"105",y:"0",width:"10",height:"100",fill:"url(#gray)"},lt=["transform"],it=e("line",{x1:"105",x2:"115",stroke:"currentColor","stroke-linecap":"round"},null,-1),at={fill:"currentColor","font-size":"3px",x:"110",y:"-3","font-weight":"bold"},ct={class:"cursor-pointer",id:"a-range"},dt={id:"a",x:"0",y:"-15",width:"100",height:"10",fill:"url(#green-red)"},ut=["transform"],ht=e("line",{y1:"-15",y2:"-5",stroke:"currentColor","stroke-linecap":"round"},null,-1),_t=e("line",{y1:"-15",y2:"100",stroke:"currentColor","stroke-linecap":"round","stroke-width":"0.1px"},null,-1),ft={fill:"currentColor","font-size":"3px",x:"7",y:"-9.5","font-weight":"bold"},xt=["transform"],pt=e("rect",{x:"-20",y:"-2.5",width:"40",height:"4",fill:"#ccc",stroke:"currentColor","stroke-width":"0.2"},null,-1),gt=["width"],wt={class:"uppercase"},mt=["transform"],yt=e("rect",{x:"-20",y:"-2.5",width:"40",height:"4",fill:"#ccc",stroke:"currentColor","stroke-width":"0.2"},null,-1),kt=["width"],bt={class:"uppercase"},Ft={__name:"lab",setup(vt){const r=y(p("lab-range",100),100,300),b=d(()=>-r.value/2),v=d(()=>r.value/2),t=R({current:p("color-current","#fffff"),max:{l:100,res:36},l:y(p("color-l",50),0,100),a:y(p("color-a",20),b,v),b:y(p("color-b",20),b,v),lab:d(()=>({l:t.l,a:t.a,b:t.b,alpha:1})),hex:d(()=>x(t.lab).toHex()),width:100,height:100,res:y(p("lab-res",10),10,36),steps:{a:d(()=>C(t.res)),b:d(()=>C(t.res))},dark:d(()=>x(t.lab).isDark())});function k(o,g,c){return x({l:o,a:g*r.value,b:-c*r.value,alpha:1}).toHex()}function C(o){return[...Array(o)].map((g,c)=>(c-o/2)/o)}function z(o){t.b-=o.delta[1]/2,t.a+=o.delta[0]/2}function A(o){t.res+=o.delta[0]}function F(o){r.value+=o.delta[0]}function B(o){t.l-=o.delta[1]/8}function G(o){t.a+=o.delta[0]/2}function L(o){t.b-=o.delta[1]/2}function N(o,g,c){t.a=g*r.value,t.b=-c*r.value,t.current=t.hex}return j(()=>{t.current=t.hex}),(o,g)=>{const c=O,u=S("drag");return l(),i("div",{class:"fullscreen-container mb-8 p-4 rounded-xl transition-all duration-400 ease-in-out",id:"screen",style:D({backgroundColor:t.hex})},[(l(),i("svg",{class:"max-h-3xl w-full select-none",version:"1.1",baseProfile:"full",viewBox:"-20 -20 140 130",xmlns:"http://www.w3.org/2000/svg","stroke-width":"2px","font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle",style:D([{"touch-action":"none","user-select":"none"},{color:t.dark?"white":"black"}])},[e("defs",null,[e("linearGradient",Z,[(l(),i(w,null,m(10,(n,a)=>e("stop",{key:n,"stop-color":s(x)({l:100-10*a,a:t.a,b:t.b,alpha:1}).toHex(),offset:a*10+"%"},null,8,q)),64))]),e("linearGradient",I,[(l(),i(w,null,m(10,(n,a)=>e("stop",{key:n,"stop-color":s(x)({l:t.l,a:a*s(r)/10-s(r)/2,b:t.b,alpha:1}).toHex(),offset:a*10+"%"},null,8,P)),64))]),e("linearGradient",U,[(l(),i(w,null,m(10,(n,a)=>e("stop",{key:n,"stop-color":s(x)({l:t.l,a:t.a,b:(10-a)*s(r)/10-s(r)/2,alpha:1}).toHex(),offset:a*10+"%"},null,8,X)),64))])]),_((l(),i("g",J,[(l(!0),i(w,null,m(t.steps.a,(n,a)=>(l(),i("g",{class:"row",key:n+a},[(l(!0),i(w,null,m(t.steps.b,(h,H)=>(l(),i("rect",{class:T(["cursor-pointer",{current:t.current==k(t.l,n,h)}]),key:h+H,x:a*t.width/t.res,y:H*t.height/t.res,rx:t.current==k(t.l,n,h)?10:0,width:t.width/t.res,height:t.height/t.res,onMousedown:Ct=>N(t.l,n,h),fill:k(t.l,n,h),stroke:k(t.l,n,h),"stroke-width":"0.1px"},null,42,K))),128))]))),128)),$(M,{name:"fade"},{default:E(()=>[e("g",Q,[e("rect",{x:30,y:30,width:40,height:40,fill:t.hex},null,8,V),$(c,{color:t.lab,y:36},null,8,["color"])])]),_:1})])),[[u,z]]),e("g",W,[_(e("rect",Y,null,512),[[u,L]]),e("g",{class:"pointer-events-none",transform:`translate(0,${100*(-t.b+s(r)/2)/s(r)})`},[et,ot,e("text",rt,"B "+f(t.b.toFixed(1)),1)],8,tt)]),e("g",st,[_(e("rect",nt,null,512),[[u,B]]),e("g",{class:"pointer-events-none",transform:`translate(0,${100-t.l})`},[it,e("text",at,"L "+f(t.l.toFixed(1)),1)],8,lt)]),e("g",ct,[_(e("rect",dt,null,512),[[u,G]]),e("g",{class:"pointer-events-none",transform:`translate(${100*(t.a+s(r)/2)/s(r)},0)`},[ht,_t,e("text",ft,"A "+f(t.a.toFixed(1)),1)],8,ut)]),_((l(),i("g",{class:"cursor-pointer",id:"res",transform:"translate(20, 105)","font-size":"2"},[pt,e("rect",{x:"-20",y:"-2.5",width:40*(t.res/36),height:"4",fill:"#aaa",stroke:"currentColor","stroke-width":"0.2"},null,8,gt),e("text",wt,"RESOLUTION "+f(t.res)+"x"+f(t.res),1)],8,xt)),[[u,A]]),_((l(),i("g",{class:"cursor-pointer",id:"range",transform:"translate(80, 105)","font-size":"2"},[yt,e("rect",{x:"-20",y:"-2.5",width:40*(s(r)/300),height:"4",fill:"#aaa",stroke:"currentColor","stroke-width":"0.2"},null,8,kt),e("text",bt,"AB RANGE "+f(s(r)),1)],8,mt)),[[u,F]])],4))],4)}}};export{Ft as _};
