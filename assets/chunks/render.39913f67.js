import{Q as b,e as h,y as g,k,v as p,b as x,F as C,X as y,N as f,C as A,B,_ as E}from"./framework.7e747cd7.js";import{_ as I}from"./svg.af3016f3.js";import{n as N}from"./colors.abbc28c6.js";import{n as u}from"./theory.61e5aadb.js";import{s as S}from"./state.cc36e86a.js";const w={class:"flex"},L=["id"],z=b({__name:"render",props:{abc:{type:String,default:"ABCD"},staffwidth:{type:Number,default:300},responsive:{type:Boolean,default:!1},save:{type:Boolean,default:!1}},setup(r){const _=r,i=(Math.random()+1).toString(36).substring(7);h(()=>{g(()=>import("./index.12a2b023.js").then(a=>a.i),["assets/chunks/index.12a2b023.js","assets/chunks/commonjsHelpers.de833af9.js"]).then(a=>{k(()=>{if(a.renderAbc(i,_.abc,{responsive:_.responsive?"resize":null,scale:3,add_classes:!0,paddingbottom:10,paddingtop:0,staffwidth:300,clickListener:m}),!S.colorize)return;document.querySelectorAll("[data-name]").forEach(s=>{if(!(s instanceof HTMLElement))return;const e={pitch:0,acc:0,octave:4},{name:t}=s.dataset;if(t.length>3||/^\d+$/.test(t)||t=="bar")return;for(let o=0;o<t.length;o++)switch(u.findIndex(n=>{var c;return n==((c=t[o])==null?void 0:c.toUpperCase())}),t[o]){case"^":e.acc++;break;case"_":e.acc--;break;case",":e.octave--;break;default:const n=u.findIndex(c=>{var l;return c==((l=t[o])==null?void 0:l.toUpperCase())});if(n<0)break;e.pitch=n,s.dataset.pitch=String(n);break}const v=(e.pitch+e.acc+12)%12;s.style.fill=N(v,e.octave)})})})});function m(a,d,s,e,t){console.log(e==null?void 0:e.clickedName,e)}return(a,d)=>{const s=I;return p(),x("div",w,[C("div",{class:"abc-render",id:f(i)},y(r.abc),9,L),r.save?(p(),A(s,{key:0,svg:f(i)},null,8,["svg"])):B("",!0)])}}});const T=E(z,[["__scopeId","data-v-95febe26"]]);export{T as _};
