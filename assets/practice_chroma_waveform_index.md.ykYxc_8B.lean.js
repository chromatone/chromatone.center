import{U as X,e as N,L as z,C as q,n as w}from"./chunks/theme.sZ-cBsnJ.js";import{D as j,f as J,u as h,d as K,q as T,r as U,w as Z,c as f,M as A,E as a,F as l,G as o,V as P,W as I,P as G,C as n,L as H,I as C,N as Q,J as R,K as Y,O as M,X as ee,a4 as te}from"./chunks/framework.NDjH5Ni5.js";const oe=d=>(R("data-v-fda8c5f2"),d=d(),Y(),d),se={class:"flex flex-col items-center fullscreen-container rounded-3xl",id:"screen"},ne={class:"flex flex-wrap mt-6"},ae=["onClick"],le={class:"p-4 flex flex-wrap items-center"},re={class:"is-group flex"},ie={key:0,class:"i-la-pause"},ce={key:1,class:"i-la-play"},ue={key:0,class:"i-la-volume-up"},de={key:1,class:"i-la-volume-off"},fe={id:"chord-form",version:"1.1",baseProfile:"full",viewBox:"0 0 1260 800",xmlns:"http://www.w3.org/2000/svg"},me={class:"zoom"},_e={y:"760",fill:"currentColor",x:"12"},ve=["y1"],pe={class:"speed"},he={y:"780",x:"12",fill:"currentColor"},ye=["x1"],ke=oe(()=>o("line",{x1:"0",x2:"1200",y1:"400",y2:"400",stroke:"gray","stroke-width":"1"},null,-1)),xe=["stroke","points"],we=["transform","fill"],Ce=["stroke","points"],ge=["transform","fill"],$e=1200,m=600,be={__name:"ChromaForm",setup(d){const y=[];for(let e=0;e<13;e++)y[e]=Math.pow(2,e/12);const k=$e/m,{timestamp:g,pause:$,resume:b}=J({controls:!0,offset:Date.now(),immediate:!1}),r=h("chord-moving",!0);K(r,e=>{e?b():$()}),T(" ",e=>{e.preventDefault(),r.value=!r.value});const s=h("chord-notes-obj",{}),_=U(!1),{attack:E,releaseAll:O}=X();Z(()=>{if(O(),_.value)for(let e in s.value){let t=e<3?3:4;E(N[e]+t)}});const v=z(h("chord-zoom",400),75,1e3),p=z(h("chord-speed",100),10,400);function V(e){s.value[e]?delete s.value[e]:s.value[e]=!0}function B(e){e.tap&&(r.value=!r.value),p.value+=e.delta[0],v.value-=e.delta[1]}function x(e,t){return Math.sin((t+g.value*p.value/1e3)*(Math.PI*2*y[e])/v.value)}const L=f(()=>{let e="000000000000",t=e.split("");for(let i in s.value)t[Number(i)]="1";return e=t.join(""),e}),W=f(()=>{let e={};for(let t in s.value){e[t]=[];for(let i=0;i<m;i++)e[t].push(`${i*k},${x(Number(t),i)*100+400}`)}return e}),S=f(()=>{let e=[];for(let t=0;t<m;t++){e[t]=0;for(let i in s.value){let u=Number(i);e[t]+=x(u,t)}}return e}),F=f(()=>S.value.map((e,t)=>`${t*k},${e*100+400}`).join(" ")),D=f(()=>q(L.value,Object.keys(s.value)[0]));return(e,t)=>{const i=A("drag");return a(),l("div",se,[o("div",ne,[(a(!0),l(P,null,I(n(N),(u,c)=>(a(),l("div",{class:G(["note",{active:n(s)[c]}]),key:u,style:H({backgroundColor:n(s)[c]?n(w)(c):u.length==2?"#333":"#aaa"}),onClick:Pe=>V(c)},C(u),15,ae))),128))]),o("div",le,[o("div",re,[o("button",{onClick:t[0]||(t[0]=u=>r.value=!n(r))},[n(r)?(a(),l("div",ie)):(a(),l("div",ce))]),o("button",{onClick:t[1]||(t[1]=u=>_.value=!_.value)},[_.value?(a(),l("div",de)):(a(),l("div",ue))])])]),Q((a(),l("svg",fe,[o("g",me,[o("text",_e,"ZOOM X"+C(n(v)/100),1),o("line",{y1:800-n(v)/1e3*800,y2:"800",transform:"translate(4 0)","stroke-linecap":"round",stroke:"currentColor","stroke-opacity":"0.5","stroke-width":"8"},null,8,ve)]),o("g",pe,[o("text",he,"SPEED X"+C(n(p)/100),1),o("line",{x1:n(p)/400*1260,x2:"0",transform:"translate(0 795)","stroke-linecap":"round",stroke:"currentColor","stroke-opacity":"0.5","stroke-width":"12"},null,8,ye)]),ke,(a(!0),l(P,null,I(n(s),(u,c)=>(a(),l("g",{key:c},[o("polyline",{stroke:n(w)(c),points:W.value[c],"stroke-width":"2",fill:"none"},null,8,xe),o("circle",{cx:1200,cy:400,transform:`translate(0,${x(c,m-1)*100})`,r:"6",fill:n(w)(c)},null,8,we)]))),128)),o("polyline",{stroke:D.value.hsl,points:F.value,"stroke-width":"12",fill:"none"},null,8,Ce),o("circle",{cx:1200,cy:400,transform:`translate(0,${S.value[m-1]*100})`,r:"12",fill:D.value.hsl},null,8,ge)])),[[i,B]])])}}},Se=j(be,[["__scopeId","data-v-fda8c5f2"]]),je=JSON.parse('{"title":"Waveform","description":"Visualization of the sum waveform of any chroma note combination","frontmatter":{"title":"Waveform","description":"Visualization of the sum waveform of any chroma note combination","layout":"app","date":"2021-04-12T00:00:00.000Z","cover":"chromaform.png"},"headers":[],"relativePath":"practice/chroma/waveform/index.md","filePath":"practice/chroma/waveform/index.md","lastUpdated":1706289625000}'),De={name:"practice/chroma/waveform/index.md"},Ne=o("p",null,"Choose any of the notes to see the wavefrom of their combination.",-1);function ze(d,y,k,g,$,b){const r=Se,s=te("client-only");return a(),l("div",null,[Ne,M(s,null,{default:ee(()=>[M(r)]),_:1})])}const Ee=j(De,[["render",ze]]);export{je as __pageData,Ee as default};
