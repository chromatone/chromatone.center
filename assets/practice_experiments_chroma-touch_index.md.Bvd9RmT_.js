import{e as w,n as T}from"./chunks/theme.D4-bIBOH.js";import{D as g,ak as I,r as v,b,E as o,F as s,G as r,V as f,W as _,C as p,O as k,I as y}from"./chunks/framework.YjWD1Pnt.js";import{_ as C}from"./chunks/SvgRing.C9fv5-Nl.js";const D={class:"w-full max-w-full h-100vh"},M=["viewBox"],P={class:"octaves"},B=["r","fill"],F={class:"touches"},S=["stroke","x2","y2"],V=["transform"],N=["fill"],W={class:"fill-white text-2px",y:"-4"},E={__name:"ChromaTouch",setup($){const{isDark:x}=I(),i=v(4),e={w:100,h:100,pad:5,r:50},d=v(),u=b({});function c(m){for(let h of m.changedTouches)if(["touchend","touchcancel"].includes(m.type))delete u[h.identifier];else{const{clientX:t,clientY:a}=h,l=d.value.createSVGPoint();l.x=t,l.y=a;let n=l.matrixTransform(d.value.getScreenCTM().inverse());u[h.identifier]={x:n.x,y:n.y,angle:180*(Math.PI-Math.atan2(n.x,n.y))/Math.PI,distance:Math.hypot(n.x,n.y)/e.r}}}return(m,h)=>(o(),s("div",D,[(o(),s("svg",{class:"select-none touch-action-none max-h-full",ref_key:"svg",ref:d,version:"1.1",baseProfile:"full",viewBox:`${-e.r-e.pad} ${-e.r-e.pad} ${e.r*2+2*e.pad} ${e.r*2+2*e.pad}`,xmlns:"http://www.w3.org/2000/svg",style:{"touch-action":"none","-webkit-user-select":"none !important","-webkit-touch-callout":"none"},"font-family":"Commissioner, sans-serif","text-anchor":"middle","dominant-baseline":"middle",onTouchstart:c,onTouchmove:c,onTouchend:c,onTouchcancel:c},[r("g",P,[(o(!0),s(f,null,_(i.value,(t,a)=>(o(),s("g",{class:"octave op-20",key:t},[r("circle",{cx:"0",cy:"0",r:e.r-a*(e.r/i.value),opacity:"0.5",fill:`hsl(0deg,0%,${a*100}%)`},null,8,B),(o(!0),s(f,null,_(p(w),(l,n)=>(o(),s("g",{key:l},[k(C,{cx:0,cy:0,radius:e.r-a*(e.r/i.value),thickness:e.r/i.value,from:n*30-15,to:(n+1)*30-15,fill:p(T)(n,a+3)},null,8,["radius","thickness","from","to","fill"])]))),128))]))),128)),r("g",F,[(o(!0),s(f,null,_(u,(t,a)=>(o(),s("g",{class:"touch",key:a},[r("line",{"stroke-linecap":"round",stroke:`hsl(${t.angle}deg, 50%,50%)`,x2:t.x,y2:t.y},null,8,S),r("g",{transform:`translate(${t.x} ${t.y})`},[r("circle",{r:"2",fill:p(x)?"#fff3":"#3333"},null,8,N),r("text",W,y(t.angle.toFixed())+"Â° , "+y(t.distance.toFixed(2)),1)],8,V)]))),128))])])],40,M))]))}},G=g(E,[["__scopeId","data-v-98fd5be7"]]),Y=JSON.parse('{"title":"Chroma touch","description":"Intuitive and performant WebMIDI intstrument","frontmatter":{"title":"Chroma touch","description":"Intuitive and performant WebMIDI intstrument","date":"2013-10-11T00:00:00.000Z","layout":"app"},"headers":[],"relativePath":"practice/experiments/chroma-touch/index.md","filePath":"practice/experiments/chroma-touch/index.md","lastUpdated":1716109291000}'),O={name:"practice/experiments/chroma-touch/index.md"};function J($,x,i,e,d,u){const c=G;return o(),s("div",null,[k(c)])}const Z=g(O,[["render",J]]);export{Y as __pageData,Z as default};
