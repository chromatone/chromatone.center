import{_ as F}from"./chunks/BeatBarsBar.217b49bc.js";import{_ as J}from"./chunks/ChromaCode.5f555046.js";import{z as b,ai as V,o as a,c as l,a as t,f as _,u as e,t as i,E as C,w as Y,F as H,d as N,q as A,ad as E,i as z,r as K,h as m,b as $,S as L,N as B,K as q}from"./chunks/framework.a2b37741.js";import{g as p,n as I,h as U}from"./chunks/colors.238ec2c1.js";import{s as W,n as Z}from"./chunks/theory.61e5aadb.js";import{u as G}from"./chunks/tempo.41bb4de7.js";import{u as O}from"./chunks/index.7d1c66a3.js";import{u as Q}from"./chunks/index.6a7bc922.js";import"./chunks/trash.ff09b484.js";import"./chunks/angle-right.9c8bdb8b.js";import"./chunks/sequence.2d94d1ea.js";import"./chunks/audio.e867938e.js";import"./chunks/calculations.65ee336d.js";import"./chunks/Sequence.350cbae4.js";import"./chunks/Loop.453a3dc4.js";import"./chunks/UserMedia.2ff38ecd.js";import"./chunks/index.654bd828.js";import"./chunks/midi.743c5d70.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/index.b30cd6d2.js";import"./chunks/synth.9bc7f4cd.js";import"./chunks/Scale.0b96c1a3.js";import"./chunks/Subtract.35ba69ab.js";import"./chunks/PingPongDelay.b7a6be12.js";import"./chunks/AutoPanner.9b342708.js";import"./chunks/MonoSynth.32fcb411.js";import"./chunks/Filter.ce4e91cc.js";import"./chunks/index.f74fb029.js";import"./chunks/index.86652af6.js";const R={class:"flex gap-2 items-center"},X={class:"p-0"},tt=t("div",{class:"flex-auto"},null,-1),et={class:"flex items-center gap-2"},st=["onClick"],ot={class:"p-0"},nt={__name:"scale",setup(y){const s=b();V(s,()=>{n.value=!1});const n=b(!1);return(c,r)=>{var o,u,D,k,T,j,M,w;const d=J;return a(),l("div",R,[t("div",{class:"flex gap-2 cursor-pointer",onClick:r[0]||(r[0]=v=>n.value=!n.value)},[_(d,{chroma:(o=e(p))==null?void 0:o.chroma,cols:12},null,8,["chroma"]),t("div",X,i((D=(u=e(p))==null?void 0:u.note)==null?void 0:D.name)+" "+i((T=(k=e(p))==null?void 0:k.set)==null?void 0:T.name),1)]),tt,t("div",et,[t("div",{class:"p-2 w-12 text-center rounded font-bold",style:C({backgroundColor:e(I)((j=e(p))==null?void 0:j.tonic)})},i((w=(M=e(p))==null?void 0:M.note)==null?void 0:w.name),5)]),_(E,{name:"fade"},{default:Y(()=>[n.value?(a(),l("div",{key:0,class:"flex flex-col max-h-8em overflow-scroll absolute bottom-4 bg-light-100 dark-bg-dark-100 rounded-xl overscroll-contain scroll-smooth snap-y snap-proximity",ref_key:"menu",ref:s},[(a(!0),l(H,null,N(e(W),v=>(a(),l("div",{class:"text-md flex-auto flex gap-2 cursor-pointer hover-bg-light-400 hover-bg-opacity-10 p-2",key:v,onClick:S=>{e(p).chroma=v.chroma,n.value=!1}},[_(d,{chroma:v.chroma,cols:12},null,8,["chroma"]),t("div",ot,i(v.name),1)],8,st))),128))],512)):A("",!0)]),_:1})])}}},rt={class:"flex flex gap-1"},at=t("div",{class:"flex"},null,-1),lt=["onClick"],it={__name:"chroma",setup(y){return(s,n)=>(a(),l("div",rt,[at,(a(!0),l(H,null,N(e(p).chroma,(c,r)=>(a(),l("div",{class:"p-2 flex-1 text-white rounded cursor-pointer",key:r,style:C({backgroundColor:e(U)(r,c,"#fff3","#0003"),opacity:c==1?1:.5}),onClick:d=>e(p).tonic=(r+e(p).tonic)%12},[t("div",{class:"font-bold text-center",style:C({fontWeight:c==1?"bold":"normal"})},i(e(Z)[(r+e(p).tonic)%12]),5)],12,lt))),128))]))}},ct={class:"flex flex-col"},dt={class:"flex uppercase tabular-nums font-mono flex-wrap gap-1 items-center"},ut={class:"p-0"},mt={class:"p-1"},pt={class:"p-1 min-w-32"},_t=t("div",{class:"flex-auto"},null,-1),ft={class:"p-1 flex gap-2 items-center border-1 rounded cursor-pointer border-opacity-60 border-light-500"},ht={class:"p-0"},vt={class:"pt-4px pb-5px px-2 flex gap-1 items-center border-1 rounded border-opacity-60 border-light-500 mr-2"},xt={key:0,class:"i-la-play"},gt={key:1,class:"i-la-pause"},$t={__name:"time",setup(y){const s=G(),n=z(),c=K({year:m(n,"YYYY"),month:m(n,"MMMM"),day:m(n,"DD"),weekDay:m(n,"ddd"),hr:m(n,"HH"),min:m(n,"mm"),sec:m(n,"ss")}),r=$(()=>{var d;return s.position?(d=s==null?void 0:s.position)==null?void 0:d.split(":").splice(0,2):0});return(d,o)=>(a(),l("div",ct,[t("div",dt,[(a(!0),l(H,null,N(c,u=>(a(),l("div",{class:"p-1 flex gap-2",key:u},[t("div",ut,i(u),1)]))),128)),t("div",mt,"POS "+i(r.value[0])+":"+i(r.value[1]),1),t("div",pt,"TICK "+i(e(s).ticks),1),_t,t("div",ft,[t("div",{class:"i-la-slash",onClick:o[0]||(o[0]=u=>e(s).bpm=e(s).bpm/2)}),t("div",{class:"i-la-minus",onClick:o[1]||(o[1]=u=>e(s).bpm--)}),t("div",ht,i(e(s).bpm),1),t("div",{class:"i-la-plus",onClick:o[2]||(o[2]=u=>e(s).bpm++)}),t("div",{class:"i-la-times",onClick:o[3]||(o[3]=u=>e(s).bpm=e(s).bpm*2)})]),t("div",vt,[t("button",{onClick:o[4]||(o[4]=u=>e(s).stopped=!0)},[t("div",{class:"i-la-stop",style:C({transform:`rotate(${e(s).progress*90}deg)`})},null,4)]),t("button",{onClick:o[5]||(o[5]=u=>e(s).playing=!e(s).playing)},[e(s).playing?(a(),l("div",gt)):(a(),l("div",xt))])]),L(d.$slots,"default")])]))}},bt={class:"flex flex-col"},yt={class:"w-full",viewBox:"0 0 1000 100"},kt=t("g",null,[t("rect",{stroke:"currentColor",x:"0",y:"0",fill:"transparent",width:"1000",height:"100"})],-1),wt={class:"start"},Ct={class:"pointer-events-none","font-weight":"bold",x:"10",y:"25",fill:"currentColor"},Dt=["width"],Tt={class:"pointer-events-none","text-anchor":"start",x:"10",y:"90",fill:"currentColor"},jt={class:"finish"},Mt={class:"pointer-events-none","text-anchor":"end","font-weight":"bold",x:"990",y:"25",fill:"currentColor"},St=["width","x"],Pt={class:"pointer-events-none","text-anchor":"end",x:"990",y:"90",fill:"currentColor"},Ht={class:"now pointer-events-none"},Nt=["width"],Bt=t("line",{y2:100,stroke:"currentColor","stroke-width":"4"},null,-1),Ot=["text-anchor","x"],Yt={__name:"date",setup(y){const s=z(),n=b(B("jam-start",Date.now()-1e3*60*60)),c=Q(B("jam-finish",Date.now()+1e3*60*60),s,Date.now()+1e3*60*60*365),r=$(()=>s.value-n.value),d=$(()=>c.value-s.value),o=$(()=>r.value/(r.value+d.value)),u=$(()=>S(r.value)),D=$(()=>S(d.value)),k=b("HH:mm"),T=m(n,k),j=m(c,k),M=m(s,"HH:mm:ss"),w=b(),v=b();O(({delta:x,shiftKey:g})=>{const f=x[0]-x[1],h=g?1e5:1e4;c.value+=f*h},{domTarget:v}),O(({delta:x,shiftKey:g})=>{const f=x[0]-x[1],h=g?1e5:1e4;n.value+=f*h},{domTarget:w});function S(x){const g=Math.floor(x/1e3),f=Math.floor(g/60),h=Math.floor(f/60),P=Math.floor(h/24);return P>0?`${P}d ${h-P*24}hr`:h>0?`${h}hr ${f-h*60}min`:f>0?`${f}min ${g-f*60}s`:`${g}s`}return(x,g)=>(a(),l("div",bt,[(a(),l("svg",yt,[kt,t("g",wt,[t("rect",{class:"cursor-move",ref_key:"startPad",ref:w,width:"150",height:"100",fill:"#6663"},null,512),t("text",Ct,i(e(T)),1),t("rect",{width:1e3*o.value,x:0,height:"30",y:"70",fill:"#9996"},null,8,Dt),t("text",Tt,i(u.value)+" elapsed",1)]),t("g",jt,[t("rect",{class:"cursor-move",ref_key:"finishPad",ref:v,x:"850",width:150,height:"100",fill:"#9993"},null,512),t("text",Mt,i(e(j)),1),t("rect",{width:1e3*(1-o.value),x:1e3-1e3*(1-o.value),height:"30",y:"70",fill:"#9996"},null,8,St),t("text",Pt,i(D.value)+" left",1)]),t("g",Ht,[t("rect",{width:o.value*1e3,height:"100",fill:"#2224"},null,8,Nt),t("g",{style:C({transform:`translate(${o.value*1e3}px)`})},[Bt,t("text",{"text-anchor":d.value<r.value?"end":"start","font-weight":"bold",x:d.value<r.value?-10:10,y:"55","font-size":"24",fill:"currentColor"},i(e(M)),9,Ot)],4)])]))]))}},zt={class:"flex flex-col gap-4 bg-light-900 dark-bg-dark-800 p-4 justify-between relative",id:"screen"},Ft={__name:"jam",setup(y){return(s,n)=>{const c=F;return a(),l("div",zt,[_($t),_(Yt),_(c,{editable:!0}),_(it,{class:"flex-auto"}),_(nt)])}}},fe=JSON.parse('{"title":"Jam session","description":"A visual guide for collaborative music events","frontmatter":{"title":"Jam session","description":"A visual guide for collaborative music events","date":"2023-01-01T00:00:00.000Z"},"headers":[],"relativePath":"practice/experiments/jam-session/index.md","filePath":"practice/experiments/jam-session/index.md","lastUpdated":1676883357000}'),Jt={name:"practice/experiments/jam-session/index.md"},he=Object.assign(Jt,{setup(y){return(s,n)=>{const c=q("client-only");return a(),l("div",null,[_(c,null,{default:Y(()=>[_(Ft)]),_:1})])}}});export{fe as __pageData,he as default};
