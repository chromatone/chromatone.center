import{_ as A}from"./chunks/StateTransport.4d7633da.js";import{_ as F}from"./chunks/ChordTabsNeck.aa6e7971.js";import{_ as L}from"./chunks/ChromaKeys.01a01ebb.js";import{_ as V}from"./chunks/ChromaCode.ea5b9eca.js";import{k as y,Y as Z,o as r,c,a as t,t as a,h as e,g as f,z as O,n as q,F as S,r as T,A as E,Z as I,u as K,v as w,q as U,$ as Y,C as W,a0 as h,i as $,O as G,H as z,D as Q}from"./chunks/framework.c4c6940e.js";import"./chunks/tuner.dcafeda5.js";import"./chunks/audio.c6a6656f.js";import{g as u,b as R}from"./chunks/colors.40011595.js";import{m as M}from"./chunks/midi.f7c4afbe.js";import"./chunks/loop.ca927a28.js";import"./chunks/mic.e198133c.js";import"./chunks/midiRender.1be697b3.js";import"./chunks/Midi.1f918097.js";import{u as X}from"./chunks/tempo.5ef17dd6.js";import"./chunks/noise.26c6fd72.js";import{u as tt}from"./chunks/index.0181f57c.js";import"./chunks/sequence.5ae5f83b.js";import"./chunks/synth.87dd66b4.js";import{s as et,n as st,i as ot}from"./chunks/theory.61e5aadb.js";import{u as B}from"./chunks/index.4318aa17.js";import"./chunks/ControlKnob.e1dc8a7e.js";import"./chunks/index.b30cd6d2.js";import"./chunks/index.86652af6.js";import"./chunks/index.ab22ef51.js";import"./chunks/index.b7d4552e.js";import"./chunks/calculations.65ee336d.js";import"./chunks/index.654bd828.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/Sequence.b1efdef4.js";import"./chunks/Loop.9682c954.js";import"./chunks/UserMedia.9db47259.js";import"./chunks/Subtract.494fd9d5.js";import"./chunks/OnePoleFilter.0012e7d5.js";import"./chunks/FFT.ebbec893.js";import"./chunks/BitCrusher.4eaf7300.js";import"./chunks/Filter.eca21a7d.js";import"./chunks/AutoPanner.138bcc74.js";import"./chunks/Scale.98b146d2.js";import"./chunks/PingPongDelay.9f912aaa.js";import"./chunks/MonoSynth.c131ed9f.js";const nt={class:"flex gap-4 items-center"},it={class:"p-0 text-2xl font-bold flex items-center gap-4"},lt=t("div",{class:"flex-1"},null,-1),at=t("div",{class:"text-lg i-la-angle-down"},null,-1),rt={class:"w-60 text-lg tabular-nums font-mono"},ct=["onClick"],mt={class:"p-0 text-xl"},dt=t("div",{class:"flex-1"},null,-1),pt={__name:"JamScale",setup(b){const s=y();Z(s,()=>{n.value=!1});const n=y(!1);return(d,l)=>{var o,m,C,k;const i=V;return r(),c("div",nt,[t("div",{class:"w-full flex gap-4 cursor-pointer bg-dark-900 bg-opacity-40 p-2 rounded-xl items-center",onClick:l[0]||(l[0]=g=>n.value=!n.value)},[t("div",it,a((m=(o=e(u))==null?void 0:o.note)==null?void 0:m.name)+" "+a((k=(C=e(u))==null?void 0:C.set)==null?void 0:k.name),1),lt,at]),t("div",rt,a(e(M).guessChords[0]),1),f(I,{name:"fade"},{default:O(()=>[q(t("div",{class:"flex flex-col max-h-40vh overflow-scroll absolute bg-light-100 dark-bg-dark-100 rounded-xl overscroll-contain scroll-smooth snap-y snap-proximity z-100",ref_key:"menu",ref:s},[(r(!0),c(S,null,T(e(et),g=>(r(),c("div",{class:"text-md flex-auto flex items-center gap-2 cursor-pointer hover-bg-light-400 hover-bg-opacity-10 p-2",key:g,onClick:j=>{e(u).chroma=g.chroma,n.value=!1}},[t("div",mt,a(g.name),1),dt,f(i,{chroma:g.chroma,cols:12},null,8,["chroma"])],8,ct))),128))],512),[[E,n.value]])]),_:1})])}}},ut={class:"flex flex gap-1"},_t=["onClick"],ft={class:"text-md opacity-80"},ht={__name:"JamChroma",setup(b){const{isDark:s}=K();return(n,d)=>(r(),c("div",ut,[(r(!0),c(S,null,T(e(u).chroma,(l,i)=>(r(),c("div",{class:"p-2 flex-1 text-white rounded cursor-pointer relative flex items-center flex-col gap-2 justify-between",key:i,style:w({backgroundColor:e(R)(i,l,"#fff3","#0003"),opacity:e(M).activeChromaMidi[(i+e(u).tonic)%12]?1:l==1?.8:.4}),onClick:o=>e(u).tonic=(i+e(u).tonic)%12},[t("div",{class:"font-bold text-center text-xl",style:w({fontWeight:l==1?"bold":"normal"})},a(e(st)[(i+e(u).tonic)%12]),5),t("div",{class:U(["p-1 m-2 mx-auto opacity-0 rounded-full transition",{"opacity-80":e(M).activeChromaMidi[(i+e(u).tonic)%12]}]),style:w({backgroundColor:e(s)?"white":"black"})},null,6),t("div",ft,a(e(ot)[i]),1)],12,_t))),128))]))}},vt={class:"flex flex-col w-full text-lg"},xt={class:"flex uppercase tabular-nums font-mono flex-wrap gap-1 items-center"},gt={class:"p-0"},$t={class:"p-1"},yt={class:"p-1 min-w-32"},bt=t("div",{class:"flex-auto"},null,-1),kt={class:"pt-4px pb-5px px-2 flex gap-1 items-center border-1 rounded border-opacity-60 border-light-500 mr-2"},wt=t("div",{class:"i-la-stop"},null,-1),Ct=[wt],Dt={key:0,class:"i-la-play"},Mt={key:1,class:"i-la-pause"},St={class:"p-1 flex gap-2 items-center border-1 rounded cursor-pointer border-opacity-60 border-light-500"},Tt={class:"p-0"},jt={__name:"JamTime",setup(b){const s=X(),n=Y(),d=W({year:h(n,"YYYY"),month:h(n,"MMMM"),day:h(n,"DD"),weekDay:h(n,"ddd"),hr:h(n,"HH"),min:h(n,"mm"),sec:h(n,"ss")}),l=$(()=>{var i;return s.position?(i=s==null?void 0:s.position)==null?void 0:i.split(":").splice(0,2):0});return(i,o)=>(r(),c("div",vt,[t("div",xt,[(r(!0),c(S,null,T(d,m=>(r(),c("div",{class:"p-1 flex gap-2",key:m},[t("div",gt,a(m),1)]))),128)),t("div",$t,"POS "+a(l.value[0])+":"+a(l.value[1]),1),t("div",yt,"TICK "+a(e(s).ticks),1),bt,t("div",kt,[t("button",{onClick:o[0]||(o[0]=m=>e(s).stopped=!0)},Ct),t("button",{onClick:o[1]||(o[1]=m=>e(s).playing=!e(s).playing)},[e(s).playing?(r(),c("div",Mt)):(r(),c("div",Dt))])]),t("div",St,[t("div",{class:"i-la-slash",onClick:o[2]||(o[2]=m=>e(s).bpm=e(s).bpm/2)}),t("div",{class:"i-la-minus",onClick:o[3]||(o[3]=m=>e(s).bpm--)}),t("div",Tt,a(e(s).bpm)+" BPM",1),t("div",{class:"i-la-plus",onClick:o[4]||(o[4]=m=>e(s).bpm++)}),t("div",{class:"i-la-times",onClick:o[5]||(o[5]=m=>e(s).bpm=e(s).bpm*2)})]),G(i.$slots,"default")])]))}},Jt={class:"flex flex-col w-full"},Pt={class:"w-full",viewBox:"0 0 1000 100","font-size":"22"},Ht=t("g",null,[t("rect",{stroke:"currentColor",x:"0",y:"0",fill:"transparent",width:"1000",height:"100"})],-1),zt={class:"start"},Bt={class:"pointer-events-none","font-weight":"bold",x:"10",y:"25",fill:"currentColor"},Ot=["width"],Yt={class:"pointer-events-none","text-anchor":"start",x:"10",y:"90",fill:"currentColor"},Nt={class:"finish"},At={class:"pointer-events-none","text-anchor":"end","font-weight":"bold",x:"990",y:"25",fill:"currentColor"},Ft=["width","x"],Lt={class:"pointer-events-none","text-anchor":"end",x:"990",y:"90",fill:"currentColor"},Vt={class:"now pointer-events-none"},Zt=["width"],qt=t("line",{y2:100,stroke:"currentColor","stroke-width":"4"},null,-1),Et=["text-anchor","x"],It={__name:"JamDate",setup(b){const s=Y(),n=y(z("jam-start",Date.now()-1e3*60*60)),d=tt(z("jam-finish",Date.now()+1e3*60*60),s,Date.now()+1e3*60*60*365),l=$(()=>s.value-n.value),i=$(()=>d.value-s.value),o=$(()=>l.value/(l.value+i.value)),m=$(()=>H(l.value)),C=$(()=>H(i.value)),k=y("HH:mm"),g=h(n,k),j=h(d,k),N=h(s,"HH:mm:ss"),J=y(),P=y();B(({delta:x,shiftKey:p})=>{const _=x[0]-x[1],v=p?1e5:1e4;d.value+=_*v},{domTarget:P}),B(({delta:x,shiftKey:p})=>{const _=x[0]-x[1],v=p?1e5:1e4;n.value+=_*v},{domTarget:J});function H(x){const p=Math.floor(x/1e3),_=Math.floor(p/60),v=Math.floor(_/60),D=Math.floor(v/24);return D>0?`${D}d ${v-D*24}hr`:v>0?`${v}hr ${_-v*60}min`:_>0?`${_}min ${p-_*60}s`:`${p}s`}return(x,p)=>(r(),c("div",Jt,[(r(),c("svg",Pt,[Ht,t("g",zt,[t("rect",{class:"cursor-move",ref_key:"startPad",ref:J,onDblclick:p[0]||(p[0]=_=>n.value=Date.now()),width:"150",height:"100",fill:"#6663"},null,544),t("text",Bt,a(e(g)),1),t("rect",{width:1e3*o.value,x:0,height:"30",y:"70",fill:"#9996"},null,8,Ot),t("text",Yt,a(m.value)+" elapsed",1)]),t("g",Nt,[t("rect",{class:"cursor-move",ref_key:"finishPad",ref:P,onDblclick:p[1]||(p[1]=_=>d.value=Date.now()+1e3*60*20),x:"850",width:150,height:"100",fill:"#9993"},null,544),t("text",At,a(e(j)),1),t("rect",{width:1e3*(1-o.value),x:1e3-1e3*(1-o.value),height:"30",y:"70",fill:"#9996"},null,8,Ft),t("text",Lt,a(C.value)+" left",1)]),t("g",Vt,[t("rect",{width:o.value*1e3,height:"100",fill:"#2224"},null,8,Zt),t("g",{style:w({transform:`translate(${o.value*1e3}px)`})},[qt,t("text",{"text-anchor":i.value<l.value?"end":"start","font-weight":"bold",x:i.value<l.value?-10:10,y:"55","font-size":"24",fill:"currentColor"},a(e(N)),9,Et)],4)])]))]))}},Kt={class:"bg-light-900 dark-bg-dark-800",id:"screen"},Ut={class:"flex p-4 gap-4 items-center flex-wrap w-full"},Wt={__name:"JamSession",setup(b){return(s,n)=>{const d=L,l=F,i=A;return r(),c("div",Kt,[t("div",{class:"flex gap-6 p-4 justify-between relative items-stretch flex-col",style:w({backgroundColor:`hsla(${30*e(u).tonic}, 80%, 50%, 0.1)`})},[f(jt),f(It),f(pt),f(ht,{class:"flex-auto"}),t("div",Ut,[f(d,{class:"m-4",style:{flex:"1 1 200px"},chroma:e(u).chroma,pitch:e(u).tonic},null,8,["chroma","pitch"]),f(l,{style:{flex:"4 1 300px"},instrument:"guitar"})]),f(i)],4)])}}},Ye=JSON.parse('{"title":"Jam session","description":"A visual guide for collaborative music events","frontmatter":{"title":"Jam session","description":"A visual guide for collaborative music events","date":"2023-01-01T00:00:00.000Z"},"headers":[],"relativePath":"practice/experiments/jam/index.md","filePath":"practice/experiments/jam/index.md","lastUpdated":null}'),Gt={name:"practice/experiments/jam/index.md"},Ne=Object.assign(Gt,{setup(b){return(s,n)=>{const d=Q("client-only");return r(),c("div",null,[f(d,null,{default:O(()=>[f(Wt)]),_:1})])}}});export{Ye as __pageData,Ne as default};
