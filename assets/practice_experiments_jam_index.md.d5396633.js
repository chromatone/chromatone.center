import{_ as Y}from"./chunks/StateTransport.cb91ce18.js";import{_ as z}from"./chunks/ChordTabsNeck.1415f7d4.js";import{_ as N}from"./chunks/ChromaKeys.b8b3ddcc.js";import{_ as F,a as O}from"./chunks/JamScale.0d3fd5d7.js";import{Y as P,k as $,H as M,i as x,Z as m,o as f,c as h,a as t,t as p,h as s,v as S,C as A,F as V,r as Z,O as E,g as u,_ as I,D as K,z as L}from"./chunks/framework.7e580a04.js";import{u as T}from"./chunks/index.d7e5e965.js";import{u as U}from"./chunks/index.b4e3491a.js";import{u as q}from"./chunks/tempo.8fdc091e.js";import"./chunks/tuner.c4386800.js";import"./chunks/audio.63c56e5f.js";import{g as k}from"./chunks/colors.7c5ce8ba.js";import"./chunks/midi.732209b1.js";import"./chunks/loop.a3d660f9.js";import"./chunks/mic.9346757b.js";import"./chunks/midiRender.5036047c.js";import"./chunks/Midi.1f918097.js";import"./chunks/noise.fc21006d.js";import"./chunks/sequence.b11af23d.js";import"./chunks/synth.ee1f5a0a.js";import"./chunks/theory.7ed89221.js";import"./chunks/ControlKnob.343d9ffa.js";import"./chunks/index.b30cd6d2.js";import"./chunks/index.86652af6.js";import"./chunks/index.ab22ef51.js";import"./chunks/index.04926cfe.js";import"./chunks/calculations.97c9b876.js";import"./chunks/index.654bd828.js";import"./chunks/ChromaCode.9094fe4c.js";import"./chunks/Loop.5ab68705.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/Sequence.73dbf5c1.js";import"./chunks/UserMedia.33ab5181.js";import"./chunks/Subtract.cbe15ceb.js";import"./chunks/OnePoleFilter.77f5e9bf.js";import"./chunks/FFT.22944e93.js";import"./chunks/BitCrusher.02e87fbd.js";import"./chunks/Filter.c2010033.js";import"./chunks/AutoPanner.4040b80a.js";import"./chunks/Scale.93847875.js";import"./chunks/PingPongDelay.8aaf7e00.js";import"./chunks/MonoSynth.e541e8f4.js";const G={class:"flex flex-col w-full"},Q={class:"w-full",viewBox:"0 0 1000 100","font-size":"22"},R=t("g",null,[t("rect",{stroke:"currentColor",x:"0",y:"0",fill:"transparent",width:"1000",height:"100"})],-1),W={class:"start"},X={class:"pointer-events-none","font-weight":"bold",x:"10",y:"25",fill:"currentColor"},tt=["width"],et={class:"pointer-events-none","text-anchor":"start",x:"10",y:"90",fill:"currentColor"},ot={class:"finish"},st={class:"pointer-events-none","text-anchor":"end","font-weight":"bold",x:"990",y:"25",fill:"currentColor"},nt=["width","x"],it={class:"pointer-events-none","text-anchor":"end",x:"990",y:"90",fill:"currentColor"},rt={class:"now pointer-events-none"},at=["width"],lt=t("line",{y2:100,stroke:"currentColor","stroke-width":"4"},null,-1),ct=["text-anchor","x"],mt={__name:"JamDate",setup(w){const e=P(),n=$(M("jam-start",Date.now()-1e3*60*60)),_=U(M("jam-finish",Date.now()+1e3*60*60),e,Date.now()+1e3*60*60*365),l=x(()=>e.value-n.value),r=x(()=>_.value-e.value),o=x(()=>l.value/(l.value+r.value)),i=x(()=>j(l.value)),y=x(()=>j(r.value)),g=$("HH:mm"),H=m(n,g),J=m(_,g),B=m(e,"HH:mm:ss"),C=$(),D=$();T(({delta:v,shiftKey:a})=>{const c=v[0]-v[1],d=a?1e5:1e4;_.value+=c*d},{domTarget:D}),T(({delta:v,shiftKey:a})=>{const c=v[0]-v[1],d=a?1e5:1e4;n.value+=c*d},{domTarget:C});function j(v){const a=Math.floor(v/1e3),c=Math.floor(a/60),d=Math.floor(c/60),b=Math.floor(d/24);return b>0?`${b}d ${d-b*24}hr`:d>0?`${d}hr ${c-d*60}min`:c>0?`${c}min ${a-c*60}s`:`${a}s`}return(v,a)=>(f(),h("div",G,[(f(),h("svg",Q,[R,t("g",W,[t("rect",{class:"cursor-move",ref_key:"startPad",ref:C,onDblclick:a[0]||(a[0]=c=>n.value=Date.now()),width:"150",height:"100",fill:"#6663"},null,544),t("text",X,p(s(H)),1),t("rect",{width:1e3*o.value,x:0,height:"30",y:"70",fill:"#9996"},null,8,tt),t("text",et,p(i.value)+" elapsed",1)]),t("g",ot,[t("rect",{class:"cursor-move",ref_key:"finishPad",ref:D,onDblclick:a[1]||(a[1]=c=>_.value=Date.now()+1e3*60*20),x:"850",width:150,height:"100",fill:"#9993"},null,544),t("text",st,p(s(J)),1),t("rect",{width:1e3*(1-o.value),x:1e3-1e3*(1-o.value),height:"30",y:"70",fill:"#9996"},null,8,nt),t("text",it,p(y.value)+" left",1)]),t("g",rt,[t("rect",{width:o.value*1e3,height:"100",fill:"#2224"},null,8,at),t("g",{style:S({transform:`translate(${o.value*1e3}px)`})},[lt,t("text",{"text-anchor":r.value<l.value?"end":"start","font-weight":"bold",x:r.value<l.value?-10:10,y:"55","font-size":"24",fill:"currentColor"},p(s(B)),9,ct)],4)])]))]))}},pt={class:"flex flex-col w-full text-lg"},_t={class:"flex uppercase tabular-nums font-mono flex-wrap gap-1 items-center"},dt={class:"p-0"},ut={class:"p-1"},ft={class:"p-1 min-w-32"},ht=t("div",{class:"flex-auto"},null,-1),vt={class:"pt-4px pb-5px px-2 flex gap-1 items-center border-1 rounded border-opacity-60 border-light-500 mr-2"},xt=t("div",{class:"i-la-stop"},null,-1),gt=[xt],$t={key:0,class:"i-la-play"},wt={key:1,class:"i-la-pause"},yt={class:"p-1 flex gap-2 items-center border-1 rounded cursor-pointer border-opacity-60 border-light-500"},bt={class:"p-0"},kt={__name:"JamTime",setup(w){const e=q(),n=P(),_=A({year:m(n,"YYYY"),month:m(n,"MMMM"),day:m(n,"DD"),weekDay:m(n,"ddd"),hr:m(n,"HH"),min:m(n,"mm"),sec:m(n,"ss")}),l=x(()=>{var r;return e.position?(r=e==null?void 0:e.position)==null?void 0:r.split(":").splice(0,2):0});return(r,o)=>(f(),h("div",pt,[t("div",_t,[(f(!0),h(V,null,Z(_,i=>(f(),h("div",{class:"p-1 flex gap-2",key:i},[t("div",dt,p(i),1)]))),128)),t("div",ut,"POS "+p(l.value[0])+":"+p(l.value[1]),1),t("div",ft,"TICK "+p(s(e).ticks),1),ht,t("div",vt,[t("button",{onClick:o[0]||(o[0]=i=>s(e).stopped=!0)},gt),t("button",{onClick:o[1]||(o[1]=i=>s(e).playing=!s(e).playing)},[s(e).playing?(f(),h("div",wt)):(f(),h("div",$t))])]),t("div",yt,[t("div",{class:"i-la-slash",onClick:o[2]||(o[2]=i=>s(e).bpm=s(e).bpm/2)}),t("div",{class:"i-la-minus",onClick:o[3]||(o[3]=i=>s(e).bpm--)}),t("div",bt,p(s(e).bpm)+" BPM",1),t("div",{class:"i-la-plus",onClick:o[4]||(o[4]=i=>s(e).bpm++)}),t("div",{class:"i-la-times",onClick:o[5]||(o[5]=i=>s(e).bpm=s(e).bpm*2)})]),E(r.$slots,"default")])]))}},Ct={class:"bg-light-900 dark-bg-dark-800",id:"screen"},Dt={class:"flex p-4 gap-4 items-center flex-wrap w-full"},jt={__name:"JamSession",setup(w){return(e,n)=>{const _=kt,l=mt,r=F,o=O,i=N,y=z,g=Y;return f(),h("div",Ct,[t("div",{class:"flex gap-6 p-4 justify-between relative items-stretch flex-col",style:S({backgroundColor:`hsla(${30*s(k).tonic}, 80%, 50%, 0.1)`})},[u(_),u(l),u(r),u(o,{class:"flex-auto"}),t("div",Dt,[u(i,{class:"m-4",style:{flex:"1 1 200px"},chroma:s(k).chroma,pitch:s(k).tonic},null,8,["chroma","pitch"]),u(y,{style:{flex:"4 1 300px"},instrument:"guitar"})]),u(g)],4)])}}},ve=JSON.parse('{"title":"Jam session","description":"A visual guide for collaborative music events","frontmatter":{"title":"Jam session","description":"A visual guide for collaborative music events","date":"2023-01-01T00:00:00.000Z","topContent":true},"headers":[],"relativePath":"practice/experiments/jam/index.md","filePath":"practice/experiments/jam/index.md","lastUpdated":1697133635000}'),Mt={name:"practice/experiments/jam/index.md"};function Tt(w,e,n,_,l,r){const o=jt,i=K("client-only");return f(),h("div",null,[u(i,null,{default:L(()=>[u(o)]),_:1})])}const xe=I(Mt,[["render",Tt]]);export{ve as __pageData,xe as default};
