import{_ as w}from"./chunks/AnalysisFFT.d5059f12.js";import{_ as k}from"./chunks/ControlRotary.fd7ee63d.js";import{k as $,w as _,i as E,o as c,c as u,a as n,t as v,g as s,s as R,K as b,f,F as q,_ as V,m as C,n as N,y as A}from"./chunks/framework.88db3c26.js";import{u as h,s as y}from"./chunks/useAudio.3e05580d.js";import{u as D}from"./chunks/index.edce5462.js";import{u as F}from"./chunks/index.70261d75.js";import"./chunks/tuner.5a4b9afc.js";import"./chunks/colors.71e97f2b.js";import"./chunks/index.654bd828.js";import"./chunks/calculations.2bac3e9a.js";import"./chunks/index.e98b5e67.js";import"./chunks/midi.b5556f9f.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/synth.9919606b.js";import"./chunks/audio.e7507cf6.js";import"./chunks/Scale.b6214b1d.js";import"./chunks/Subtract.109130cb.js";import"./chunks/PingPongDelay.7799470c.js";import"./chunks/AutoPanner.fd8dabdc.js";import"./chunks/MonoSynth.c00b1270.js";import"./chunks/Filter.ca6be54c.js";import"./chunks/theory.f78bd4d6.js";import"./chunks/index.28e8ae3d.js";import"./chunks/index.78e9bb27.js";import"./chunks/loop.88bd9d68.js";import"./chunks/tempo.84043c62.js";import"./chunks/Loop.14cab9e9.js";import"./chunks/midiRender.1914f0ed.js";import"./chunks/Midi.1f918097.js";import"./chunks/Sequence.873f0209.js";import"./chunks/mic.dc5fa472.js";import"./chunks/UserMedia.9dadeb85.js";import"./chunks/OnePoleFilter.8566943f.js";import"./chunks/noise.4e878d58.js";import"./chunks/BitCrusher.b9cad20b.js";import"./chunks/sequence.8d866e24.js";import"./chunks/index.c020f286.js";const P={"ref:frequency":{value:110,min:30,max:5e3,step:1},"ref:volume":{value:.2,min:0,max:1,step:.01}},{audio:x}=h();function S(l,m="ref"){const i=$({}),a={},t={};for(let o in l){let e=l[o];i[o]=D(e!=null&&e.nostore?e.value:F(`${m}:${o}`,e.value),e.min,e.max)}return _(()=>x.initiated,o=>{if(o)for(let e in l){let[r,d]=x.core.createRef("const",{value:i[e]},[]);a[e]=r,t[e]=d}}),_(i,o=>{for(let e in o)t[e]&&t[e]({value:o[e]})}),{controls:i,cv:a,setters:t}}const T={key:1,class:"flex flex-col gap-4"},B={class:"p-0"},U={__name:"ElemRef",setup(l){const{audio:m,render:i}=h(),a=E(!1),{controls:t,cv:o}=S(P,"ref");return _(()=>m.initiated,()=>{const e=y.mul(o["ref:volume"],y.blepsaw(o["ref:frequency"]));m.layers.saw={volume:.5,signal:[e,e]}}),(e,r)=>{const d=k,g=w;return c(),u(q,null,[n("p",null,v(s(t)),1),a.value?(c(),u("div",T,[n("div",B,"Synth "+v(s(t).freq),1),R(n("input",{type:"range","onUpdate:modelValue":r[1]||(r[1]=p=>s(t)["ref:frequency"]=p),min:30,max:6e3},null,512),[[b,s(t)["ref:frequency"]]]),f(d,{modelValue:s(t)["ref:volume"],"onUpdate:modelValue":r[2]||(r[2]=p=>s(t)["ref:volume"]=p),min:0,max:1,step:.01},null,8,["modelValue"]),f(g)])):(c(),u("button",{key:0,class:"text-button",onClick:r[0]||(r[0]=p=>{s(i)(),a.value=!0})},"RENDER "))],64)}}},be=JSON.parse('{"title":"Elementary Refs","description":"Implementing the new rendering technique for Elementary 3","frontmatter":{"title":"Elementary Refs","description":"Implementing the new rendering technique for Elementary 3","date":"2010-11-07T00:00:00.000Z"},"headers":[],"relativePath":"practice/experiments/ref-synth/index.md","filePath":"practice/experiments/ref-synth/index.md","lastUpdated":1699605712000}'),I={name:"practice/experiments/ref-synth/index.md"},L=n("h2",{id:"links",tabindex:"-1"},[A("Links "),n("a",{class:"header-anchor",href:"#links","aria-label":'Permalink to "Links"'},"â€‹")],-1),J=n("ul",null,[n("li",null,[n("a",{href:"https://www.elementary.audio/docs/guides/using_refs",target:"_blank",rel:"noreferrer"},"https://www.elementary.audio/docs/guides/using_refs")])],-1);function K(l,m,i,a,t,o){const e=U,r=C("client-only");return c(),u("div",null,[f(r,null,{default:N(()=>[f(e)]),_:1}),L,J])}const qe=V(I,[["render",K]]);export{be as __pageData,qe as default};
