import{_ as k}from"./chunks/AnalysisFFT.eef93760.js";import{k as $,w as d,i as E,o as c,c as u,a as o,t as v,g as s,s as y,K as x,f as _,F as b,_ as q,m as R,n as N,y as V}from"./chunks/framework.88db3c26.js";import{u as w,s as h}from"./chunks/useAudio.7050d810.js";import{u as C}from"./chunks/index.edce5462.js";import{u as D}from"./chunks/index.70261d75.js";import"./chunks/tuner.5a4b9afc.js";import"./chunks/colors.71e97f2b.js";import"./chunks/index.654bd828.js";import"./chunks/calculations.2bac3e9a.js";import"./chunks/index.e98b5e67.js";import"./chunks/midi.b5556f9f.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/synth.9919606b.js";import"./chunks/audio.e7507cf6.js";import"./chunks/Scale.b6214b1d.js";import"./chunks/Subtract.109130cb.js";import"./chunks/PingPongDelay.7799470c.js";import"./chunks/AutoPanner.fd8dabdc.js";import"./chunks/MonoSynth.c00b1270.js";import"./chunks/Filter.ca6be54c.js";import"./chunks/theory.f78bd4d6.js";import"./chunks/index.28e8ae3d.js";import"./chunks/index.78e9bb27.js";import"./chunks/loop.88bd9d68.js";import"./chunks/tempo.84043c62.js";import"./chunks/Loop.14cab9e9.js";import"./chunks/midiRender.1914f0ed.js";import"./chunks/Midi.1f918097.js";import"./chunks/Sequence.873f0209.js";import"./chunks/mic.dc5fa472.js";import"./chunks/UserMedia.9dadeb85.js";import"./chunks/OnePoleFilter.8566943f.js";import"./chunks/noise.4e878d58.js";import"./chunks/BitCrusher.b9cad20b.js";import"./chunks/sequence.8d866e24.js";const F={"ref:frequency":{value:110,min:30,max:5e3,step:1},"ref:volume":{value:.2,min:0,max:1,step:.01}},{audio:g}=w();function P(l,m="ref"){const i=$({}),a={},r={};for(let t in l){let e=l[t];i[t]=C(e!=null&&e.nostore?e.value:D(`${m}:${t}`,e.value),e.min,e.max)}return d(()=>g.initiated,t=>{if(t)for(let e in l){let[n,f]=g.core.createRef("const",{value:i[e]},[]);a[e]=n,r[e]=f}}),d(i,t=>{for(let e in t)r[e]({value:t[e]})}),{controls:i,cv:a,setters:r}}const S={key:1,class:"flex flex-col gap-4"},T={class:"p-0"},B={__name:"ElemRef",setup(l){const{audio:m,render:i}=w(),a=E(!1),{controls:r,cv:t}=P(F,"ref");return d(()=>m.initiated,()=>{const e=h.mul(t["ref:volume"],h.blepsaw(t["ref:frequency"]));m.layers.saw={volume:.5,signal:[e,e]}}),(e,n)=>{const f=k;return c(),u(b,null,[o("p",null,v(s(r)),1),a.value?(c(),u("div",S,[o("div",T,"Synth "+v(s(r).freq),1),y(o("input",{type:"range","onUpdate:modelValue":n[1]||(n[1]=p=>s(r)["ref:frequency"]=p),min:30,max:6e3},null,512),[[x,s(r)["ref:frequency"]]]),y(o("input",{type:"range","onUpdate:modelValue":n[2]||(n[2]=p=>s(r)["ref:volume"]=p),min:0,max:1,step:.01},null,512),[[x,s(r)["ref:volume"]]]),_(f)])):(c(),u("button",{key:0,class:"text-button",onClick:n[0]||(n[0]=p=>{s(i)(),a.value=!0})},"RENDER "))],64)}}},ke=JSON.parse('{"title":"Elementary Refs","description":"Implementing the new rendering technique for Elementary 3","frontmatter":{"title":"Elementary Refs","description":"Implementing the new rendering technique for Elementary 3","date":"2010-11-07T00:00:00.000Z"},"headers":[],"relativePath":"practice/experiments/ref-synth/index.md","filePath":"practice/experiments/ref-synth/index.md","lastUpdated":null}'),U={name:"practice/experiments/ref-synth/index.md"},A=o("h2",{id:"links",tabindex:"-1"},[V("Links "),o("a",{class:"header-anchor",href:"#links","aria-label":'Permalink to "Links"'},"â€‹")],-1),I=o("ul",null,[o("li",null,[o("a",{href:"https://www.elementary.audio/docs/guides/using_refs",target:"_blank",rel:"noreferrer"},"https://www.elementary.audio/docs/guides/using_refs")])],-1);function L(l,m,i,a,r,t){const e=B,n=R("client-only");return c(),u("div",null,[_(n,null,{default:N(()=>[_(e)]),_:1}),A,I])}const $e=q(U,[["render",L]]);export{ke as __pageData,$e as default};
