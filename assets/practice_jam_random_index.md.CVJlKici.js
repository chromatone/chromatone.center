import{_ as B}from"./chunks/ChromaKeys.C81Olnlv.js";import{Q as P,J as a,w as J,n as T,g as n}from"./chunks/theme.DiNniVfw.js";import{at as N,au as S,r as z,c as g,E as r,F as i,G as t,L as l,P as A,C as e,I as b,O as y,V as d,W as u,D as O,X as R,a4 as F}from"./chunks/framework.BilnkUFq.js";const I={class:"bg-light-900 dark-bg-dark-800",id:"screen"},V=t("div",{class:"text-4xl text-center"},"RANDOM JAM ",-1),E=t("div",{class:"text-sm text-center"},null,-1),L={class:"flex"},q=t("div",{class:"i-system-uicons-reset -scale-y-100"},null,-1),G=[q],H={class:"flex flex-col gap-2 mx-auto w-full"},Q={class:"flex flex-wrap gap-4 text-center relative items-center justify-stretch"},U={class:"flex flex-col gap-2 w-full"},W={class:"flex flex-col gap-2 w-full"},X={class:"flex gap-2 w-full"},Z={class:"flex gap-2 w-full"},K={class:"flex gap-2 w-full"},Y={class:"flex gap-2 w-full"},tt={class:"flex gap-2 w-full"},et={class:"flex gap-2 w-full"},ot={class:"flex gap-2 w-full"},at={__name:"JamRandom",setup($){var M=102,C=20;function k(s,m){let h=1-Math.random(),f=1-Math.random();var _=Math.sqrt(-2*Math.log(h))*Math.cos(2*Math.PI*f);return s+m*_}P(102,60,180);const w=N(()=>a.bpm,{duration:1e3,transition:S.easeInOutCubic}),p=z(!1),v=P(1024,916,1920);function x(){p.value||(a.stopped=!0,p.value=!0,a.bpm=Math.round(k(M,C)),n.chroma=Math.random()>.7?"101011010101":"101101011010",n.tonic=Math.round(Math.random()*12),setTimeout(()=>{p.value=!1,a.playing=!0},1e3))}const c=g(()=>{var s;return(s=a.position)==null?void 0:s.split(":").map(Number)}),D=g(()=>{var s;return((s=c.value)==null?void 0:s[0])/v.value}),j=g(()=>{var s;return J((s=a)==null?void 0:s.color).mix(T(n.tonic)).toHex()});return(s,m)=>{var f,_;const h=B;return r(),i("div",I,[t("div",{class:"flex flex-col gap-0 p-4 justify-between relative items-stretch min-h-100vh transition duration-1000",style:l({backgroundColor:`hsla(${30*e(n).tonic}, 80%, 50%, 0.05)`})},[V,E,t("div",L,[t("button",{class:"transition duration-1000 text-4xl bg-dark-400 text-white p-4 rounded-full shadow-xl mx-auto",onClick:m[0]||(m[0]=o=>x()),style:l({backgroundColor:j.value})},[t("div",{class:A(["p-0",{"animate-spin":p.value}])},G,2)],4)]),t("div",H,[t("div",{class:"text-4xl flex-1 border-b-4",style:l({borderColor:e(T)(e(n).tonic)})},b(e(n).note.name)+" "+b((_=(f=e(n))==null?void 0:f.set)==null?void 0:_.name),5)]),y(h,{class:"max-h-40vh",chroma:e(n).chroma,pitch:e(n).tonic},null,8,["chroma","pitch"]),t("div",Q,[t("div",U,[t("div",{class:"text-4xl flex-1 tabular-nums border-b-4",style:l({borderColor:e(a).color})},b(e(w).toFixed())+" BPM",5),t("div",W,[t("div",X,[(r(),i(d,null,u(4,o=>t("div",{class:"p-1 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==c.value[1]?e(a).color:"transparent"})},null,4)),64))]),t("div",Z,[(r(),i(d,null,u(4,o=>t("div",{class:"p-2 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==c.value[0]%4?e(a).color:"transparent"})},null,4)),64))]),t("div",K,[(r(),i(d,null,u(4,o=>t("div",{class:"p-3 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==Math.floor(c.value[0]/4)%4?e(a).color:"transparent"})},null,4)),64))]),t("div",Y,[(r(),i(d,null,u(4,o=>t("div",{class:"p-4 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==Math.floor(c.value[0]/4/4)%4?e(a).color:"transparent"})},null,4)),64))]),t("div",tt,[(r(),i(d,null,u(4,o=>t("div",{class:"p-5 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==Math.floor(c.value[0]/4/4/4)%4?e(a).color:"transparent"})},null,4)),64))]),t("div",et,[(r(),i(d,null,u(4,o=>t("div",{class:"p-6 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==Math.floor(c.value[0]/4/4/4/4)%4?e(a).color:"transparent"})},null,4)),64))]),t("div",ot,[(r(),i(d,null,u(4,o=>t("div",{class:"p-7 flex-1 transition ease-in-out rounded-lg",style:l({backgroundColor:o-1==Math.floor(c.value[0]/4/4/4/4/4)%4?e(a).color:"transparent"})},null,4)),64))])])]),t("div",{class:"py-5 bg-dark-400 transition duration-300 rounded-lg",style:l({backgroundColor:j.value,width:`${D.value*100}%`})},null,4)])],4)])}}},ct=JSON.parse('{"title":"Random Jam","description":"A simple randomizer for basic jam parameters - BPM, Tonic and Scale.","frontmatter":{"title":"Random Jam","description":"A simple randomizer for basic jam parameters - BPM, Tonic and Scale.","date":"2024-04-30T00:00:00.000Z","topContent":true,"cover":"jam.png","layout":"app"},"headers":[],"relativePath":"practice/jam/random/index.md","filePath":"practice/jam/random/index.md","lastUpdated":1714228838000}'),lt={name:"practice/jam/random/index.md"};function st($,M,C,k,w,p){const v=at,x=F("client-only");return r(),i("div",null,[y(x,null,{default:R(()=>[y(v)]),_:1})])}const dt=O(lt,[["render",st]]);export{ct as __pageData,dt as default};
