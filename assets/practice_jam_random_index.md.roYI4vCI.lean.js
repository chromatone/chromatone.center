import{_ as P}from"./chunks/ChromaKeys.D8MbWMtT.js";import{Q as y,J as e,n as k,g as l}from"./chunks/theme.BTHx806C.js";import{at as T,au as D,r as B,c as C,E as M,F as $,G as t,P as F,L as s,C as o,I as n,O as v,X as w,D as J,a4 as N}from"./chunks/framework.BilnkUFq.js";const S={class:"bg-light-900 dark-bg-dark-800",id:"screen"},z=t("div",{class:"text-4xl text-center"},"RANDOM JAM ",-1),A=t("div",{class:"text-sm text-center"},null,-1),O={class:"flex"},R=t("div",{class:"i-system-uicons-reset -scale-y-100"},null,-1),I=[R],E=t("div",{class:"flex w-full justify-center relative"},null,-1),V={class:"flex gap-4 text-center relative items-center"},q={class:"flex flex-col gap-1"},G={class:"border-b-0 border-solid border-black dark-border-light-900 w-full relative flex flex-col gap-1"},L={class:"flex p-0 text-center font-mono text-sm"},Q={class:"flex-1"},U={class:"flex-1"},X={class:"flex-1"},Z={class:"flex-1"},H=t("div",{class:"p-0"},null,-1),K={__name:"JamRandom",setup(j){var h=102,x=20;function b(r,c){let _=1-Math.random(),u=1-Math.random();var m=Math.sqrt(-2*Math.log(_))*Math.cos(2*Math.PI*u);return r+c*m}y(102,60,180);const f=T(()=>e.bpm,{duration:1e3,transition:D.easeInOutCubic}),d=B(!1),i=y(1024,916,1920);function p(){d.value||(e.stopped=!0,d.value=!0,e.bpm=Math.round(b(h,x)),l.chroma=Math.random()>.7?"101011010101":"101101011010",l.tonic=Math.round(Math.random()*12),setTimeout(()=>{d.value=!1,e.playing=!0},1e3))}const a=C(()=>{var r;return(r=e.position)==null?void 0:r.split(":").map(Number)}),g=C(()=>{var r;return((r=a.value)==null?void 0:r[0])/i.value});return(r,c)=>{var u,m;const _=P;return M(),$("div",S,[t("div",{class:"flex flex-col gap-6 p-4 justify-between relative items-stretch min-h-100vh transition duration-1000",style:s({backgroundColor:`hsla(${30*o(l).tonic}, 80%, 50%, 0.05)`})},[z,A,t("div",O,[t("button",{class:"text-4xl bg-dark-400 text-white p-4 rounded-full shadow-xl mx-auto",onClick:c[0]||(c[0]=tt=>p())},[t("div",{class:F(["p-0",{"animate-spin":d.value}])},I,2)])]),E,t("div",V,[t("div",{class:"text-4xl flex-1 tabular-nums border-b-4",style:s({borderColor:o(e).color})},n(o(f).toFixed())+" BPM",5),t("div",{class:"text-4xl flex-1 border-b-4",style:s({borderColor:o(k)(o(l).tonic)})},n(o(l).note.name)+" "+n((m=(u=o(l))==null?void 0:u.set)==null?void 0:m.name),5)]),t("div",q,[t("div",G,[t("div",{class:"py-5 bg-dark-400 transition duration-300",style:s({backgroundColor:o(k)(o(l).tonic),width:`${g.value*100}%`})},null,4),t("div",{class:"py-1 op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${(a.value[0]%256+1)*25/64}%`})},null,4),t("div",{class:"py-1 op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${(a.value[0]%64+1)*25/16}%`})},null,4),t("div",{class:"py-1 op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${(a.value[0]%16+1)*25/4}%`})},null,4),t("div",{class:"py-1 op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${(a.value[0]%8+1)*25/2}%`})},null,4),t("div",{class:"py-1 op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${(a.value[0]%4+1)*25}%`})},null,4),t("div",{class:"py-2px op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${(a.value[1]+1)*25}%`})},null,4),t("div",{class:"py-2px op-80 bg-dark-400 transition duration-300",style:s({backgroundColor:o(e).color,width:`${a.value[2]*25}%`})},null,4)]),t("div",L,[t("div",Q,n(a.value[0])+"/"+n(o(i))+" measures ",1),t("div",U,"("+n((a.value[0]/16).toFixed(1))+"/"+n(o(i)/16)+" parts)",1),t("div",X,n((g.value*100).toFixed(1))+"%",1),t("div",Z,n((a.value[0]/o(e).bpm).toFixed(1))+"/"+n((o(i)/o(e).bpm).toFixed(1))+" min",1)])]),v(_,{chroma:o(l).chroma,pitch:o(l).tonic},{default:w(()=>[H]),_:1},8,["chroma","pitch"])],4)])}}},st=JSON.parse('{"title":"Random Jam","description":"A simple randomizer for basic jam parameters - BPM, Tonic and Scale.","frontmatter":{"title":"Random Jam","description":"A simple randomizer for basic jam parameters - BPM, Tonic and Scale.","date":"2024-04-30T00:00:00.000Z","topContent":true,"cover":"jam.png","layout":"app"},"headers":[],"relativePath":"practice/jam/random/index.md","filePath":"practice/jam/random/index.md","lastUpdated":1714122080000}'),W={name:"practice/jam/random/index.md"};function Y(j,h,x,b,f,d){const i=K,p=N("client-only");return M(),$("div",null,[v(p,null,{default:w(()=>[v(i)]),_:1})])}const nt=J(W,[["render",Y]]);export{st as __pageData,nt as default};
