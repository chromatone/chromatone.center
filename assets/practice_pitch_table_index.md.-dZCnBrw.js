import{_ as x,o as r,c as p,a as i,A as w,t as h,k as z,v as _,j as f,g as o,b as v,G as V,w as y,x as D,y as k,J as C,f as m,z as P,p as A,d as B,C as E,i as O,F as S,r as T,e as I,m as N,V as R,W as L,n as U}from"./chunks/framework.KnxPB1sj.js";import{_ as H}from"./chunks/ControlScale.J2pgaRLJ.js";import{N as J,y as W,L as j,s as G}from"./chunks/index.RYxauP_R.js";import{p as K}from"./chunks/calculations.uITx2GSi.js";import{c as Q}from"./chunks/audio.pG3RnClx.js";import{M as Y}from"./chunks/MonoSynth.pp_JS1sF.js";import{n as F}from"./chunks/theory.c9f85u7m.js";import{n as Z,g as X}from"./chunks/colors.hHBI9fPI.js";import"./chunks/ChromaKeys.GVc4DN9x.js";import"./chunks/index.kn6emmbE.js";import"./chunks/midi.91UwWBqe.js";import"./chunks/index.bnjSkgpl.js";import"./chunks/commonjsHelpers.4gQjN7DL.js";import"./chunks/Filter.CUstuK5R.js";import"./chunks/Scale.nioafpJK.js";import"./chunks/index._4u9I4xi.js";import"./chunks/synth.TVJKhjDp.js";import"./chunks/Subtract.6yvEFIfU.js";import"./chunks/PingPongDelay.a3-runAV.js";import"./chunks/AutoPanner.02Sltg0b.js";import"./chunks/index.QyW-2vQe.js";const tt={class:"button"},et={class:"uppercase mr-1"},ot={__name:"PitchTableSwitch",props:{label:{type:String,default:""},state:{type:Boolean,default:!1}},setup(s){return(a,e)=>(r(),p("div",tt,[i("div",{class:"indicator mr-2",style:w({color:s.state?"#fff":"#333"})},"●",4),i("div",et,h(s.label),1)]))}},st=x(ot,[["__scopeId","data-v-72378355"]]),t=z({show:{letters:_("table-letters",!0),bpm:_("table-bpm",!0),hz:_("table-hz",!0),len:_("table-len",!0)},stopped:!0,middleA:_("table-middleA",440),tuning:"equal",octave:{range:{bottom:_("table-bottom",1),top:_("table-top",4)},limit:{bottom:-6,top:8},list:f(()=>{let s=[];for(let a=t.octave.range.top;a>=t.octave.range.bottom;a--)s.push(a);return s}),inc:lt,dec:at}});function at(s){let a=s?"top":"bottom",e=s?"bottom":"top";s&&t.octave.range[a]<=t.octave.range[e]||!s&&t.octave.range[a]<=t.octave.limit[a]||t.octave.range[a]--}function lt(s){let a=s?"top":"bottom",e=s?"bottom":"top";s&&t.octave.range[a]>=t.octave.limit[a]||!s&&t.octave.range[a]>=t.octave.range[e]||t.octave.range[a]++}const nt={key:0,class:"flex flex-col text-xs p-1"},rt={key:0,class:"text-xl font-bold"},ct={key:1,class:"flex"},it={key:2,class:"flex"},pt={key:3,class:"flex"},dt={__name:"PitchTableCellInfo",props:{name:{type:String,default:"A"},hz:{type:Number,default:440},octave:{default:3,type:Number}},setup(s){const a=s,e=f(()=>a.hz*60),d=f(()=>340/a.hz);function u(n){let l;return n>1e6?l=(n/1e6).toFixed(2)+" M":n>1e3?l=(n/1e3).toFixed(2)+" k":l=n.toFixed(2)+" ",l}return(n,l)=>o(t).show.len||o(t).show.hz||o(t).show.bpm||o(t).show.letters?(r(),p("div",nt,[o(t).show.letters?(r(),p("div",rt,h(s.name)+h(s.octave),1)):v("",!0),o(t).show.hz?(r(),p("div",ct,h(u(s.hz))+"hz",1)):v("",!0),o(t).show.len?(r(),p("div",it,h(d.value.toFixed(2))+" m",1)):v("",!0),o(t).show.bpm?(r(),p("div",pt,h(u(e.value))+"BPM",1)):v("",!0)])):v("",!0)}};function ut(s,a){const{channel:e}=Q("table"),d=new J(0,-1/0).connect(e),u=new Y({oscillator:{type:"sawtooth"},envelope:{attack:.5},filterEnvelope:{attack:.05}}).connect(d),n=z({vol:0,pan:50,started:!1,active:f(()=>n.vol>0),freq:f(()=>{let l=K(s,a,t.middleA);return u.oscillator.frequency.value=l,l})});return V(()=>{u.triggerRelease(),u.dispose()}),y(()=>n.vol,l=>{d.volume.targetRampTo(W(l*.4/100),"16n")}),y(()=>n.pan,l=>{let c=(l-50)/100*2;d.pan.targetRampTo(c,"16n")}),y(()=>t.stopped,l=>{l&&(n.vol=0,n.pan=50)}),y(()=>n.active,l=>{l?(t.stopped&&(t.stopped=!1),u.triggerAttack(n.freq)):u.triggerRelease()}),n}const mt=["drag-options"],vt={class:"absolute w-full h-full top-0 left-0 bottom-0"},_t={class:"absolute h-full top-0 left-0 right-0 text-center"},ft={__name:"PitchTableCell",props:{pitch:{type:Number,default:0},octave:{default:3,type:Number}},setup(s){const a=s,e=ut(a.pitch,a.octave),d=z({filterTaps:!0,preventWindowScrollY:!0,delay:0,eventOptions:{passive:!1}}),u=c=>{j.state=="suspended"&&G();let{movement:[b,g],tap:$}=c;$?e.active?(e.vol=0,e.pan=50):e.vol=50:(e.vol+=-g/20,e.vol>100&&(e.vol=100),e.vol<0&&(e.vol=0),e.pan+=b/20,e.pan>100&&(e.pan=100),e.pan<0&&(e.pan=0))},n=f(()=>Z(a.pitch,a.octave)),l=f(()=>Math.abs(a.octave+2)*8>40?"hsla(0,0%,0%,"+(e.active?"1":"0.8")+")":"hsla(0,0%,100%,"+(e.active?"1":"0.8")+")");return(c,b)=>{const g=dt,$=D("drag");return k((r(),p("div",{class:P(["cell",{active:o(e).active}]),"drag-options":d,style:w({backgroundColor:n.value,color:l.value})},[k(i("div",vt,[i("div",{class:"volume",style:w({height:o(e).vol+"%"})},null,4)],512),[[C,o(e).vol>0]]),k(i("div",_t,[i("div",{class:"pan absolute bg-gray-100 h-full m-auto",style:w({left:o(e).pan+"%"})},null,4)],512),[[C,o(e).pan!=50]]),m(g,{name:o(F)[s.pitch],hz:o(e).freq,octave:s.octave},null,8,["name","hz","octave"])],14,mt)),[[$,u]])}}},ht=x(ft,[["__scopeId","data-v-75b02e55"]]),q=s=>(A("data-v-7b6e39ea"),s=s(),B(),s),bt={class:"flex text-2xl text-center cursor-pointer w-full"},gt=q(()=>i("div",{class:"i-la-minus"},null,-1)),xt=[gt],yt=q(()=>i("div",{class:"i-la-plus"},null,-1)),wt=[yt],kt={__name:"PitchTableShift",props:{top:Boolean},setup(s){return(a,e)=>(r(),p("div",bt,[o(t).octave.range.bottom!=o(t).octave.limit.bottom?(r(),p("div",{key:0,class:"btn bg-gray-300 dark-bg-gray-900",onClick:e[0]||(e[0]=d=>o(t).octave.dec(s.top))},xt)):v("",!0),o(t).octave.range.top!=o(t).octave.limit.top?(r(),p("div",{key:1,class:"btn bg-gray-50 dark-bg-gray-500",onClick:e[1]||(e[1]=d=>o(t).octave.inc(s.top))},wt)):v("",!0)]))}},$t=x(kt,[["__scopeId","data-v-7b6e39ea"]]),M=s=>(A("data-v-5d35e128"),s=s(),B(),s),St={class:"fullscreen-container",id:"screen"},zt={class:"flex flex-wrap"},Ct={class:"flex flex-col p-2",style:{flex:"10 1 6rem"}},Tt={class:"flex-auto flex flex-wrap rounded-xl dark-bg-dark-700 shadow items-center p-2 gap-2 relative"},It={class:"flex px-2 rounded-lg items-center bg-light-300 dark-bg-dark-800"},Pt=M(()=>i("div",{class:"p-1 pr-2 font-bold"},"A",-1)),At=M(()=>i("div",{class:"p-1"},"Hz",-1)),Bt={__name:"PitchTable",setup(s){return E("Enter",a=>{a.preventDefault(),t.stopped=!t.stopped}),O(),(a,e)=>{const d=$t,u=ht,n=H,l=st;return r(),p(S,null,[i("div",St,[m(d,{top:!0}),(r(!0),p(S,null,T(o(t).octave.list,c=>(r(),p("div",{class:"flex w-full",key:c},[(r(!0),p(S,null,T(o(F),(b,g)=>(r(),I(u,{key:b,class:P({dim:!o(X).isIn(b)}),pitch:g,octave:c},null,8,["class","pitch","octave"]))),128))]))),128)),m(d)]),i("div",zt,[m(n,{class:"mb-4 flex-auto",style:{flex:"1 1 2rem"}}),i("div",Ct,[i("div",Tt,[m(l,{label:"letters",state:o(t).show.letters,onClick:e[0]||(e[0]=c=>o(t).show.letters=!o(t).show.letters)},null,8,["state"]),m(l,{label:"FREQ",state:o(t).show.hz,onClick:e[1]||(e[1]=c=>o(t).show.hz=!o(t).show.hz)},null,8,["state"]),m(l,{label:"Length",state:o(t).show.len,onClick:e[2]||(e[2]=c=>o(t).show.len=!o(t).show.len)},null,8,["state"]),m(l,{label:"BPM",state:o(t).show.bpm,onClick:e[3]||(e[3]=c=>o(t).show.bpm=!o(t).show.bpm)},null,8,["state"])]),m(R,{name:"fade"},{default:N(()=>[o(t).stopped?v("",!0):(r(),I(l,{key:0,class:"my-4",label:"STOP",state:o(t).stopped,onClick:e[4]||(e[4]=c=>o(t).stopped=!o(t).stopped)},null,8,["state"]))]),_:1}),i("div",It,[Pt,k(i("input",{class:"mx-1 p-2 max-w-26 dark-bg-dark-800","onUpdate:modelValue":e[5]||(e[5]=c=>o(t).middleA=c),type:"number"},null,512),[[L,o(t).middleA]]),At])])])],64)}}},Nt=x(Bt,[["__scopeId","data-v-5d35e128"]]),se=JSON.parse('{"title":"Table","description":"Every possible note in a huge expandable table","frontmatter":{"title":"Table","description":"Every possible note in a huge expandable table","layout":"app","cover":"table.png","date":"2022-06-02T00:00:00.000Z"},"headers":[],"relativePath":"practice/pitch/table/index.md","filePath":"practice/pitch/table/index.md","lastUpdated":1704219385000}'),Ft={name:"practice/pitch/table/index.md"};function qt(s,a,e,d,u,n){const l=Nt,c=U("client-only");return r(),p("div",null,[m(c,null,{default:N(()=>[m(l)]),_:1})])}const ae=x(Ft,[["render",qt]]);export{se as __pageData,ae as default};
