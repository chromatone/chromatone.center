import{k as T,v,j as h,h as o,o as i,c as d,t as f,d as m,N as D,w as y,_ as x,x as E,y as w,a as p,A as k,D as z,g as u,z as I,p as A,e as B,M as O,i as V,n as N,f as C,a0 as R,P as U,F as S,r as P,m as H}from"./chunks/framework.2f46aeb8.js";import{Y as J,s as L,J as Y,t as j}from"./chunks/index.3012fc8f.js";import{p as K}from"./chunks/calculations.2bac3e9a.js";import{c as Q}from"./chunks/audio.e0c178f7.js";import{M as W}from"./chunks/MonoSynth.fec20097.js";import{n as F}from"./chunks/theory.61e5aadb.js";import{n as Z,g as G}from"./chunks/colors.93330ee5.js";import{_ as X}from"./chunks/ControlScale.700c5166.js";import"./chunks/Filter.1fb23e5e.js";import"./chunks/Scale.355f6405.js";import"./chunks/index.b30cd6d2.js";import"./chunks/index.86652af6.js";import"./chunks/index.654bd828.js";import"./chunks/midi.0fea24b9.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/synth.05e847c0.js";import"./chunks/Subtract.f884a3f3.js";import"./chunks/PingPongDelay.89305ffe.js";import"./chunks/AutoPanner.e1652306.js";import"./chunks/index.be2db0d7.js";import"./chunks/ChromaKeys.389cb0a7.js";const e=T({show:{letters:v("table-letters",!0),bpm:v("table-bpm",!0),hz:v("table-hz",!0),len:v("table-len",!0)},stopped:!0,middleA:v("table-middleA",440),tuning:"equal",octave:{range:{bottom:v("table-bottom",1),top:v("table-top",4)},limit:{bottom:-6,top:8},list:h(()=>{let s=[];for(let a=e.octave.range.top;a>=e.octave.range.bottom;a--)s.push(a);return s}),inc:te,dec:ee}});function ee(s){let a=s?"top":"bottom",t=s?"bottom":"top";s&&e.octave.range[a]<=e.octave.range[t]||!s&&e.octave.range[a]<=e.octave.limit[a]||e.octave.range[a]--}function te(s){let a=s?"top":"bottom",t=s?"bottom":"top";s&&e.octave.range[a]>=e.octave.limit[a]||!s&&e.octave.range[a]>=e.octave.range[t]||e.octave.range[a]++}const oe={key:0,class:"flex flex-col text-xs p-1"},se={key:0,class:"text-xl font-bold"},ae={key:1,class:"flex"},le={key:2,class:"flex"},ne={key:3,class:"flex"},ce={__name:"PitchTableCellInfo",props:{name:{type:String,default:"A"},hz:{type:Number,default:440},octave:{default:3,type:Number}},setup(s){const a=s,t=h(()=>a.hz*60),_=h(()=>340/a.hz);function c(n){let l;return n>1e6?l=(n/1e6).toFixed(2)+" M":n>1e3?l=(n/1e3).toFixed(2)+" k":l=n.toFixed(2)+" ",l}return(n,l)=>o(e).show.len||o(e).show.hz||o(e).show.bpm||o(e).show.letters?(i(),d("div",oe,[o(e).show.letters?(i(),d("div",se,f(s.name)+f(s.octave),1)):m("",!0),o(e).show.hz?(i(),d("div",ae,f(c(s.hz))+"hz",1)):m("",!0),o(e).show.len?(i(),d("div",le,f(_.value.toFixed(2))+" m",1)):m("",!0),o(e).show.bpm?(i(),d("div",ne,f(c(t.value))+"BPM",1)):m("",!0)])):m("",!0)}};function ie(s,a){const{channel:t}=Q("table"),_=new J(0,-1/0).connect(t),c=new W({oscillator:{type:"sawtooth"},envelope:{attack:.5},filterEnvelope:{attack:.05}}).connect(_),n=T({vol:0,pan:50,started:!1,active:h(()=>n.vol>0),freq:h(()=>{let l=K(s,a,e.middleA);return c.oscillator.frequency.value=l,l})});return D(()=>{c.triggerRelease(),c.dispose()}),y(()=>n.vol,l=>{_.volume.targetRampTo(L(l*.4/100),"16n")}),y(()=>n.pan,l=>{let r=(l-50)/100*2;_.pan.targetRampTo(r,"16n")}),y(()=>e.stopped,l=>{l&&(n.vol=0,n.pan=50)}),y(()=>n.active,l=>{l?(e.stopped&&(e.stopped=!1),c.triggerAttack(n.freq)):c.triggerRelease()}),n}const re=["drag-options"],pe={class:"absolute w-full h-full top-0 left-0 bottom-0"},de={class:"absolute h-full top-0 left-0 right-0 text-center"},_e={__name:"PitchTableCell",props:{pitch:{type:Number,default:0},octave:{default:3,type:Number}},setup(s){const a=s,t=ie(a.pitch,a.octave),_=T({filterTaps:!0,preventWindowScrollY:!0,delay:0,eventOptions:{passive:!1}}),c=r=>{Y.state=="suspended"&&j();let{movement:[b,g],tap:$}=r;$?t.active?(t.vol=0,t.pan=50):t.vol=50:(t.vol+=-g/20,t.vol>100&&(t.vol=100),t.vol<0&&(t.vol=0),t.pan+=b/20,t.pan>100&&(t.pan=100),t.pan<0&&(t.pan=0))},n=h(()=>Z(a.pitch,a.octave)),l=h(()=>Math.abs(a.octave+2)*8>40?"hsla(0,0%,0%,"+(t.active?"1":"0.8")+")":"hsla(0,0%,100%,"+(t.active?"1":"0.8")+")");return(r,b)=>{const g=ce,$=E("drag");return w((i(),d("div",{class:I(["cell",{active:o(t).active}]),"drag-options":_,style:k({backgroundColor:n.value,color:l.value})},[w(p("div",pe,[p("div",{class:"volume",style:k({height:o(t).vol+"%"})},null,4)],512),[[z,o(t).vol>0]]),w(p("div",de,[p("div",{class:"pan absolute bg-gray-100 h-full m-auto",style:k({left:o(t).pan+"%"})},null,4)],512),[[z,o(t).pan!=50]]),u(g,{name:o(F)[s.pitch],hz:o(t).freq,octave:s.octave},null,8,["name","hz","octave"])],14,re)),[[$,c]])}}},ue=x(_e,[["__scopeId","data-v-75b02e55"]]);const M=s=>(A("data-v-7b6e39ea"),s=s(),B(),s),me={class:"flex text-2xl text-center cursor-pointer w-full"},ve=M(()=>p("div",{class:"i-la-minus"},null,-1)),he=[ve],fe=M(()=>p("div",{class:"i-la-plus"},null,-1)),be=[fe],ge={__name:"PitchTableShift",props:{top:Boolean},setup(s){return(a,t)=>(i(),d("div",me,[o(e).octave.range.bottom!=o(e).octave.limit.bottom?(i(),d("div",{key:0,class:"btn bg-gray-300 dark-bg-gray-900",onClick:t[0]||(t[0]=_=>o(e).octave.dec(s.top))},he)):m("",!0),o(e).octave.range.top!=o(e).octave.limit.top?(i(),d("div",{key:1,class:"btn bg-gray-50 dark-bg-gray-500",onClick:t[1]||(t[1]=_=>o(e).octave.inc(s.top))},be)):m("",!0)]))}},xe=x(ge,[["__scopeId","data-v-7b6e39ea"]]);const ye={class:"button"},we={class:"uppercase mr-1"},ke={__name:"PitchTableSwitch",props:{label:{type:String,default:""},state:{type:Boolean,default:!1}},setup(s){return(a,t)=>(i(),d("div",ye,[p("div",{class:"indicator mr-2",style:k({color:s.state?"#fff":"#333"})},"●",4),p("div",we,f(s.label),1)]))}},$e=x(ke,[["__scopeId","data-v-72378355"]]);const q=s=>(A("data-v-34ba53b1"),s=s(),B(),s),Se={class:"flex flex-wrap"},Te={class:"flex flex-col p-2",style:{flex:"10 1 6rem"}},ze={class:"flex-auto flex flex-wrap rounded-xl dark-bg-dark-700 shadow items-center p-2 gap-2 relative"},Ce={class:"flex px-2 rounded-lg items-center bg-light-300 dark-bg-dark-800"},Pe=q(()=>p("div",{class:"p-1 pr-2 font-bold"},"A",-1)),Ie=q(()=>p("div",{class:"p-1"},"Hz",-1)),Ae={class:"fullscreen-container",id:"screen"},Be={__name:"PitchTable",setup(s){return O("Enter",a=>{a.preventDefault(),e.stopped=!e.stopped}),V(),(a,t)=>{const _=X,c=$e,n=xe,l=ue;return i(),d(S,null,[p("div",Se,[u(_,{class:"mb-4 flex-auto",style:{flex:"1 1 2rem"}}),p("div",Te,[p("div",ze,[u(c,{label:"letters",state:o(e).show.letters,onClick:t[0]||(t[0]=r=>o(e).show.letters=!o(e).show.letters)},null,8,["state"]),u(c,{label:"FREQ",state:o(e).show.hz,onClick:t[1]||(t[1]=r=>o(e).show.hz=!o(e).show.hz)},null,8,["state"]),u(c,{label:"Length",state:o(e).show.len,onClick:t[2]||(t[2]=r=>o(e).show.len=!o(e).show.len)},null,8,["state"]),u(c,{label:"BPM",state:o(e).show.bpm,onClick:t[3]||(t[3]=r=>o(e).show.bpm=!o(e).show.bpm)},null,8,["state"])]),u(R,{name:"fade"},{default:N(()=>[o(e).stopped?m("",!0):(i(),C(c,{key:0,class:"my-4",label:"STOP",state:o(e).stopped,onClick:t[4]||(t[4]=r=>o(e).stopped=!o(e).stopped)},null,8,["state"]))]),_:1}),p("div",Ce,[Pe,w(p("input",{class:"mx-1 p-2 max-w-26 dark-bg-dark-800","onUpdate:modelValue":t[5]||(t[5]=r=>o(e).middleA=r),type:"number"},null,512),[[U,o(e).middleA]]),Ie])])]),p("div",Ae,[u(n,{top:!0}),(i(!0),d(S,null,P(o(e).octave.list,r=>(i(),d("div",{class:"flex w-full",key:r},[(i(!0),d(S,null,P(o(F),(b,g)=>(i(),C(l,{key:b,class:I({dim:!o(G).isIn(b)}),pitch:g,octave:r},null,8,["class","pitch","octave"]))),128))]))),128)),u(n)])],64)}}},Ne=x(Be,[["__scopeId","data-v-34ba53b1"]]),st=JSON.parse('{"title":"Table","description":"Every possible note in a huge expandable table","frontmatter":{"title":"Table","description":"Every possible note in a huge expandable table","cover":"table.png","date":"2022-06-02T00:00:00.000Z"},"headers":[],"relativePath":"practice/pitch/table/index.md","filePath":"practice/pitch/table/index.md","lastUpdated":1694022443000}'),Fe={name:"practice/pitch/table/index.md"};function Me(s,a,t,_,c,n){const l=Ne,r=H("client-only");return i(),d("div",null,[u(r,null,{default:N(()=>[u(l)]),_:1})])}const at=x(Fe,[["render",Me]]);export{st as __pageData,at as default};
