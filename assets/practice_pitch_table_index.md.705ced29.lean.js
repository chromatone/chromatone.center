import{i as z,r as f,_ as w,v as c,b as p,N as o,B as _,A as q,c as F,F as i,X as m,K as j,q as g,j as R,Z as x,f as y,E as S,T as u,z as I,P as H,O as M,C as T,$ as D,g as V,a as $,H as A,M as Z}from"./chunks/framework.7e747cd7.js";import{_ as K}from"./chunks/scale.27a8aae2.js";import{b as v,j as U}from"./chunks/index.c0ca431c.js";import{U as J,l as L,z as Q,s as W}from"./chunks/index.83aed4fc.js";import{p as X}from"./chunks/calculations.3384a913.js";import{c as Y}from"./chunks/audio.170dbcbf.js";import{M as G}from"./chunks/MonoSynth.4cac63d2.js";import{n as P}from"./chunks/theory.61e5aadb.js";import{n as tt,g as et}from"./chunks/colors.fcf9eae3.js";import"./chunks/keys.2c6c8615.js";import"./chunks/index.17b4cde5.js";import"./chunks/index.b30cd6d2.js";import"./chunks/midi.290fabf9.js";import"./chunks/index.0b97d2b2.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/Filter.2b531c53.js";import"./chunks/Scale.7b617051.js";import"./chunks/index.86652af6.js";import"./chunks/synth.220fb0dd.js";import"./chunks/Subtract.f0fef764.js";import"./chunks/PingPongDelay.38a34857.js";import"./chunks/AutoPanner.94a306f8.js";const t=z({show:{letters:v("table-letters",!0),bpm:v("table-bpm",!0),hz:v("table-hz",!0),len:v("table-len",!0)},stopped:!0,middleA:v("table-middleA",440),tuning:"equal",octave:{range:{bottom:v("table-bottom",1),top:v("table-top",4)},limit:{bottom:-6,top:8},list:f(()=>{let s=[];for(let a=t.octave.range.top;a>=t.octave.range.bottom;a--)s.push(a);return s}),inc:st,dec:ot}});function ot(s){let a=s?"top":"bottom",e=s?"bottom":"top";s&&t.octave.range[a]<=t.octave.range[e]||!s&&t.octave.range[a]<=t.octave.limit[a]||t.octave.range[a]--}function st(s){let a=s?"top":"bottom",e=s?"bottom":"top";s&&t.octave.range[a]>=t.octave.limit[a]||!s&&t.octave.range[a]>=t.octave.range[e]||t.octave.range[a]++}const E=s=>(q("data-v-3cef6ce0"),s=s(),F(),s),at={class:"flex text-2xl text-center cursor-pointer w-full"},lt=E(()=>i("div",{class:"i-la-minus"},null,-1)),nt=[lt],rt=E(()=>i("div",{class:"i-la-plus"},null,-1)),ct=[rt],it={__name:"shift",props:{top:Boolean},setup(s){return(a,e)=>(c(),p("div",at,[o(t).octave.range.bottom!=o(t).octave.limit.bottom?(c(),p("div",{key:0,class:"btn bg-gray-300 dark-bg-gray-900",onClick:e[0]||(e[0]=d=>o(t).octave.dec(s.top))},nt)):_("",!0),o(t).octave.range.top!=o(t).octave.limit.top?(c(),p("div",{key:1,class:"btn bg-gray-50 dark-bg-gray-500",onClick:e[1]||(e[1]=d=>o(t).octave.inc(s.top))},ct)):_("",!0)]))}},O=w(it,[["__scopeId","data-v-3cef6ce0"]]),pt={key:0,class:"flex flex-col text-xs p-1"},dt={key:0,class:"text-xl font-bold"},ut={key:1,class:"flex"},_t={key:2,class:"flex"},vt={key:3,class:"flex"},ft={__name:"info",props:{name:{type:String,default:"A"},hz:{type:Number,default:440},octave:{default:3,type:Number}},setup(s){const a=s,e=f(()=>a.hz*60),d=f(()=>340/a.hz);function l(n){let r;return n>1e6?r=(n/1e6).toFixed(2)+" M":n>1e3?r=(n/1e3).toFixed(2)+" k":r=n.toFixed(2)+" ",r}return(n,r)=>o(t).show.len||o(t).show.hz||o(t).show.bpm||o(t).show.letters?(c(),p("div",pt,[o(t).show.letters?(c(),p("div",dt,m(s.name)+m(s.octave),1)):_("",!0),o(t).show.hz?(c(),p("div",ut,m(l(s.hz))+"hz",1)):_("",!0),o(t).show.len?(c(),p("div",_t,m(d.value.toFixed(2))+" m",1)):_("",!0),o(t).show.bpm?(c(),p("div",vt,m(l(e.value))+"BPM",1)):_("",!0)])):_("",!0)}};function mt(s,a){const{channel:e}=Y("table"),d=new J(0,-1/0).connect(e),l=new G({oscillator:{type:"sawtooth"},envelope:{attack:.5},filterEnvelope:{attack:.05}}).connect(d),n=z({vol:0,pan:50,started:!1,active:f(()=>n.vol>0),freq:f(()=>{let r=X(s,a,t.middleA);return l.oscillator.frequency.value=r,r})});return j(()=>{l.triggerRelease(),l.dispose()}),g(()=>n.vol,r=>{d.volume.targetRampTo(L(r*.4/100),"16n")}),g(()=>n.pan,r=>{let b=(r-50)/100*2;d.pan.targetRampTo(b,"16n")}),g(()=>t.stopped,r=>{r&&(n.vol=0,n.pan=50)}),g(()=>n.active,r=>{r?(t.stopped&&(t.stopped=!1),l.triggerAttack(n.freq)):l.triggerRelease()}),n}const ht=["drag-options"],bt={class:"absolute w-full h-full top-0 left-0 bottom-0"},gt={class:"absolute h-full top-0 left-0 right-0 text-center"},xt={__name:"cell",props:{pitch:{type:Number,default:0},octave:{default:3,type:Number}},setup(s){const a=s,e=mt(a.pitch,a.octave),d=z({filterTaps:!0,preventWindowScrollY:!0,delay:0,eventOptions:{passive:!1}}),l=b=>{Q.state=="suspended"&&W();let{movement:[C,k],tap:B}=b;B?e.active?(e.vol=0,e.pan=50):e.vol=50:(e.vol+=-k/20,e.vol>100&&(e.vol=100),e.vol<0&&(e.vol=0),e.pan+=C/20,e.pan>100&&(e.pan=100),e.pan<0&&(e.pan=0))},n=f(()=>tt(a.pitch,a.octave)),r=f(()=>Math.abs(a.octave+2)*8>40?"hsla(0,0%,0%,"+(e.active?"1":"0.8")+")":"hsla(0,0%,100%,"+(e.active?"1":"0.8")+")");return(b,C)=>{const k=R("drag");return x((c(),p("div",{class:I(["cell",{active:o(e).active}]),"drag-options":d,style:y({backgroundColor:n.value,color:r.value})},[x(i("div",bt,[i("div",{class:"volume",style:y({height:o(e).vol+"%"})},null,4)],512),[[S,o(e).vol>0]]),x(i("div",gt,[i("div",{class:"pan absolute bg-gray-100 h-full m-auto",style:y({left:o(e).pan+"%"})},null,4)],512),[[S,o(e).pan!=50]]),u(ft,{name:o(P)[s.pitch],hz:o(e).freq,octave:s.octave},null,8,["name","hz","octave"])],14,ht)),[[k,l]])}}},yt=w(xt,[["__scopeId","data-v-e6e2e271"]]);const wt={class:"button"},kt={class:"uppercase mr-1"},$t={__name:"switch",props:{label:{type:String,default:""},state:{type:Boolean,default:!1}},setup(s){return(a,e)=>(c(),p("div",wt,[i("div",{class:"indicator mr-2",style:y({color:s.state?"#fff":"#333"})},"●",4),i("div",kt,m(s.label),1)]))}},h=w($t,[["__scopeId","data-v-82d7c0c7"]]);const N=s=>(q("data-v-2968ffbe"),s=s(),F(),s),zt={class:"flex flex-wrap"},Ct={class:"flex flex-col p-2",style:{flex:"10 1 6rem"}},St={class:"flex-auto flex flex-wrap rounded-xl dark-bg-dark-700 shadow items-center p-2 gap-2 relative"},Tt={class:"flex px-2 rounded-lg items-center bg-light-300 dark-bg-dark-800"},At=N(()=>i("div",{class:"p-1 pr-2 font-bold"},"A",-1)),Ot=N(()=>i("div",{class:"p-1"},"Hz",-1)),qt={class:"fullscreen-container",id:"screen"},Ft={__name:"table",setup(s){return U("Enter",a=>{a.preventDefault(),t.stopped=!t.stopped}),H(),(a,e)=>{const d=K;return c(),p($,null,[i("div",zt,[u(d,{class:"mb-4 flex-auto",style:{flex:"1 1 2rem"}}),i("div",Ct,[i("div",St,[u(h,{label:"letters",state:o(t).show.letters,onClick:e[0]||(e[0]=l=>o(t).show.letters=!o(t).show.letters)},null,8,["state"]),u(h,{label:"FREQ",state:o(t).show.hz,onClick:e[1]||(e[1]=l=>o(t).show.hz=!o(t).show.hz)},null,8,["state"]),u(h,{label:"Length",state:o(t).show.len,onClick:e[2]||(e[2]=l=>o(t).show.len=!o(t).show.len)},null,8,["state"]),u(h,{label:"BPM",state:o(t).show.bpm,onClick:e[3]||(e[3]=l=>o(t).show.bpm=!o(t).show.bpm)},null,8,["state"])]),u(D,{name:"fade"},{default:M(()=>[o(t).stopped?_("",!0):(c(),T(h,{key:0,class:"my-4",label:"STOP",state:o(t).stopped,onClick:e[4]||(e[4]=l=>o(t).stopped=!o(t).stopped)},null,8,["state"]))]),_:1}),i("div",Tt,[At,x(i("input",{class:"mx-1 p-2 max-w-26 dark-bg-dark-800","onUpdate:modelValue":e[5]||(e[5]=l=>o(t).middleA=l),type:"number"},null,512),[[V,o(t).middleA]]),Ot])])]),i("div",qt,[u(O,{top:!0}),(c(!0),p($,null,A(o(t).octave.list,l=>(c(),p("div",{class:"flex w-full",key:l},[(c(!0),p($,null,A(o(P),(n,r)=>(c(),T(yt,{key:n,class:I({dim:!o(et).isIn(n)}),pitch:r,octave:l},null,8,["class","pitch","octave"]))),128))]))),128)),u(O)])],64)}}},It=w(Ft,[["__scopeId","data-v-2968ffbe"]]),se=JSON.parse('{"title":"Table","description":"Every possible note in a huge expandable table","frontmatter":{"title":"Table","description":"Every possible note in a huge expandable table","cover":"table.png","date":"2022-06-02T00:00:00.000Z"},"headers":[],"relativePath":"practice/pitch/table/index.md","filePath":"practice/pitch/table/index.md"}'),Mt={name:"practice/pitch/table/index.md"},ae=Object.assign(Mt,{setup(s){return(a,e)=>{const d=Z("client-only");return c(),p("div",null,[u(d,null,{default:M(()=>[u(It)]),_:1})])}}});export{se as __pageData,ae as default};
