import{_ as x,o as c,c as p,a as r,x as w,t as f,k as T,j as h,g as o,b as m,B as M,w as y,q as D,s as k,E as C,f as u,v as I,p as B,d as N,i as O,F as S,r as z,e as P,n as q,J as V,K as R,m as L}from"./chunks/framework.5d1030ab.js";import{_ as U}from"./chunks/ControlScale.1d9c6254.js";import{u as v,b as H}from"./chunks/index.4d18a0f4.js";import{N as J,y as K,L as j,s as Q}from"./chunks/index.e98b5e67.js";import{p as W}from"./chunks/calculations.2bac3e9a.js";import{c as Y}from"./chunks/audio.36f0d408.js";import{M as Z}from"./chunks/MonoSynth.c00b1270.js";import{n as A}from"./chunks/theory.83a66c14.js";import{n as G,g as X}from"./chunks/colors.4aca3d40.js";import"./chunks/ChromaKeys.75a72bed.js";import"./chunks/index.654bd828.js";import"./chunks/midi.490ff1fe.js";import"./chunks/index.2be4a733.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/Filter.ca6be54c.js";import"./chunks/Scale.b6214b1d.js";import"./chunks/index.e63c3080.js";import"./chunks/synth.f30068b3.js";import"./chunks/Subtract.109130cb.js";import"./chunks/PingPongDelay.244b18e5.js";import"./chunks/AutoPanner.6f08faee.js";import"./chunks/index.5a28b3ed.js";const ee={class:"button"},te={class:"uppercase mr-1"},oe={__name:"PitchTableSwitch",props:{label:{type:String,default:""},state:{type:Boolean,default:!1}},setup(s){return(a,t)=>(c(),p("div",ee,[r("div",{class:"indicator mr-2",style:w({color:s.state?"#fff":"#333"})},"â—",4),r("div",te,f(s.label),1)]))}},se=x(oe,[["__scopeId","data-v-72378355"]]),e=T({show:{letters:v("table-letters",!0),bpm:v("table-bpm",!0),hz:v("table-hz",!0),len:v("table-len",!0)},stopped:!0,middleA:v("table-middleA",440),tuning:"equal",octave:{range:{bottom:v("table-bottom",1),top:v("table-top",4)},limit:{bottom:-6,top:8},list:h(()=>{let s=[];for(let a=e.octave.range.top;a>=e.octave.range.bottom;a--)s.push(a);return s}),inc:le,dec:ae}});function ae(s){let a=s?"top":"bottom",t=s?"bottom":"top";s&&e.octave.range[a]<=e.octave.range[t]||!s&&e.octave.range[a]<=e.octave.limit[a]||e.octave.range[a]--}function le(s){let a=s?"top":"bottom",t=s?"bottom":"top";s&&e.octave.range[a]>=e.octave.limit[a]||!s&&e.octave.range[a]>=e.octave.range[t]||e.octave.range[a]++}const ne={key:0,class:"flex flex-col text-xs p-1"},ce={key:0,class:"text-xl font-bold"},ie={key:1,class:"flex"},re={key:2,class:"flex"},pe={key:3,class:"flex"},de={__name:"PitchTableCellInfo",props:{name:{type:String,default:"A"},hz:{type:Number,default:440},octave:{default:3,type:Number}},setup(s){const a=s,t=h(()=>a.hz*60),d=h(()=>340/a.hz);function _(n){let l;return n>1e6?l=(n/1e6).toFixed(2)+" M":n>1e3?l=(n/1e3).toFixed(2)+" k":l=n.toFixed(2)+" ",l}return(n,l)=>o(e).show.len||o(e).show.hz||o(e).show.bpm||o(e).show.letters?(c(),p("div",ne,[o(e).show.letters?(c(),p("div",ce,f(s.name)+f(s.octave),1)):m("",!0),o(e).show.hz?(c(),p("div",ie,f(_(s.hz))+"hz",1)):m("",!0),o(e).show.len?(c(),p("div",re,f(d.value.toFixed(2))+" m",1)):m("",!0),o(e).show.bpm?(c(),p("div",pe,f(_(t.value))+"BPM",1)):m("",!0)])):m("",!0)}};function _e(s,a){const{channel:t}=Y("table"),d=new J(0,-1/0).connect(t),_=new Z({oscillator:{type:"sawtooth"},envelope:{attack:.5},filterEnvelope:{attack:.05}}).connect(d),n=T({vol:0,pan:50,started:!1,active:h(()=>n.vol>0),freq:h(()=>{let l=W(s,a,e.middleA);return _.oscillator.frequency.value=l,l})});return M(()=>{_.triggerRelease(),_.dispose()}),y(()=>n.vol,l=>{d.volume.targetRampTo(K(l*.4/100),"16n")}),y(()=>n.pan,l=>{let i=(l-50)/100*2;d.pan.targetRampTo(i,"16n")}),y(()=>e.stopped,l=>{l&&(n.vol=0,n.pan=50)}),y(()=>n.active,l=>{l?(e.stopped&&(e.stopped=!1),_.triggerAttack(n.freq)):_.triggerRelease()}),n}const ue=["drag-options"],me={class:"absolute w-full h-full top-0 left-0 bottom-0"},ve={class:"absolute h-full top-0 left-0 right-0 text-center"},he={__name:"PitchTableCell",props:{pitch:{type:Number,default:0},octave:{default:3,type:Number}},setup(s){const a=s,t=_e(a.pitch,a.octave),d=T({filterTaps:!0,preventWindowScrollY:!0,delay:0,eventOptions:{passive:!1}}),_=i=>{j.state=="suspended"&&Q();let{movement:[b,g],tap:$}=i;$?t.active?(t.vol=0,t.pan=50):t.vol=50:(t.vol+=-g/20,t.vol>100&&(t.vol=100),t.vol<0&&(t.vol=0),t.pan+=b/20,t.pan>100&&(t.pan=100),t.pan<0&&(t.pan=0))},n=h(()=>G(a.pitch,a.octave)),l=h(()=>Math.abs(a.octave+2)*8>40?"hsla(0,0%,0%,"+(t.active?"1":"0.8")+")":"hsla(0,0%,100%,"+(t.active?"1":"0.8")+")");return(i,b)=>{const g=de,$=D("drag");return k((c(),p("div",{class:I(["cell",{active:o(t).active}]),"drag-options":d,style:w({backgroundColor:n.value,color:l.value})},[k(r("div",me,[r("div",{class:"volume",style:w({height:o(t).vol+"%"})},null,4)],512),[[C,o(t).vol>0]]),k(r("div",ve,[r("div",{class:"pan absolute bg-gray-100 h-full m-auto",style:w({left:o(t).pan+"%"})},null,4)],512),[[C,o(t).pan!=50]]),u(g,{name:o(A)[s.pitch],hz:o(t).freq,octave:s.octave},null,8,["name","hz","octave"])],14,ue)),[[$,_]])}}},fe=x(he,[["__scopeId","data-v-75b02e55"]]);const F=s=>(B("data-v-7b6e39ea"),s=s(),N(),s),be={class:"flex text-2xl text-center cursor-pointer w-full"},ge=F(()=>r("div",{class:"i-la-minus"},null,-1)),xe=[ge],ye=F(()=>r("div",{class:"i-la-plus"},null,-1)),we=[ye],ke={__name:"PitchTableShift",props:{top:Boolean},setup(s){return(a,t)=>(c(),p("div",be,[o(e).octave.range.bottom!=o(e).octave.limit.bottom?(c(),p("div",{key:0,class:"btn bg-gray-300 dark-bg-gray-900",onClick:t[0]||(t[0]=d=>o(e).octave.dec(s.top))},xe)):m("",!0),o(e).octave.range.top!=o(e).octave.limit.top?(c(),p("div",{key:1,class:"btn bg-gray-50 dark-bg-gray-500",onClick:t[1]||(t[1]=d=>o(e).octave.inc(s.top))},we)):m("",!0)]))}},$e=x(ke,[["__scopeId","data-v-7b6e39ea"]]);const E=s=>(B("data-v-5d35e128"),s=s(),N(),s),Se={class:"fullscreen-container",id:"screen"},Te={class:"flex flex-wrap"},Ce={class:"flex flex-col p-2",style:{flex:"10 1 6rem"}},ze={class:"flex-auto flex flex-wrap rounded-xl dark-bg-dark-700 shadow items-center p-2 gap-2 relative"},Pe={class:"flex px-2 rounded-lg items-center bg-light-300 dark-bg-dark-800"},Ie=E(()=>r("div",{class:"p-1 pr-2 font-bold"},"A",-1)),Be=E(()=>r("div",{class:"p-1"},"Hz",-1)),Ne={__name:"PitchTable",setup(s){return H("Enter",a=>{a.preventDefault(),e.stopped=!e.stopped}),O(),(a,t)=>{const d=$e,_=fe,n=U,l=se;return c(),p(S,null,[r("div",Se,[u(d,{top:!0}),(c(!0),p(S,null,z(o(e).octave.list,i=>(c(),p("div",{class:"flex w-full",key:i},[(c(!0),p(S,null,z(o(A),(b,g)=>(c(),P(_,{key:b,class:I({dim:!o(X).isIn(b)}),pitch:g,octave:i},null,8,["class","pitch","octave"]))),128))]))),128)),u(d)]),r("div",Te,[u(n,{class:"mb-4 flex-auto",style:{flex:"1 1 2rem"}}),r("div",Ce,[r("div",ze,[u(l,{label:"letters",state:o(e).show.letters,onClick:t[0]||(t[0]=i=>o(e).show.letters=!o(e).show.letters)},null,8,["state"]),u(l,{label:"FREQ",state:o(e).show.hz,onClick:t[1]||(t[1]=i=>o(e).show.hz=!o(e).show.hz)},null,8,["state"]),u(l,{label:"Length",state:o(e).show.len,onClick:t[2]||(t[2]=i=>o(e).show.len=!o(e).show.len)},null,8,["state"]),u(l,{label:"BPM",state:o(e).show.bpm,onClick:t[3]||(t[3]=i=>o(e).show.bpm=!o(e).show.bpm)},null,8,["state"])]),u(V,{name:"fade"},{default:q(()=>[o(e).stopped?m("",!0):(c(),P(l,{key:0,class:"my-4",label:"STOP",state:o(e).stopped,onClick:t[4]||(t[4]=i=>o(e).stopped=!o(e).stopped)},null,8,["state"]))]),_:1}),r("div",Pe,[Ie,k(r("input",{class:"mx-1 p-2 max-w-26 dark-bg-dark-800","onUpdate:modelValue":t[5]||(t[5]=i=>o(e).middleA=i),type:"number"},null,512),[[R,o(e).middleA]]),Be])])])],64)}}},qe=x(Ne,[["__scopeId","data-v-5d35e128"]]),at=JSON.parse('{"title":"Table","description":"Every possible note in a huge expandable table","frontmatter":{"title":"Table","description":"Every possible note in a huge expandable table","layout":"app","cover":"table.png","date":"2022-06-02T00:00:00.000Z"},"headers":[],"relativePath":"practice/pitch/table/index.md","filePath":"practice/pitch/table/index.md","lastUpdated":1700240387000}'),Ae={name:"practice/pitch/table/index.md"};function Fe(s,a,t,d,_,n){const l=qe,i=L("client-only");return c(),p("div",null,[u(i,null,{default:q(()=>[u(l)]),_:1})])}const lt=x(Ae,[["render",Fe]]);export{at as __pageData,lt as default};
