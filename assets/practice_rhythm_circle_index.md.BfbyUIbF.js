import{u as bt,b as pt,f as s,g as i,h as t,m as k,l as e,F as D,j as O,k as x,ag as ct,p as X,E as V,_ as R,P as U,z as w,R as h,q as N,U as Z,x as ft,e as tt,c as E,r as L,d as Y,H as wt,A,V as ut,aj as kt,Q as Ft,$ as $t}from"./chunks/framework.n9whnjNp.js";import{ak as P,O as _,aw as S,ax as zt,ar as ht,q as F,H as Mt,P as Tt,Y as Bt,at as At,au as mt}from"./chunks/theme.Cj7ONg-J.js";import{b as Et,c as Vt,_ as It,a as St,d as Lt}from"./chunks/angle-right.BAvg5b4h.js";import{_ as Nt,C as Pt}from"./chunks/CircleCenter.CP6gjLG2.js";import{_ as vt}from"./chunks/SvgRing.CMVd8AqA.js";bt("tempo-circle-loops",[{over:8,under:8,volume:1,sound:"A"},{over:3,under:3,volume:.5,sound:"B"}]);const C=pt({channel:1,tempoCC:8,cc:[{over:1,under:2,steps:3,rotate:4,sound:5,pan:6,vol:7},{over:9,under:10,steps:11,rotate:12,sound:13,pan:14,vol:15}],params:{over:"Number of steps",under:"Subdivision",steps:"Number of active steps",rotate:"Rotation of the pattern",sound:"Beat sound kit",pan:"Panning",vol:"Volume",bpm:"BPM"}}),Dt={class:"flex"},Ot=["onUpdate:modelValue"],Ut={colspan:"2"},Rt={__name:"RhythmCircleMidiControls",setup(o){return(r,l)=>{var p,n,a,y,c,f;return s(),i("div",Dt,[t("table",null,[t("thead",null,[l[3]||(l[3]=t("tr",null,[t("th",null,"Parameter "),t("th",{class:"text-center",colspan:"2"},"CC")],-1)),t("tr",null,[t("th",null,"CH "+k((n=(p=e(P))==null?void 0:p.cc)==null?void 0:n.channel)+" CC "+k((y=(a=e(P))==null?void 0:a.cc)==null?void 0:y.number),1),l[1]||(l[1]=t("th",null,"Outer loop ",-1)),l[2]||(l[2]=t("th",null,"Inner loop",-1))])]),t("tbody",null,[(s(!0),i(D,null,O(e(C).cc[0],($,d)=>(s(),i("tr",{key:d},[t("td",null,k(e(C).params[d]),1),(s(),i(D,null,O(2,(v,g)=>{var b,z;return t("td",{key:g},[x(t("input",{class:"dark-bg-light-100 dark-bg-opacity-10 p-2 rounded max-w-20","onUpdate:modelValue":T=>e(C).cc[g][d]=T,type:"number",min:"0",max:"127",style:X({outline:((z=(b=e(P))==null?void 0:b.cc)==null?void 0:z.number)==e(C).cc[g][d]?"1px red solid":""})},null,12,Ot),[[ct,e(C).cc[g][d]]])])}),64))]))),128)),t("tr",null,[l[4]||(l[4]=t("td",null,"BPM",-1)),t("td",Ut,[x(t("input",{class:"dark-bg-light-100 dark-bg-opacity-10 p-2 rounded max-w-22","onUpdate:modelValue":l[0]||(l[0]=$=>e(C).tempoCC=$),type:"number",min:"0",max:"127",style:X({outline:((f=(c=e(P))==null?void 0:c.cc)==null?void 0:f.number)==e(C).tempoCC?"1px red solid":""})},null,4),[[ct,e(C).tempoCC]])])])])])])}}},Ht={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function qt(o,r){return s(),i("svg",Ht,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"M6 3v26h20V9.6l-.3-.3l-6-6l-.3-.3zm2 2h10v6h6v16H8zm12 1.4L22.6 9H20zM15 13v5h-3l4 4l4-4h-3v-5zm-3 10v2h8v-2z"},null,-1)]))}const jt=V({name:"la-file-download",render:qt}),Wt={style:{"vertical-align":"middle"},viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"};function Yt(o,r){return s(),i("svg",Wt,r[0]||(r[0]=[t("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M25.8 27.869a1 1 0 0 0-.8.98V31a1.5 1.5 0 0 1-3 0v-4.322a1.5 1.5 0 0 1 1.395-1.496c1.778-.124 4.393-.73 6.515-2.083c2.071-1.322 3.59-3.285 3.59-6.254c0-2.86-1.061-4.843-2.602-6.158c-1.578-1.347-3.774-2.085-6.132-2.177c-4.881-.191-9.43 2.31-10.302 6.204a1.5 1.5 0 0 1-2.928-.655c.666-2.974 2.587-5.151 5.074-6.576c2.5-1.433 5.531-2.078 8.274-1.97c2.868.112 5.76 1.013 7.962 2.892c2.24 1.912 3.654 4.744 3.654 8.44c0 4.238-2.27 7.056-4.976 8.783c-1.832 1.169-3.9 1.87-5.723 2.24M21 40a3 3 0 1 1 6 0a3 3 0 0 1-6 0"},null,-1)]))}const Kt=V({name:"healthicons-question",render:Yt}),Gt={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Jt(o,r){return s(),i("svg",Gt,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"M6 6v20h20V6zm2 2h16v16H8z"},null,-1)]))}const Qt=V({name:"la-stop",render:Jt}),Xt={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Zt(o,r){return s(),i("svg",Xt,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"M10 6v20h2V6zm10 0v20h2V6z"},null,-1)]))}const te=V({name:"la-pause",render:Zt}),ee={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function oe(o,r){return s(),i("svg",ee,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"M9 5.156v21.688l1.531-1L25.844 16L10.53 6.156zm2 3.657L22.156 16L11 23.188z"},null,-1)]))}const ne=V({name:"la-play",render:oe}),re={class:"transport","font-size":"60"},le={class:"border",fill:"transparent","stroke-width":"4",x:"0",y:"0",rx:"10",width:"70",height:"80"},se={transform:"translate(-2,4)"},ae={class:"border",fill:"transparent","stroke-width":"4",x:"0",y:"0",rx:"10",width:"70",height:"80"},ie={__name:"BeatControlTransport",setup(o){return(r,l)=>{const p=ne,n=te,a=Qt,y=U("tooltip");return s(),i("g",re,[t("g",{class:"btn cursor-pointer",transform:"translate(0,50)",onClick:l[0]||(l[0]=c=>e(_).playing=!e(_).playing)},[x(t("rect",le,null,512),[[y,"Play/pause",void 0,{left:!0}]]),t("g",se,[e(_).playing?(s(),w(n,{key:1})):(s(),w(p,{key:0}))])]),e(_).stopped?N("",!0):(s(),i("g",{key:0,class:"btn cursor-pointer",transform:"translate(0,150)",onClick:l[1]||(l[1]=c=>e(_).stopped=Date.now())},[x(t("rect",ae,null,512),[[y,"Stop",void 0,{left:!0}]]),h(a,{y:"5"})]))])}}},de=R(ie,[["__scopeId","data-v-1f5be573"]]),ce={style:{"vertical-align":"middle"},viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function ue(o,r){return s(),i("svg",ce,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"M9.5 3a5.5 5.5 0 0 0-5.044 7.695a4 4 0 0 0-.819.615a6.5 6.5 0 1 1 12.259-1.645a3.7 3.7 0 0 0-.929-.563A5.5 5.5 0 0 0 9.5 3m4.488 5.834Q14 8.67 14 8.5a4.5 4.5 0 1 0-8.616 1.821a4.2 4.2 0 0 1 1.048-.135a3.5 3.5 0 1 1 6.564-1.526zM9.5 6A1.5 1.5 0 0 0 8 7.5v4.251c-.584-.197-1.243-.316-1.866-.248c-.458.05-.916.201-1.301.515c-.39.317-.67.77-.818 1.36a.5.5 0 0 0 .43.619c2.592.288 3.914 1.7 4.553 2.728c.48.772 1.41 1.407 2.435 1.229l1.517-.264a2.5 2.5 0 0 0 1.918-1.599l.983-2.67a2.5 2.5 0 0 0-1.914-3.327L11 9.58V7.5A1.5 1.5 0 0 0 9.5 6M9 7.5a.5.5 0 0 1 1 0V10a.5.5 0 0 0 .414.492l3.35.587a1.5 1.5 0 0 1 1.149 1.996l-.984 2.67a1.5 1.5 0 0 1-1.15.96l-1.517.264c-.502.087-1.077-.227-1.415-.772c-.7-1.128-2.094-2.62-4.649-3.098c.08-.128.17-.227.266-.305q.306-.247.777-.297c.642-.07 1.419.142 2.035.45A.5.5 0 0 0 9 12.5z"},null,-1)]))}const me=V({name:"fluent-tap-double20-regular",render:ue}),pe={class:"tap cursor-pointer"},fe=["stroke"],he=["stroke"],ve={fill:"currentColor","font-size":"36",y:"52",x:"60","text-anchor":"middle"},ye={__name:"BeatControlTap",setup(o){return(r,l)=>{const p=me,n=U("tooltip");return s(),i("g",pe,[t("g",{class:"finger",transform:"translate(140,0)",onMousedown:l[0]||(l[0]=Z(a=>e(S).tap(),["stop","prevent"])),onTouchstart:l[1]||(l[1]=Z(a=>e(S).tap(),["stop","prevent"]))},[x(t("rect",{width:"70",height:"80",rx:"10",stroke:e(S).last?"currentColor":"#33333333",fill:"transparent","stroke-width":"4"},null,8,fe),[[n,"Tap tempo",void 0,{left:!0}]]),h(p,{"font-size":"55",transform:"translate(2,8)",fill:"currentColor",y:"0",x:"2","text-anchor":"middle"})],32),e(S).bpm&&e(S).last?(s(),i("g",{key:0,class:"bpm transition-all duration-200 ease-out",onClick:l[2]||(l[2]=a=>e(_).bpm=e(S).bpm)},[t("rect",{x:"0",width:"120",height:"80",rx:"10","stroke-width":"4",fill:"transparent",stroke:e(S).last?"currentColor":"#33333333"},null,8,he),t("text",ve,k(e(S).bpm.toFixed(1)),1)])):N("",!0)])}}},ge={style:{"vertical-align":"middle"},viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function xe(o,r){return s(),i("svg",ge,r[0]||(r[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[t("path",{d:"M6 10c0-1.146.277-2.245.78-3.219m1.792-2.208A7 7 0 0 1 19 13.6a10 10 0 0 1-.633.762m-2.045 1.96A8 8 0 0 0 15 18.6A4.5 4.5 0 0 1 8.2 20"}),t("path",{d:"M11.42 7.414a3 3 0 0 1 4.131 4.13M3 3l18 18"})],-1)]))}const _e=V({name:"tabler-ear-off",render:xe}),Ce={style:{"vertical-align":"middle"},viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function be(o,r){return s(),i("svg",Ce,r[0]||(r[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[t("path",{d:"M6 10a7 7 0 1 1 13 3.6a10 10 0 0 1-2 2a8 8 0 0 0-2 3A4.5 4.5 0 0 1 8.2 20"}),t("path",{d:"M10 10a3 3 0 1 1 5 2.2"})],-1)]))}const we=V({name:"tabler-ear",render:be}),ke=["stroke"],Fe={class:"icon",transform:"translate(6,12)"},$e=["stroke"],ze={fill:"currentColor","font-size":"36",y:"52",x:"130","text-anchor":"middle"},Me={__name:"BeatControlListen",setup(o){const{init:r,tuner:l}=zt();return(p,n)=>{const a=we,y=_e,c=U("tooltip");return s(),i("g",{class:"listen","font-size":"45",onClick:n[2]||(n[2]=f=>e(l).initiated?null:e(r)())},[t("g",{class:"ear",onClick:n[0]||(n[0]=f=>e(l).listen=!e(l).listen)},[x(t("rect",{width:"70",height:"80",stroke:e(l).listen?"currentColor":"#3333",fill:"transparent",rx:"10","stroke-width":"4"},null,8,ke),[[c,"Guess tempo from audio input",void 0,{right:!0}]]),t("g",Fe,[e(l).listen?(s(),w(y,{key:1})):(s(),w(a,{key:0}))])]),e(l).listen?(s(),i("g",{key:0,class:"bpm transition-all duration-200 ease-out",onClick:n[1]||(n[1]=f=>e(_).bpm=e(l).bpm)},[t("rect",{x:"80",width:"100",height:"80",rx:"10","stroke-width":"4",fill:"transparent",stroke:e(l).blink?"currentColor":"#33333333"},null,8,$e),t("text",ze,k(e(l).bpm.toFixed(1)),1)])):N("",!0)])}}},Te=R(Me,[["__scopeId","data-v-ff4914a2"]]),Be={class:"transport","font-size":"45"},Ae={class:"btn cursor-pointer",transform:"translate(0,50)"},Ee={transform:"translate(6,12)"};function Ve(o,r){return s(),i("g",Be,[t("g",Ae,[r[0]||(r[0]=t("rect",{class:"border",fill:"transparent","stroke-width":"4",rx:"10",width:"70",height:"80"},null,-1)),t("g",Ee,[ft(o.$slots,"default",{},void 0,!0)])])])}const Ie={},Se=R(Ie,[["render",Ve],["__scopeId","data-v-2cfafb70"]]),Le=["stroke"],Ne={fill:"currentColor"},Pe={fill:"currentColor",y:"40"},De=["fill"],Oe={__name:"BeatControlMath",setup(o){function r(l){_.bpm+=(l.delta[0]-l.delta[1])/16}return(l,p)=>{const n=U("drag");return x((s(),i("g",{class:"math cursor-pointer","font-size":"36","drag-options":{filterTaps:!0},onDblclick:p[0]||(p[0]=a=>e(_).bpm=120)},[p[1]||(p[1]=t("rect",{y:"-50",rx:"20",width:"200",height:"150",fill:"transparent"},null,-1)),t("line",{class:"transition-all duration-100 ease-out",x1:"-10",x2:"-10",y1:"-20",y2:"80","stroke-width":"8","stroke-linecap":"round",stroke:e(_).blink?e(_).color:"transparent"},null,8,Le),t("text",Ne,k(e(_).bpm.toFixed(2))+" BPM",1),t("text",Pe,k(e(_).hz)+" Hz",1),t("text",{y:"80",fill:e(_).color,"font-weight":"bold"},k(e(_).note),9,De)],32)),[[n,r]])}}};function Ue(o,r){return s(),i("g",null,r[0]||(r[0]=[t("g",{id:"rects"},[t("rect",{y:"0",style:{opacity:"0.85",fill:"#333333","enable-background":"new"},width:"1000",height:"1000"}),t("path",{style:{fill:"#666F9B"},d:"M34.4,3.6h167.9c10.7,0,19.3,9.1,19.3,20.2v104c0,11.2-8.7,20.2-19.3,20.2H34.4		c-10.7,0-19.3-9.1-19.3-20.2v-104C15,12.7,23.7,3.6,34.4,3.6z"}),t("path",{style:{fill:"#AAD037"},d:"M446,9.7h101.7c8.7,0,15.7,6.1,15.7,13.7v31.6c0,7.5-7,13.7-15.7,13.7H446		c-8.7,0-15.7-6.1-15.7-13.7V23.3C430.3,15.8,437.3,9.7,446,9.7z"}),t("path",{style:{fill:"#AAD037"},d:"M446,208.3h101.7c8.7,0,15.7,6.1,15.7,13.7v31.6c0,7.5-7,13.7-15.7,13.7H446		c-8.7,0-15.7-6.1-15.7-13.7V222C430.3,214.4,437.3,208.3,446,208.3z"}),t("path",{style:{fill:"#9AA4D3"},d:"M23.5,901.3H260c11.6,0,21,7.4,21,16.5v62.1c0,9.1-9.4,16.5-21,16.5H23.5c-11.6,0-21-7.4-21-16.5		v-62.1C2.5,908.7,11.9,901.3,23.5,901.3z"}),t("path",{style:{fill:"#027F92"},d:"M754.4,890.1h225.8c11,0,20,7.7,20,17.2V972c0,9.5-9,17.2-20,17.2H754.4c-11,0-20-7.7-20-17.2v-64.7		C734.4,897.8,743.4,890.1,754.4,890.1z"}),t("path",{style:{fill:"#88C6E2"},d:"M975.8,210h-61.7c-7.8,0-14.2-6.4-14.2-14.2V25.2c0-7.8,6.4-14.2,14.2-14.2h61.7		c7.8,0,14.2,6.4,14.2,14.2v170.7C990,203.6,983.6,210,975.8,210z"}),t("rect",{x:"900",y:"790",width:"90",height:"90",rx:"20",fill:"#037755"}),t("rect",{x:"10",y:"150",width:"110",height:"60",rx:"20",fill:"#039955ee"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#60CCF2"},d:"M563.6,563.6c35.1-35.1,35.1-92.1,0-127.3l-31.8,31.8			c17.6,17.6,17.6,46.1,0,63.6L563.6,563.6z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#0A92CF"},d:"M436.4,436.4c-35.1,35.1-35.1,92.1,0,127.3l31.8-31.8			c-17.6-17.6-17.6-46.1,0-63.6L436.4,436.4z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#FCBB69"},d:"M563.6,436.4c-35.1-35.1-92.1-35.1-127.3,0l31.8,31.8			c17.6-17.6,46.1-17.6,63.6,0L563.6,436.4z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#7AC143"},d:"M436.4,563.6c35.1,35.1,92.1,35.1,127.3,0l-31.8-31.8			c-17.6,17.6-46.1,17.6-63.6,0L436.4,563.6z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#30ABE2"},d:"M973,500c0-226.4-160.5-421.1-382.7-464.3		c-4.3-0.8-8.5,2-9.4,6.3c-0.8,4.3,2,8.5,6.3,9.4C802,93.1,957,281.2,957,500c0,4.4,3.6,8,8,8S973,504.4,973,500z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#988CFF"},d:"M401.7,37.3C183.2,83.8,27,276.7,27,500c0,4.4,3.6,8,8,8		s8-3.6,8-8C43,284.2,193.9,97.8,405,53c4.3-0.9,7.1-5.2,6.2-9.5C410.2,39.2,406,36.4,401.7,37.3z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#8ECB84"},d:"M862.3,804c57-67.9,93.7-150.4,106.1-238.2		c0.6-4.4-2.4-8.4-6.8-9c-4.4-0.6-8.4,2.4-9,6.8l0,0c-11.9,84.8-47.4,164.6-102.5,230.2c-2.8,3.4-2.4,8.4,1,11.3		C854.5,807.8,859.5,807.4,862.3,804z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#F7956A"},d:"M541.2,971.2c102.3-9,198.9-51,275.3-119.7		c3.3-3,3.5-8,0.6-11.3s-8-3.5-11.3-0.6l0,0c-73.7,66.4-167.1,107-266,115.6c-4.4,0.4-7.6,4.3-7.3,8.7		C533,968.3,536.8,971.6,541.2,971.2z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#EA68A7"},d:"M31.6,565.8c31.5,224.2,217.5,394.7,443.6,406.5		c4.4,0.2,8.2-3.2,8.4-7.6c0.2-4.4-3.2-8.1-7.6-8.4C257.6,944.9,77.9,780.2,47.4,563.6c-0.6-4.4-4.7-7.4-9-6.8		C34,557.4,31,561.5,31.6,565.8z"}),t("path",{style:{fill:"#666"},d:"M500,71C265.3,71,75,261.3,75,496s190.3,425,425,425s425-190.3,425-425S734.7,71,500,71z M500,821		c-179.5,0-325-145.5-325-325s145.5-325,325-325s325,145.5,325,325S679.5,821,500,821z"}),t("path",{style:{fill:"#777"},d:"M500,274.1c-122.5,0-221.9,99.3-221.9,221.9S377.5,717.9,500,717.9S721.9,618.5,721.9,496		S622.5,274.1,500,274.1z M500,624.3c-70.9,0-128.3-57.4-128.3-128.3S429.1,367.7,500,367.7S628.3,425.1,628.3,496		S570.9,624.3,500,624.3z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#30ABE2"},d:"M773,500c0-116.5-74-220.2-184.1-258.1		c-4.2-1.4-8.7,0.8-10.2,5c-1.4,4.2,0.8,8.7,5,10.2C687.4,292.7,757,390.3,757,500c0,4.4,3.6,8,8,8S773,504.4,773,500z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#988CFF"},d:"M406.6,243.5C298.8,282.7,227,385.2,227,500c0,4.4,3.6,8,8,8		s8-3.6,8-8c0-108,67.6-204.5,169.1-241.5c4.2-1.5,6.3-6.1,4.8-10.3C415.4,244.1,410.8,242,406.6,243.5z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#8ECB84"},d:"M709.1,675.5c26.7-31.8,45.7-69.2,55.8-109.4		c1.1-4.3-1.6-8.6-5.8-9.7c-4.3-1.1-8.6,1.5-9.7,5.8c-9.4,37.9-27.4,73.1-52.5,103c-2.8,3.4-2.4,8.4,1,11.3		C701.2,679.3,706.3,678.9,709.1,675.5z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#F7956A"},d:"M523.8,772c49.3-4.3,96.6-22,136.7-51.1		c3.6-2.6,4.4-7.6,1.8-11.2s-7.6-4.4-11.2-1.8l0,0c-37.7,27.4-82.2,44-128.7,48.1c-4.4,0.4-7.7,4.3-7.3,8.7S519.4,772.3,523.8,772z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#EA68A7"},d:"M235.1,566c26.5,106.3,114,186.5,222.2,203.6		c4.4,0.7,8.5-2.3,9.2-6.7c0.7-4.4-2.3-8.5-6.7-9.2c-101.9-16.1-184.2-91.6-209.2-191.7c-1.1-4.3-5.4-6.9-9.7-5.8		C236.6,557.4,234,561.8,235.1,566z"})],-1),t("g",{id:"texts","font-weight":"bold","font-size":"25px"},[t("text",{transform:"matrix(1 0 0 1 15 188)","font-size":"18"},"EUCLIDEAN"),t("text",{"font-size":"15","text-anchor":"middle",transform:"matrix(1 0 0 1 945 820)",style:{fill:"#FFFFFF"}},[t("tspan",{x:"0"},"EXPORT "),t("tspan",{x:"0",y:"20"},"MIDI"),t("tspan",{x:"0",y:"40"},"FILE")]),t("text",{transform:"matrix(1 0 0 1 30.8611 55.5253)",style:{fill:"#FFFFFF"}},"TEMPO INFO"),t("text",{transform:"matrix(1 0 0 1 649.9998 804.2612)",style:{fill:"#F7956A"}},"PANNING"),t("text",{transform:"matrix(1 0 0 1 843.2753 925)",style:{fill:"#FFFFFF"}},"TAP TEMPO"),t("text",{transform:"matrix(1 0 0 1 748.6371 971.2296)",style:{fill:"#FFFFFF"}},"CLICK TO SET"),t("text",{transform:"matrix(1 0 0 1 96.1243 985.2861)",style:{fill:"#FFFFFF"}},"CLICK TO SET"),t("text",{transform:"matrix(1 0 0 1 14.5221 932.4329)",style:{fill:"#FFFFFF"}},"AUDIO TO TEMPO"),t("text",{transform:"matrix(1 0 0 1 162.5001 771.9922)",style:{fill:"#EA68A7"}},"SOUND KIT"),t("text",{transform:"matrix(1 0 0 1 189.7273 264.2068)"},[t("tspan",{x:"0",y:"0",style:{fill:"#988CFF"}},"TOP"),t("tspan",{x:"-29.2",y:"30",style:{fill:"#988CFF"}},"NUMBER")]),t("text",{transform:"matrix(1 0 0 1 734.6319 263.8826)"},[t("tspan",{x:"0",y:"0",style:{fill:"#30ABE2"}},"BOTTOM"),t("tspan",{x:"2.8",y:"30",style:{fill:"#30ABE2"}},"NUMBER")]),t("text",{transform:"matrix(1 0 0 1 446.9636 103.7921)",style:{fill:"#AAD037"}},"METER"),t("text",{transform:"matrix(1 0 0 1 777.0959 661.5693)",style:{fill:"#8ECB84"}},"VOLUME"),t("text",{transform:"matrix(1 0 0 1 472.961 505)",style:{fill:"#FFFFFF"}},"BPM"),t("text",{transform:"matrix(1 0 0 1 31.4109 95.1306)"},[t("tspan",{x:"0",y:"0",style:{fill:"#FFFFFF","font-size":"19.8425px"}},"Drag across"),t("tspan",{x:"0",y:"23.8",style:{fill:"#FFFFFF","font-size":"19.8425px"}},"to change BPM")]),t("text",{transform:"matrix(1 0 0 1 440.7423 383)"},[t("tspan",{x:"0",y:"0",style:{fill:"#FCBB69","font-size":"19.8425px"}},"Drag across"),t("tspan",{x:"-14.3",y:"23.8",style:{fill:"#FCBB69","font-size":"19.8425px"}},"to change BPM")]),t("text",{transform:"matrix(1 0 0 1 479.9783 443.6178)",style:{fill:"#FFFFFF"}},"Х 2"),t("text",{transform:"matrix(1 0 0 1 483.5272 574.109)",style:{fill:"#FFFFFF"}},"/ 2"),t("text",{transform:"matrix(1 0 0 1 551.3752 509.5666)",style:{fill:"#FFFFFF"}},"+1"),t("text",{transform:"matrix(1 0 0 1 424.09 508)",style:{fill:"#FFFFFF"}},"-1"),t("text",{transform:"matrix(1 0 0 1 912.6625 52.0002)",style:{"enable-background":"new"}},[t("tspan",{x:"0",y:"0",style:{fill:"#FFFFFF"}},"PLAY"),t("tspan",{x:"-0.7",y:"60",style:{fill:"#FFFFFF"}},"STOP")]),t("text",{transform:"matrix(1 0 0 1 600.1643 38.6146)",style:{fill:"#88C6E2","font-size":"20px"}},"Press Spacebar to play/pause"),t("text",{transform:"matrix(1 0 0 1 700.2522 68.6146)",style:{fill:"#88C6E2","font-size":"20px"}},"Press Enter to stop"),t("text",{transform:"matrix(1 0 0 1 419.2261 148.5724)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"LOOP 1 STEPS"),t("text",{transform:"matrix(1 0 0 1 421.7783 340.3109)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"LOOP 2 STEPS"),t("text",{transform:"matrix(1 0 0 1 337.6439 650.5206)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"CLICK A STEP TO ACTIVATE IT"),t("text",{transform:"matrix(1 0 0 1 302.5375 853.3745)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"CLICK A STEP CIRCLE TO SET ACCENT")],-1)]))}const Re={},He=R(Re,[["render",Ue]]),qe={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function je(o,r){return s(),i("svg",qe,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"m16 3.594l-.719.687l-7 7L9.72 12.72L15 7.438V24h2V7.437l5.281 5.282l1.438-1.438l-7-7zM7 26v2h18v-2z"},null,-1)]))}const We=V({name:"la-upload",render:je}),Ye={class:"recorder"},Ke=["fill"],Ge={class:"close cursor-pointer",transform:"translate(300 150)"},Je=["fill"],Qe={class:"pointer-events-none"},Xe=["x","stroke-width"],Ze=["transform"],to=["onMousedown","stroke"],eo=["transform"],oo={class:"p-4",width:"110",height:"110"},no=["for"],ro=["id","onChange"],lo={__name:"BeatRecorder",props:{recorder:Object},emits:["close"],setup(o,{emit:r}){const{isDark:l}=tt();return(p,n)=>{const a=Nt,y=We;return s(),i("g",Ye,[t("rect",{style:{filter:"url(#shadowButton)"},width:"600",height:"200",rx:"100",fill:e(l)?"#333e":"#ddde"},null,8,Ke),t("g",Ge,[t("circle",{r:"40",fill:e(l)?"#333e":"#ddde",style:{filter:"url(#shadowButton)"},onMousedown:n[0]||(n[0]=c=>p.$emit("close"))},null,40,Je),t("g",Qe,[h(a,{"font-size":"40px",x:"-25",y:"-25"})])]),(s(),i(D,null,O(["main","accent"],(c,f)=>t("g",{class:"add",key:c},[t("rect",{x:40+f*300,y:"40",fill:"none",width:"220",height:"120",stroke:"currentColor","stroke-width":o.recorder[c]?10:2,"stroke-opacity":"0.5",rx:"60"},null,8,Xe),t("g",{class:"record cursor-pointer",transform:`translate(${100+400*f} 100)`},[t("circle",{class:"opacity-60 hover-opacity-80 transition-all duration-200 ease",onMousedown:$=>o.recorder.rec(c),r:"40",fill:"#900",stroke:o.recorder.recording==c?"#666":"transparent","stroke-width":"4",style:{filter:"url(#shadowButton)"}},null,40,to)],8,Ze),t("g",{class:"load cursor-pointer",transform:`translate(${160+200*f} 50)`},[(s(),i("foreignObject",oo,[t("label",{class:"transition-all duration-200 ease cursor-pointer text-4xl rounded-full px-4 pb-6 pt-2 hover-bg-light-200 dark-(hover-bg-dark-100) bg-light-400 shadow-lg dark-bg-dark-300",for:c},[h(y)],8,no),t("input",{class:"hidden",type:"file",id:c,onChange:$=>o.recorder.load(c,$.target.files[0])},null,40,ro)]))],8,eo)])),64))])}}},so={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ao(o,r){return s(),i("svg",so,r[0]||(r[0]=[t("path",{fill:"currentColor",d:"M15 4.594L13.281 6.28L8.562 11H4v10h4.563l4.718 4.719L15 27.406zm-2 4.843v13.126L9.719 19.28L9.406 19H6v-6h3.406l.313-.281zm7.219 2.344L18.78 13.22L21.563 16l-2.782 2.781l1.438 1.438L23 17.437l2.781 2.782l1.438-1.438L24.437 16l2.782-2.781l-1.438-1.438L23 14.562z"},null,-1)]))}const io=V({name:"la-volume-mute",render:ao}),co=["x1","y1","stroke-width","stroke","opacity","x2","y2"],uo=["cx","cy","stroke","fill","opacity"],mo=["cx","cy","r","stroke","fill","opacity"],po=["opacity","fill","x","y"],fo={__name:"LoopSector",props:{radius:{type:Number,default:400},step:{type:Number,default:0},total:{type:Number,default:4},active:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},accented:{type:Boolean,default:!1}},emits:["mute"],setup(o){const r=o,l=E(()=>ht(r.step+_.pitch/12*r.total,r.total,1)),p=E(()=>F(r.step,r.total,r.radius+25,1e3)),n=E(()=>[F(r.step,r.total,r.radius-(r.muted?25:0),1e3),F(r.step,r.total,r.radius-50,1e3)]);return(a,y)=>{const c=vt;return s(),i("g",{onMousedown:y[1]||(y[1]=f=>a.$emit("mute"))},[h(c,{from:o.step/o.total*360,to:(o.step+1)/o.total*360,fill:l.value,radius:o.radius+50,op:o.active?1:.1},null,8,["from","to","fill","radius","op"]),t("line",{x1:n.value[0].x,y1:n.value[0].y,"stroke-width":o.muted?2:4,stroke:o.muted?"currentColor":l.value,"stroke-linecap":"round",opacity:o.muted?.5:1,x2:n.value[1].x,y2:n.value[1].y},null,8,co),t("circle",{class:"transition-all duration-100 ease-out",cx:p.value.x,cy:p.value.y,r:25,stroke:o.active?"currentColor":l.value,fill:o.active?"currentColor":o.accented?l.value:"transparent",opacity:o.muted?0:1,"stroke-width":"4",onMousedown:y[0]||(y[0]=Z(f=>o.muted?a.$emit("mute"):a.$emit("accent"),["stop"]))},null,40,uo),t("circle",{class:"transition-all duration-100 ease-out",cx:e(F)(o.step,o.total,o.radius-50,1e3).x,cy:e(F)(o.step,o.total,o.radius-50,1e3).y,r:o.muted?4:8,stroke:o.active?"currentColor":o.muted?"transparent":l.value,fill:o.muted?"currentColor":l.value,opacity:o.muted?.5:1,"stroke-width":"4","stroke-linecap":"round"},null,8,mo),t("text",{opacity:o.muted?.2:1,style:{"user-select":"none","pointer-events":"none",transition:"all 200ms ease"},fill:o.active?"var(--c-bg)":"currentColor","font-family":"Commissioner, sans-serif","font-size":"36px","text-anchor":"middle","dominant-baseline":"middle",x:p.value.x,y:p.value.y+4},k(o.step+1),9,po)],32)}}},ho=["cx","cy"],vo={key:1,class:"all pointer-events-none"},yo=["cx","cy","r"],go=["transform"],xo=["fill"],_o={transform:"translate(0 10)",fill:"currentColor"},W={__name:"LoopControl",props:{modelValue:{type:Number,default:.1},step:{type:Number,default:.1},min:{type:Number,default:0},max:{type:Number,default:1},start:{type:Number,default:0},finish:{type:Number,default:90},radius:{type:Number,default:300},cx:{type:Number,default:500},cy:{type:Number,default:500},vector:{type:Array,default:()=>[1,-1]},showPositions:{type:Boolean,default:!1},ratio:{type:Number,default:200},every:{type:Number,default:null},showCenter:{type:Boolean,default:!1},midiChannel:{type:Number,default:1},midiCC:{type:Number,default:0}},emits:["update:modelValue"],setup(o,{emit:r}){const{isDark:l}=tt(),p=r,n=o,a=pt({inner:Mt((n.modelValue-n.min)/(n.max-n.min),0,1),proportion:E(()=>(n.modelValue-n.min)/(n.max-n.min)),angle:E(()=>a.proportion*(n.start-n.finish)+n.finish),position:E(()=>F(a.angle,360,n.radius-25,1e3)),center:E(()=>F(n.finish-(n.finish-n.start)/2,360,n.radius-25,1e3))}),y=L();Tt({onDrag(d){var v;(v=d==null?void 0:d.event)==null||v.preventDefault(),a.inner+=(n.vector[0]*d.delta[0]+n.vector[1]*d.delta[1])/n.ratio},onWheel(d){var v;(v=d==null?void 0:d.event)==null||v.preventDefault(),a.inner+=(n.vector[0]*-d.velocities[0]+n.vector[1]*-d.velocities[1])/n.ratio}},{domTarget:y,eventOptions:{passive:!1}});function c(d){a.inner+=d*n.step/(n.max-n.min)}Y(()=>a.inner,d=>{let v=d*(n.max-n.min)+n.min;p("update:modelValue",Math.round(v/n.step)*n.step)});const f=E(()=>{let d=(n.max-n.min)/n.step,v=[];for(let g=0;g<=1;g+=1/d){let b=F(g*(n.finish-n.start)+n.start,360,n.radius-25,1e3);v.push(b)}return v}),$=L(0);return Y(()=>P.cc,d=>{d.channel!=C.channel||d.number!=n.midiCC||($.value=d.value,a.inner=d.value)}),(d,v)=>{const g=vt;return s(),i("g",{class:"arc cursor-grab active-cursor-grabbing",ref_key:"control",ref:y},[v[2]||(v[2]=t("defs",null,[t("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[t("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})])],-1)),h(g,{class:"increase",cx:500,cy:500,from:n.start,to:a.angle,fill:e(l)?"#1111":"#fff4",radius:o.radius,thickness:50,round:"",onMousedown:v[0]||(v[0]=b=>c(1))},null,8,["from","to","fill","radius"]),h(g,{class:"decrease",cx:500,cy:500,from:a.angle,to:o.showCenter?(n.finish+n.start)/2:n.finish,fill:e(l)?"#8882":"#ddd9",radius:o.radius,thickness:50,round:"",onMousedown:v[1]||(v[1]=b=>c(-1))},null,8,["from","to","fill","radius"]),h(g,{class:"line pointer-events-none",style:{"pointer-events":"none"},cx:500,cy:500,from:n.start,to:n.finish,fill:e(l)?"#333":"#cdcdcd",op:.7,radius:o.radius-17,thickness:16,round:""},null,8,["from","to","fill","radius"]),o.showCenter?(s(),i("circle",{key:0,class:"pointer-events-none",opacity:"0.75",fill:"currentColor",r:"4",cx:a.center.x,cy:a.center.y},null,8,ho)):N("",!0),o.showPositions?(s(),i("g",vo,[(s(!0),i(D,null,O(f.value,(b,z)=>(s(),i("circle",{class:"pointer-events-none",key:b,cx:b.x,cy:b.y,r:o.every&&z%o.every==0?4:2,fill:"currentColor",opacity:"0.4"},null,8,yo))),128))])):N("",!0),t("g",{class:"pointer-events-none",transform:`translate(${a.position.x} ${a.position.y})`},[t("circle",{class:"pointer-events-none",style:{filter:"url(#shadowButton)"},r:"25","stroke-width":"3","stroke-opacity":"0.3",fill:e(l)?"#333":"#ddd"},null,8,xo),t("g",_o,[ft(d.$slots,"default",{},()=>[t("text",null,k(o.modelValue.toFixed(2)),1)])])],8,go)],512)}}},Co={"text-anchor":"middle",style:{"user-select":"none",transition:"all 300ms ease"}},bo={opacity:"0.5"},wo=["r"],ko=["opacity"],Fo=["x1","y1","x2","y2","stroke"],$o=["transform"],zo=["stroke-opacity","stroke","fill"],Mo=["transform"],To={class:"signature"},Bo={fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"40px","text-anchor":"end",x:-10,y:-3},Ao={fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"40px","text-anchor":"start",x:10,y:-3},Eo={class:"arrow pointer-events-none"},Vo=["x2","y2"],Io=["x2","y2"],So={__name:"CircleLoop",props:{radius:{type:Number,default:400},size:{type:Number,default:175},order:{type:Number,default:0}},setup(o){const{isDark:r}=tt(),l=o,{sampler:p,seq:n,meter:a,current:y,steps:c,mutes:f,accents:$,volume:d,activeSteps:v,progress:g,mutesCount:b,pan:z,mute:T,reset:H,rotateAccents:K}=Bt(void 0,l.order,"circle"),et=["A","B","C","D","E","F"],q=L(et.findIndex(M=>M==(a==null?void 0:a.sound))),j=E(()=>l.radius+110),G=L(0);wt("Shift",()=>{G.value=g.value}),Y(q,M=>{a.sound=et[M]});const ot=E(()=>g.value>0?F(g.value*360,360,l.radius+50,1e3):{x:500,y:100}),nt=E(()=>g.value>0?F(G.value*360,360,l.radius+50,1e3):{x:500,y:100}),rt=L(0),lt=L(4);return Y(()=>P.cc,M=>{if(M.channel==C.channel){if(M.number==C.cc[l.order].steps){const u=lt.value-M.raw;if(lt.value=M.raw,!u||f.value.length-b.value<0||u>0&&b.value<=1)return;const J=f.value.findIndex(Q=>Q==u<0);f.value[J]=u>0,H()}if(M.number==C.cc[l.order].rotate){const u=rt.value-M.raw;rt.value=M.raw,K(u)}}}),(M,u)=>{var at,it,dt;const st=Et,J=io,Q=Vt,yt=lo,gt=It,xt=St,I=U("tooltip"),_t=U("drag");return s(),i("g",Co,[t("g",bo,[t("circle",{cx:"500",cy:"500",r:o.radius-55,"stroke-width":"2",fill:"transparent",stroke:"currentColor"},null,8,wo)]),t("g",{class:"steps",opacity:(at=e(n))==null?void 0:at.volume},[(s(!0),i(D,null,O(e(v),(m,B)=>(s(),i("g",{key:m},[t("line",{x1:e(F)(m,e(c).length,o.radius-55,1e3).x,y1:e(F)(m,e(c).length,o.radius-55,1e3).y,x2:e(F)(e(v)[B+1]||e(v)[0],e(c).length,o.radius-55,1e3).x,y2:e(F)(e(v)[B+1]||e(v)[0],e(c).length,o.radius-55,1e3).y,"stroke-width":"8",stroke:e(ht)(m+e(_).pitch/12*e(c).length,e(c).length,1)},null,8,Fo)]))),128)),(s(!0),i(D,null,O(e(c),(m,B)=>(s(),w(fo,{key:m,step:B,total:e(c).length,active:!e(f)[B]&&m==e(y),radius:o.radius-5,muted:e(f)[B],style:{cursor:"pointer"},accented:!!e($)[B],onAccent:Ct=>e($)[B]=!e($)[B],onMute:Ct=>e(f)[B]=!e(f)[B]},null,8,["step","total","active","radius","muted","accented","onAccent","onMute"]))),128))],8,ko),x((s(),w(W,{class:"under",modelValue:e(a).under,"onUpdate:modelValue":u[0]||(u[0]=m=>e(a).under=m),radius:j.value,start:16+o.order*11,finish:90,step:1,"font-size":"30",min:1,max:16,vector:[-1,-1],"show-positions":"",ratio:800,every:4,"midi-c-c":e(C).cc[o.order].under},{default:A(()=>{var m;return[t("text",null,k((m=e(a))==null?void 0:m.under),1)]}),_:1},8,["modelValue","radius","start","midi-c-c"])),[[I,"Measure subdivision",void 0,{top:!0}]]),x((s(),w(W,{class:"over",modelValue:e(a).over,"onUpdate:modelValue":u[1]||(u[1]=m=>e(a).over=m),radius:j.value,start:343-o.order*11,finish:270,step:1,"font-size":"30",min:2,max:48-o.order*24,vector:[1,-1],"show-positions":"",ratio:1e3,every:4,"midi-c-c":e(C).cc[o.order].over},{default:A(()=>{var m;return[t("text",null,k((m=e(a))==null?void 0:m.over),1)]}),_:1},8,["modelValue","radius","start","max","midi-c-c"])),[[I,"Number of steps",void 0,{top:!0}]]),x((s(),w(W,{class:"vol",radius:j.value,start:98+o.order*6,finish:130,modelValue:e(d),"onUpdate:modelValue":u[2]||(u[2]=m=>ut(d)?d.value=m:null),"font-size":"30",fixed:1,step:.02,min:0,max:1,vector:[1,-1],midiCC:e(C).cc[o.order].vol},{default:A(()=>[h(st,{x:"-18",y:"-28"})]),_:1},8,["radius","start","modelValue","midiCC"])),[[I,"Track volume",void 0,{bottom:!0}]]),t("g",{class:"mute opacity-30 hover-opacity-60 transition cursor-pointer",transform:`translate(${850-o.order*147},${800-o.order*128})`,onClick:u[3]||(u[3]=m=>T.value=!e(T)),style:X({opacity:e(T)?1:""})},[t("circle",{style:{filter:"url(#shadowButton)"},r:"25","stroke-width":"3","stroke-opacity":e(T)?1:0,stroke:e(r)?"#ddd":"#333",fill:e(r)?"#333":"#ddd"},null,8,zo),h(J,{class:"text-4xl",x:"-20",y:"-21"})],12,$o),x((s(),w(W,{class:"pan",radius:j.value,start:138+o.order*6,finish:175,modelValue:e(z),"onUpdate:modelValue":u[4]||(u[4]=m=>ut(z)?z.value=m:null),"font-size":"30",fixed:1,step:.05,min:-1,max:1,"show-center":"",midiCC:e(C).cc[o.order].pan},{default:A(()=>[h(Q,{x:"-18",y:"-28"})]),_:1},8,["radius","start","modelValue","midiCC"])),[[I,"Track panning",void 0,{bottom:!0}]]),x((s(),w(W,{class:"sound",radius:j.value,modelValue:q.value,"onUpdate:modelValue":u[5]||(u[5]=m=>q.value=m),vector:[1,1],start:183+o.order*6,finish:262-o.order*6,"font-size":"30",fixed:1,step:1,min:0,max:5,"show-positions":"",ratio:400,every:1,midiCC:e(C).cc[o.order].sound},{default:A(()=>{var m;return[t("text",null,k((m=e(a))==null?void 0:m.sound),1)]}),_:1},8,["radius","modelValue","start","finish","midiCC"])),[[I,"Select sound",void 0,{bottom:!0}]]),h(kt,{name:"fade"},{default:A(()=>[q.value==5&&!e(p).both?(s(),w(yt,{key:0,transform:`translate(200 ${800-o.order*220})`,recorder:e(p),onClose:u[6]||(u[6]=m=>q.value--)},null,8,["transform","recorder"])):N("",!0)]),_:1}),x((s(),i("g",{class:"info",transform:`translate(500,${o.order*o.size+50})`},[x((s(),i("g",To,[u[9]||(u[9]=t("text",{fill:"currentColor","font-size":"45"},"/",-1)),t("text",Bo,k((it=e(a))==null?void 0:it.over),1),t("text",Ao,k((dt=e(a))==null?void 0:dt.under),1)])),[[I,"Time signature",void 0,{top:!0}]]),x((s(),i("g",{class:"cursor-pointer opacity-50 transition-all duration-200 ease hover-opacity-100",transform:"translate(74,-10)",onMousedown:u[7]||(u[7]=m=>e(K)(-1))},[u[10]||(u[10]=t("circle",{r:"18",fill:"#5553"},null,-1)),h(gt,{"font-size":"28",x:"-17",y:"-17"})],32)),[[I,"Rotate pattern forward",void 0,{top:!0}]]),x((s(),i("g",{class:"cursor-pointer opacity-50 transition-all duration-200 ease hover-opacity-100",transform:"translate(-78,-10)",onMousedown:u[8]||(u[8]=m=>e(K)(1))},[u[11]||(u[11]=t("circle",{r:"18",fill:"#5553"},null,-1)),h(xt,{"font-size":"28",x:"-17",y:"-17"})],32)),[[I,"Rotate pattern back",void 0,{top:!0}]])],8,Mo)),[[_t,e(K)]]),t("g",Eo,[G.value>0?(s(),i("line",{key:0,x1:500,y1:500,"stroke-width":"4",stroke:"currentColor","stroke-linecap":"cound",x2:nt.value.x,y2:nt.value.y},null,8,Vo)):N("",!0),t("line",{x1:500,y1:500,"stroke-width":"4",stroke:"currentColor","stroke-linecap":"cound",x2:ot.value.x,y2:ot.value.y},null,8,Io),u[12]||(u[12]=t("circle",{cx:500,cy:500,fill:"currentColor",r:5},null,-1))])])}}},Lo=R(So,[["__scopeId","data-v-0fcbee3e"]]),No={class:"flex flex-col items-center w-full relative fullscreen-container",id:"screen"},Po={class:"min-h-80svh max-h-98svh w-full select-none",id:"metronome",version:"1.1",baseProfile:"full",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},Do={__name:"RhythmCircle",setup(o){const r=L(!1);function l(){mt.forEach(n=>n.reset())}const p=L(0);return Y(()=>P.cc,n=>{if(n.channel!=C.channel||n.number!=C.tempoCC)return;const a=n.raw-p.value;p.value=n.raw,_.bpm=Math.floor(_.bpm+a)}),(n,a)=>{const y=Oe,c=Lt,f=Se,$=Te,d=ye,v=de,g=Kt,b=jt,z=U("tooltip");return s(),i("div",No,[(s(),i("svg",Po,[a[4]||(a[4]=t("defs",null,[t("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[t("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})])],-1)),h(y,{transform:"translate(20,50)"}),x((s(),w(f,{transform:"translate(20,110) scale(0.75)",title:"Reset to Euclidean",onClick:a[0]||(a[0]=T=>l())},{default:A(()=>[h(c)]),_:1})),[[z,"Reset to Euclidean pattern",void 0,{right:!0}]]),h($,{transform:"translate(10,900)"}),h(d,{transform:"translate(785,900)"}),h(v,{transform:"translate(910,-30)"}),x((s(),w(f,{transform:"translate(10,750)",onClick:a[1]||(a[1]=T=>r.value=!0)},{default:A(()=>[h(g)]),_:1})),[[z,"Toggle info overlay",void 0,{right:!0}]]),x((s(),w(f,{transform:"translate(925,750)",onClick:a[2]||(a[2]=T=>e(At)(e(mt)))},{default:A(()=>[h(b)]),_:1})),[[z,"Export MIDI file",void 0,{left:!0}]]),(s(),i(D,null,O(2,(T,H)=>h(Lo,{key:H,order:H,radius:380-H*200,size:200},null,8,["order","radius"])),64)),h(Pt,{transform:"translate(500,500) scale(0.75)"}),r.value?(s(),w(He,{key:0,class:"cursor-pointer",onClick:a[3]||(a[3]=T=>r.value=!1)})):N("",!0)]))])}}},Oo=R(Do,[["__scopeId","data-v-e2004b92"]]),Go=JSON.parse('{"title":"Circular metronome","description":"Looped rhythm and polyrhythm exploration tool","frontmatter":{"title":"Circular metronome","description":"Looped rhythm and polyrhythm exploration tool","date":"2021-10-02T00:00:00.000Z","layout":"app","cover":"tempo.png","links":["https://habr.com/ru/post/278265/"]},"headers":[],"relativePath":"practice/rhythm/circle/index.md","filePath":"practice/rhythm/circle/index.md","lastUpdated":1727863906000}'),Uo={name:"practice/rhythm/circle/index.md"},Ro={class:"info custom-block"};function Ho(o,r,l,p,n,a){const y=Oo,c=$t("client-only"),f=Rt;return s(),i("div",null,[h(c,null,{default:A(()=>[h(y,{style:{position:"sticky",top:"0"}})]),_:1}),r[1]||(r[1]=Ft('<div class="info custom-block" data-v-30d57107><p class="custom-block-title" data-v-30d57107>INFO</p><h2 id="welcome-to-the-all-mighty-chromatone-circular-metronome" tabindex="-1" data-v-30d57107>Welcome to the all-mighty Chromatone circular metronome <a class="header-anchor" href="#welcome-to-the-all-mighty-chromatone-circular-metronome" aria-label="Permalink to &quot;Welcome to the all-mighty Chromatone circular metronome&quot;" data-v-30d57107>​</a></h2><p data-v-30d57107>It&#39;s the center for deep exploration of any kind of rhythmic patterns. We have two independent wheels ready to hold any variety of looping beats. Here&#39;s how you operate it:</p><ol data-v-30d57107><li data-v-30d57107>Set the <strong data-v-30d57107>number of steps</strong> with the top left slider. The external loop takes up to 48 steps for long sequences. The internal loop is smaller and can hold up to 16 steps.</li><li data-v-30d57107>Set the <strong data-v-30d57107>number of subdivisions</strong> of a measure with the top right slider. If the left and right numbers are equal you get a full loop cycle equal to one measure. But many more combinations are possible!</li><li data-v-30d57107>Turn steps <strong data-v-30d57107>on and off</strong> by clicking the colored wheel segments. The colorful lines connect all active steps of a sequence.</li><li data-v-30d57107>Use the <i class="p-3 mr-1 i-ic-baseline-refresh" data-v-30d57107></i> button to reset the mutes distribution to the <a href="./../../../theory/rhythm/system/euclidean/" data-v-30d57107>Euclidean rhythm</a> given the number of mutes and given the loop steps count.</li><li data-v-30d57107>You can <strong data-v-30d57107>set accents</strong> on certain steps by clicking the step number. Filled circles produce an accented sound, hollow ones are regular beats.</li><li data-v-30d57107>Of course you can choose one of <strong data-v-30d57107>5 sound kits</strong> for the wheels independently. Just drag or click the bottom left slider (that one with the letters A-E).</li><li data-v-30d57107>If you want your own sounds to be played by the metronome – choose the last letter <strong data-v-30d57107>F</strong>. It&#39;ll open the two recorders and loaders for that. <strong data-v-30d57107>Record any sound</strong> from your microphone or <strong data-v-30d57107>upload any sound file</strong> for both regular and accented beats.</li><li data-v-30d57107>Adjust the <strong data-v-30d57107>panning</strong> <i class="p-3 mr-1 i-mdi-pan-horizontal" data-v-30d57107></i> and the <strong data-v-30d57107>volume</strong> <i class="p-3 mr-1 i-la-volume-up" data-v-30d57107></i> of each loop with the sliders on the bottom right. You can even set two independent rhythms to play in two separate channels (left and right).</li><li data-v-30d57107>Press <strong data-v-30d57107>play</strong> button <i class="p-3 mr-1 i-la-play" data-v-30d57107></i> in the top right corner and listen to the patterns you&#39;ve created. The playback may be paused <i class="p-3 mr-1 i-la-pause" data-v-30d57107></i> and resumed from that place or stopped and reset with the stop button <i class="p-3 mr-1 i-la-stop" data-v-30d57107></i>. If you don&#39;t hear any sound on you mobile – just turn off the silent mode. Tested on iOS, it works!</li><li data-v-30d57107>There are two arrows <i class="p-3 mr-1 i-la-angle-left" data-v-30d57107></i> and <i class="p-3 mr-1 i-la-angle-right" data-v-30d57107></i> near the meter numbers at the top of the loops. With them you can <strong data-v-30d57107>rotate the pattern</strong> left or right at any moment, producing even more complex and evolving sequences.</li><li data-v-30d57107>The center circle of the metronome is very interactive. Use the <i class="p-3 mr-1 i-la-minus" data-v-30d57107></i> and <i class="p-3 mr-1 i-la-plus" data-v-30d57107></i> buttons to incrementally <strong data-v-30d57107>change the tempo</strong> by one BPM. Or press <i class="p-3 mr-1 i-la-slash" data-v-30d57107></i> and <i class="p-3 mr-1 i-la-times" data-v-30d57107></i> sectors to divide/multiply the tempo by two. It&#39;s like traversing the octaves of sound pitches. Notice that you get the same &#39;note&#39; and starting color for these tempos.</li><li data-v-30d57107>You can also just tap and drag the center circle to change the tempo gradually, either with touch on mobile or mouse pointer on desktop.</li><li data-v-30d57107>The top left corner with the tempo information works the same – <strong data-v-30d57107>drag it</strong> to set the tempo you want.</li><li data-v-30d57107>At the bottom of the screen you can find buttons to get the tempo from the world around you to the app. The bottom left ear button <i class="p-3 mr-1 i-tabler-ear" data-v-30d57107></i> activates the sophisticated <strong data-v-30d57107>analyser that can determine the tempo</strong> from any incoming audio signal. Turn it on and let the microphone hear your rhythm: clap it, stomp it, sign it or just turn the music on. The app will listen to the audio and show its guess in the box near the &#39;ear&#39; button. If you like what you get just press the number and the tempo will be set to the metronome itself.</li><li data-v-30d57107>The bottom right hand button <i class="p-3 mr-1 i-fluent-tap-double-20-regular" data-v-30d57107></i>is just good old <strong data-v-30d57107>tap tempo</strong>. Tap it three times or more to see the tempo you&#39;ve imagined or hear playing. The more you tap – the more precise the result gets. Then tap the number to set the main tempo to the new value.</li><li data-v-30d57107>If you see a square icon <i class="p-3 mr-1 i-la-expand" data-v-30d57107></i> at the bottom left corner, you are able to open the circle metronome to the <strong data-v-30d57107>full screen</strong>. What an immense experience!</li><li data-v-30d57107>Once you build some interesting patterns you can <strong data-v-30d57107>export them as a MIDI file</strong> to use in any DAW or other MIDI-compatible tool. Just press the <i class="p-3 mr-1 i-la-file-download" data-v-30d57107></i> button at the right bottom corner and choose a place to save it to your system. Then you can drag and drop it to your DAW timeline, choose intrument for the tracks and transpose the notes to desired notes.</li><li data-v-30d57107>Explore our <a href="./../../../theory/rhythm/" data-v-30d57107>rhythm theory section</a> for inspiration about what to dial into the loops. This app can act as a simple visual and audial cue for your music practice or become a tool to explore the enormous space of possible rhythmic combinations. Polyrhythms have never been so easy to see and internalise. The colors and the form of the metronome can help sticking to the tempo even in silence. Be creative and feel the power of this rhythm visualisation tool.</li><li data-v-30d57107>You can also control all the parameters of the metronome with your MIDI-controller. Use the knobs to send the <strong data-v-30d57107>CC messages number 1-16</strong> on <strong data-v-30d57107>channel 1</strong> for it. Two loops are independently controlled by these MIDI commands. You can easily change the CC numbers here.</li></ol></div>',1)),t("div",Ro,[r[0]||(r[0]=t("p",{class:"custom-block-title"},"INFO",-1)),h(c,null,{default:A(()=>[h(f)]),_:1})])])}const Jo=R(Uo,[["render",Ho],["__scopeId","data-v-30d57107"]]);export{Go as __pageData,Jo as default};
