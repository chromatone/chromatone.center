import{L as ht,r as nt,o as s,c as i,a as t,t as $,u as e,F as P,d as N,B as x,D as tt,C as q,_ as D,A as I,g as b,f as p,l as V,E as W,ac as rt,Q as st,p as Z,q as K,k as Y,b as z,H as U,x as E,X as pt,w as A,ab as ft,I as _t,h as yt}from"./chunks/framework.ce37a0ec.js";import{m as L}from"./chunks/midi.bf8ae129.js";import{t as _,a as et}from"./chunks/tempo.75710bea.js";import{u as vt}from"./chunks/tuner.2ee15f86.js";import{b as gt,c as xt,_ as Ct,a as bt,d as $t}from"./chunks/angle-right.dca9c6b8.js";import{_ as wt,C as kt}from"./chunks/CircleCenter.63b14ab1.js";import{_ as lt}from"./chunks/SvgRing.54a8958f.js";import{j as it}from"./chunks/colors.ca18318e.js";import{g as w}from"./chunks/calculations.65ee336d.js";import{u as Ft}from"./chunks/index.2a5674c8.js";import{u as Mt,t as ot}from"./chunks/sequence.0664f2da.js";import{r as zt}from"./chunks/midiRender.49c61b56.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/index.b30cd6d2.js";import"./chunks/index.7e29818c.js";import"./chunks/audio.ca7fd670.js";import"./chunks/Loop.7803fa37.js";import"./chunks/index.654bd828.js";import"./chunks/synth.32806492.js";import"./chunks/Scale.019e8617.js";import"./chunks/Subtract.021e8485.js";import"./chunks/PingPongDelay.073e3698.js";import"./chunks/AutoPanner.3bba78b0.js";import"./chunks/MonoSynth.313f051c.js";import"./chunks/Filter.8a3ea551.js";import"./chunks/theory.61e5aadb.js";import"./chunks/index.86652af6.js";import"./chunks/Sequence.169977ed.js";import"./chunks/UserMedia.73fd2a59.js";import"./chunks/Midi.1f918097.js";ht("tempo-circle-loops",[{over:8,under:8,volume:1,sound:"A"},{over:3,under:3,volume:.5,sound:"B"}]);const C=nt({channel:1,tempoCC:8,cc:[{over:1,under:2,steps:3,rotate:4,sound:5,pan:6,vol:7},{over:9,under:10,steps:11,rotate:12,sound:13,pan:14,vol:15}],params:{over:"Number of steps",under:"Subdivision",steps:"Number of active steps",rotate:"Rotation of the pattern",sound:"Beat sound kit",pan:"Panning",vol:"Volume",bpm:"BPM"}}),Tt={class:"flex"},Bt=t("tr",null,[t("th",null,"Parameter "),t("th",{class:"text-center",colspan:"2"},"CC")],-1),At=t("th",null,"Outer loop ",-1),St=t("th",null,"Inner loop",-1),It=["onUpdate:modelValue"],Vt=t("td",null,"BPM",-1),Et={colspan:"2"},Lt={__name:"RhythmCircleMidiControls",setup(o){return(l,r)=>{var m,n,c,y,d,f;return s(),i("div",Tt,[t("table",null,[Bt,t("tr",null,[t("th",null,"CH "+$((n=(m=e(L))==null?void 0:m.cc)==null?void 0:n.channel)+" CC "+$((y=(c=e(L))==null?void 0:c.cc)==null?void 0:y.number),1),At,St]),(s(!0),i(P,null,N(e(C).cc[0],(h,g)=>(s(),i("tr",{key:g},[t("td",null,$(e(C).params[g]),1),(s(),i(P,null,N(2,(k,F)=>{var M,T;return t("td",{key:F},[x(t("input",{class:"dark-bg-light-100 dark-bg-opacity-10 p-2 rounded max-w-20","onUpdate:modelValue":v=>e(C).cc[F][g]=v,type:"number",min:"0",max:"127",style:q({outline:((T=(M=e(L))==null?void 0:M.cc)==null?void 0:T.number)==e(C).cc[F][g]?"1px red solid":""})},null,12,It),[[tt,e(C).cc[F][g]]])])}),64))]))),128)),t("tr",null,[Vt,t("td",Et,[x(t("input",{class:"dark-bg-light-100 dark-bg-opacity-10 p-2 rounded max-w-22","onUpdate:modelValue":r[0]||(r[0]=h=>e(C).tempoCC=h),type:"number",min:"0",max:"127",style:q({outline:((f=(d=e(L))==null?void 0:d.cc)==null?void 0:f.number)==e(C).tempoCC?"1px red solid":""})},null,4),[[tt,e(C).tempoCC]])])])])])}}},Pt={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Nt=t("path",{fill:"currentColor",d:"M6 3v26h20V9.6l-.3-.3l-6-6l-.3-.3H6zm2 2h10v6h6v16H8V5zm12 1.4L22.6 9H20V6.4zM15 13v5h-3l4 4l4-4h-3v-5h-2zm-3 10v2h8v-2h-8z"},null,-1),Dt=[Nt];function Ot(o,l){return s(),i("svg",Pt,Dt)}const Ut={name:"la-file-download",render:Ot},Ht={style:{"vertical-align":"middle"},viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"},Rt=t("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M25.8 27.869a1 1 0 0 0-.8.98V31a1.5 1.5 0 0 1-3 0v-4.322a1.5 1.5 0 0 1 1.395-1.496c1.778-.124 4.393-.73 6.515-2.083c2.071-1.322 3.59-3.285 3.59-6.254c0-2.86-1.061-4.843-2.602-6.158c-1.578-1.347-3.774-2.085-6.132-2.177c-4.881-.191-9.43 2.31-10.302 6.204a1.5 1.5 0 0 1-2.928-.655c.666-2.974 2.587-5.151 5.074-6.576c2.5-1.433 5.531-2.078 8.274-1.97c2.868.112 5.76 1.013 7.962 2.892c2.24 1.912 3.654 4.744 3.654 8.44c0 4.238-2.27 7.056-4.976 8.783c-1.832 1.169-3.9 1.87-5.723 2.24ZM21 40a3 3 0 1 1 6 0a3 3 0 0 1-6 0Z"},null,-1),jt=[Rt];function qt(o,l){return s(),i("svg",Ht,jt)}const Wt={name:"healthicons-question",render:qt},Zt={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Kt=t("path",{fill:"currentColor",d:"M6 6v20h20V6zm2 2h16v16H8z"},null,-1),Yt=[Kt];function Jt(o,l){return s(),i("svg",Zt,Yt)}const Gt={name:"la-stop",render:Jt},Xt={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Qt=t("path",{fill:"currentColor",d:"M10 6v20h2V6zm10 0v20h2V6z"},null,-1),te=[Qt];function ee(o,l){return s(),i("svg",Xt,te)}const oe={name:"la-pause",render:ee},ne={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},re=t("path",{fill:"currentColor",d:"M9 5.156v21.688l1.531-1L25.844 16L10.53 6.156zm2 3.657L22.156 16L11 23.188z"},null,-1),se=[re];function le(o,l){return s(),i("svg",ne,se)}const ie={name:"la-play",render:le};const ae={class:"transport","font-size":"60"},ce={class:"border",fill:"transparent","stroke-width":"4",x:"0",y:"0",rx:"10",width:"70",height:"80"},de={transform:"translate(-2,4)"},ue={class:"border",fill:"transparent","stroke-width":"4",x:"0",y:"0",rx:"10",width:"70",height:"80"},me={__name:"BeatControlTransport",setup(o){return(l,r)=>{const m=ie,n=oe,c=Gt,y=I("tooltip");return s(),i("g",ae,[t("g",{class:"btn cursor-pointer",transform:"translate(0,50)",onClick:r[0]||(r[0]=d=>e(_).playing=!e(_).playing)},[x(t("rect",ce,null,512),[[y,"Play/pause",void 0,{left:!0}]]),t("g",de,[e(_).playing?(s(),b(n,{key:1})):(s(),b(m,{key:0}))])]),e(_).stopped?V("",!0):(s(),i("g",{key:0,class:"btn cursor-pointer",transform:"translate(0,150)",onClick:r[1]||(r[1]=d=>e(_).stopped=Date.now())},[x(t("rect",ue,null,512),[[y,"Stop",void 0,{left:!0}]]),p(c,{y:"5"})]))])}}},he=D(me,[["__scopeId","data-v-1f5be573"]]),pe={style:{"vertical-align":"middle"},viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},fe=t("path",{fill:"currentColor",d:"M9.5 3a5.5 5.5 0 0 0-5.044 7.695a3.934 3.934 0 0 0-.819.615a6.5 6.5 0 1 1 12.259-1.645a3.707 3.707 0 0 0-.929-.563A5.5 5.5 0 0 0 9.5 3Zm4.488 5.834a4.5 4.5 0 1 0-8.604 1.487a4.207 4.207 0 0 1 1.048-.135a3.5 3.5 0 1 1 6.564-1.526l.992.174ZM9.5 6A1.5 1.5 0 0 0 8 7.5v4.251c-.584-.197-1.243-.316-1.866-.248c-.458.05-.916.201-1.301.515c-.39.317-.67.77-.818 1.36a.5.5 0 0 0 .43.619c2.592.288 3.914 1.7 4.553 2.728c.48.772 1.41 1.407 2.435 1.229l1.517-.264a2.5 2.5 0 0 0 1.918-1.599l.983-2.67a2.5 2.5 0 0 0-1.914-3.327L11 9.58V7.5A1.5 1.5 0 0 0 9.5 6ZM9 7.5a.5.5 0 0 1 1 0V10a.5.5 0 0 0 .414.492l3.35.587a1.5 1.5 0 0 1 1.149 1.996l-.984 2.67a1.5 1.5 0 0 1-1.15.96l-1.517.264c-.502.087-1.077-.227-1.415-.772c-.7-1.128-2.094-2.62-4.649-3.098c.08-.128.17-.227.266-.305c.203-.165.464-.263.777-.297c.642-.07 1.419.142 2.035.45A.5.5 0 0 0 9 12.5v-5Z"},null,-1),_e=[fe];function ye(o,l){return s(),i("svg",pe,_e)}const ve={name:"fluent-tap-double20-regular",render:ye},ge={class:"tap cursor-pointer"},xe=["stroke"],Ce=["stroke"],be={fill:"currentColor","font-size":"36",y:"52",x:"60","text-anchor":"middle"},$e={__name:"BeatControlTap",setup(o){return(l,r)=>{const m=ve,n=I("tooltip");return s(),i("g",ge,[t("g",{class:"finger",transform:"translate(140,0)",onMousedown:r[0]||(r[0]=W(c=>e(et)(),["stop","prevent"])),onTouchstart:r[1]||(r[1]=W(c=>e(et)(),["stop","prevent"]))},[x(t("rect",{width:"70",height:"80",rx:"10",stroke:e(_).tap.last?"currentColor":"#33333333",fill:"transparent","stroke-width":"4"},null,8,xe),[[n,"Tap tempo",void 0,{left:!0}]]),p(m,{"font-size":"55",transform:"translate(2,8)",fill:"currentColor",y:"0",x:"2","text-anchor":"middle"})],32),e(_).tap.bpm&&e(_).tap.last?(s(),i("g",{key:0,class:"bpm transition-all duration-200 ease-out",onClick:r[2]||(r[2]=c=>e(_).bpm=e(_).tap.bpm)},[t("rect",{x:"0",width:"120",height:"80",rx:"10","stroke-width":"4",fill:"transparent",stroke:e(_).tap.last?"currentColor":"#33333333"},null,8,Ce),t("text",be,$(e(_).tap.bpm.toFixed(1)),1)])):V("",!0)])}}},we={style:{"vertical-align":"middle"},viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[t("path",{d:"M6 10c0-1.146.277-2.245.78-3.219m1.792-2.208A7 7 0 0 1 19 13.6a10 10 0 0 1-.633.762m-2.045 1.96A8 8 0 0 0 15 18.6A4.5 4.5 0 0 1 8.2 20"}),t("path",{d:"M11.42 7.414a3 3 0 0 1 4.131 4.13M3 3l18 18"})],-1),Fe=[ke];function Me(o,l){return s(),i("svg",we,Fe)}const ze={name:"tabler-ear-off",render:Me},Te={style:{"vertical-align":"middle"},viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Be=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[t("path",{d:"M6 10a7 7 0 1 1 13 3.6a10 10 0 0 1-2 2a8 8 0 0 0-2 3A4.5 4.5 0 0 1 8.2 20"}),t("path",{d:"M10 10a3 3 0 1 1 5 2.2"})],-1),Ae=[Be];function Se(o,l){return s(),i("svg",Te,Ae)}const Ie={name:"tabler-ear",render:Se},Ve=["stroke"],Ee={class:"icon",transform:"translate(6,12)"},Le=["stroke"],Pe={fill:"currentColor","font-size":"36",y:"52",x:"130","text-anchor":"middle"},Ne=rt({__name:"BeatControlListen",setup(o){const{init:l,tuner:r}=vt();return(m,n)=>{const c=Ie,y=ze,d=I("tooltip");return s(),i("g",{class:"listen","font-size":"45",onClick:n[2]||(n[2]=f=>e(r).initiated?null:e(l)())},[t("g",{class:"ear",onClick:n[0]||(n[0]=f=>e(r).listen=!e(r).listen)},[x(t("rect",{width:"70",height:"80",stroke:e(r).listen?"currentColor":"#3333",fill:"transparent",rx:"10","stroke-width":"4"},null,8,Ve),[[d,"Guess tempo from audio input",void 0,{right:!0}]]),t("g",Ee,[e(r).listen?(s(),b(y,{key:1})):(s(),b(c,{key:0}))])]),e(r).listen?(s(),i("g",{key:0,class:"bpm transition-all duration-200 ease-out",onClick:n[1]||(n[1]=f=>e(_).bpm=e(r).bpm)},[t("rect",{x:"80",width:"100",height:"80",rx:"10","stroke-width":"4",fill:"transparent",stroke:e(r).blink?"currentColor":"#33333333"},null,8,Le),t("text",Pe,$(e(r).bpm.toFixed(1)),1)])):V("",!0)])}}});const De=D(Ne,[["__scopeId","data-v-09aa6901"]]),Oe=o=>(Z("data-v-e97bd5df"),o=o(),K(),o),Ue={class:"transport","font-size":"45"},He={class:"btn cursor-pointer",transform:"translate(0,50)"},Re=Oe(()=>t("rect",{class:"border",fill:"transparent","stroke-width":"4",rx:"10",width:"70",height:"80"},null,-1)),je={transform:"translate(6,12)"};function qe(o,l){return s(),i("g",Ue,[t("g",He,[Re,t("g",je,[st(o.$slots,"default",{},void 0,!0)])])])}const We={},Ze=D(We,[["render",qe],["__scopeId","data-v-e97bd5df"]]),Ke=t("rect",{y:"-50",rx:"20",width:"200",height:"150",fill:"transparent"},null,-1),Ye=["stroke"],Je={fill:"currentColor"},Ge={fill:"currentColor",y:"40"},Xe=["fill"],Qe={__name:"BeatControlMath",setup(o){function l(r){_.bpm+=(r.delta[0]-r.delta[1])/16}return(r,m)=>{const n=I("drag");return x((s(),i("g",{class:"math cursor-pointer","font-size":"36","drag-options":{filterTaps:!0},onDblclick:m[0]||(m[0]=c=>e(_).bpm=120)},[Ke,t("line",{class:"transition-all duration-100 ease-out",x1:"-10",x2:"-10",y1:"-20",y2:"80","stroke-width":"8","stroke-linecap":"round",stroke:e(_).blink?e(_).color:"transparent"},null,8,Ye),t("text",Je,$(e(_).bpm.toFixed(2))+" BPM",1),t("text",Ge,$(e(_).hz)+" Hz",1),t("text",{y:"80",fill:e(_).color,"font-weight":"bold"},$(e(_).note),9,Xe)],32)),[[n,l]])}}},to=t("g",{id:"rects"},[t("rect",{y:"0",style:{opacity:"0.85",fill:"#333333","enable-background":"new"},width:"1000",height:"1000"}),t("path",{style:{fill:"#666F9B"},d:"M34.4,3.6h167.9c10.7,0,19.3,9.1,19.3,20.2v104c0,11.2-8.7,20.2-19.3,20.2H34.4		c-10.7,0-19.3-9.1-19.3-20.2v-104C15,12.7,23.7,3.6,34.4,3.6z"}),t("path",{style:{fill:"#AAD037"},d:"M446,9.7h101.7c8.7,0,15.7,6.1,15.7,13.7v31.6c0,7.5-7,13.7-15.7,13.7H446		c-8.7,0-15.7-6.1-15.7-13.7V23.3C430.3,15.8,437.3,9.7,446,9.7z"}),t("path",{style:{fill:"#AAD037"},d:"M446,208.3h101.7c8.7,0,15.7,6.1,15.7,13.7v31.6c0,7.5-7,13.7-15.7,13.7H446		c-8.7,0-15.7-6.1-15.7-13.7V222C430.3,214.4,437.3,208.3,446,208.3z"}),t("path",{style:{fill:"#9AA4D3"},d:"M23.5,901.3H260c11.6,0,21,7.4,21,16.5v62.1c0,9.1-9.4,16.5-21,16.5H23.5c-11.6,0-21-7.4-21-16.5		v-62.1C2.5,908.7,11.9,901.3,23.5,901.3z"}),t("path",{style:{fill:"#027F92"},d:"M754.4,890.1h225.8c11,0,20,7.7,20,17.2V972c0,9.5-9,17.2-20,17.2H754.4c-11,0-20-7.7-20-17.2v-64.7		C734.4,897.8,743.4,890.1,754.4,890.1z"}),t("path",{style:{fill:"#88C6E2"},d:"M975.8,210h-61.7c-7.8,0-14.2-6.4-14.2-14.2V25.2c0-7.8,6.4-14.2,14.2-14.2h61.7		c7.8,0,14.2,6.4,14.2,14.2v170.7C990,203.6,983.6,210,975.8,210z"}),t("rect",{x:"900",y:"790",width:"90",height:"90",rx:"20",fill:"#037755"}),t("rect",{x:"10",y:"150",width:"110",height:"60",rx:"20",fill:"#039955ee"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#60CCF2"},d:"M563.6,563.6c35.1-35.1,35.1-92.1,0-127.3l-31.8,31.8			c17.6,17.6,17.6,46.1,0,63.6L563.6,563.6z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#0A92CF"},d:"M436.4,436.4c-35.1,35.1-35.1,92.1,0,127.3l31.8-31.8			c-17.6-17.6-17.6-46.1,0-63.6L436.4,436.4z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#FCBB69"},d:"M563.6,436.4c-35.1-35.1-92.1-35.1-127.3,0l31.8,31.8			c17.6-17.6,46.1-17.6,63.6,0L563.6,436.4z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#7AC143"},d:"M436.4,563.6c35.1,35.1,92.1,35.1,127.3,0l-31.8-31.8			c-17.6,17.6-46.1,17.6-63.6,0L436.4,563.6z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#30ABE2"},d:"M973,500c0-226.4-160.5-421.1-382.7-464.3		c-4.3-0.8-8.5,2-9.4,6.3c-0.8,4.3,2,8.5,6.3,9.4C802,93.1,957,281.2,957,500c0,4.4,3.6,8,8,8S973,504.4,973,500z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#988CFF"},d:"M401.7,37.3C183.2,83.8,27,276.7,27,500c0,4.4,3.6,8,8,8		s8-3.6,8-8C43,284.2,193.9,97.8,405,53c4.3-0.9,7.1-5.2,6.2-9.5C410.2,39.2,406,36.4,401.7,37.3z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#8ECB84"},d:"M862.3,804c57-67.9,93.7-150.4,106.1-238.2		c0.6-4.4-2.4-8.4-6.8-9c-4.4-0.6-8.4,2.4-9,6.8l0,0c-11.9,84.8-47.4,164.6-102.5,230.2c-2.8,3.4-2.4,8.4,1,11.3		C854.5,807.8,859.5,807.4,862.3,804z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#F7956A"},d:"M541.2,971.2c102.3-9,198.9-51,275.3-119.7		c3.3-3,3.5-8,0.6-11.3s-8-3.5-11.3-0.6l0,0c-73.7,66.4-167.1,107-266,115.6c-4.4,0.4-7.6,4.3-7.3,8.7		C533,968.3,536.8,971.6,541.2,971.2z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#EA68A7"},d:"M31.6,565.8c31.5,224.2,217.5,394.7,443.6,406.5		c4.4,0.2,8.2-3.2,8.4-7.6c0.2-4.4-3.2-8.1-7.6-8.4C257.6,944.9,77.9,780.2,47.4,563.6c-0.6-4.4-4.7-7.4-9-6.8		C34,557.4,31,561.5,31.6,565.8z"}),t("path",{style:{fill:"#666"},d:"M500,71C265.3,71,75,261.3,75,496s190.3,425,425,425s425-190.3,425-425S734.7,71,500,71z M500,821		c-179.5,0-325-145.5-325-325s145.5-325,325-325s325,145.5,325,325S679.5,821,500,821z"}),t("path",{style:{fill:"#777"},d:"M500,274.1c-122.5,0-221.9,99.3-221.9,221.9S377.5,717.9,500,717.9S721.9,618.5,721.9,496		S622.5,274.1,500,274.1z M500,624.3c-70.9,0-128.3-57.4-128.3-128.3S429.1,367.7,500,367.7S628.3,425.1,628.3,496		S570.9,624.3,500,624.3z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#30ABE2"},d:"M773,500c0-116.5-74-220.2-184.1-258.1		c-4.2-1.4-8.7,0.8-10.2,5c-1.4,4.2,0.8,8.7,5,10.2C687.4,292.7,757,390.3,757,500c0,4.4,3.6,8,8,8S773,504.4,773,500z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#988CFF"},d:"M406.6,243.5C298.8,282.7,227,385.2,227,500c0,4.4,3.6,8,8,8		s8-3.6,8-8c0-108,67.6-204.5,169.1-241.5c4.2-1.5,6.3-6.1,4.8-10.3C415.4,244.1,410.8,242,406.6,243.5z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#8ECB84"},d:"M709.1,675.5c26.7-31.8,45.7-69.2,55.8-109.4		c1.1-4.3-1.6-8.6-5.8-9.7c-4.3-1.1-8.6,1.5-9.7,5.8c-9.4,37.9-27.4,73.1-52.5,103c-2.8,3.4-2.4,8.4,1,11.3		C701.2,679.3,706.3,678.9,709.1,675.5z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#F7956A"},d:"M523.8,772c49.3-4.3,96.6-22,136.7-51.1		c3.6-2.6,4.4-7.6,1.8-11.2s-7.6-4.4-11.2-1.8l0,0c-37.7,27.4-82.2,44-128.7,48.1c-4.4,0.4-7.7,4.3-7.3,8.7S519.4,772.3,523.8,772z"}),t("path",{style:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#EA68A7"},d:"M235.1,566c26.5,106.3,114,186.5,222.2,203.6		c4.4,0.7,8.5-2.3,9.2-6.7c0.7-4.4-2.3-8.5-6.7-9.2c-101.9-16.1-184.2-91.6-209.2-191.7c-1.1-4.3-5.4-6.9-9.7-5.8		C236.6,557.4,234,561.8,235.1,566z"})],-1),eo=t("g",{id:"texts","font-weight":"bold","font-size":"25px"},[t("text",{transform:"matrix(1 0 0 1 15 188)","font-size":"18"},"EUCLIDEAN"),t("text",{"font-size":"15","text-anchor":"middle",transform:"matrix(1 0 0 1 945 820)",style:{fill:"#FFFFFF"}},[t("tspan",{x:"0"},"EXPORT "),t("tspan",{x:"0",y:"20"},"MIDI"),t("tspan",{x:"0",y:"40"},"FILE")]),t("text",{transform:"matrix(1 0 0 1 30.8611 55.5253)",style:{fill:"#FFFFFF"}},"TEMPO INFO"),t("text",{transform:"matrix(1 0 0 1 649.9998 804.2612)",style:{fill:"#F7956A"}},"PANNING"),t("text",{transform:"matrix(1 0 0 1 843.2753 925)",style:{fill:"#FFFFFF"}},"TAP TEMPO"),t("text",{transform:"matrix(1 0 0 1 748.6371 971.2296)",style:{fill:"#FFFFFF"}},"CLICK TO SET"),t("text",{transform:"matrix(1 0 0 1 96.1243 985.2861)",style:{fill:"#FFFFFF"}},"CLICK TO SET"),t("text",{transform:"matrix(1 0 0 1 14.5221 932.4329)",style:{fill:"#FFFFFF"}},"AUDIO TO TEMPO"),t("text",{transform:"matrix(1 0 0 1 162.5001 771.9922)",style:{fill:"#EA68A7"}},"SOUND KIT"),t("text",{transform:"matrix(1 0 0 1 189.7273 264.2068)"},[t("tspan",{x:"0",y:"0",style:{fill:"#988CFF"}},"TOP"),t("tspan",{x:"-29.2",y:"30",style:{fill:"#988CFF"}},"NUMBER")]),t("text",{transform:"matrix(1 0 0 1 734.6319 263.8826)"},[t("tspan",{x:"0",y:"0",style:{fill:"#30ABE2"}},"BOTTOM"),t("tspan",{x:"2.8",y:"30",style:{fill:"#30ABE2"}},"NUMBER")]),t("text",{transform:"matrix(1 0 0 1 446.9636 103.7921)",style:{fill:"#AAD037"}},"METER"),t("text",{transform:"matrix(1 0 0 1 777.0959 661.5693)",style:{fill:"#8ECB84"}},"VOLUME"),t("text",{transform:"matrix(1 0 0 1 472.961 505)",style:{fill:"#FFFFFF"}},"BPM"),t("text",{transform:"matrix(1 0 0 1 31.4109 95.1306)"},[t("tspan",{x:"0",y:"0",style:{fill:"#FFFFFF","font-size":"19.8425px"}},"Drag across"),t("tspan",{x:"0",y:"23.8",style:{fill:"#FFFFFF","font-size":"19.8425px"}},"to change BPM")]),t("text",{transform:"matrix(1 0 0 1 440.7423 383)"},[t("tspan",{x:"0",y:"0",style:{fill:"#FCBB69","font-size":"19.8425px"}},"Drag across"),t("tspan",{x:"-14.3",y:"23.8",style:{fill:"#FCBB69","font-size":"19.8425px"}},"to change BPM")]),t("text",{transform:"matrix(1 0 0 1 479.9783 443.6178)",style:{fill:"#FFFFFF"}},"Х 2"),t("text",{transform:"matrix(1 0 0 1 483.5272 574.109)",style:{fill:"#FFFFFF"}},"/ 2"),t("text",{transform:"matrix(1 0 0 1 551.3752 509.5666)",style:{fill:"#FFFFFF"}},"+1"),t("text",{transform:"matrix(1 0 0 1 424.09 508)",style:{fill:"#FFFFFF"}},"-1"),t("text",{transform:"matrix(1 0 0 1 912.6625 52.0002)",style:{"enable-background":"new"}},[t("tspan",{x:"0",y:"0",style:{fill:"#FFFFFF"}},"PLAY"),t("tspan",{x:"-0.7",y:"60",style:{fill:"#FFFFFF"}},"STOP")]),t("text",{transform:"matrix(1 0 0 1 600.1643 38.6146)",style:{fill:"#88C6E2","font-size":"20px"}},"Press Spacebar to play/pause"),t("text",{transform:"matrix(1 0 0 1 700.2522 68.6146)",style:{fill:"#88C6E2","font-size":"20px"}},"Press Enter to stop"),t("text",{transform:"matrix(1 0 0 1 419.2261 148.5724)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"LOOP 1 STEPS"),t("text",{transform:"matrix(1 0 0 1 421.7783 340.3109)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"LOOP 2 STEPS"),t("text",{transform:"matrix(1 0 0 1 337.6439 650.5206)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"CLICK A STEP TO ACTIVATE IT"),t("text",{transform:"matrix(1 0 0 1 302.5375 853.3745)",style:{fill:"#FFFFFF","font-size":"21.6557px"}},"CLICK A STEP CIRCLE TO SET ACCENT")],-1),oo=[to,eo];function no(o,l){return s(),i("g",null,oo)}const ro={},so=D(ro,[["render",no]]),lo={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},io=t("path",{fill:"currentColor",d:"m16 3.594l-.719.687l-7 7L9.72 12.72L15 7.438V24h2V7.437l5.281 5.282l1.438-1.438l-7-7zM7 26v2h18v-2z"},null,-1),ao=[io];function co(o,l){return s(),i("svg",lo,ao)}const uo={name:"la-upload",render:co},mo={class:"recorder"},ho=["fill"],po={class:"close cursor-pointer",transform:"translate(300 150)"},fo=["fill"],_o={class:"pointer-events-none"},yo=["x","stroke-width"],vo=["transform"],go=["onMousedown","stroke"],xo=["transform"],Co={class:"p-4",width:"110",height:"110"},bo=["for"],$o=["id","onChange"],wo=rt({__name:"BeatRecorder",props:{recorder:Object},emits:["close"],setup(o,{emit:l}){const{isDark:r}=Y();return(m,n)=>{const c=wt,y=uo;return s(),i("g",mo,[t("rect",{style:{filter:"url(#shadowButton)"},width:"600",height:"200",rx:"100",fill:e(r)?"#333e":"#ddde"},null,8,ho),t("g",po,[t("circle",{r:"40",fill:e(r)?"#333e":"#ddde",style:{filter:"url(#shadowButton)"},onMousedown:n[0]||(n[0]=d=>m.$emit("close"))},null,40,fo),t("g",_o,[p(c,{"font-size":"40px",x:"-25",y:"-25"})])]),(s(),i(P,null,N(["main","accent"],(d,f)=>t("g",{class:"add",key:d},[t("rect",{x:40+f*300,y:"40",fill:"none",width:"220",height:"120",stroke:"currentColor","stroke-width":o.recorder[d]?10:2,"stroke-opacity":"0.5",rx:"60"},null,8,yo),t("g",{class:"record cursor-pointer",transform:`translate(${100+400*f} 100)`},[t("circle",{class:"opacity-60 hover-opacity-80 transition-all duration-200 ease",onMousedown:h=>o.recorder.rec(d),r:"40",fill:"#900",stroke:o.recorder.recording==d?"#666":"transparent","stroke-width":"4",style:{filter:"url(#shadowButton)"}},null,40,go)],8,vo),t("g",{class:"load cursor-pointer",transform:`translate(${160+200*f} 50)`},[(s(),i("foreignObject",Co,[t("label",{class:"transition-all duration-200 ease cursor-pointer text-4xl rounded-full px-4 pb-6 pt-2 hover-bg-light-200 dark-(hover-bg-dark-100) bg-light-400 shadow-lg dark-bg-dark-300",for:d},[p(y)],8,bo),t("input",{class:"hidden",type:"file",id:d,onChange:h=>o.recorder.load(d,h.target.files[0])},null,40,$o)]))],8,xo)])),64))])}}}),ko={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Fo=t("path",{fill:"currentColor",d:"M15 4.594L13.281 6.28L8.562 11H4v10h4.563l4.718 4.719L15 27.406zm-2 4.843v13.126L9.719 19.28L9.406 19H6v-6h3.406l.313-.281zm7.219 2.344L18.78 13.22L21.563 16l-2.782 2.781l1.438 1.438L23 17.437l2.781 2.782l1.438-1.438L24.437 16l2.782-2.781l-1.438-1.438L23 14.562z"},null,-1),Mo=[Fo];function zo(o,l){return s(),i("svg",ko,Mo)}const To={name:"la-volume-mute",render:zo},Bo=["x1","y1","stroke-width","stroke","opacity","x2","y2"],Ao=["cx","cy","stroke","fill","opacity"],So=["cx","cy","r","stroke","fill","opacity"],Io=["opacity","fill","x","y"],Vo={__name:"LoopSector",props:{radius:{type:Number,default:400},step:{type:Number,default:0},total:{type:Number,default:4},active:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},accented:{type:Boolean,default:!1}},emits:"mute",setup(o){const l=o,r=z(()=>it(l.step+_.pitch/12*l.total,l.total,1)),m=z(()=>w(l.step,l.total,l.radius+25,1e3)),n=z(()=>[w(l.step,l.total,l.radius-(l.muted?25:0),1e3),w(l.step,l.total,l.radius-50,1e3)]);return(c,y)=>{const d=lt;return s(),i("g",{onMousedown:y[1]||(y[1]=f=>c.$emit("mute"))},[p(d,{from:o.step/o.total*360,to:(o.step+1)/o.total*360,fill:r.value,radius:o.radius+50,op:o.active?1:.1},null,8,["from","to","fill","radius","op"]),t("line",{x1:n.value[0].x,y1:n.value[0].y,"stroke-width":o.muted?2:4,stroke:o.muted?"currentColor":r.value,"stroke-linecap":"round",opacity:o.muted?.5:1,x2:n.value[1].x,y2:n.value[1].y},null,8,Bo),t("circle",{class:"transition-all duration-100 ease-out",cx:m.value.x,cy:m.value.y,r:25,stroke:o.active?"currentColor":r.value,fill:o.active?"currentColor":o.accented?r.value:"transparent",opacity:o.muted?0:1,"stroke-width":"4",onMousedown:y[0]||(y[0]=W(f=>o.muted?c.$emit("mute"):c.$emit("accent"),["stop"]))},null,40,Ao),t("circle",{class:"transition-all duration-100 ease-out",cx:e(w)(o.step,o.total,o.radius-50,1e3).x,cy:e(w)(o.step,o.total,o.radius-50,1e3).y,r:o.muted?4:8,stroke:o.active?"currentColor":o.muted?"transparent":r.value,fill:o.muted?"currentColor":r.value,opacity:o.muted?.5:1,"stroke-width":"4","stroke-linecap":"round"},null,8,So),t("text",{opacity:o.muted?.2:1,style:{"user-select":"none","pointer-events":"none",transition:"all 200ms ease"},fill:o.active?"var(--c-bg)":"currentColor","font-family":"Commissioner, sans-serif","font-size":"36px","text-anchor":"middle","dominant-baseline":"middle",x:m.value.x,y:m.value.y+4},$(o.step+1),9,Io)],32)}}},Eo={class:"arc cursor-grab active-cursor-grabbing"},Lo=t("defs",null,[t("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[t("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})])],-1),Po=["cx","cy"],No={key:1,class:"all pointer-events-none"},Do=["cx","cy","r"],Oo=["transform"],Uo=["fill"],Ho={transform:"translate(0 10)",fill:"currentColor"},O={__name:"LoopControl",props:{modelValue:{type:Number,default:.1},step:{type:Number,default:.1},min:{type:Number,default:0},max:{type:Number,default:1},start:{type:Number,default:0},finish:{type:Number,default:90},radius:{type:Number,default:300},cx:{type:Number,default:500},cy:{type:Number,default:500},vector:{type:Array,default:()=>[1,-1]},showPositions:{type:Boolean,default:!1},ratio:{type:Number,default:200},every:{type:Number,default:null},showCenter:{type:Boolean,default:!1},midiChannel:{type:Number,default:1},midiCC:{type:Number,default:0}},emits:["update:modelValue"],setup(o,{emit:l}){const r=o,{isDark:m}=Y(),n=nt({inner:Ft((r.modelValue-r.min)/(r.max-r.min),0,1),proportion:z(()=>(r.modelValue-r.min)/(r.max-r.min)),angle:z(()=>n.proportion*(r.start-r.finish)+r.finish),position:z(()=>w(n.angle,360,r.radius-25,1e3)),center:z(()=>w(r.finish-(r.finish-r.start)/2,360,r.radius-25,1e3))});function c(h){n.inner+=(r.vector[0]*h.delta[0]+r.vector[1]*h.delta[1])/r.ratio}function y(h){n.inner+=h*r.step/(r.max-r.min)}U(()=>n.inner,h=>{let g=h*(r.max-r.min)+r.min;l("update:modelValue",Math.round(g/r.step)*r.step)});const d=z(()=>{let h=(r.max-r.min)/r.step,g=[];for(let k=0;k<=1;k+=1/h){let F=w(k*(r.finish-r.start)+r.start,360,r.radius-25,1e3);g.push(F)}return g}),f=E(0);return U(()=>L.cc,h=>{h.channel!=C.channel||h.number!=r.midiCC||(f.value=h.value,n.inner=h.value)}),(h,g)=>{const k=lt,F=I("drag");return x((s(),i("g",Eo,[Lo,p(k,{class:"increase",cx:500,cy:500,from:r.start,to:n.angle,fill:e(m)?"#1111":"#fff4",radius:o.radius,thickness:50,round:"",onMousedown:g[0]||(g[0]=M=>y(1))},null,8,["from","to","fill","radius"]),p(k,{class:"decrease",cx:500,cy:500,from:n.angle,to:o.showCenter?(r.finish+r.start)/2:r.finish,fill:e(m)?"#8882":"#ddd9",radius:o.radius,thickness:50,round:"",onMousedown:g[1]||(g[1]=M=>y(-1))},null,8,["from","to","fill","radius"]),p(k,{class:"line pointer-events-none",style:{"pointer-events":"none"},cx:500,cy:500,from:r.start,to:r.finish,fill:e(m)?"#333":"#cdcdcd",op:.7,radius:o.radius-17,thickness:16,round:""},null,8,["from","to","fill","radius"]),o.showCenter?(s(),i("circle",{key:0,class:"pointer-events-none",opacity:"0.75",fill:"currentColor",r:"4",cx:n.center.x,cy:n.center.y},null,8,Po)):V("",!0),o.showPositions?(s(),i("g",No,[(s(!0),i(P,null,N(d.value,(M,T)=>(s(),i("circle",{class:"pointer-events-none",key:M,cx:M.x,cy:M.y,r:o.every&&T%o.every==0?4:2,fill:"currentColor",opacity:"0.4"},null,8,Do))),128))])):V("",!0),t("g",{class:"pointer-events-none",transform:`translate(${n.position.x} ${n.position.y})`},[t("circle",{class:"pointer-events-none",style:{filter:"url(#shadowButton)"},r:"25","stroke-width":"3","stroke-opacity":"0.3",fill:e(m)?"#333":"#ddd"},null,8,Uo),t("g",Ho,[st(h.$slots,"default",{},()=>[t("text",null,$(o.modelValue.toFixed(2)),1)])])],8,Oo)])),[[F,c]])}}};const H=o=>(Z("data-v-c6185b2d"),o=o(),K(),o),Ro={"text-anchor":"middle",style:{"user-select":"none",transition:"all 300ms ease"}},jo={opacity:"0.5"},qo=["r"],Wo=["opacity"],Zo=["x1","y1","x2","y2","stroke"],Ko=["transform"],Yo=["stroke-opacity","stroke","fill"],Jo=["transform"],Go={class:"signature"},Xo=H(()=>t("text",{fill:"currentColor","font-size":"45"},"/",-1)),Qo={fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"40px","text-anchor":"end",x:-10,y:-3},tn={fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"40px","text-anchor":"start",x:10,y:-3},en=H(()=>t("circle",{r:"18",fill:"#5553"},null,-1)),on=H(()=>t("circle",{r:"18",fill:"#5553"},null,-1)),nn={class:"arrow pointer-events-none"},rn=["x2","y2"],sn=["x2","y2"],ln=H(()=>t("circle",{cx:500,cy:500,fill:"currentColor",r:5},null,-1)),an={__name:"CircleLoop",props:{radius:{type:Number,default:400},size:{type:Number,default:175},order:{type:Number,default:0}},setup(o){const l=o,{isDark:r}=Y(),{sampler:m,seq:n,audio:c}=Mt(void 0,l.order,"circle"),y=["A","B","C","D","E","F"],d=E(y.findIndex(v=>{var a;return v==((a=n.meter)==null?void 0:a.sound)})),f=z(()=>l.radius+110),h=E(0);pt("Shift",()=>{h.value=n.progress}),U(d,v=>{n.meter.sound=y[v]});const g=z(()=>n==null?void 0:n.steps.filter(v=>!n.mutes[v[0].split("-")[0]]).map(v=>Number(v[0].split("-")[0]))),k=z(()=>n.progress>0?w(n.progress*360,360,l.radius+50,1e3):{x:500,y:100}),F=z(()=>n.progress>0?w(h.value*360,360,l.radius+50,1e3):{x:500,y:100}),M=E(0),T=E(4);return U(()=>L.cc,v=>{if(v.channel==C.channel){if(v.number==C.cc[l.order].steps){const a=T.value-v.raw;if(T.value=v.raw,!a||n.mutes.length-n.mutesCount<0||a>0&&n.mutesCount<=1)return;const R=n.mutes.findIndex(j=>j==a<0);n.mutes[R]=a>0,n.reset()}if(v.number==C.cc[l.order].rotate){const a=M.value-v.raw;M.value=v.raw,n.rotateAccents(a)}}}),(v,a)=>{var G,X,Q;const J=gt,R=To,j=xt,at=wo,ct=Ct,dt=bt,S=I("tooltip"),ut=I("drag");return s(),i("g",Ro,[t("g",jo,[t("circle",{cx:"500",cy:"500",r:o.radius-55,"stroke-width":"2",fill:"transparent",stroke:"currentColor"},null,8,qo)]),t("g",{class:"steps",opacity:(G=e(n))==null?void 0:G.volume},[(s(!0),i(P,null,N(e(n).activeSteps,(u,B)=>(s(),i("g",{key:u},[t("line",{x1:e(w)(u,e(n).steps.length,o.radius-55,1e3).x,y1:e(w)(u,e(n).steps.length,o.radius-55,1e3).y,x2:e(w)(g.value[B+1]||g.value[0],e(n).steps.length,o.radius-55,1e3).x,y2:e(w)(g.value[B+1]||g.value[0],e(n).steps.length,o.radius-55,1e3).y,"stroke-width":"8",stroke:e(it)(u+e(_).pitch/12*e(n).steps.length,e(n).steps.length,1)},null,8,Zo)]))),128)),(s(!0),i(P,null,N(e(n).steps,(u,B)=>(s(),b(Vo,{key:u,step:B,total:e(n).steps.length,active:!e(n).mutes[B]&&u==e(n).current,radius:o.radius-5,muted:e(n).mutes[B],style:{cursor:"pointer"},accented:!!e(n).accents[B],onAccent:mt=>e(n).accents[B]=!e(n).accents[B],onMute:mt=>e(n).mutes[B]=!e(n).mutes[B]},null,8,["step","total","active","radius","muted","accented","onAccent","onMute"]))),128))],8,Wo),x((s(),b(O,{class:"under",modelValue:e(n).meter.under,"onUpdate:modelValue":a[0]||(a[0]=u=>e(n).meter.under=u),radius:f.value,start:16+o.order*11,finish:90,step:1,"font-size":"30",min:1,max:16,vector:[-1,-1],"show-positions":"",ratio:800,every:4,"midi-c-c":e(C).cc[o.order].under},{default:A(()=>{var u;return[t("text",null,$((u=e(n).meter)==null?void 0:u.under),1)]}),_:1},8,["modelValue","radius","start","midi-c-c"])),[[S,"Measure subdivision",void 0,{top:!0}]]),x((s(),b(O,{class:"over",modelValue:e(n).meter.over,"onUpdate:modelValue":a[1]||(a[1]=u=>e(n).meter.over=u),radius:f.value,start:343-o.order*11,finish:270,step:1,"font-size":"30",min:2,max:48-o.order*24,vector:[1,-1],"show-positions":"",ratio:1e3,every:4,"midi-c-c":e(C).cc[o.order].over},{default:A(()=>{var u;return[t("text",null,$((u=e(n).meter)==null?void 0:u.over),1)]}),_:1},8,["modelValue","radius","start","max","midi-c-c"])),[[S,"Number of steps",void 0,{top:!0}]]),x((s(),b(O,{class:"vol",radius:f.value,start:98+o.order*6,finish:130,modelValue:e(n).volume,"onUpdate:modelValue":a[2]||(a[2]=u=>e(n).volume=u),"font-size":"30",fixed:1,step:.02,min:0,max:1,vector:[1,-1],midiCC:e(C).cc[o.order].vol},{default:A(()=>[p(J,{x:"-18",y:"-28"})]),_:1},8,["radius","start","modelValue","midiCC"])),[[S,"Track volume",void 0,{bottom:!0}]]),t("g",{class:"mute opacity-30 hover-opacity-60 transition cursor-pointer",transform:`translate(${850-o.order*147},${800-o.order*128})`,onClick:a[3]||(a[3]=u=>e(n).mute=!e(n).mute),style:q({opacity:e(n).mute?1:""})},[t("circle",{style:{filter:"url(#shadowButton)"},r:"25","stroke-width":"3","stroke-opacity":e(n).mute?1:0,stroke:e(r)?"#ddd":"#333",fill:e(r)?"#333":"#ddd"},null,8,Yo),p(R,{class:"text-4xl",x:"-20",y:"-21"})],12,Ko),x((s(),b(O,{class:"pan",radius:f.value,start:138+o.order*6,finish:175,modelValue:e(n).pan,"onUpdate:modelValue":a[4]||(a[4]=u=>e(n).pan=u),"font-size":"30",fixed:1,step:.05,min:-1,max:1,"show-center":"",midiCC:e(C).cc[o.order].pan},{default:A(()=>[p(j,{x:"-18",y:"-28"})]),_:1},8,["radius","start","modelValue","midiCC"])),[[S,"Track panning",void 0,{bottom:!0}]]),x((s(),b(O,{class:"sound",radius:f.value,modelValue:d.value,"onUpdate:modelValue":a[5]||(a[5]=u=>d.value=u),vector:[1,1],start:183+o.order*6,finish:262-o.order*6,"font-size":"30",fixed:1,step:1,min:0,max:5,"show-positions":"",ratio:400,every:1,midiCC:e(C).cc[o.order].sound},{default:A(()=>{var u;return[t("text",null,$((u=e(n).meter)==null?void 0:u.sound),1)]}),_:1},8,["radius","modelValue","start","finish","midiCC"])),[[S,"Select sound",void 0,{bottom:!0}]]),p(ft,{name:"fade"},{default:A(()=>[d.value==5&&!e(m).both?(s(),b(at,{key:0,transform:`translate(200 ${800-o.order*220})`,recorder:e(m),onClose:a[6]||(a[6]=u=>d.value--)},null,8,["transform","recorder"])):V("",!0)]),_:1}),x((s(),i("g",{class:"info",transform:`translate(500,${o.order*o.size+50})`},[x((s(),i("g",Go,[Xo,t("text",Qo,$((X=e(n).meter)==null?void 0:X.over),1),t("text",tn,$((Q=e(n).meter)==null?void 0:Q.under),1)])),[[S,"Time signature",void 0,{top:!0}]]),x((s(),i("g",{class:"cursor-pointer opacity-50 transition-all duration-200 ease hover-opacity-100",transform:"translate(74,-10)",onMousedown:a[7]||(a[7]=u=>e(n).rotateAccents(-1))},[en,p(ct,{"font-size":"28",x:"-17",y:"-17"})],32)),[[S,"Rotate pattern forward",void 0,{top:!0}]]),x((s(),i("g",{class:"cursor-pointer opacity-50 transition-all duration-200 ease hover-opacity-100",transform:"translate(-78,-10)",onMousedown:a[8]||(a[8]=u=>e(n).rotateAccents(1))},[on,p(dt,{"font-size":"28",x:"-17",y:"-17"})],32)),[[S,"Rotate pattern back",void 0,{top:!0}]])],8,Jo)),[[ut,e(n).rotateAccents]]),t("g",nn,[h.value>0?(s(),i("line",{key:0,x1:500,y1:500,"stroke-width":"4",stroke:"currentColor","stroke-linecap":"cound",x2:F.value.x,y2:F.value.y},null,8,rn)):V("",!0),t("line",{x1:500,y1:500,"stroke-width":"4",stroke:"currentColor","stroke-linecap":"cound",x2:k.value.x,y2:k.value.y},null,8,sn),ln])])}}},cn=D(an,[["__scopeId","data-v-c6185b2d"]]);const dn=o=>(Z("data-v-e474aff2"),o=o(),K(),o),un={class:"flex flex-col items-center w-full relative pb-12 p-4 fullscreen-container rounded-3xl",id:"screen"},mn={class:"w-full max-h-90vh",id:"metronome",version:"1.1",baseProfile:"full",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},hn=dn(()=>t("defs",null,[t("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[t("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})])],-1)),pn={__name:"RhythmCircle",setup(o){const l=E(!1);function r(){ot.forEach(n=>n.reset())}const m=E(0);return U(()=>L.cc,n=>{if(n.channel!=C.channel||n.number!=C.tempoCC)return;const c=n.raw-m.value;m.value=n.raw,_.bpm=Math.floor(_.bpm+c)}),(n,c)=>{const y=Qe,d=$t,f=Ze,h=De,g=$e,k=he,F=Wt,M=Ut,T=I("tooltip");return s(),i("div",un,[(s(),i("svg",mn,[hn,p(y,{transform:"translate(20,50)"}),x((s(),b(f,{transform:"translate(20,110) scale(0.75)",title:"Reset to Euclidean",onClick:c[0]||(c[0]=v=>r())},{default:A(()=>[p(d)]),_:1})),[[T,"Reset to Euclidean pattern",void 0,{right:!0}]]),p(h,{transform:"translate(10,900)"}),p(g,{transform:"translate(785,900)"}),p(k,{transform:"translate(910,-30)"}),x((s(),b(f,{transform:"translate(10,750)",onClick:c[1]||(c[1]=v=>l.value=!0)},{default:A(()=>[p(F)]),_:1})),[[T,"Toggle info overlay",void 0,{right:!0}]]),x((s(),b(f,{transform:"translate(925,750)",onClick:c[2]||(c[2]=v=>e(zt)(e(ot)))},{default:A(()=>[p(M)]),_:1})),[[T,"Export MIDI file",void 0,{left:!0}]]),(s(),i(P,null,N(2,(v,a)=>p(cn,{key:a,order:a,radius:380-a*200,size:200},null,8,["order","radius"])),64)),p(kt,{transform:"translate(500,500) scale(0.75)"}),l.value?(s(),b(so,{key:0,class:"cursor-pointer",onClick:c[3]||(c[3]=v=>l.value=!1)})):V("",!0)]))])}}},fn=D(pn,[["__scopeId","data-v-e474aff2"]]),Yn=JSON.parse('{"title":"Circular metronome","description":"Looped rhythm and polyrhythm exploration tool","frontmatter":{"title":"Circular metronome","description":"Looped rhythm and polyrhythm exploration tool","date":"2021-10-02T00:00:00.000Z","cover":"tempo.png","links":["https://habr.com/ru/post/278265/"]},"headers":[],"relativePath":"practice/rhythm/circle/index.md","filePath":"practice/rhythm/circle/index.md","lastUpdated":1694022443000}'),_n={name:"practice/rhythm/circle/index.md"},yn=yt('<h2 id="welcome-to-the-all-mighty-chromatone-circular-metronome" tabindex="-1">Welcome to the all-mighty Chromatone circular metronome <a class="header-anchor" href="#welcome-to-the-all-mighty-chromatone-circular-metronome" aria-label="Permalink to &quot;Welcome to the all-mighty Chromatone circular metronome&quot;">​</a></h2><p>It&#39;s the center for deep exploration of any kind of rhythmic patterns. We have two independent wheels ready to hold any variety of looping beats. Here&#39;s how you operate it:</p><ol><li>Set the <strong>number of steps</strong> with the top left slider. The external loop takes up to 48 steps for long sequences. The internal loop is smaller and can hold up to 16 steps.</li><li>Set the <strong>number of subdivisions</strong> of a measure with the top right slider. If the left and right numbers are equal you get a full loop cycle equal to one measure. But many more combinations are possible!</li><li>Turn steps <strong>on and off</strong> by clicking the colored wheel segments. The colorful lines connect all active steps of a sequence.</li><li>Use the <i class="p-3 mr-1 i-ic-baseline-refresh"></i> button to reset the mutes distribution to the <a href="./../../../theory/rhythm/system/euclidean/">Euclidean rhythm</a> given the number of mutes and given the loop steps count.</li><li>You can <strong>set accents</strong> on certain steps by clicking the step number. Filled circles produce an accented sound, hollow ones are regular beats.</li><li>Of course you can choose one of <strong>5 sound kits</strong> for the wheels independently. Just drag or click the bottom left slider (that one with the letters A-E).</li><li>If you want your own sounds to be played by the metronome – choose the last letter <strong>F</strong>. It&#39;ll open the two recorders and loaders for that. <strong>Record any sound</strong> from your microphone or <strong>upload any sound file</strong> for both regular and accented beats.</li><li>Adjust the <strong>panning</strong> <i class="p-3 mr-1 i-mdi-pan-horizontal"></i> and the <strong>volume</strong> <i class="p-3 mr-1 i-la-volume-up"></i> of each loop with the sliders on the bottom right. You can even set two independent rhythms to play in two separate channels (left and right).</li><li>Press <strong>play</strong> button <i class="p-3 mr-1 i-la-play"></i> in the top right corner and listen to the patterns you&#39;ve created. The playback may be paused <i class="p-3 mr-1 i-la-pause"></i> and resumed from that place or stopped and reset with the stop button <i class="p-3 mr-1 i-la-stop"></i>. If you don&#39;t hear any sound on you mobile – just turn off the silent mode. Tested on iOS, it works!</li><li>There are two arrows <i class="p-3 mr-1 i-la-angle-left"></i> and <i class="p-3 mr-1 i-la-angle-right"></i> near the meter numbers at the top of the loops. With them you can <strong>rotate the pattern</strong> left or right at any moment, producing even more complex and evolving sequences.</li><li>The center circle of the metronome is very interactive. Use the <i class="p-3 mr-1 i-la-minus"></i> and <i class="p-3 mr-1 i-la-plus"></i> buttons to incrementally <strong>change the tempo</strong> by one BPM. Or press <i class="p-3 mr-1 i-la-slash"></i> and <i class="p-3 mr-1 i-la-times"></i> sectors to divide/multiply the tempo by two. It&#39;s like traversing the octaves of sound pitches. Notice that you get the same &#39;note&#39; and starting color for these tempos.</li><li>You can also just tap and drag the center circle to change the tempo gradually, either with touch on mobile or mouse pointer on desktop.</li><li>The top left corner with the tempo information works the same – <strong>drag it</strong> to set the tempo you want.</li><li>At the bottom of the screen you can find buttons to get the tempo from the world around you to the app. The bottom left ear button <i class="p-3 mr-1 i-tabler-ear"></i> activates the sophisticated <strong>analyser that can determine the tempo</strong> from any incoming audio signal. Turn it on and let the microphone hear your rhythm: clap it, stomp it, sign it or just turn the music on. The app will listen to the audio and show it&#39;s guess in the box near the &#39;ear&#39; button. If you like what you get just press the number and the tempo will be set to the metronome itself.</li><li>The bottom right hand button <i class="p-3 mr-1 i-fluent-tap-double-20-regular"></i>is just good old <strong>tap tempo</strong>. Tap it three times or more to see the tempo you&#39;ve imagined or hear playing. The more you tap – the more precise the result gets. Then tap the number to set the main tempo to the new value.</li><li>If you see a square icon <i class="p-3 mr-1 i-la-expand"></i> at the bottom left corner, you are able to open the circle metronome to the <strong>full screen</strong>. What an immense experience!</li><li>Once you build some interesting patterns you can <strong>export them as a MIDI file</strong> to use in any DAW or other MIDI-compatible tool. Just press the <i class="p-3 mr-1 i-la-file-download"></i> button at the right bottom corner and choose a place to save it to your system. Then you can drag and drop it to your DAW timeline, choose intrument for the tracks and transpose the notes to desired notes.</li><li>Explore our <a href="./../../../theory/rhythm/">rhythm theory section</a> for inspiration about what to dial into the loops. This app can act as a simple visual and audial cue for your music practice or become a tool to explore the enormous space of possible rhythmic combinations. Polyrhythms have never been so easy to see and internalise. The colors and the form of the metronome can help sticking to the tempo even in silence. Be creative and feel the power of this rhythm visualisation tool.</li><li>You can also control all the parameters of the metronome with your MIDI-controller. Use the knobs to send the <strong>CC messages number 1-16</strong> on <strong>channel 1</strong> for it. Two loops are independently controlled by these MIDI commands. You can easily change the CC numbers here.</li></ol>',3);function vn(o,l,r,m,n,c){const y=fn,d=_t("client-only"),f=Lt;return s(),i("div",null,[p(d,null,{default:A(()=>[p(y)]),_:1}),yn,p(d,null,{default:A(()=>[p(f)]),_:1})])}const Jn=D(_n,[["render",vn]]);export{Yn as __pageData,Jn as default};
