import{aG as Ht,aF as Tt,ax as B,I as z,aw as jt,n as Et}from"./chunks/theme.C7XPe3zW.js";import{q as V,b as Dt,c as Yt,E as s,x as a,y as n,A as t,H as b,F as S,B as N,G as i,M as Ot,I as F,K as Lt,L as At,ay as Ut,X as I,ac as $,z as g,N as Wt,a1 as Gt}from"./chunks/framework.BY0U24KH.js";const Rt=h=>(Lt("data-v-98c700a9"),h=h(),At(),h),qt={key:0,class:"flex flex-col gap-2 bg-light-200 bg-opacity-40 dark-bg-dark-400 dark-bg-opacity-40 backdrop-blur pt-2 px-2 rounded-xl shadow-xl border-1 border-dark-200 border-opacity-20 dark-border-light-200 dark-border-opacity-30",id:"screen"},Jt=["viewBox"],Kt=["width","height"],Xt={class:"beats"},Zt=["transform"],Qt=["width","height","fill"],ts=["stroke","y2"],ss=["x","y","font-size","fill","font-weight"],es={class:"progress"},os=["fill","width","height"],is=["x1","x2","y2"],ls={class:"flex flex-wrap m-2 flex flex-wrap gap-4"},ds={class:"is-group items-center flex p-2 flex-wrap",style:{flex:"160px"}},as={key:0,class:"i-la-play"},ns={key:1,class:"i-la-pause"},cs=Rt(()=>t("div",{class:"i-la-stop"},null,-1)),rs=[cs],_s={key:0,class:"i-la-volume-up"},hs={key:1,class:"i-la-volume-mute"},ps={__name:"Metronome",setup(h){const{time:o,controls:r,groups:P,transport:p}=Ht(),d=Dt({width:100,height:22}),{render:v,audio:y}=Tt(),_=Yt(()=>Math.round(r["time:steps"]));return(l,x)=>{var k;const C=jt;return(k=s(y))!=null&&k.started?(a(),n("div",qt,[t("div",{class:"p-1 rounded-full",style:b({backgroundColor:s(o).pulse?"currentColor":"transparent"})},null,4),(a(),n("svg",{class:"w-full rounded select-none",viewBox:`0 0 ${d.width} ${d.height}`},[t("rect",{fill:"#8881",stroke:"#aaa","stroke-width":".2",width:d.width,height:d.height},null,8,Kt),t("g",Xt,[(a(!0),n(S,null,N(_.value,(u,c)=>(a(),n("g",{class:"beat",key:c,transform:`translate(${c*d.width/_.value},0)`},[t("rect",{width:d.width/_.value,height:d.height,fill:c!=Math.floor(s(o).step)?"#6662":s(B)(c+s(o).pitch/12*_.value,_.value,1)},null,8,Qt),t("line",{stroke:s(B)(c+s(o).pitch/12*_.value,_.value),"stroke-width":".3",y2:d.height},null,8,ts),t("text",{x:2-_.value/10,y:d.height-2,"font-size":16-_.value/1.5,fill:c==Math.floor(s(o).step)?"currentColor":s(B)(c+s(o).pitch/12*_.value,_.value,1),"font-weight":c==Math.floor(s(o).step)?"bold":"normal"},i(u),9,ss)],8,Zt))),128))]),t("g",es,[t("rect",{fill:s(z)(s(o).pitch),"fill-opacity":".2",width:s(o).measure*d.width,height:d.height},null,8,os),t("line",{stroke:"currentColor","stroke-width":"1",x1:s(o).measure*d.width,x2:s(o).measure*d.width,y2:d.height},null,8,is)])],8,Jt)),t("div",ls,[t("div",ds,[t("button",{class:"text-button",onClick:x[0]||(x[0]=u=>s(o).isPlaying?s(p).pause():s(p).play())},[s(o).isPlaying?(a(),n("div",ns)):(a(),n("div",as))]),t("button",{class:"text-button",onClick:x[1]||(x[1]=u=>s(p).stop())},rs),t("button",{class:"text-button",onClick:x[2]||(x[2]=u=>s(r)["time:click"]=s(r)["time:click"]?0:1)},[s(r)["time:click"]?(a(),n("div",_s)):(a(),n("div",hs))])]),(a(!0),n(S,null,N(s(P),(u,c)=>(a(),n("div",{class:"is-group flex flex-wrap items-center",style:{flex:"180px"},key:c},[(a(!0),n(S,null,N(u,(w,m)=>(a(),n("div",{class:"select-none relative flex flex-col gap-4 items-center",key:m},[m!="click"?(a(),Ot(C,{key:0,min:w.min,max:w.max,step:w.step,modelValue:s(r)[`${c}:${m}`],"onUpdate:modelValue":M=>s(r)[`${c}:${m}`]=M,param:String(m)},null,8,["min","max","step","modelValue","onUpdate:modelValue","param"])):F("",!0)]))),128))]))),128))])])):F("",!0)}}},us=V(ps,[["__scopeId","data-v-98c700a9"]]),e=h=>(Lt("data-v-19de2bab"),h=h(),At(),h),vs={class:"flex flex-wrap",style:{flex:"1 1 350px"}},xs=e(()=>t("h2",null,"From samples to beats and measures",-1)),ms={class:"sheet"},fs=e(()=>t("div",{class:"row"},"We have a timer ever increasing at a fixed rate ",-1)),bs=e(()=>t("div",{class:"text-right"},"Started at: ",-1)),gs={class:"p-0 font-bold"},ws=e(()=>t("div",{class:"text-left text-sm"},"milliseconds",-1)),ys=e(()=>t("div",{class:"text-right"},"Local time: ",-1)),ks={class:"p-0 col-span-2 font-bold"},$s=e(()=>t("div",{class:"text-right"},"Sample Rate: ",-1)),Cs={class:"p-0 font-bold"},Ms=e(()=>t("div",{class:"text-left text-sm"},"samples per second",-1)),Ss=e(()=>t("div",{class:"text-right"},"Timer: ",-1)),Fs={class:"p-0 font-bold"},Ps=e(()=>t("div",{class:"text-left text-sm"},"samples",-1)),Bs={class:"sheet"},Ns=e(()=>t("div",{class:"row"},"Divide the sample count by the sample rate to get elapsed seconds ",-1)),zs=e(()=>t("div",{class:"text-right"},"Seconds: ",-1)),Is={class:"p-0 font-bold"},Vs=e(()=>t("div",{class:"text-left text-sm"},"seconds",-1)),Hs=e(()=>t("div",{class:"text-right"},"Minutes:",-1)),Ts={class:"p-0 font-bold"},Ds=e(()=>t("div",{class:"text-left text-sm"},"seconds / 60",-1)),Ls=e(()=>t("div",{class:"text-right"},"Hours:",-1)),As={class:"p-0 font-bold"},js=e(()=>t("div",{class:"text-left text-sm"},"minutes / 60",-1)),Es={class:"sheet"},Ys={class:"row"},Os={key:0,class:"col-span-3 flex flex-wrap m-2 flex flex-wrap justify-center"},Us=e(()=>t("div",{class:"i-la-play"},null,-1)),Ws=[Us],Gs=e(()=>t("div",{class:"i-la-pause"},null,-1)),Rs=[Gs],qs=e(()=>t("div",{class:"i-la-stop"},null,-1)),Js=[qs],Ks=e(()=>t("div",{class:"text-right"},"Started At:",-1)),Xs={class:"p-0 font-bold"},Zs=e(()=>t("div",{class:"text-left text-sm"},"seconds",-1)),Qs=e(()=>t("div",{class:"text-right"},"Paused At:",-1)),te={class:"p-0 font-bold"},se=e(()=>t("div",{class:"text-left text-sm"},"seconds",-1)),ee=e(()=>t("div",{class:"text-right"},"Started:",-1)),oe=e(()=>t("div",{class:"text-left text-sm"},"Started > 0 ?",-1)),ie=e(()=>t("div",{class:"text-right"},"Paused:",-1)),le=e(()=>t("div",{class:"text-left text-sm"},"Paused > 0 ?",-1)),de=e(()=>t("div",{class:"text-right"},"Playing:",-1)),ae=e(()=>t("div",{class:"text-left text-sm"},"Started & Not Paused",-1)),ne=e(()=>t("div",{class:"row"},"Now we just subtract current time from start/pause time",-1)),ce=e(()=>t("div",{class:"text-right"},"Transport time:",-1)),re={class:"p-0 font-bold"},_e=e(()=>t("div",{class:"text-left text-sm"},"seconds",-1)),he={class:"sheet"},pe=e(()=>t("div",{class:"row"},"We want musical time, so we need to set a beat rate",-1)),ue=e(()=>t("div",{class:"text-right"},"BPM:",-1)),ve={class:"p-0 font-bold flex items-center gap-2 justify-center"},xe=e(()=>t("div",{class:"i-la-minus"},null,-1)),me=[xe],fe={class:"p-0"},be=e(()=>t("div",{class:"i-la-plus"},null,-1)),ge=[be],we=e(()=>t("div",{class:"text-left text-sm"},"beats per minute",-1)),ye=e(()=>t("div",{class:"text-right"},"BPS:",-1)),ke={class:"p-0 font-bold"},$e=e(()=>t("div",{class:"text-left text-sm"},"Hz",-1)),Ce=e(()=>t("div",{class:"text-right"},"Pitch:",-1)),Me=e(()=>t("div",{class:"text-left text-sm"},"cents",-1)),Se=e(()=>t("div",{class:"text-right"},"Note:",-1)),Fe={class:"text-left text-sm"},Pe=e(()=>t("div",{class:"row"},"Now we can calculate beats elapsed, beat progress and generate pulse",-1)),Be=e(()=>t("div",{class:"text-right"},"Beats:",-1)),Ne={class:"p-0 font-bold"},ze=e(()=>t("div",{class:"text-left text-sm"},"beats",-1)),Ie=e(()=>t("div",{class:"text-right"},"Beat progress:",-1)),Ve={class:"p-0 font-bold"},He=e(()=>t("div",{class:"text-left text-sm"},"Beats % 1",-1)),Te=e(()=>t("div",{class:"text-right"},"Pulse:",-1)),De=e(()=>t("div",{class:"text-left text-sm"},"Beat < 0.5 ?",-1)),Le={class:"sheet"},Ae=e(()=>t("div",{class:"row"},"Musical rhythm has a pattern of strong and weak beats in a measure",-1)),je=e(()=>t("div",{class:"text-right"},"Beats per measure:",-1)),Ee={class:"p-0 font-bold flex items-center gap-2 justify-center"},Ye=e(()=>t("div",{class:"i-la-minus"},null,-1)),Oe=[Ye],Ue={class:"p-0"},We=e(()=>t("div",{class:"i-la-plus"},null,-1)),Ge=[We],Re=e(()=>t("div",{class:"text-left text-sm"},"beats",-1)),qe=e(()=>t("div",{class:"text-right"},"Measures:",-1)),Je={class:"p-0 font-bold"},Ke=e(()=>t("div",{class:"text-left text-sm"},"measures",-1)),Xe=e(()=>t("div",{class:"row"},"Now we can get our musical time coordinates",-1)),Ze=e(()=>t("div",{class:"text-right"},"Measure progress:",-1)),Qe={class:"p-0 font-bold relative"},to=e(()=>t("div",{class:"text-left text-sm"},"Measures % 1",-1)),so=e(()=>t("div",{class:"text-right"},"Step:",-1)),eo={class:"p-0 font-bold relative"},oo=e(()=>t("div",{class:"text-left text-sm"},"Beats / Beats per measure",-1)),io=e(()=>t("div",{class:"text-right"},"First step:",-1)),lo=e(()=>t("div",{class:"text-left text-sm"},"Step == 1?",-1)),ao=e(()=>t("div",{class:"text-right"},"Odd step:",-1)),no=e(()=>t("div",{class:"text-left text-sm"},"Step % 2?",-1)),co=e(()=>t("div",{class:"text-right"},"Even step:",-1)),ro=e(()=>t("div",{class:"text-left text-sm"},"Not Odd",-1)),_o={__name:"Math",setup(h){const{time:o,controls:r,groups:P,transport:p}=Ht();Dt({width:100,height:5});const{render:d,audio:v}=Tt(),y=Ut(()=>v.started,"YYYY MMM DD @ HH:MM:ss  ");return(_,l)=>{var C,k,u,c,w,m,M,H,T,D,L,A,j,E,Y,O,U,W,G,R,q,J,K,X,Z,Q,tt,st,et,ot,it,lt,dt,at,nt,ct,rt,_t,ht,pt,ut,vt,xt,mt,ft,bt,gt,wt,yt,kt,$t,Ct,Mt,St,Ft,Pt,Bt,Nt,zt,It,Vt;const x=us;return a(),n(S,null,[s(v).started?F("",!0):(a(),n("div",{key:0,class:"absolute top-18 bg-light-200 p-8 z-200 w-full cursor-pointer rounded-lg text-xl font-bold border-1 dark-bg-dark-400",onClick:l[0]||(l[0]=f=>s(d)())},"Click to start watching time passing")),t("div",{class:"p-2 flex flex-wrap gap-4 font-mono items-stretc w-full",onClick:l[8]||(l[8]=f=>s(d)()),style:b({opacity:(C=s(v))!=null&&C.started?1:.4})},[t("div",vs,[xs,I(x,{class:"sticky top-2 z-100 w-full"})]),t("div",ms,[fs,bs,t("div",gs,i(Number((k=s(v))==null?void 0:k.started).toLocaleString()),1),ws,ys,t("div",ks,i(s(y)),1),$s,t("div",Cs,i(Number(((u=s(o))==null?void 0:u["sample-rate"])||44100).toLocaleString()),1),Ms,Ss,t("div",Fs,i(Number(((c=s(o))==null?void 0:c.time)||0).toLocaleString()),1),Ps]),t("div",Bs,[Ns,zs,t("div",Is,i(((m=(w=s(o))==null?void 0:w.seconds)==null?void 0:m.toFixed(2))||0),1),Vs,Hs,t("div",Ts,i(((H=(M=s(o))==null?void 0:M.minutes)==null?void 0:H.toFixed(2))||0),1),Ds,Ls,t("div",As,i(((D=(T=s(o))==null?void 0:T.hours)==null?void 0:D.toFixed(2))||0),1),js]),t("div",Es,[t("div",Ys,[$("We need a playable and pausable transport time "),(L=s(v))!=null&&L.started?(a(),n("div",Os,[t("button",{class:"text-button",onClick:l[1]||(l[1]=f=>s(p).play())},Ws),t("button",{class:"text-button",onClick:l[2]||(l[2]=f=>s(p).pause())},Rs),t("button",{class:"text-button",onClick:l[3]||(l[3]=f=>s(p).stop())},Js)])):F("",!0)]),Ks,t("div",Xs,i(((j=(A=s(p))==null?void 0:A.started)==null?void 0:j.toFixed(2))||0),1),Zs,Qs,t("div",te,i(((Y=(E=s(p))==null?void 0:E.paused)==null?void 0:Y.toFixed(2))||0),1),se,ee,t("div",{class:g(["p-0 font-bold",{active:(O=s(o))==null?void 0:O.isStarted}])},i((U=s(o))==null?void 0:U.isStarted),3),oe,ie,t("div",{class:g(["p-0 font-bold",{active:(W=s(o))==null?void 0:W.isPaused}])},i((G=s(o))==null?void 0:G.isPaused),3),le,de,t("div",{class:g(["p-0 font-bold",{active:(R=s(o))==null?void 0:R.isPlaying}])},i((q=s(o))==null?void 0:q.isPlaying),3),ae,ne,ce,t("div",re,i((K=(J=s(o))==null?void 0:J.current)==null?void 0:K.toFixed(2)),1),_e]),t("div",he,[pe,ue,t("div",ve,[t("button",{onClick:l[4]||(l[4]=f=>s(r)["time:bpm"]--)},me),t("div",fe,i(((Z=(X=s(o))==null?void 0:X.bpm)==null?void 0:Z.toFixed(1))||120),1),t("button",{onClick:l[5]||(l[5]=f=>s(r)["time:bpm"]++)},ge)]),we,ye,t("div",ke,i(((tt=(Q=s(o))==null?void 0:Q.bps)==null?void 0:tt.toFixed(1))||2),1),$e,Ce,t("div",{class:"p-0 font-bold relative",style:b({backgroundColor:s(z)(((st=s(o))==null?void 0:st.pitch)+12,3,1,.5)})},[$(i(((((et=s(o))==null?void 0:et.pitch)+12||2)*100).toFixed(1)),1),t("div",{class:"absolute top-0 bottom-0 left-0 w-full border-r-2 border-dark-900 dark-border-light-900",style:b({width:`${(((ot=s(o))==null?void 0:ot.pitch)+12||2)*100/12}%`})},null,4)],4),Me,Se,t("div",{class:"p-0 font-bold relative",style:b({color:s(z)(((it=s(o))==null?void 0:it.pitch)+12,3)})},[$(i(s(Et)[Math.round(((lt=s(o))==null?void 0:lt.pitch)+12)%12]),1),t("div",{class:"absolute top-0 bottom-0 left-0 w-full border-r-2 border-dark-900 dark-border-light-900",style:b({width:`${50+100*((((dt=s(o))==null?void 0:dt.pitch)+12)%12-Math.round(((at=s(o))==null?void 0:at.pitch)+12)%12)}%`})},null,4)],4),t("div",Fe,i((100*((((nt=s(o))==null?void 0:nt.pitch)+12)%12-Math.round(((ct=s(o))==null?void 0:ct.pitch)+12)%12)).toFixed(2))+" %",1),Pe,Be,t("div",Ne,i(((_t=(rt=s(o))==null?void 0:rt.beats)==null?void 0:_t.toFixed(1))||0),1),ze,Ie,t("div",Ve,i(((pt=(ht=s(o))==null?void 0:ht.beat)==null?void 0:pt.toFixed(4))||0),1),He,Te,t("div",{class:g(["p-0 font-bold",{active:(ut=s(o))==null?void 0:ut.pulse}])},i(((vt=s(o))==null?void 0:vt.pulse)||0),3),De]),t("div",Le,[Ae,je,t("div",Ee,[t("button",{onClick:l[6]||(l[6]=f=>s(r)["time:steps"]--)},Oe),t("div",Ue,i(((mt=(xt=s(o))==null?void 0:xt.steps)==null?void 0:mt.toFixed(0))||4),1),t("button",{onClick:l[7]||(l[7]=f=>s(r)["time:steps"]++)},Ge)]),Re,qe,t("div",Je,i(((bt=(ft=s(o))==null?void 0:ft.measures)==null?void 0:bt.toFixed(4))||0),1),Ke,Xe,Ze,t("div",Qe,[$(i(((wt=(gt=s(o))==null?void 0:gt.measure)==null?void 0:wt.toFixed(4))||0),1),t("div",{class:"absolute top-0 bottom-0 left-0 active border-r-2 border-dark-900 dark-border-light-900",style:b({width:`${((yt=s(o))==null?void 0:yt.measure)*100}%`})},null,4)]),to,so,t("div",eo,[$(i(((kt=s(o))==null?void 0:kt["step-num"])+1||0)+" / "+i(((Ct=($t=s(o))==null?void 0:$t.steps)==null?void 0:Ct.toFixed(0))||4),1),t("div",{class:"absolute top-0 bottom-0 left-0 active border-r-2 border-dark-900 dark-border-light-900",style:b({width:`${((Mt=s(o))==null?void 0:Mt["step-num"])/((Ft=(St=s(o))==null?void 0:St.steps)==null?void 0:Ft.toFixed(0))*100}%`})},null,4)]),oo,io,t("div",{class:g(["p-0 font-bold",{active:(Pt=s(o))==null?void 0:Pt["step-first"]}])},i((Bt=s(o))==null?void 0:Bt["step-first"]),3),lo,ao,t("div",{class:g(["p-0 font-bold",{active:(Nt=s(o))==null?void 0:Nt["step-odd"]}])},i((zt=s(o))==null?void 0:zt["step-odd"]),3),no,co,t("div",{class:g(["p-0 font-bold",{active:(It=s(o))==null?void 0:It["step-even"]}])},i((Vt=s(o))==null?void 0:Vt["step-even"]),3),ro])],4)],64)}}},ho=V(_o,[["__scopeId","data-v-19de2bab"]]),mo=JSON.parse('{"title":"Musical transport","description":"How we subdivide time to have a rhythm","frontmatter":{"title":"Musical transport","description":"How we subdivide time to have a rhythm","date":"2018-10-30T00:00:00.000Z","layout":"app","cover":"cover.png","links":"https://discord.com/channels/826071713426178078/834787928688689172/1127958693695205387"},"headers":[],"relativePath":"practice/rhythm/time/index.md","filePath":"practice/rhythm/time/index.md","lastUpdated":1723049236000}'),po={name:"practice/rhythm/time/index.md"};function uo(h,o,r,P,p,d){const v=ho,y=Gt("client-only");return a(),n("div",null,[I(y,null,{default:Wt(()=>[I(v)]),_:1})])}const fo=V(po,[["render",uo]]);export{mo as __pageData,fo as default};
