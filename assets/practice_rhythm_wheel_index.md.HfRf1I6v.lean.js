import{X as N,at as z,O as S,Y as W}from"./chunks/theme.Dgmu0i8S.js";import{_ as D}from"./chunks/SvgRing.hfMpaXbr.js";import{r as C,d as $,L as b,y as s,z as r,F as B,C as L,O as a,u as t,D as g,B as c,m as x,v as M,x as P,G as R,a as V,S as A,T as F,Y as O}from"./chunks/framework.BhJJX2Rg.js";C([{num:4,den:4},{num:16,den:16}]);const T=["transform"],q=["y1","y2"],E={__name:"RhythmWheel",props:{order:{type:Number,default:0},total:{type:Number,default:1},maxNum:{type:Number,default:64}},setup(i){const e=i;new Array(e.maxNum).fill(!1).map((f,v)=>({num:v,active:f})),C({radius:$(()=>450/e.total*e.order)});const m=$(()=>250+e.order*250/e.total),{seq:o,meter:n,steps:p,mutes:u,progress:l}=N({over:8,under:8,sound:e.order==1?"A":"E",volume:1},e.order,"wheel");let _=n.over;function w({delta:f}){_+=(f[0]-f[1])/20,n.over=Math.floor(_)}return(f,v)=>{const y=D,k=b("drag");return s(),r("g",{class:"wheel",onDblclick:v[0]||(v[0]=h=>t(u).fill(!!t(u)[0])),transform:`rotate(${-t(l)*360})`},[(s(!0),r(B,null,L(t(p),(h,d)=>(s(),r("g",{class:"sector",key:h},[a(y,{cx:0,cy:0,onClick:me=>t(u)[d]=!t(u)[d],from:d/t(n).over*360,to:(d+1)/t(n).over*360,fill:t(z)(d+t(S).pitch/12*t(n).over,t(n).over,1,t(u)[d]?.2:1),radius:m.value,thickness:250/i.total},null,8,["onClick","from","to","fill","radius","thickness"])]))),128)),g(a(y,{cx:0,cy:0,from:0,to:359.9,fill:"gray",radius:m.value,thickness:50},null,8,["radius"]),[[k,w]]),c("line",{y1:-450/i.total*i.order,y2:-450/i.total*(i.order+1),stroke:"currentColor","stroke-width":"4"},null,8,q)],40,T)}}},H={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Y(i,e){return s(),r("svg",H,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"m26.281 4.281l-22 22L5.72 27.72l22-22z"},null,-1)]))}const G=x({name:"la-slash",render:Y}),I={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function J(i,e){return s(),r("svg",I,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M7.219 5.781L5.78 7.22L14.563 16L5.78 24.781l1.44 1.439L16 17.437l8.781 8.782l1.438-1.438L17.437 16l8.782-8.781L24.78 5.78L16 14.563z"},null,-1)]))}const U=x({name:"la-times",render:J}),X={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Z(i,e){return s(),r("svg",X,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M5 15v2h22v-2z"},null,-1)]))}const j=x({name:"la-minus",render:Z}),K={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Q(i,e){return s(),r("svg",K,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M15 5v10H5v2h10v10h2V17h10v-2H17V5z"},null,-1)]))}const ee=x({name:"la-plus",render:Q}),te={class:"center",style:{"touch-action":"none"},"text-anchor":"middle"},oe=["stroke","r","fill"],ne={class:"bpm",fill:"currentColor","font-family":"Commissioner, sans-serif","font-weight":"bold","font-size":"42px",x:0,y:12},se={class:"controls cursor-pointer","font-size":"30"},re={__name:"CircleCenter",setup(i){const{isDark:e}=P(),m=$(()=>e.value?"#333":"#eee"),o=W(),n=C({radius:120,thick:60});function p(u){o.bpm+=(u.delta[0]-u.delta[1])/4}return(u,l)=>{const _=D,w=ee,f=j,v=U,y=G,k=b("drag"),h=b("tooltip");return s(),r("g",te,[g((s(),r("g",{class:"bpm cursor-pointer",onDblclick:l[0]||(l[0]=d=>t(o).bpm=120)},[c("circle",{class:"transition-all duration-100 ease-out","stroke-width":"6",stroke:t(o).blink?t(o).color:"transparent",cx:"0",cy:"0",opacity:"0.6",r:n.radius/2,fill:m.value},null,8,oe),c("text",ne,R(t(o).bpm.toFixed()),1)],32)),[[k,p],[h,"Drag to change BPM",void 0,{bottom:!0}]]),c("g",se,[g((s(),r("g",{class:"arc plus",onMousedown:l[1]||(l[1]=d=>t(o).set(1))},[a(_,{cx:0,cy:0,from:45,to:135,fill:m.value,op:.7,radius:n.radius,thickness:n.thick},null,8,["fill","radius","thickness"]),a(w,{x:"65",y:"-15"})],32)),[[h,"Add 1",void 0,{right:!0}]]),g((s(),r("g",{class:"arc minus",onMousedown:l[2]||(l[2]=d=>t(o).set(-1))},[a(_,{cx:0,cy:0,from:225,to:315,fill:m.value,op:.7,radius:n.radius,thickness:n.thick},null,8,["fill","radius","thickness"]),a(f,{x:"-102",y:"-15"})],32)),[[h,"Subtract 1",void 0,{left:!0}]]),g((s(),r("g",{class:"arc multiply",onMousedown:l[3]||(l[3]=d=>t(o).set(t(o).bpm))},[a(_,{cx:0,cy:0,from:315,to:405,fill:m.value,op:.7,radius:n.radius,thickness:n.thick},null,8,["fill","radius","thickness"]),a(v,{x:"-18",y:"-104"})],32)),[[h,"Multiply by 2",void 0,{top:!0}]]),g((s(),r("g",{class:"arc multiply",onMousedown:l[4]||(l[4]=d=>t(o).set(-t(o).bpm/2))},[a(_,{cx:0,cy:0,from:135,to:225,fill:m.value,op:.7,radius:n.radius,thickness:n.thick},null,8,["fill","radius","thickness"]),a(y,{x:"-18",y:"65"})],32)),[[h,"Divide by 2",void 0,{bottom:!0}]])])])}}},le=M(re,[["__scopeId","data-v-9d15a779"]]),ie={class:"flex flex-col items-center w-full relative pb-12 p-4 fullscreen-container rounded-3xl",id:"screen"},ae={class:"w-full min-h-80svh max-h-100svh w-full",id:"metronome",version:"1.1",baseProfile:"full",viewBox:"-500 -500 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{"user-select":"none","touch-action":"none"}},ce={__name:"RhythmWheels",setup(i){const e=V(2);return(m,o)=>(s(),r("div",ie,[(s(),r("svg",ae,[o[0]||(o[0]=c("defs",null,[c("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[c("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})])],-1)),(s(!0),r(B,null,L(e.value,(n,p)=>(s(),A(E,{key:p,order:p,total:e.value},null,8,["order","total"]))),128)),o[1]||(o[1]=c("line",{y2:-450,"stroke-width":"4","stroke-linecap":"round",stroke:"currentColor"},null,-1)),a(le)]))]))}},fe=JSON.parse('{"title":"Wheels","description":"Clockwise motion, but with fixed hands","frontmatter":{"title":"Wheels","description":"Clockwise motion, but with fixed hands","date":"1987-06-30T00:00:00.000Z","layout":"app","cover":"cover.png"},"headers":[],"relativePath":"practice/rhythm/wheel/index.md","filePath":"practice/rhythm/wheel/index.md","lastUpdated":1733240703000}'),ue={name:"practice/rhythm/wheel/index.md"};function de(i,e,m,o,n,p){const u=ce,l=O("client-only");return s(),r("div",null,[a(l,null,{default:F(()=>[a(u)]),_:1})])}const ve=M(ue,[["render",de]]);export{fe as __pageData,ve as default};
