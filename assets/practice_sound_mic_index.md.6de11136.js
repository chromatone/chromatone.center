import{_ as g}from"./chunks/AnalysisFFT.eef93760.js";import{_ as x}from"./chunks/ControlRotary.fd7ee63d.js";import{_ as y}from"./chunks/AnalysisScope.5358985a.js";import{u as l,s as r}from"./chunks/useAudio.7050d810.js";import{u as h}from"./chunks/index.edce5462.js";import{L as O,w as p,o as u,c as d,a as S,t as C,g as a,v as M,f as s,_ as $,m as U,n as b}from"./chunks/framework.88db3c26.js";import"./chunks/tuner.5a4b9afc.js";import"./chunks/colors.71e97f2b.js";import"./chunks/index.70261d75.js";import"./chunks/index.654bd828.js";import"./chunks/calculations.2bac3e9a.js";import"./chunks/index.e98b5e67.js";import"./chunks/midi.b5556f9f.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/synth.9919606b.js";import"./chunks/audio.e7507cf6.js";import"./chunks/Scale.b6214b1d.js";import"./chunks/Subtract.109130cb.js";import"./chunks/PingPongDelay.7799470c.js";import"./chunks/AutoPanner.fd8dabdc.js";import"./chunks/MonoSynth.c00b1270.js";import"./chunks/Filter.ca6be54c.js";import"./chunks/theory.f78bd4d6.js";import"./chunks/index.28e8ae3d.js";import"./chunks/index.78e9bb27.js";import"./chunks/loop.88bd9d68.js";import"./chunks/tempo.84043c62.js";import"./chunks/Loop.14cab9e9.js";import"./chunks/midiRender.1914f0ed.js";import"./chunks/Midi.1f918097.js";import"./chunks/Sequence.873f0209.js";import"./chunks/mic.dc5fa472.js";import"./chunks/UserMedia.9dadeb85.js";import"./chunks/OnePoleFilter.8566943f.js";import"./chunks/noise.4e878d58.js";import"./chunks/BitCrusher.b9cad20b.js";import"./chunks/sequence.8d866e24.js";import"./chunks/index.c020f286.js";const e=O({isOpen:!1,stream:null,streamSource:null,gain:h(1,0,10),async open(){const{audio:i}=l();navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(e.stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1}}),e.streamSource=i.ctx.createMediaStreamSource(e.stream),e.streamSource.connect(i.node))},close(){e.streamSource.disconnect()}});function k(){const{audio:i,render:t}=l();return p(e,()=>{const o=r.mul(r.const({key:"mic:gain",value:e.gain.value}),r.in({key:"mic:in",channel:0}));i.layers.mic={signal:e.isOpen?[r.scope({name:"mic",size:512},o),o]:[0,0]},t("mic")}),p(()=>e.isOpen,o=>{o?e.open():setTimeout(()=>{e.close()},400)}),e}const w={class:"is-group flex items-center"},D={__name:"InputMic",setup(i){const t=k();return(o,n)=>{const c=x;return u(),d("div",w,[S("button",{class:M(["text-button",{"text-red-500":a(t).isOpen}]),onClick:n[0]||(n[0]=m=>a(t).isOpen=!a(t).isOpen)},C(a(t).isOpen?"Close":"Open")+" mic",3),s(c,{param:"GAIN",modelValue:a(t).gain.value,"onUpdate:modelValue":n[1]||(n[1]=m=>a(t).gain.value=m),min:0,max:10,step:.1},null,8,["modelValue"]),s(y,{name:"mic"})])}}},ge=JSON.parse('{"title":"Microphone audio analysis","description":"Use any mic or audio input device and see some valuable data extracted from it","frontmatter":{"title":"Microphone audio analysis","description":"Use any mic or audio input device and see some valuable data extracted from it","date":"2019-11-03T00:00:00.000Z"},"headers":[],"relativePath":"practice/sound/mic/index.md","filePath":"practice/sound/mic/index.md","lastUpdated":1699028861000}'),V={name:"practice/sound/mic/index.md"};function N(i,t,o,n,c,m){const _=D,f=g,v=U("client-only");return u(),d("div",null,[s(v,null,{default:b(()=>[s(_),s(f)]),_:1})])}const xe=$(V,[["render",N]]);export{ge as __pageData,xe as default};
