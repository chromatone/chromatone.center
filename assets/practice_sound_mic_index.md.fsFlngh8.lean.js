import{_ as g}from"./chunks/AnalysisFFT.Ttd1nJYd.js";import{_ as x}from"./chunks/AnalysisScope.19YMwmQR.js";import{_ as y}from"./chunks/ControlRotary.Xs4wIQHy.js";import{u,s as m}from"./chunks/useAudio.FS1aMs33.js";import{u as S}from"./chunks/index.qXrjdxB9.js";import{X as h,w as l,o as d,c as _,a as O,t as C,g as a,z as M,f as s,_ as $,m as A,n as U}from"./chunks/framework.zmD4b-eB.js";import"./chunks/tuner.hgJJdIwS.js";import"./chunks/colors.uFY4QJSc.js";import"./chunks/index.kn6emmbE.js";import"./chunks/calculations.uITx2GSi.js";import"./chunks/index.RYxauP_R.js";import"./chunks/midi.RNICv3HM.js";import"./chunks/commonjsHelpers.4gQjN7DL.js";import"./chunks/synth.qMv1bFvY.js";import"./chunks/audio.CXmur7D0.js";import"./chunks/Scale.nioafpJK.js";import"./chunks/Subtract.6yvEFIfU.js";import"./chunks/PingPongDelay.lVW_-cfU.js";import"./chunks/AutoPanner.3Z1iZl9l.js";import"./chunks/MonoSynth.pp_JS1sF.js";import"./chunks/Filter.CUstuK5R.js";import"./chunks/theory.76qaQigv.js";import"./chunks/index.mPTRJrWq.js";import"./chunks/index.pBEhVm4e.js";import"./chunks/loop.wwH5qV11.js";import"./chunks/tempo.vqfNAiaS.js";import"./chunks/Loop.bmxnTff3.js";import"./chunks/midiRender.o-G7Td4x.js";import"./chunks/Midi.6fTTQsck.js";import"./chunks/Sequence.kPz-JF-q.js";import"./chunks/mic.PkGvBAxQ.js";import"./chunks/UserMedia.XqLXAXtE.js";import"./chunks/OnePoleFilter.5ASB6TIv.js";import"./chunks/noise.Sla4zdtc.js";import"./chunks/BitCrusher.-YmFCrqN.js";import"./chunks/sequence.YfGYdM4Q.js";import"./chunks/index.iB1AmcYb.js";const e=h({isOpen:!1,stream:null,streamSource:null,gain:S(1,0,10),async open(){const{audio:o}=u();navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(e.stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1}}),e.streamSource=o.ctx.createMediaStreamSource(e.stream),e.streamSource.connect(o.node))},close(){e.streamSource.disconnect()}});function b(){const{audio:o,render:t}=u();return l(e,()=>{const i=m.mul(m.const({key:"mic:gain",value:e.gain.value}),m.in({key:"mic:in",channel:0}));o.layers.mic={signal:e.isOpen?[m.scope({name:"mic",size:512},i),i]:[0,0]},t("mic")}),l(()=>e.isOpen,i=>{i?e.open():setTimeout(()=>{e.close()},400)}),e}const k={class:"is-group flex items-center"},w={__name:"InputMic",setup(o){const t=b();return(i,n)=>{const c=y,p=x;return d(),_("div",k,[O("button",{class:M(["text-button",{"text-red-500":a(t).isOpen}]),onClick:n[0]||(n[0]=r=>a(t).isOpen=!a(t).isOpen)},C(a(t).isOpen?"Close":"Open")+" mic",3),s(c,{param:"GAIN",modelValue:a(t).gain.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a(t).gain.value=r),min:0,max:10,step:.1},null,8,["modelValue"]),s(p,{name:"mic"})])}}},ve=JSON.parse('{"title":"Microphone audio analysis","description":"Use any mic or audio input device and see some valuable data extracted from it","frontmatter":{"title":"Microphone audio analysis","description":"Use any mic or audio input device and see some valuable data extracted from it","date":"2019-11-03T00:00:00.000Z"},"headers":[],"relativePath":"practice/sound/mic/index.md","filePath":"practice/sound/mic/index.md","lastUpdated":1702907238000}'),D={name:"practice/sound/mic/index.md"};function V(o,t,i,n,c,p){const r=w,f=g,v=A("client-only");return d(),_("div",null,[s(v,null,{default:U(()=>[s(r),s(f)]),_:1})])}const ge=$(D,[["render",V]]);export{ve as __pageData,ge as default};
