import{Q as F,at as m,F as x,Z as D,a4 as y}from"./chunks/theme.BMdnq5Nu.js";import{b as p,c as r,aw as P,ax as B,V as N,v as _,x as h,z as t,D as e,E as i,B as k,F as V,A as S,q as H,W as $,M as T,a4 as j}from"./chunks/framework.BG7tPuiF.js";import{F as M}from"./chunks/fraction.DqatKmli.js";const E={class:"flex flex-col fullscreen-container",id:"screen"},O={class:"py-8 select-none",version:"1.1",baseProfile:"full",viewBox:"-10 -5 120 35",xmlns:"http://www.w3.org/2000/svg","font-family":"Commissioner, sans-serif","font-size":"3px","text-anchor":"middle","dominant-baseline":"middle","stroke-linecap":"round",fill:"white",style:{"touch-action":"none"}},Z={id:"ruler","stroke-width":"0.2",stroke:"currentColor"},A=t("line",{y1:"30",y2:"30",x2:"100"},null,-1),J=t("line",{y1:"0",y2:"30"},null,-1),L=t("line",{x1:"100",x2:"100",y1:"0",y2:"30"},null,-1),Q=["x1","x2"],R={id:"freqs",stroke:"none",fill:"currentColor"},U={id:"left","text-anchor":"end"},W=["x"],G=["x"],I={id:"right","text-anchor":"start"},K=["x"],X=["x"],Y={class:"cursor-pointer",id:"ratio","font-size":"4px",fill:"currentColor"},tt=["x"],et=["x"],ot=["stroke"],nt=t("circle",{r:"1"},null,-1),st=t("circle",{cx:"100",r:"1"},null,-1),rt={x:"50","font-weight":"bold"},it={class:"cursor-pointer",id:"divided",transform:"translate(0,15)","font-weight":"bold"},ct=["stroke","x2"],at=["x"],dt=["stroke","x1"],lt=["x"],ft=["cx"],ut=t("circle",{r:"1"},null,-1),xt=t("circle",{r:"1",cx:"100"},null,-1),_t={class:"flex flex-wrap justify-center m-4"},ht=["onClick"],pt={__name:"SoundMonochord",setup(C){const l=p({ratio:F(.8,.05,.95),fraction:r(()=>new M(1-l.ratio).simplify(.001).toFraction(!0)),invFraction:r(()=>new M(l.ratio).simplify(.001).toFraction(!0))}),n=p({freq:F(220,50,2e3),pitch:r(()=>m(n.freq).toFixed()),note:r(()=>x(n.freq).toNote()),cents:r(()=>q(x(n.note).toFrequency(),n.freq))}),c=p({freq:r(()=>n.freq/(1-l.ratio)),pitch:r(()=>(m(c.freq)+120)%12),note:r(()=>x(c.freq).toNote()),cents:r(()=>q(x(c.note).toFrequency(),c.freq))}),a=p({freq:r(()=>n.freq/l.ratio),pitch:r(()=>(m(a.freq)+120)%12),note:r(()=>x(a.freq).toNote()),cents:r(()=>q(x(a.note).toFrequency(),a.freq))}),g={"1/2":1/2,"2/3":2/3,"3/4":3/4,"3/5":3/5,"4/5":4/5,"5/6":5/6,"4/7":4/7,"5/7":5/7,"6/7":6/7,"5/8":5/8,"7/8":7/8,"5/9":5/9,"7/9":7/9,"8/9":8/9,"9/10":9/10,"10/11":10/11,"11/12":11/12,"8/15":8/15,"15/16":15/16,"32/45":32/45},s=P(r(()=>l.ratio),{duration:200,transition:B.easeOutCubic}),{once:d}=D();function b(u){n.freq+=u.delta[0]/4}function z(u){l.ratio-=u.delta[0]/1200}function q(u,o){return-(1200/Math.log10(2))*Math.log10(u/o)%1200}return(u,o)=>{const v=N("drag");return _(),h("div",E,[(_(),h("svg",O,[t("g",Z,[A,J,L,t("line",{x1:100*(1-e(s)),x2:100*(1-e(s)),y1:"0",y2:"30"},null,8,Q),t("g",R,[t("g",U,[t("text",{x:100*(1-e(s))-2,y:"28"},i(c.freq.toFixed(1))+" Hz",9,W),t("text",{x:100*(1-e(s))-2,y:"24"},i(c.note)+" ("+i(c.cents.toFixed())+" cents) ",9,G)]),t("g",I,[t("text",{x:100*(1-e(s))+2,y:"28"},i(a.freq.toFixed(1))+" Hz",9,K),t("text",{x:100*(1-e(s))+2,y:"24"},i(a.note)+" ("+i(a.cents.toFixed())+" cents) ",9,X)])]),t("g",Y,[t("g",{onMousedown:o[0]||(o[0]=f=>{e(d)(n.freq),e(d)(c.freq)})},[t("text",{x:100*(1-e(s))-2,y:"8","text-anchor":"end"},i(l.fraction),9,tt)],32),t("g",{onMousedown:o[1]||(o[1]=f=>{e(d)(n.freq),e(d)(a.freq)})},[t("text",{x:100*(1-e(s))+2,y:"8","text-anchor":"start"},i(l.invFraction),9,et)],32)])]),k((_(),h("g",{class:"cursor-pointer",id:"fundamental",onMouseover:o[2]||(o[2]=f=>e(d)(n.freq)),onMousedown:o[3]||(o[3]=f=>e(d)(n.freq))},[t("line",{x2:"100","stroke-width":"4",stroke:e(y)(n.freq)},null,8,ot),nt,st,t("text",rt,i(n.note)+" "+i(n.freq.toFixed())+" Hz ("+i(n.cents.toFixed())+" cents)",1)],32)),[[v,b]]),k((_(),h("g",it,[t("g",{id:"part1",onMouseover:o[4]||(o[4]=f=>e(d)(c.freq)),onMousedown:o[5]||(o[5]=f=>e(d)(c.freq))},[t("line",{stroke:e(y)(c.freq),"stroke-width":"4",x2:100*(1-e(s))},null,8,ct),t("text",{y:"0.3",x:100*(1-e(s))/2},i(c.note),9,at)],32),t("g",{id:"part2",onMouseover:o[6]||(o[6]=f=>e(d)(a.freq)),onMousedown:o[7]||(o[7]=f=>e(d)(a.freq))},[t("line",{stroke:e(y)(a.freq),"stroke-width":"4",x1:100*(1-e(s)),x2:"100"},null,8,dt),t("text",{y:"0.3",x:100-100*e(s)/2},i(a.note),9,lt),t("circle",{cx:100*(1-e(s)),r:"1"},null,8,ft)],32),ut,xt])),[[v,z]])])),t("div",_t,[(_(),h(V,null,S(g,(f,w)=>t("button",{class:"p-2 border-1 shadow m-2",key:w,onClick:gt=>l.ratio=f},i(w),9,ht)),64))])])}}},kt=JSON.parse('{"title":"Monochord","description":"Virtual string for frequency and length ratio explorations","frontmatter":{"title":"Monochord","description":"Virtual string for frequency and length ratio explorations","layout":"app","date":"2021-09-12T00:00:00.000Z","cover":"monochord.png"},"headers":[],"relativePath":"practice/sound/monochord/index.md","filePath":"practice/sound/monochord/index.md","lastUpdated":1719487070000}'),qt={name:"practice/sound/monochord/index.md"},mt=t("p",null,"Drag the divider to explore the string divisions of a monochord, just like Pythagoras did.",-1);function yt(C,l,n,c,a,g){const s=pt,d=j("client-only");return _(),h("div",null,[$(d,null,{default:T(()=>[$(s)]),_:1}),mt])}const $t=H(qt,[["render",yt]]);export{kt as __pageData,$t as default};
