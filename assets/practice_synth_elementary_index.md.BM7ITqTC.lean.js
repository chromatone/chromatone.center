const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/ElemSynth.cmNy3fsp.js","assets/chunks/theme.DWS7mSVx.js","assets/chunks/framework.BjEhsXnI.js"])))=>i.map(i=>d[i]);
import{r as E,o as F,d as M,x as y,y as f,L as I,P as h,U as A,A as w,$ as C,F as T,B as P,E as _,at as $,_ as B}from"./chunks/framework.BjEhsXnI.js";import{_ as R}from"./chunks/MidiKeys.EkT05yXy.js";import{aF as q,aG as z,ay as D,aH as x}from"./chunks/theme.DWS7mSVx.js";const L={__name:"ElemFFT",props:{name:{default:"main:fft",type:String}},setup(d){const a=q(d.name);let e=E(null);F(s),M(a,s,{deep:!0});function s(){if(!e.value||!(a!=null&&a.total))return;let r=e.value.getContext("2d");r.clearRect(0,0,e.value.width,e.value.height);for(let o=0;o<a.total.length;o++){let m=a.total[o],c=Math.pow(m,2)*e.value.height/50,t=Math.log2(o+1)*e.value.width/Math.log2(a.total.length+1),n=Math.log2(o+2)*e.value.width/Math.log2(a.total.length+1)-t,l=e.value.height-c;r.fillStyle=a.colors[o],r.fillRect(t,l,n,c)}}return(r,o)=>(y(),f("canvas",{class:"max-w-full",ref_key:"canvas",ref:e,height:"512",width:"2048"},null,512))}},N={__name:"ElemScope",props:{name:{default:"synth",type:String},color:{default:"currentColor",type:String},triggerLevel:{default:0,type:Number}},setup(d){const u=d,{scopes:a}=z(),e=E(null);let s=null;F(()=>{e.value&&(e.value.width=e.value.clientWidth,e.value.height=e.value.clientHeight),r()}),I(()=>{o()});function r(){s=requestAnimationFrame(c)}function o(){s&&cancelAnimationFrame(s)}function m(t,i){for(let n=0;n<t.length-1;n++)if(t[n]<=i&&t[n+1]>i)return n;return 0}function c(){if(!e.value)return;const t=e.value.getContext("2d"),{width:i,height:n}=e.value,l=a[u.name];if(!l||l.length<2){s=requestAnimationFrame(c);return}t.clearRect(0,0,i,n),t.strokeStyle=u.color,t.lineWidth=3;const g=m(l,u.triggerLevel),k=i/l.length;t.beginPath();for(let p=0;p<l.length;p++){const b=p*k,S=(g+p)%l.length,v=(1-l[S])*n/2;p===0?t.moveTo(b,v):t.lineTo(b,v)}t.stroke(),s=requestAnimationFrame(c)}return(t,i)=>(y(),f("canvas",{class:"w-full h-full",ref_key:"canvas",ref:e},null,512))}},U={class:"relative bg-gray-500 bg-op-30 backdrop-blur-sm w-full sticky top-0 z-100 touch-action-none pointer-events-none"},O=JSON.parse('{"title":"Elementary synth","description":"MIDI enabled synthesizer built with Elementary audio library","frontmatter":{"title":"Elementary synth","description":"MIDI enabled synthesizer built with Elementary audio library","date":"2024-06-23T00:00:00.000Z","cover":"lockup.svg","layout":"app","links":["https://www.elementary.audio/docs/guides/Understanding_Keys","https://www.elementary.audio/docs/reference/Math","https://github.com/elemaudio/web-examples","https://github.com/bgins/coincident-spectra/blob/main/src/lib/audio/audio.ts","https://github.com/teetow/elementary_grid","https://www.nickwritesablog.com/drum-synthesis-in-javascript/","https://github.com/elemaudio/web-examples/blob/master/planets/app.js","https://github.com/teetow/elementary_grid/blob/master/src/lib/useSynth.tsx"]},"headers":[],"relativePath":"practice/synth/elementary/index.md","filePath":"practice/synth/elementary/index.md","lastUpdated":1731047571000}'),V={name:"practice/synth/elementary/index.md"},W=Object.assign(V,{setup(d){const u=$(()=>B(()=>import("./chunks/ElemSynth.cmNy3fsp.js"),__vite__mapDeps([0,1,2])));return(a,e)=>{const s=N,r=L,o=R,m=C("client-only");return y(),f("div",null,[h(m,null,{default:A(()=>[w("div",U,[(y(),f(T,null,P(12,(c,t)=>{var i,n,l,g;return h(s,{class:"absolute top-0 w-full",key:t,color:_(D)((n=(i=_(x))==null?void 0:i[`synth-voice-${t}-midi`])==null?void 0:n.max,void 0,(g=(l=_(x))==null?void 0:l[`synth-voice-${t}-gate`])==null?void 0:g.max),name:`synth-voice-${t}`},null,8,["color","name"])}),64)),h(r,{class:"border-b-2 mt-16"})]),h(_(u)),h(o)]),_:1}),e[0]||(e[0]=w("p",null,"Fully operational polyphonic synthesizer with square/sawtooth oscillator, noise oscillator, Karplus-Strong string simulation, simple sampler and notable ping-pong delay as well as an SRVB reverb.",-1))])}}});export{O as __pageData,W as default};
