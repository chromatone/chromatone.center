import{_ as E}from"./chunks/MidiKeys.Ds2v7trn.js";import{aZ as x,a_ as N,u as V,w as j,a2 as v,M as B}from"./chunks/theme.BMdnq5Nu.js";import{_ as C}from"./chunks/AnalysisScope.oDeqDRfA.js";import{_ as D}from"./chunks/AnalysisFFT.DnvwFYf-.js";import{o as U,Q as z,c as F,v as s,x as a,z as o,W as d,F as y,A as h,G as I,D as n,X as w,E as P,L as T,q as K,M as L,a4 as O}from"./chunks/framework.BG7tPuiF.js";const Z={class:"flex flex-col gap-2 is-group p-2 bg-light-200 dark-bg-dark-200 shadow rounded gap-6 select-none"},q={class:"flex flex-col relative select-none gap-4"},G={class:"flex flex-wrap gap-1 font-mono w-full justify-around"},J=["onMousedown","onMouseup","onMouseleave"],Q={class:"flex flex-wrap gap-2 flex-1"},R=o("div",{class:"i-la-play"},null,-1),W=[R],X=o("div",{class:"i-la-stop"},null,-1),H=[X],Y={class:"text-sm uppercase absolute -top-4 bg-light-300 dark-bg-dark-300 p-1 rounded"},ee={__name:"SynthMain",setup(M){U(()=>x.state.midi=!1),z(()=>x.state.midi=!0);const{groups:f,controls:c,voices:g,cycleNote:l,stopAll:b}=N(),{midi:m}=V(),_=F(()=>Object.entries(m.activeNotes).reduce((i,e)=>(i=j(i).mix(v((Number(e[0])-9)%12),Number(e[1])/3).toRgbString(),i),"#888"));return(i,e)=>{const $=D,k=C,S=B;return s(),a("div",Z,[o("div",q,[d($),d(k,{class:"absolute top-8 pointer-events-none",name:"synth",color:_.value},null,8,["color"])]),o("div",G,[(s(!0),a(y,null,h(n(g).list,(t,r)=>(s(),a("div",{class:"text-sm flex min-w-6 min-h-4 flex-1 text-center rounded-full justify-center items-center transition cursor-pointer",key:r,style:I({backgroundColor:n(v)(t.midi-9-24,3,void 0,t.gate?1:.2),opacity:t.gate?1:.5}),onMousedown:u=>t.gate=1,onMouseup:u=>t.gate=0,onMouseleave:u=>t.gate=0},null,44,J))),128))]),o("div",Q,[o("button",{class:"text-button",onMousedownPassive:e[0]||(e[0]=t=>n(l)(69,120)),onMouseupPassive:e[1]||(e[1]=t=>n(l)(69)),onTouchstart:e[2]||(e[2]=w(t=>n(l)(69,120),["prevent","stop"])),onTouchend:e[3]||(e[3]=w(t=>n(l)(69),["prevent","stop"])),onMouseleave:e[4]||(e[4]=t=>n(l)(69))},W,32),o("button",{class:"text-button",onClick:e[5]||(e[5]=t=>n(b)())},H),(s(!0),a(y,null,h(n(f),(t,r)=>(s(),a("div",{class:"flex flex-wrap is-group p-2 gap-2 items-center relative",key:r},[o("div",Y,P(r),1),(s(!0),a(y,null,h(t,(u,p)=>(s(),T(S,{key:p,step:u.step,modelValue:n(c)[`${r}:${p}`],"onUpdate:modelValue":A=>n(c)[`${r}:${p}`]=A,min:u.min,max:u.max,param:p},null,8,["step","modelValue","onUpdate:modelValue","min","max","param"]))),128))]))),128))])])}}},re=JSON.parse('{"title":"Elementary synth","description":"MIDI enabled synthesizer built with Elementary audio library","frontmatter":{"title":"Elementary synth","description":"MIDI enabled synthesizer built with Elementary audio library","date":"2024-06-23T00:00:00.000Z","cover":"lockup.svg","layout":"app","links":["https://www.elementary.audio/docs/guides/Understanding_Keys","https://www.elementary.audio/docs/reference/Math","https://github.com/elemaudio/web-examples","https://github.com/bgins/coincident-spectra/blob/main/src/lib/audio/audio.ts","https://github.com/teetow/elementary_grid","https://www.nickwritesablog.com/drum-synthesis-in-javascript/","https://github.com/elemaudio/web-examples/blob/master/planets/app.js","https://github.com/teetow/elementary_grid/blob/master/src/lib/useSynth.tsx"]},"headers":[],"relativePath":"practice/synth/elementary/index.md","filePath":"practice/synth/elementary/index.md","lastUpdated":1719487070000}'),te={name:"practice/synth/elementary/index.md"};function ne(M,f,c,g,l,b){const m=ee,_=E,i=O("client-only");return s(),a("div",null,[d(i,null,{default:L(()=>[d(m),d(_)]),_:1})])}const ue=K(te,[["render",ne]]);export{re as __pageData,ue as default};
