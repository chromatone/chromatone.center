import{_ as A}from"./chunks/MidiKeys.JVB_0nYH.js";import{_ as K}from"./chunks/AnalysisFFT.rzqy1C1c.js";import{u as P,s as t}from"./chunks/useAudio.eWB5EMQe.js";import"./chunks/tuner.0-FZg3vi.js";import"./chunks/audio.pG3RnClx.js";import"./chunks/colors.hHBI9fPI.js";import{u as T}from"./chunks/midi.91UwWBqe.js";import"./chunks/loop.CI0tpsQr.js";import"./chunks/mic.v1-AeFkx.js";import"./chunks/midiRender.c86h86WZ.js";import"./chunks/Midi.6fTTQsck.js";import"./chunks/tempo.fl6CFXyY.js";import"./chunks/noise.bpaR192Z.js";import"./chunks/index.RYxauP_R.js";import"./chunks/sequence.lQXqylrG.js";import{c as f}from"./chunks/synth.TVJKhjDp.js";import"./chunks/theory.c9f85u7m.js";import{u as w}from"./chunks/useParams.BmTLY7LI.js";import{E as B,G as M,w as y,g as v,o as m,c as p,f as l,_ as E}from"./chunks/framework.KnxPB1sj.js";import"./chunks/index.rstREGm8.js";import"./chunks/index.bnjSkgpl.js";import"./chunks/calculations.uITx2GSi.js";import"./chunks/commonjsHelpers.4gQjN7DL.js";import"./chunks/index.kn6emmbE.js";import"./chunks/index.QyW-2vQe.js";import"./chunks/Sequence.kPz-JF-q.js";import"./chunks/Loop.bmxnTff3.js";import"./chunks/UserMedia.XqLXAXtE.js";import"./chunks/Subtract.6yvEFIfU.js";import"./chunks/OnePoleFilter.5ASB6TIv.js";import"./chunks/BitCrusher.Qqt3OxKC.js";import"./chunks/Filter.CUstuK5R.js";import"./chunks/AutoPanner.02Sltg0b.js";import"./chunks/Scale.nioafpJK.js";import"./chunks/PingPongDelay.a3-runAV.js";import"./chunks/MonoSynth.pp_JS1sF.js";import"./chunks/index._4u9I4xi.js";const F={key:1,class:"flex flex-col gap-6 p-2"},N={__name:"StringSynth",setup(h){B(()=>f.state.midi=!1),M(()=>f.state.midi=!0);const{midi:c}=T(),d={"string:volume":{value:.8,min:0,max:1,step:.01},"string:trigger":{value:0,min:0,max:1,step:1,nostore:!0},"string:midi":{value:42,min:1,max:127,step:1,nostore:!0},"string:velocity":{value:0,min:1,max:127,step:1,nostore:!0}},{audio:s,render:u}=P(),{controls:o,cv:i}=w(d,"string");return y(()=>c.note,r=>{o["string:trigger"]=r.velocity>0?1:0,o["string:midi"]=r==null?void 0:r.number,o["string:velocity"]=(r==null?void 0:r.velocity)/127}),y(()=>s.initiated,()=>{let r=t.mul(440,t.pow(2,t.div(t.sub(i["string:midi"],69),12))),e=t.mul(t.div(1,r),1e3),n=t.adsr(1e-4,.2,.01,.2,i["string:trigger"]),a=t.mul(n,t.noise(),i["string:velocity"]),g=t.lowpass(1880,6,a),x=t.adsr(.005,.2,0,.1,1),k=t.mul(x,t.cycle(t.mul(1,r)),.2),S=t.delay({size:44100},t.ms2samps(e),t.add(.995),g),b=t.add(S,k),$=t.tanh(b);const _=t.mul(i["string:volume"],$);s.layers.string={volume:1,signal:[_,_]}}),(r,e)=>{const n=K,a=A;return v(s).started?(m(),p("div",F,[l(n),l(a)])):(m(),p("button",{key:0,class:"p-40 text-2xl font-bold bg-light-900 dark-bg-dark-700",onClick:e[0]||(e[0]=g=>v(u)())},"START "))}}},xt=JSON.parse('{"title":"Karplus–Strong synthesis","description":"Pratical KS synth","frontmatter":{"title":"Karplus–Strong synthesis","description":"Pratical KS synth","date":"2013-11-14T00:00:00.000Z","cover":"ksa.png"},"headers":[],"relativePath":"practice/synth/karplus-strong/index.md","filePath":"practice/synth/karplus-strong/index.md","lastUpdated":1704219385000}'),O={name:"practice/synth/karplus-strong/index.md"};function U(h,c,d,s,u,o){const i=N;return m(),p("div",null,[l(i)])}const kt=E(O,[["render",U]]);export{xt as __pageData,kt as default};
