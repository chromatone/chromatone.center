import{A as U,D as t0,aF as z,L as e0,C as r0}from"./chunks/theme.DkSlrVce.js";import{G as a0,r as n0,c as _,h as b,i as h,F as I,Q as L,u as P,ao as K,B as d,m as M,_ as o0,t as i0}from"./chunks/framework.DqGUeSFU.js";var A,V;function s0(){if(V)return A;V=1;function p(u,s,r){return u*(1-r)+s*r}return A=p,A}var C,X;function l0(){if(X)return C;X=1;var p=s0();return C=function(s,r,t,e){if(typeof s=="number"&&typeof r=="number")return p(s,r,t);var a=Math.min(s.length,r.length);e=e||new Array(a);for(var n=0;n<a;n++)e[n]=p(s[n],r[n],t);return e},C}var T,j;function c0(){if(j)return T;j=1;var p=l0();function u(r,t){for(let e=0;e<r.length;e++)t[e]=r[e];return t}function s(r,t,e){if(t>=1){const c=r[r.length-1];return e?u(c,e):c}if(r.length==1){const c=r[0];return e?u(c,e):c}var a=r.length-1,n=t*a,o=Math.floor(n),i=n-o;return p(r[o],r[o+1],i,e)}return T=s,T}var F,N;function u0(){return N||(N=1,F={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}),F}var D,W;function h0(){if(W)return D;W=1;var p=u0(),u={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};return u.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}},u.max=u.whitepoint[2].D65,u.rgb=function(s,r){r=r||u.whitepoint[2].E;var t=s[0]/r[0],e=s[1]/r[1],a=s[2]/r[2],n,o,i;return n=t*3.240969941904521+e*-1.537383177570093+a*-.498610760293,o=t*-.96924363628087+e*1.87596750150772+a*.041555057407175,i=t*.055630079696993+e*-.20397695888897+a*1.056971514242878,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=n*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=i*12.92,n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),[n*255,o*255,i*255]},p.xyz=function(s,r){var t=s[0]/255,e=s[1]/255,a=s[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var n=t*.41239079926595+e*.35758433938387+a*.18048078840183,o=t*.21263900587151+e*.71516867876775+a*.072192315360733,i=t*.019330818715591+e*.11919477979462+a*.95053215224966;return r=r||u.whitepoint[2].E,[n*r[0],o*r[1],i*r[2]]},D=u,D}var S,G;function p0(){return G||(G=1,S=[[.0014,0,.0065],[.0022,1e-4,.0105],[.0042,1e-4,.0201],[.0076,2e-4,.0362],[.0143,4e-4,.0679],[.0232,6e-4,.1102],[.0435,.0012,.2074],[.0776,.0022,.3713],[.1344,.004,.6456],[.2148,.0073,1.0391],[.2839,.0116,1.3856],[.3285,.0168,1.623],[.3483,.023,1.7471],[.3481,.0298,1.7826],[.3362,.038,1.7721],[.3187,.048,1.7441],[.2908,.06,1.6692],[.2511,.0739,1.5281],[.1954,.091,1.2876],[.1421,.1126,1.0419],[.0956,.139,.813],[.058,.1693,.6162],[.032,.208,.4652],[.0147,.2586,.3533],[.0049,.323,.272],[.0024,.4073,.2123],[.0093,.503,.1582],[.0291,.6082,.1117],[.0633,.71,.0782],[.1096,.7932,.0573],[.1655,.862,.0422],[.2257,.9149,.0298],[.2904,.954,.0203],[.3597,.9803,.0134],[.4334,.995,.0087],[.5121,1,.0057],[.5945,.995,.0039],[.6784,.9786,.0027],[.7621,.952,.0021],[.8425,.9154,.0018],[.9163,.87,.0017],[.9786,.8163,.0014],[1.0263,.757,.0011],[1.0567,.6949,.001],[1.0622,.631,8e-4],[1.0456,.5668,6e-4],[1.0026,.503,3e-4],[.9384,.4412,2e-4],[.8544,.381,2e-4],[.7514,.321,1e-4],[.6424,.265,0],[.5419,.217,0],[.4479,.175,0],[.3608,.1382,0],[.2835,.107,0],[.2187,.0816,0],[.1649,.061,0],[.1212,.0446,0],[.0874,.032,0],[.0636,.0232,0],[.0468,.017,0],[.0329,.0119,0],[.0227,.0082,0],[.0158,.0057,0],[.0114,.0041,0],[.0081,.0029,0],[.0058,.0021,0],[.0041,.0015,0],[.0029,.001,0],[.002,7e-4,0],[.0014,5e-4,0],[.001,4e-4,0],[7e-4,2e-4,0],[5e-4,2e-4,0],[3e-4,1e-4,0],[2e-4,1e-4,0],[2e-4,1e-4,0],[1e-4,0,0],[1e-4,0,0],[1e-4,0,0],[0,0,0]]),S}var k,O;function f0(){if(O)return k;O=1,k=p,p.x=u,p.y=s,p.z=r;function p(t){return[u(t),s(t),r(t)]}function u(t){let e=(t-442)*(t<442?.0624:.0374),a=(t-599.8)*(t<599.8?.0264:.0323),n=(t-501.1)*(t<501.1?.049:.0382);return .362*Math.exp(-.5*e*e)+1.056*Math.exp(-.5*a*a)-.065*Math.exp(-.5*n*n)}function s(t){let e=(t-568.8)*(t<568.8?.0213:.0247),a=(t-530.9)*(t<530.9?.0613:.0322);return .821*Math.exp(-.5*e*e)+.286*Math.exp(-.5*a*a)}function r(t){let e=(t-437)*(t<437?.0845:.0278),a=(t-459)*(t<459?.0385:.0725);return 1.217*Math.exp(-.5*e*e)+.681*Math.exp(-.5*a*a)}return k}var R,Y;function m0(){if(Y)return R;Y=1;const p=c0(),u=h0(),s=p0(),r=f0();R=t,t.spectrum=e,t.wavelength=a;function t(n,o){o||(o={}),o.approximate=o.approximate==null?!0:o.approximate,o.normalize=o.normalize==null?!0:o.normalize,o.whitepoint=o.whitepoint||u.whitepoint[2].D65;let i;return typeof n=="number"?i=a(n,o):i=e(n,o),`rgb(${u.rgb(i,o.whitepoint).map(l=>Math.floor(l))})`}function e(n,o){if(!n)return[0,0,0];if(typeof n=="number")return a(n,o);if(n.length===1)return a(n[0],o);let i=o.normalize,c=o.approximate,l=o.whitepoint,f=380,y=780,x=1/y,J=1/f,q=0;if(i)for(let m=0;m<n.length;m++)q+=n[m];let $=0,B=0,E=0;for(let m=.5;m<n.length;m++){let g=n[Math.floor(m)];if(i&&(g=q===0?g:g/q),!g)continue;let H=1/(m/n.length*(J-x)+x),Q=(H-f)/(y-f),w=c?r(H):p(s,Q);$+=g*w[0],B+=g*w[1],E+=g*w[2]}return[$,B,E].map((m,g)=>m*l[g])}function a(n,o){let i=o.whitepoint,c;if(o.approximate)c=r(n);else{let l=(n-380)/400;c=p(s,l)}return c.map((l,f)=>l*i[f])}return R}var d0=m0();const Z=U(d0),g0=["viewBox"],y0={class:"spectrum"},x0=["transform","fill","height","width"],_0=["transform"],b0=["transform"],v0=["fill"],q0={y:-115,fill:"currentColor"},w0={dy:"25",x:"0"},z0={y:"120",x:"0"},M0=["fill"],A0={"text-anchor":"start",transform:"translate(10 0})"},C0={fill:"currentColor"},T0={x:"5",y:"15"},F0=["x"],D0=["y"],S0=["x","y"],k0=["y"],v=500,R0={__name:"ColorSpectrum",setup(p){const u=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#","A"],s={width:1200,height:100},r={top:130,right:10,bottom:30,left:10},t=t0(440,300,500);function e(i){return 299792458e9/(i*1e12)}const a=[400,1e3],n=a0(()=>u.map((i,c)=>{const l=z(c,-6,t.value),f=z(c,2,t.value),y=z(c,3,t.value),x=y*Math.pow(2,40)/1e12;return{name:i,pitch:c,freqM4:l,freq0:f,freq:y,freq40:x,color:Z(e(x))}})),o=n0();return e0({onDrag(i){var l;(l=i==null?void 0:i.event)==null||l.preventDefault();const c=i.delta[0];t.value+=c/10},onWheel(i){var l;(l=i==null?void 0:i.event)==null||l.preventDefault();const c=i.delta[0];t.value-=c/10}},{domTarget:o,eventOptions:{passive:!1}}),(i,c)=>(_(),b("svg",{class:"w-full cursor-grab active-cursor-grabbing select-none",title:"Drag left to right to adjust the base frequency of the A4 note. Double click to reset back to 440 Hz.",ref_key:"spectrum",ref:o,version:"1.1",baseProfile:"full",viewBox:`${-r.left} ${-r.top} ${s.width+r.left+r.right} ${s.height+r.top+r.bottom}`,xmlns:"http://www.w3.org/2000/svg","font-family":"Commissioner, sans-serif","font-size":"14px","text-anchor":"middle","dominant-baseline":"middle",onDblclick:c[0]||(c[0]=l=>t.value=440)},[h("g",y0,[(_(),b(I,null,L(v,(l,f)=>h("rect",{transform:`translate(${s.width/v*f} 0)`,key:l,fill:P(Z)(e(a[0]+(a[1]-a[0])*f/v)),height:s.height,width:s.width/v},null,8,x0)),64))]),c[3]||(c[3]=K("",1)),(_(!0),b(I,null,L(n.value,l=>(_(),b("g",{key:l,transform:`translate(${s.width*((l.freq40-a[0])/(a[1]-a[0]))} 0)`},[c[1]||(c[1]=h("line",{y1:-20,y2:105,stroke:"currentColor"},null,-1)),h("g",{class:"note",transform:`translate(0 ${s.height/2})`},[h("circle",{r:20,cy:-2,fill:P(r0)(l.pitch,4)},null,8,v0),h("text",null,d(l.name),1)],8,b0),h("text",q0,[h("tspan",{x:"0",class:M({"font-bold":l.pitch==3})},d(l.freqM4.toFixed(3)),3),h("tspan",{dy:"25",x:"0",class:M({"font-bold":l.pitch==3})},d(l.freq0.toFixed(1)),3),h("tspan",{dy:"25",x:"0",class:M({"font-bold":l.pitch==0})},d(l.freq.toFixed(1)),3),h("tspan",w0,d(l.freq40.toFixed(1)),1),h("tspan",z0,d(e(l.freq40).toFixed(1)),1)]),h("circle",{r:5,cy:-20,fill:l.color},null,8,M0)],8,_0))),128)),h("g",A0,[h("text",C0,[c[2]||(c[2]=h("tspan",{class:"font-bold",x:"5",y:-15},"Frequency",-1)),h("tspan",T0,d(a[0])+" Hz",1),h("tspan",{"text-anchor":"end",x:s.width-5,y:"15"},d(a[1])+" Hz",9,F0),h("tspan",{x:"5",y:s.height-15},d(e(a[0]).toFixed(1))+" nm",9,D0),h("tspan",{"text-anchor":"end",x:s.width-5,y:s.height-15},d(e(a[1]).toFixed(1))+" nm",9,S0),h("tspan",{class:"font-bold",x:"5",y:s.height+20},"Wavelength",8,k0)])])],40,g0))}},$0="/assets/acoustic-spectrum.B4Y7KMia.svg",B0="/assets/em-acoustic.BrvVX8da.svg",E0="/assets/spectrum.C8qtAzC0.svg",j0=JSON.parse('{"title":"Chromatic spectrum","description":"The model in which musical octave meets color spectrum.","frontmatter":{"title":"Chromatic spectrum","description":"The model in which musical octave meets color spectrum.","cover":"spectrum.svg","date":"2021-08-24T00:00:00.000Z"},"headers":[],"relativePath":"theory/interplay/spectrum/index.md","filePath":"theory/interplay/spectrum/index.md","lastUpdated":1738737326000}'),H0={name:"theory/interplay/spectrum/index.md"};function I0(p,u,s,r,t,e){const a=R0;return _(),b("div",null,[u[0]||(u[0]=K("",13)),i0(a,{class:"m-4"})])}const N0=o0(H0,[["render",I0]]);export{j0 as __pageData,N0 as default};
