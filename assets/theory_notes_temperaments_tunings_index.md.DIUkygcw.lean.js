import{u as k,F as q,aN as A,aO as S,a0 as M,aP as F,a3 as O,a8 as j,aQ as B,aR as D,ao as L,aS as E,w as R,c as V,m as _,aL as C,n as H,az as N}from"./chunks/theme.DLCqlVTm.js";import{D as w,M as h,r as W,q as c,f as o,s as r,z as T,F as y,Y as p,e as g,u as J,l as P,_ as Y,dN as I,aw as Q}from"./chunks/framework.CxSiiyCs.js";const U=["+0","@8n","@16n","@32n"],t={state:w({midi:k("synth-midi",!0),initiated:!1,mute:!1,quantize:A(U,{initialValue:"+0"}),volume:q(1,0,2)}),delayParams:w({feedback:.3,wet:.3}),params:w({maxPolyphony:50,oscillator:{type:k("synth-osc","sawtooth8")},volume:-20,envelope:{attack:.01,decay:.1,sustain:.6,release:1},filterEnvelope:{attack:.001,decay:.7,sustain:.5,release:1,baseFrequency:60,octaves:5}}),poly:null,widener:null,delay:null,reverb:null,pan:null,compressor:null};function z(){if(S(),t?.poly)return;const{channel:e}=M("synth");t.widener=new F(.7).connect(e),t.reverb=new O(3).connect(t.widener),t.delay=new j({delayTime:"16n",feedback:.3,wet:.3,maxDelay:"1m"}).connect(t.widener),t.pan=new B({frequency:"4n",depth:.4}).connect(t.reverb).connect(t.delay).connect(t.widener),t.compressor=new D().connect(t.pan),t.poly=new L(E,t.params).connect(t.compressor),t.pan.start()}function Z(e,n){if(!t.poly||t.state.mute)return z();t.poly.triggerAttack(e,t.state.quantize.state,n)}function G(e){if(!t.poly||t.state.mute)return z();t.poly.triggerRelease(e,t.state.quantize.state)}const K=["opacity"],X=["stroke","x1","y1","x2","y2"],ee=["cx","cy","fill"],te=["cx","cy","fill"],ne=["x","y","innerHTML"],ae=["x","y"],b={__name:"TuningNote",props:{r:{type:Number,default:10},w:{type:Number,default:10},note:{type:Object,default:()=>{}},inner:{type:Number,default:150},level:{type:Number,default:3}},setup(e){const n=e,l=h(()=>R(V(n.note.pitch,n.level)).toHex()),f=W(!1);function m(){f.value=!f.value,f.value?Z(C(n.note.pitch)):G(C(n.note.pitch))}const i=h(()=>_(n.note.pitch,12,n.r,n.w)),u=h(()=>_(n.note.pitch,12,n.inner,n.w));return($,x)=>(o(),c("g",{class:"tet",style:{cursor:"pointer",transition:"all 200ms ease-in-out"},opacity:f.value?1:.75,onClick:x[0]||(x[0]=a=>m())},[r("line",{stroke:l.value,"stroke-width":2,x1:i.value.x,y1:i.value.y,x2:u.value.x,y2:u.value.y},null,8,X),r("circle",{class:"note",style:{"transform-box":"fill-box","transform-origin":"center center"},cx:i.value.x,cy:i.value.y,r:"36",fill:l.value},null,8,ee),r("circle",{class:"note",style:{"transform-box":"fill-box","transform-origin":"center center"},cx:u.value.x,cy:u.value.y,r:"4",fill:l.value},null,8,te),r("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":"26px","font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",x:i.value.x,y:i.value.y,innerHTML:e.note.name},null,8,ne),r("text",{style:{"user-select":"none",transition:"all 300ms ease"},fill:"currentColor","font-family":"Commissioner, sans-serif","font-size":"15px","font-weight":"normal","text-anchor":"middle","dominant-baseline":"middle",x:i.value.x,y:i.value.y+22},T((e.note.pitch*100).toFixed()),9,ae)],8,K))}},se=["id","d","transform"],re={fill:"currentColor","font-size":"24px"},oe=["xlink:href","startOffset"],ie={__name:"TuningText",props:{size:{type:Number,default:24},text:{type:String,default:"Circle text"},w:{type:Number,default:1e3},r:{type:Number,default:450},offset:{type:Number,default:3}},setup(e){return(n,l)=>(o(),c("g",null,[r("defs",null,[r("path",{id:`myTextPath${e.r}`,d:`M ${e.r},0 A ${e.r},${e.r} 0 0 1 -${e.r},0 A ${e.r},${e.r} 0 0 1 ${e.r},0`,transform:`translate(${e.w/2},${e.w/2}), rotate(-90)`,fill:"none",stroke:"darkblue","stroke-width":"2"},null,8,se)]),r("text",re,[r("textPath",{"xlink:href":`#myTextPath${e.r}`,startOffset:`${e.offset}%`},T(e.text),9,oe)])]))}},le={class:"w-full",id:"tuning-circle",version:"1.1",baseProfile:"full",viewBox:"0 -50 1000 1100",xmlns:"http://www.w3.org/2000/svg"},ce=["r"],ue={__name:"TuningCircle",setup(e){const n=[...H].map((a,v)=>({name:a,pitch:v})),l=[250,350,450,150],f={"12TET equal temperament":490,"5-limit just intonation":390,"Pythagorean tuning":290},m=w({middleA:440}),i={"1/1":1,"16/15":16/15,"9/8":9/8,"6/5":6/5,"5/4":5/4,"4/3":4/3,"45/32":45/32,"3/2":3/2,"8/5":8/5,"5/3":5/3,"9/5":9/5,"15/8":15/8},u=h(()=>Object.entries(i).map(a=>({pitch:N(a[1]*m.middleA),name:a[0]}))),$=[{two:0,three:0,inv:!1},{two:8,three:5,inv:!1},{two:3,three:2,inv:!0},{two:5,three:3,inv:!1},{two:6,three:4,inv:!0},{two:2,three:1,inv:!1},{two:9,three:6,inv:!0},{two:1,three:1,inv:!0},{two:7,three:4,inv:!1},{two:4,three:3,inv:!0},{two:4,three:2,inv:!1},{two:7,three:5,inv:!0}],x=h(()=>$.map((a,v)=>{if(v==0)return{pitch:0,name:"1/1"};let s=Math.pow(2,a.two)/Math.pow(3,a.three);return a.inv&&(s=1/s),{pitch:N(s*m.middleA),name:a.inv?`<tspan>3</tspan><tspan dy="-16" font-size="16px">${a.three}</tspan><tspan dy="16" dx="-5px">/2</tspan><tspan dy="-16" font-size="20px">${a.two}</tpsan>`:`<tspan>2</tspan><tspan dy="-16" font-size="20px">${a.two}</tspan><tspan dy="16" dx="-5px">/3</tspan><tspan dy="-16" font-size="20px">${a.three}</tspan>`}}));return(a,v)=>(o(),c("svg",le,[(o(),c(y,null,p(l,s=>r("circle",{key:s,cx:500,cy:500,r:s,stroke:"gray",fill:"none"},null,8,ce)),64)),(o(!0),c(y,null,p(J(n),(s,d)=>(o(),g(b,{key:d,r:l[2],w:1e3,note:s},null,8,["r","note"]))),128)),(o(!0),c(y,null,p(u.value,(s,d)=>(o(),g(b,{key:d,r:l[1],w:1e3,level:2,note:s},null,8,["r","note"]))),128)),(o(!0),c(y,null,p(x.value,(s,d)=>(o(),g(b,{key:d,r:l[0],w:1e3,level:1,note:s},null,8,["r","note"]))),128)),(o(),c(y,null,p(f,(s,d)=>P(ie,{key:d,r:s,text:d,offset:0},null,8,["r","text"])),64))]))}},pe=JSON.parse('{"title":"Tunings comparison","description":"Ways to juxtapose and compare different tuning methods side by side","frontmatter":{"title":"Tunings comparison","description":"Ways to juxtapose and compare different tuning methods side by side","date":"2021-08-05T00:00:00.000Z","cover":"tuning-circle.svg"},"headers":[],"relativePath":"theory/notes/temperaments/tunings/index.md","filePath":"theory/notes/temperaments/tunings/index.md","lastUpdated":1761369785000}'),de={name:"theory/notes/temperaments/tunings/index.md"};function fe(e,n,l,f,m,i){const u=ue;return o(),c("div",null,[n[0]||(n[0]=r("img",{src:I},null,-1)),n[1]||(n[1]=r("h2",{id:"circle-of-tunings",tabindex:"-1"},[Q("Circle of tunings "),r("a",{class:"header-anchor",href:"#circle-of-tunings","aria-label":"Permalink to “Circle of tunings”"},"​")],-1)),n[2]||(n[2]=r("p",null,"See and hear the slight differences between Pythagorean tunings, Just intonation and 12-TET. Click on the circle to start the note. Click again to stop it. You can hear the beatings between the same notes in various tunings and also hear the quality of the intervals in each of them.",-1)),P(u)])}const he=Y(de,[["render",fe]]);export{pe as __pageData,he as default};
